(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["elasticsearchPlugin"],{

/***/ "./public/app/plugins/datasource/elasticsearch/components/AddRemove.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AddRemove": () => (/* binding */ AddRemove)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/IconButton.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");






/**
 * A component used to show add & remove buttons for mutable lists of values. Wether to show or not the add or the remove buttons
 * depends on the `index` and `elements` props. This enforces a consistent experience whenever this pattern is used.
 */
const AddRemove = ({
  index,
  onAdd,
  onRemove,
  elements
}) => {
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div", {
    className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
        display: flex;
      `,
    children: [index === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_IconButton__WEBPACK_IMPORTED_MODULE_2__.IconButton, {
      iconName: "plus",
      onClick: onAdd,
      label: "add"
    }), elements.length >= 2 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_IconButton__WEBPACK_IMPORTED_MODULE_2__.IconButton, {
      iconName: "minus",
      onClick: onRemove,
      label: "remove"
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/IconButton.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IconButton": () => (/* binding */ IconButton)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
const _excluded = ["iconName", "onClick", "className", "label"];

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






const SROnly = _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`;
const IconButton = _ref => {
  let {
    iconName,
    onClick,
    className,
    label
  } = _ref,
      buttonProps = _objectWithoutPropertiesLoose(_ref, _excluded);

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("button", Object.assign({
    className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)('gf-form-label gf-form-label--btn query-part', className),
    onClick: onClick
  }, buttonProps, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span", {
      className: SROnly,
      children: label
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, {
      name: iconName,
      "aria-hidden": "true"
    })]
  }));
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/MetricPicker.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MetricPicker": () => (/* binding */ MetricPicker)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");





const noWrap = _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
  white-space: nowrap;
`;

const toOption = metric => ({
  label: (0,_utils__WEBPACK_IMPORTED_MODULE_3__.describeMetric)(metric),
  value: metric
});

const toOptions = metrics => metrics.map(toOption);

const MetricPicker = ({
  options,
  onChange,
  className,
  value
}) => {
  const selectedOption = options.find(option => option.id === value);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Segment, {
    className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(className, noWrap),
    options: toOptions(options),
    onChange: onChange,
    placeholder: "Select Metric",
    value: !!selectedOption ? toOption(selectedOption) : undefined
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/AnnotationQueryEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticsearchAnnotationsQueryEditor": () => (/* binding */ ElasticsearchAnnotationsQueryEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/__virtual__/@grafana-experimental-virtual-45ce772437/0/cache/@grafana-experimental-npm-0.0.2-canary.32-3892e62f7b-71924e6d03.zip/node_modules/@grafana/experimental/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _h;








function ElasticsearchAnnotationsQueryEditor(props) {
  var _annotation$target;

  const annotation = props.annotation;
  const onAnnotationChange = props.onAnnotationChange;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
      className: "gf-form-group",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_index__WEBPACK_IMPORTED_MODULE_3__.ElasticSearchQueryField, {
        value: (_annotation$target = annotation.target) === null || _annotation$target === void 0 ? void 0 : _annotation$target.query,
        onChange: query => {
          onAnnotationChange(Object.assign({}, annotation, {
            query
          }));
        }
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
      className: "gf-form-group",
      children: [_h || (_h = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h6", {
        children: "Field mappings"
      })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_grafana_experimental__WEBPACK_IMPORTED_MODULE_1__.EditorRow, {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_experimental__WEBPACK_IMPORTED_MODULE_1__.EditorField, {
          label: "Time",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
            type: "text",
            placeholder: "@timestamp",
            value: annotation.timeField,
            onChange: e => {
              onAnnotationChange(Object.assign({}, annotation, {
                timeField: e.currentTarget.value
              }));
            }
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_experimental__WEBPACK_IMPORTED_MODULE_1__.EditorField, {
          label: "Time End",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
            type: "text",
            value: annotation.timeEndField,
            onChange: e => {
              onAnnotationChange(Object.assign({}, annotation, {
                timeEndField: e.currentTarget.value
              }));
            }
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_experimental__WEBPACK_IMPORTED_MODULE_1__.EditorField, {
          label: "Text",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
            type: "text",
            value: annotation.textField,
            onChange: e => {
              onAnnotationChange(Object.assign({}, annotation, {
                textField: e.currentTarget.value
              }));
            }
          })
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_experimental__WEBPACK_IMPORTED_MODULE_1__.EditorField, {
          label: "Tags",
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
            type: "text",
            placeholder: "tags",
            value: annotation.tagsField,
            onChange: e => {
              onAnnotationChange(Object.assign({}, annotation, {
                tagsField: e.currentTarget.value
              }));
            }
          })
        })]
      })]
    })]
  });
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/BucketAggregationEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BucketAggregationEditor": () => (/* binding */ BucketAggregationEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useFields__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useFields.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/styles.ts");
/* harmony import */ var _SettingsEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/index.tsx");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/aggregations.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");












const bucketAggOptions = Object.entries(_utils__WEBPACK_IMPORTED_MODULE_8__.bucketAggregationConfig).map(([key, {
  label
}]) => ({
  label,
  value: key
}));

const toOption = bucketAgg => ({
  label: _utils__WEBPACK_IMPORTED_MODULE_8__.bucketAggregationConfig[bucketAgg.type].label,
  value: bucketAgg.type
});

const BucketAggregationEditor = ({
  value
}) => {
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
  const getFields = (0,_hooks_useFields__WEBPACK_IMPORTED_MODULE_2__.useFields)(value.type);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineSegmentGroup, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Segment, {
        className: _styles__WEBPACK_IMPORTED_MODULE_4__.segmentStyles,
        options: bucketAggOptions,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.changeBucketAggregationType)({
          id: value.id,
          newType: e.value
        })),
        value: toOption(value)
      }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_6__.isBucketAggregationWithField)(value) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.SegmentAsync, {
        className: _styles__WEBPACK_IMPORTED_MODULE_4__.segmentStyles,
        loadOptions: getFields,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.changeBucketAggregationField)({
          id: value.id,
          newField: e.value
        })),
        placeholder: "Select Field",
        value: value.field
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_SettingsEditor__WEBPACK_IMPORTED_MODULE_5__.SettingsEditor, {
      bucketAgg: value
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/DateHistogramSettingsEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateHistogramSettingsEditor": () => (/* binding */ DateHistogramSettingsEditor)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _hooks_useCreatableSelectPersistedBehaviour__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/hooks/useCreatableSelectPersistedBehaviour.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");












const defaultIntervalOptions = [{
  label: 'auto',
  value: 'auto'
}, {
  label: '10s',
  value: '10s'
}, {
  label: '1m',
  value: '1m'
}, {
  label: '5m',
  value: '5m'
}, {
  label: '10m',
  value: '10m'
}, {
  label: '20m',
  value: '20m'
}, {
  label: '1h',
  value: '1h'
}, {
  label: '1d',
  value: '1d'
}];

const hasValue = searchValue => ({
  value
}) => value === searchValue;

const isValidNewOption = (inputValue, _, options) => {
  // TODO: would be extremely nice here to allow only template variables and values that are
  // valid date histogram's Interval options
  const valueExists = options.some(hasValue(inputValue)); // we also don't want users to create "empty" values

  return !valueExists && inputValue.trim().length > 0;
};

const optionStartsWithValue = (option, value) => {
  var _option$value;

  return ((_option$value = option.value) === null || _option$value === void 0 ? void 0 : _option$value.startsWith(value)) || false;
};

const DateHistogramSettingsEditor = ({
  bucketAgg
}) => {
  var _bucketAgg$settings, _bucketAggregationCon, _bucketAgg$settings2, _bucketAggregationCon2, _bucketAgg$settings3, _bucketAggregationCon3, _bucketAgg$settings4, _bucketAggregationCon4, _bucketAgg$settings5, _bucketAggregationCon5;

  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-date_histogram-'));

  const handleIntervalChange = ({
    value
  }) => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
    bucketAgg,
    settingName: 'interval',
    newValue: value
  }));

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, Object.assign({
      label: "Interval"
    }, ___WEBPACK_IMPORTED_MODULE_8__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Select, Object.assign({
        inputId: (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-date_histogram-interval'),
        isValidNewOption: isValidNewOption,
        filterOption: optionStartsWithValue
      }, (0,_hooks_useCreatableSelectPersistedBehaviour__WEBPACK_IMPORTED_MODULE_5__.useCreatableSelectPersistedBehaviour)({
        options: defaultIntervalOptions,
        value: ((_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : _bucketAgg$settings.interval) || ((_bucketAggregationCon = _utils__WEBPACK_IMPORTED_MODULE_7__.bucketAggregationConfig.date_histogram.defaultSettings) === null || _bucketAggregationCon === void 0 ? void 0 : _bucketAggregationCon.interval),
        onChange: handleIntervalChange
      })))
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, Object.assign({
      label: "Min Doc Count"
    }, ___WEBPACK_IMPORTED_MODULE_8__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
        id: `${baseId}-min_doc_count`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'min_doc_count',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings2 = bucketAgg.settings) === null || _bucketAgg$settings2 === void 0 ? void 0 : _bucketAgg$settings2.min_doc_count) || ((_bucketAggregationCon2 = _utils__WEBPACK_IMPORTED_MODULE_7__.bucketAggregationConfig.date_histogram.defaultSettings) === null || _bucketAggregationCon2 === void 0 ? void 0 : _bucketAggregationCon2.min_doc_count)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, Object.assign({
      label: "Trim Edges"
    }, ___WEBPACK_IMPORTED_MODULE_8__.inlineFieldProps, {
      tooltip: "Trim the edges on the timeseries datapoints",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
        id: `${baseId}-trime_edges`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'trimEdges',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings3 = bucketAgg.settings) === null || _bucketAgg$settings3 === void 0 ? void 0 : _bucketAgg$settings3.trimEdges) || ((_bucketAggregationCon3 = _utils__WEBPACK_IMPORTED_MODULE_7__.bucketAggregationConfig.date_histogram.defaultSettings) === null || _bucketAggregationCon3 === void 0 ? void 0 : _bucketAggregationCon3.trimEdges)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, Object.assign({
      label: "Offset"
    }, ___WEBPACK_IMPORTED_MODULE_8__.inlineFieldProps, {
      tooltip: "Change the start value of each bucket by the specified positive (+) or negative offset (-) duration, such as 1h for an hour, or 1d for a day",
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
        id: `${baseId}-offset`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'offset',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings4 = bucketAgg.settings) === null || _bucketAgg$settings4 === void 0 ? void 0 : _bucketAgg$settings4.offset) || ((_bucketAggregationCon4 = _utils__WEBPACK_IMPORTED_MODULE_7__.bucketAggregationConfig.date_histogram.defaultSettings) === null || _bucketAggregationCon4 === void 0 ? void 0 : _bucketAggregationCon4.offset)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, Object.assign({
      label: "Timezone"
    }, ___WEBPACK_IMPORTED_MODULE_8__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.TimeZonePicker, {
        value: ((_bucketAgg$settings5 = bucketAgg.settings) === null || _bucketAgg$settings5 === void 0 ? void 0 : _bucketAgg$settings5.timeZone) || ((_bucketAggregationCon5 = _utils__WEBPACK_IMPORTED_MODULE_7__.bucketAggregationConfig.date_histogram.defaultSettings) === null || _bucketAggregationCon5 === void 0 ? void 0 : _bucketAggregationCon5.timeZone),
        includeInternal: [_grafana_data__WEBPACK_IMPORTED_MODULE_2__.InternalTimeZones.utc],
        onChange: timeZone => {
          dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
            bucketAgg,
            settingName: 'timeZone',
            newValue: timeZone
          }));
        }
      })
    }))]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FiltersSettingsEditor": () => (/* binding */ FiltersSettingsEditor)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _AddRemove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/AddRemove.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/actions.ts");
/* harmony import */ var _state_reducer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/reducer.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");












const FiltersSettingsEditor = ({
  bucketAgg
}) => {
  var _bucketAgg$settings, _bucketAgg$settings3, _bucketAgg$settings3$, _bucketAgg$settings4;

  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_1__.uniqueId)('es-filters-'));
  const upperStateDispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useStatelessReducer)(newValue => upperStateDispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting)({
    bucketAgg,
    settingName: 'filters',
    newValue
  })), (_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : _bucketAgg$settings.filters, _state_reducer__WEBPACK_IMPORTED_MODULE_8__.reducer); // The model might not have filters (or an empty array of filters) in it because of the way it was built in previous versions of the datasource.
  // If this is the case we add a default one.

  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    var _bucketAgg$settings2, _bucketAgg$settings2$;

    if (!((_bucketAgg$settings2 = bucketAgg.settings) !== null && _bucketAgg$settings2 !== void 0 && (_bucketAgg$settings2$ = _bucketAgg$settings2.filters) !== null && _bucketAgg$settings2$ !== void 0 && _bucketAgg$settings2$.length)) {
      dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.addFilter)());
    }
  }, [dispatch, (_bucketAgg$settings3 = bucketAgg.settings) === null || _bucketAgg$settings3 === void 0 ? void 0 : (_bucketAgg$settings3$ = _bucketAgg$settings3.filters) === null || _bucketAgg$settings3$ === void 0 ? void 0 : _bucketAgg$settings3$.length]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
      className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
          display: flex;
          flex-direction: column;
        `,
      children: (_bucketAgg$settings4 = bucketAgg.settings) === null || _bucketAgg$settings4 === void 0 ? void 0 : _bucketAgg$settings4.filters.map((filter, index) => {
        var _bucketAgg$settings5;

        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div", {
          className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
              display: flex;
            `,
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, {
            label: "Query",
            labelWidth: 8,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div", {
              className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
                  width: 150px;
                `,
              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.QueryField, {
                placeholder: "Lucene Query",
                portalOrigin: "elasticsearch",
                onBlur: () => {},
                onChange: query => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.changeFilter)({
                  index,
                  filter: Object.assign({}, filter, {
                    query
                  })
                })),
                query: filter.query
              })
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, {
            label: "Label",
            labelWidth: 8,
            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
              width: 16,
              id: `${baseId}-label-${index}`,
              placeholder: "Label",
              onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.changeFilter)({
                index,
                filter: Object.assign({}, filter, {
                  label: e.target.value
                })
              })),
              defaultValue: filter.label
            })
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_AddRemove__WEBPACK_IMPORTED_MODULE_5__.AddRemove, {
            index: index,
            elements: ((_bucketAgg$settings5 = bucketAgg.settings) === null || _bucketAgg$settings5 === void 0 ? void 0 : _bucketAgg$settings5.filters) || [],
            onAdd: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.addFilter)()),
            onRemove: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.removeFilter)(index))
          })]
        }, index);
      })
    })
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addFilter": () => (/* binding */ addFilter),
/* harmony export */   "changeFilter": () => (/* binding */ changeFilter),
/* harmony export */   "removeFilter": () => (/* binding */ removeFilter)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@reduxjs-toolkit-virtual-6cd1e25811/0/cache/@reduxjs-toolkit-npm-1.8.1-cf386ae48d-be5cdea975.zip/node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");

const addFilter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggregations/filter/add');
const removeFilter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggregations/filter/remove');
const changeFilter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggregations/filter/change');

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/reducer.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reducer": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/utils.ts");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/actions.ts");


const reducer = (state = [], action) => {
  if (_actions__WEBPACK_IMPORTED_MODULE_1__.addFilter.match(action)) {
    return [...state, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.defaultFilter)()];
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_1__.removeFilter.match(action)) {
    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_1__.changeFilter.match(action)) {
    return state.map((filter, index) => {
      if (index !== action.payload.index) {
        return filter;
      }

      return action.payload.filter;
    });
  }

  return state;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultFilter": () => (/* binding */ defaultFilter)
/* harmony export */ });
const defaultFilter = () => ({
  label: '',
  query: '*'
});

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/TermsSettingsEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TermsSettingsEditor": () => (/* binding */ TermsSettingsEditor),
/* harmony export */   "createOrderByOptions": () => (/* binding */ createOrderByOptions)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _hooks_useCreatableSelectPersistedBehaviour__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/hooks/useCreatableSelectPersistedBehaviour.ts");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/index.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");














const TermsSettingsEditor = ({
  bucketAgg
}) => {
  var _bucketAgg$settings, _bucketAggregationCon, _bucketAgg$settings2, _bucketAggregationCon2, _bucketAgg$settings3, _bucketAggregationCon3, _bucketAgg$settings4, _bucketAggregationCon4, _bucketAgg$settings5, _bucketAggregationCon5;

  const {
    metrics
  } = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_6__.useQuery)();
  const orderBy = createOrderByOptions(metrics);
  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-terms-'));
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Order"
    }, ___WEBPACK_IMPORTED_MODULE_10__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
        inputId: `${baseId}-order`,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'order',
          newValue: e.value
        })),
        options: _utils__WEBPACK_IMPORTED_MODULE_9__.orderOptions,
        value: ((_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : _bucketAgg$settings.order) || ((_bucketAggregationCon = _utils__WEBPACK_IMPORTED_MODULE_9__.bucketAggregationConfig.terms.defaultSettings) === null || _bucketAggregationCon === void 0 ? void 0 : _bucketAggregationCon.order)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Size"
    }, ___WEBPACK_IMPORTED_MODULE_10__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, Object.assign({
        inputId: `${baseId}-size` // TODO: isValidNewOption should only allow numbers & template variables

      }, (0,_hooks_useCreatableSelectPersistedBehaviour__WEBPACK_IMPORTED_MODULE_5__.useCreatableSelectPersistedBehaviour)({
        options: _utils__WEBPACK_IMPORTED_MODULE_9__.sizeOptions,
        value: ((_bucketAgg$settings2 = bucketAgg.settings) === null || _bucketAgg$settings2 === void 0 ? void 0 : _bucketAgg$settings2.size) || ((_bucketAggregationCon2 = _utils__WEBPACK_IMPORTED_MODULE_9__.bucketAggregationConfig.terms.defaultSettings) === null || _bucketAggregationCon2 === void 0 ? void 0 : _bucketAggregationCon2.size),

        onChange({
          value
        }) {
          dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeBucketAggregationSetting)({
            bucketAgg,
            settingName: 'size',
            newValue: value
          }));
        }

      })))
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Min Doc Count"
    }, ___WEBPACK_IMPORTED_MODULE_10__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-min_doc_count`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'min_doc_count',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings3 = bucketAgg.settings) === null || _bucketAgg$settings3 === void 0 ? void 0 : _bucketAgg$settings3.min_doc_count) || ((_bucketAggregationCon3 = _utils__WEBPACK_IMPORTED_MODULE_9__.bucketAggregationConfig.terms.defaultSettings) === null || _bucketAggregationCon3 === void 0 ? void 0 : _bucketAggregationCon3.min_doc_count)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Order By"
    }, ___WEBPACK_IMPORTED_MODULE_10__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
        inputId: `${baseId}-order_by`,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'orderBy',
          newValue: e.value
        })),
        options: orderBy,
        value: ((_bucketAgg$settings4 = bucketAgg.settings) === null || _bucketAgg$settings4 === void 0 ? void 0 : _bucketAgg$settings4.orderBy) || ((_bucketAggregationCon4 = _utils__WEBPACK_IMPORTED_MODULE_9__.bucketAggregationConfig.terms.defaultSettings) === null || _bucketAggregationCon4 === void 0 ? void 0 : _bucketAggregationCon4.orderBy)
      })
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Missing"
    }, ___WEBPACK_IMPORTED_MODULE_10__.inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-missing`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'missing',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings5 = bucketAgg.settings) === null || _bucketAgg$settings5 === void 0 ? void 0 : _bucketAgg$settings5.missing) || ((_bucketAggregationCon5 = _utils__WEBPACK_IMPORTED_MODULE_9__.bucketAggregationConfig.terms.defaultSettings) === null || _bucketAggregationCon5 === void 0 ? void 0 : _bucketAggregationCon5.missing)
      })
    }))]
  });
};
/**
 * This returns the valid options for each of the enabled extended stat
 */

function createOrderByOptionsForExtendedStats(metric) {
  if (!metric.meta) {
    return [];
  }

  const metaKeys = Object.keys(metric.meta);
  return metaKeys.filter(key => {
    var _metric$meta;

    return (_metric$meta = metric.meta) === null || _metric$meta === void 0 ? void 0 : _metric$meta[key];
  }).map(key => {
    let method = key; // The bucket path for std_deviation_bounds.lower and std_deviation_bounds.upper
    // is accessed via std_lower and std_upper, respectively.

    if (key === 'std_deviation_bounds_lower') {
      method = 'std_lower';
    }

    if (key === 'std_deviation_bounds_upper') {
      method = 'std_upper';
    }

    return {
      label: `${(0,_utils__WEBPACK_IMPORTED_MODULE_4__.describeMetric)(metric)} (${method})`,
      value: `${metric.id}[${method}]`
    };
  });
}
/**
 * This returns the valid options for each of the percents listed in the percentile settings
 */


function createOrderByOptionsForPercentiles(metric) {
  var _metric$settings;

  if (!((_metric$settings = metric.settings) !== null && _metric$settings !== void 0 && _metric$settings.percents)) {
    return [];
  }

  return metric.settings.percents.map(percent => {
    // The bucket path for percentile numbers is appended with a `.0` if the number is whole
    // otherwise you have to use the actual value.
    const percentString = /^\d+\.\d+/.test(`${percent}`) ? percent : `${percent}.0`;
    return {
      label: `${(0,_utils__WEBPACK_IMPORTED_MODULE_4__.describeMetric)(metric)} (${percent})`,
      value: `${metric.id}[${percentString}]`
    };
  });
}

function isValidOrderTarget(metric) {
  return (// top metrics can't be used for ordering
    metric.type !== 'top_metrics' && // pipeline aggregations can't be used for ordering: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-order
    !(0,_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_7__.isPipelineAggregation)(metric)
  );
}
/**
 * This creates all the valid order by options based on the metrics
 */


const createOrderByOptions = (metrics = []) => {
  const metricOptions = metrics.filter(isValidOrderTarget).flatMap(metric => {
    if (metric.type === 'extended_stats') {
      return createOrderByOptionsForExtendedStats(metric);
    } else if (metric.type === 'percentiles') {
      return createOrderByOptionsForPercentiles(metric);
    } else {
      return {
        label: (0,_utils__WEBPACK_IMPORTED_MODULE_4__.describeMetric)(metric),
        value: metric.id
      };
    }
  });
  return [..._utils__WEBPACK_IMPORTED_MODULE_9__.orderByOptions, ...metricOptions];
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsEditor": () => (/* binding */ SettingsEditor),
/* harmony export */   "inlineFieldProps": () => (/* binding */ inlineFieldProps)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _SettingsEditorContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/SettingsEditorContainer.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var _DateHistogramSettingsEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/DateHistogramSettingsEditor.tsx");
/* harmony import */ var _FiltersSettingsEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/index.tsx");
/* harmony import */ var _TermsSettingsEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/TermsSettingsEditor.tsx");
/* harmony import */ var _useDescription__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/useDescription.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");














const inlineFieldProps = {
  labelWidth: 16
};
const SettingsEditor = ({
  bucketAgg
}) => {
  var _bucketAgg$settings, _bucketAggregationCon, _bucketAgg$settings2, _bucketAggregationCon2, _bucketAgg$settings3, _bucketAggregationCon3;

  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-setting-'));
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
  const settingsDescription = (0,_useDescription__WEBPACK_IMPORTED_MODULE_10__.useDescription)(bucketAgg);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(_SettingsEditorContainer__WEBPACK_IMPORTED_MODULE_4__.SettingsEditorContainer, {
    label: settingsDescription,
    children: [bucketAgg.type === 'terms' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_TermsSettingsEditor__WEBPACK_IMPORTED_MODULE_9__.TermsSettingsEditor, {
      bucketAgg: bucketAgg
    }), bucketAgg.type === 'date_histogram' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_DateHistogramSettingsEditor__WEBPACK_IMPORTED_MODULE_7__.DateHistogramSettingsEditor, {
      bucketAgg: bucketAgg
    }), bucketAgg.type === 'filters' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_FiltersSettingsEditor__WEBPACK_IMPORTED_MODULE_8__.FiltersSettingsEditor, {
      bucketAgg: bucketAgg
    }), bucketAgg.type === 'geohash_grid' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Precision"
    }, inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-geohash_grid-precision`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_5__.changeBucketAggregationSetting)({
          bucketAgg,
          settingName: 'precision',
          newValue: e.target.value
        })),
        defaultValue: ((_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : _bucketAgg$settings.precision) || ((_bucketAggregationCon = _utils__WEBPACK_IMPORTED_MODULE_6__.bucketAggregationConfig[bucketAgg.type].defaultSettings) === null || _bucketAggregationCon === void 0 ? void 0 : _bucketAggregationCon.precision)
      })
    })), bucketAgg.type === 'histogram' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
        label: "Interval"
      }, inlineFieldProps, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: `${baseId}-histogram-interval`,
          onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_5__.changeBucketAggregationSetting)({
            bucketAgg,
            settingName: 'interval',
            newValue: e.target.value
          })),
          defaultValue: ((_bucketAgg$settings2 = bucketAgg.settings) === null || _bucketAgg$settings2 === void 0 ? void 0 : _bucketAgg$settings2.interval) || ((_bucketAggregationCon2 = _utils__WEBPACK_IMPORTED_MODULE_6__.bucketAggregationConfig[bucketAgg.type].defaultSettings) === null || _bucketAggregationCon2 === void 0 ? void 0 : _bucketAggregationCon2.interval)
        })
      })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
        label: "Min Doc Count"
      }, inlineFieldProps, {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: `${baseId}-histogram-min_doc_count`,
          onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_5__.changeBucketAggregationSetting)({
            bucketAgg,
            settingName: 'min_doc_count',
            newValue: e.target.value
          })),
          defaultValue: ((_bucketAgg$settings3 = bucketAgg.settings) === null || _bucketAgg$settings3 === void 0 ? void 0 : _bucketAgg$settings3.min_doc_count) || ((_bucketAggregationCon3 = _utils__WEBPACK_IMPORTED_MODULE_6__.bucketAggregationConfig[bucketAgg.type].defaultSettings) === null || _bucketAggregationCon3 === void 0 ? void 0 : _bucketAggregationCon3.min_doc_count)
        })
      }))]
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/useDescription.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useDescription": () => (/* binding */ useDescription)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");




const hasValue = value => object => object.value === value; // FIXME: We should apply the same defaults we have in bucketAggregationsConfig here instead of "custom" values
// as they might get out of sync.
// The reason we need them is that even though after the refactoring each setting is created with its default value,
// queries created with the old version might not have them.


const useDescription = bucketAgg => {
  const {
    metrics
  } = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__.useQuery)();

  switch (bucketAgg.type) {
    case 'terms':
      {
        var _bucketAgg$settings, _bucketAgg$settings2, _bucketAgg$settings3, _bucketAgg$settings4;

        const order = ((_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : _bucketAgg$settings.order) || 'desc';
        const size = ((_bucketAgg$settings2 = bucketAgg.settings) === null || _bucketAgg$settings2 === void 0 ? void 0 : _bucketAgg$settings2.size) || '10';
        const minDocCount = parseInt(((_bucketAgg$settings3 = bucketAgg.settings) === null || _bucketAgg$settings3 === void 0 ? void 0 : _bucketAgg$settings3.min_doc_count) || '0', 10);
        const orderBy = ((_bucketAgg$settings4 = bucketAgg.settings) === null || _bucketAgg$settings4 === void 0 ? void 0 : _bucketAgg$settings4.orderBy) || '_term';
        let description = '';

        if (size !== '0') {
          var _orderOptions$find;

          const orderLabel = (_orderOptions$find = _utils__WEBPACK_IMPORTED_MODULE_2__.orderOptions.find(hasValue(order))) === null || _orderOptions$find === void 0 ? void 0 : _orderOptions$find.label;
          description = `${orderLabel} ${size}, `;
        }

        if (minDocCount > 0) {
          description += `Min Doc Count: ${minDocCount}, `;
        }

        description += 'Order by: ';
        const orderByOption = _utils__WEBPACK_IMPORTED_MODULE_2__.orderByOptions.find(hasValue(orderBy));

        if (orderByOption) {
          description += orderByOption.label;
        } else {
          const metric = metrics === null || metrics === void 0 ? void 0 : metrics.find(m => m.id === (0,_utils__WEBPACK_IMPORTED_MODULE_0__.convertOrderByToMetricId)(orderBy));

          if (metric) {
            description += (0,_utils__WEBPACK_IMPORTED_MODULE_0__.describeMetric)(metric);
          } else {
            description += 'metric not found';
          }
        }

        if (size === '0') {
          description += ` (${order})`;
        }

        return description;
      }

    case 'histogram':
      {
        var _bucketAgg$settings5, _bucketAgg$settings6;

        const interval = ((_bucketAgg$settings5 = bucketAgg.settings) === null || _bucketAgg$settings5 === void 0 ? void 0 : _bucketAgg$settings5.interval) || 1000;
        const minDocCount = ((_bucketAgg$settings6 = bucketAgg.settings) === null || _bucketAgg$settings6 === void 0 ? void 0 : _bucketAgg$settings6.min_doc_count) || 1;
        return `Interval: ${interval}${minDocCount > 0 ? `, Min Doc Count: ${minDocCount}` : ''}`;
      }

    case 'filters':
      {
        var _bucketAgg$settings7, _bucketAggregationCon;

        const filters = ((_bucketAgg$settings7 = bucketAgg.settings) === null || _bucketAgg$settings7 === void 0 ? void 0 : _bucketAgg$settings7.filters) || ((_bucketAggregationCon = _utils__WEBPACK_IMPORTED_MODULE_2__.bucketAggregationConfig.filters.defaultSettings) === null || _bucketAggregationCon === void 0 ? void 0 : _bucketAggregationCon.filters);
        return `Filter Queries (${filters.length})`;
      }

    case 'geohash_grid':
      {
        var _bucketAgg$settings8;

        const precision = Math.max(Math.min(parseInt(((_bucketAgg$settings8 = bucketAgg.settings) === null || _bucketAgg$settings8 === void 0 ? void 0 : _bucketAgg$settings8.precision) || '5', 10), 12), 1);
        return `Precision: ${precision}`;
      }

    case 'date_histogram':
      {
        var _bucketAgg$settings9, _bucketAgg$settings10, _bucketAgg$settings11;

        const interval = ((_bucketAgg$settings9 = bucketAgg.settings) === null || _bucketAgg$settings9 === void 0 ? void 0 : _bucketAgg$settings9.interval) || 'auto';
        const minDocCount = ((_bucketAgg$settings10 = bucketAgg.settings) === null || _bucketAgg$settings10 === void 0 ? void 0 : _bucketAgg$settings10.min_doc_count) || 0;
        const trimEdges = ((_bucketAgg$settings11 = bucketAgg.settings) === null || _bucketAgg$settings11 === void 0 ? void 0 : _bucketAgg$settings11.trimEdges) || 0;
        let description = `Interval: ${interval}`;

        if (minDocCount > 0) {
          description += `, Min Doc Count: ${minDocCount}`;
        }

        if (trimEdges > 0) {
          description += `, Trim edges: ${trimEdges}`;
        }

        return description;
      }

    default:
      return 'Settings';
  }
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/aggregations.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BUCKET_AGGREGATION_TYPES": () => (/* binding */ BUCKET_AGGREGATION_TYPES),
/* harmony export */   "isBucketAggregationType": () => (/* binding */ isBucketAggregationType),
/* harmony export */   "isBucketAggregationWithField": () => (/* binding */ isBucketAggregationWithField)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");

const isBucketAggregationWithField = bucketAgg => _utils__WEBPACK_IMPORTED_MODULE_0__.bucketAggregationConfig[bucketAgg.type].requiresField;
const BUCKET_AGGREGATION_TYPES = ['date_histogram', 'histogram', 'terms', 'filters', 'geohash_grid'];
const isBucketAggregationType = s => BUCKET_AGGREGATION_TYPES.includes(s);

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BucketAggregationsEditor": () => (/* binding */ BucketAggregationsEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/IconButton.tsx");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _QueryEditorRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/QueryEditorRow.tsx");
/* harmony import */ var _BucketAggregationEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/BucketAggregationEditor.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");










const BucketAggregationsEditor = ({
  nextId
}) => {
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  const {
    bucketAggs
  } = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_3__.useQuery)();
  const totalBucketAggs = (bucketAggs === null || bucketAggs === void 0 ? void 0 : bucketAggs.length) || 0;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: bucketAggs.map((bucketAgg, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_QueryEditorRow__WEBPACK_IMPORTED_MODULE_4__.QueryEditorRow, {
      label: index === 0 ? 'Group By' : 'Then By',
      onRemoveClick: totalBucketAggs > 1 && (() => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.removeBucketAggregation)(bucketAgg.id))),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_BucketAggregationEditor__WEBPACK_IMPORTED_MODULE_5__.BucketAggregationEditor, {
        value: bucketAgg
      }), index === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_IconButton__WEBPACK_IMPORTED_MODULE_2__.IconButton, {
        iconName: "plus",
        onClick: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.addBucketAggregation)(nextId)),
        label: "add"
      })]
    }, `${bucketAgg.type}-${bucketAgg.id}`))
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addBucketAggregation": () => (/* binding */ addBucketAggregation),
/* harmony export */   "changeBucketAggregationField": () => (/* binding */ changeBucketAggregationField),
/* harmony export */   "changeBucketAggregationSetting": () => (/* binding */ changeBucketAggregationSetting),
/* harmony export */   "changeBucketAggregationType": () => (/* binding */ changeBucketAggregationType),
/* harmony export */   "removeBucketAggregation": () => (/* binding */ removeBucketAggregation)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@reduxjs-toolkit-virtual-6cd1e25811/0/cache/@reduxjs-toolkit-npm-1.8.1-cf386ae48d-be5cdea975.zip/node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");

const addBucketAggregation = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggs/add');
const removeBucketAggregation = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggs/remove');
const changeBucketAggregationType = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggs/change_type');
const changeBucketAggregationField = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggs/change_field');
const changeBucketAggregationSetting = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@bucketAggs/change_setting');

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/reducer.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createReducer": () => (/* binding */ createReducer)
/* harmony export */ });
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _MetricAggregationsEditor_state_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/state.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/actions.ts");







const createReducer = defaultTimeField => (state, action) => {
  if (_actions__WEBPACK_IMPORTED_MODULE_6__.addBucketAggregation.match(action)) {
    const newAgg = {
      id: action.payload,
      type: 'terms',
      settings: _utils__WEBPACK_IMPORTED_MODULE_5__.bucketAggregationConfig.terms.defaultSettings
    }; // If the last bucket aggregation is a `date_histogram` we add the new one before it.

    const lastAgg = state[state.length - 1];

    if ((lastAgg === null || lastAgg === void 0 ? void 0 : lastAgg.type) === 'date_histogram') {
      return [...state.slice(0, state.length - 1), newAgg, lastAgg];
    }

    return [...state, newAgg];
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_6__.removeBucketAggregation.match(action)) {
    return state.filter(bucketAgg => bucketAgg.id !== action.payload);
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationType.match(action)) {
    return state.map(bucketAgg => {
      if (bucketAgg.id !== action.payload.id) {
        return bucketAgg;
      }
      /*
      TODO: The previous version of the query editor was keeping some of the old bucket aggregation's configurations
      in the new selected one (such as field or some settings).
      It the future would be nice to have the same behavior but it's hard without a proper definition,
      as Elasticsearch will error sometimes if some settings are not compatible.
      */


      return {
        id: bucketAgg.id,
        type: action.payload.newType,
        settings: _utils__WEBPACK_IMPORTED_MODULE_5__.bucketAggregationConfig[action.payload.newType].defaultSettings
      };
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationField.match(action)) {
    return state.map(bucketAgg => {
      if (bucketAgg.id !== action.payload.id) {
        return bucketAgg;
      }

      return Object.assign({}, bucketAgg, {
        field: action.payload.newField
      });
    });
  }

  if (_MetricAggregationsEditor_state_actions__WEBPACK_IMPORTED_MODULE_2__.changeMetricType.match(action)) {
    // If we are switching to a metric which requires the absence of bucket aggregations
    // we remove all of them.
    if (_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_3__.metricAggregationConfig[action.payload.type].isSingleMetric) {
      return [];
    } else if (state.length === 0) {
      // Else, if there are no bucket aggregations we restore a default one.
      // This happens when switching from a metric that requires the absence of bucket aggregations to
      // one that requires it.
      return [Object.assign({}, (0,_query_def__WEBPACK_IMPORTED_MODULE_0__.defaultBucketAgg)('2'), {
        field: defaultTimeField
      })];
    }

    return state;
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_6__.changeBucketAggregationSetting.match(action)) {
    return state.map(bucketAgg => {
      if (bucketAgg.id !== action.payload.bucketAgg.id) {
        return bucketAgg;
      }

      const newSettings = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.removeEmpty)(Object.assign({}, bucketAgg.settings, {
        [action.payload.settingName]: action.payload.newValue
      }));
      return Object.assign({}, bucketAgg, {
        settings: Object.assign({}, newSettings)
      });
    });
  }

  if (_state__WEBPACK_IMPORTED_MODULE_4__.initQuery.match(action)) {
    if (state !== null && state !== void 0 && state.length || 0 > 0) {
      return state;
    }

    return [Object.assign({}, (0,_query_def__WEBPACK_IMPORTED_MODULE_0__.defaultBucketAgg)('2'), {
      field: defaultTimeField
    })];
  }

  return state;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bucketAggregationConfig": () => (/* binding */ bucketAggregationConfig),
/* harmony export */   "orderByOptions": () => (/* binding */ orderByOptions),
/* harmony export */   "orderOptions": () => (/* binding */ orderOptions),
/* harmony export */   "sizeOptions": () => (/* binding */ sizeOptions)
/* harmony export */ });
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _SettingsEditor_FiltersSettingsEditor_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/utils.ts");


const bucketAggregationConfig = {
  terms: {
    label: 'Terms',
    requiresField: true,
    defaultSettings: {
      min_doc_count: '1',
      size: '10',
      order: 'desc',
      orderBy: '_term'
    }
  },
  filters: {
    label: 'Filters',
    requiresField: false,
    defaultSettings: {
      filters: [(0,_SettingsEditor_FiltersSettingsEditor_utils__WEBPACK_IMPORTED_MODULE_1__.defaultFilter)()]
    }
  },
  geohash_grid: {
    label: 'Geo Hash Grid',
    requiresField: true,
    defaultSettings: {
      precision: '3'
    }
  },
  date_histogram: {
    label: 'Date Histogram',
    requiresField: true,
    defaultSettings: {
      interval: 'auto',
      min_doc_count: '0',
      trimEdges: '0',
      timeZone: _grafana_data__WEBPACK_IMPORTED_MODULE_0__.InternalTimeZones.utc
    }
  },
  histogram: {
    label: 'Histogram',
    requiresField: true,
    defaultSettings: {
      interval: '1000',
      min_doc_count: '0'
    }
  }
};
const orderByOptions = [{
  label: 'Term value',
  value: '_term'
}, {
  label: 'Doc Count',
  value: '_count'
}];
const orderOptions = [{
  label: 'Top',
  value: 'desc'
}, {
  label: 'Bottom',
  value: 'asc'
}];
const sizeOptions = [{
  label: 'No limit',
  value: '0'
}, {
  label: '1',
  value: '1'
}, {
  label: '2',
  value: '2'
}, {
  label: '3',
  value: '3'
}, {
  label: '5',
  value: '5'
}, {
  label: '10',
  value: '10'
}, {
  label: '15',
  value: '15'
}, {
  label: '20',
  value: '20'
}];

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticsearchProvider": () => (/* binding */ ElasticsearchProvider),
/* harmony export */   "useDatasource": () => (/* binding */ useDatasource),
/* harmony export */   "useQuery": () => (/* binding */ useQuery),
/* harmony export */   "useRange": () => (/* binding */ useRange)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _BucketAggregationsEditor_state_reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/state/reducer.ts");
/* harmony import */ var _MetricAggregationsEditor_state_reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/reducer.ts");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/state.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");






const DatasourceContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);
const QueryContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);
const RangeContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);
const ElasticsearchProvider = ({
  children,
  onChange,
  onRunQuery,
  query,
  datasource,
  range
}) => {
  const onStateChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(query => {
    onChange(query);
    onRunQuery();
  }, [onChange, onRunQuery]);
  const reducer = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__.combineReducers)({
    query: _state__WEBPACK_IMPORTED_MODULE_4__.queryReducer,
    alias: _state__WEBPACK_IMPORTED_MODULE_4__.aliasPatternReducer,
    metrics: _MetricAggregationsEditor_state_reducer__WEBPACK_IMPORTED_MODULE_3__.reducer,
    bucketAggs: (0,_BucketAggregationsEditor_state_reducer__WEBPACK_IMPORTED_MODULE_2__.createReducer)(datasource.timeField)
  });
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__.useStatelessReducer)( // timeField is part of the query model, but its value is always set to be the one from datasource settings.
  newState => onStateChange(Object.assign({}, query, newState, {
    timeField: datasource.timeField
  })), query, reducer); // This initializes the query by dispatching an init action to each reducer.
  // useStatelessReducer will then call `onChange` with the newly generated query

  if (!query.metrics || !query.bucketAggs || query.query === undefined) {
    dispatch((0,_state__WEBPACK_IMPORTED_MODULE_4__.initQuery)());
    return null;
  }

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(DatasourceContext.Provider, {
    value: datasource,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(QueryContext.Provider, {
      value: query,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(RangeContext.Provider, {
        value: range,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__.DispatchContext.Provider, {
          value: dispatch,
          children: children
        })
      })
    })
  });
};

const getHook = c => () => {
  const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(c);

  if (!contextValue) {
    throw new Error('use ElasticsearchProvider first.');
  }

  return contextValue;
};

const useQuery = getHook(QueryContext);
const useDatasource = getHook(DatasourceContext);
const useRange = getHook(RangeContext);

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/MetricEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MetricEditor": () => (/* binding */ MetricEditor)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useFields__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useFields.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _MetricPicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/MetricPicker.tsx");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/styles.ts");
/* harmony import */ var _SettingsEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/index.tsx");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/styles.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");


















const toOption = metric => ({
  label: _utils__WEBPACK_IMPORTED_MODULE_13__.metricAggregationConfig[metric.type].label,
  value: metric.type
});

// If a metric is a Pipeline Aggregation (https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline.html)
// it doesn't make sense to show it in the type picker when there is no non-pipeline-aggregation previously selected
// as they work on the outputs produced from other aggregations rather than from documents or fields.
// This means we should filter them out from the type picker if there's no other "basic" aggregation before the current one.
const isBasicAggregation = metric => !_utils__WEBPACK_IMPORTED_MODULE_13__.metricAggregationConfig[metric.type].isPipelineAgg;

const getTypeOptions = (previousMetrics, esVersion, xpack = false) => {
  // we'll include Pipeline Aggregations only if at least one previous metric is a "Basic" one
  const includePipelineAggregations = previousMetrics.some(isBasicAggregation);
  return Object.entries(_utils__WEBPACK_IMPORTED_MODULE_13__.metricAggregationConfig) // Only showing metrics type supported by the configured version of ES
  .filter(([_, {
    versionRange = '*'
  }]) => (0,semver__WEBPACK_IMPORTED_MODULE_2__.satisfies)(esVersion, versionRange)) // Filtering out Pipeline Aggregations if there's no basic metric selected before
  .filter(([_, config]) => includePipelineAggregations || !config.isPipelineAgg) // Filtering out X-Pack plugins if X-Pack is disabled
  .filter(([_, config]) => config.xpack ? xpack : true).map(([key, {
    label
  }]) => ({
    label,
    value: key
  }));
};

const MetricEditor = ({
  value
}) => {
  const styles = (0,_styles__WEBPACK_IMPORTED_MODULE_12__.getStyles)((0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useTheme2)(), !!value.hide);
  const datasource = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_7__.useDatasource)();
  const query = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_7__.useQuery)();
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();
  const getFields = (0,_hooks_useFields__WEBPACK_IMPORTED_MODULE_4__.useFields)(value.type);
  const loadOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {
    const remoteFields = await getFields(); // Metric aggregations that have inline script support don't require a field to be set.

    if ((0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isMetricAggregationWithInlineScript)(value)) {
      return [{
        label: 'None'
      }, ...remoteFields];
    }

    return remoteFields;
  }, [getFields, value]);
  const previousMetrics = query.metrics.slice(0, query.metrics.findIndex(m => m.id === value.id));
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineSegmentGroup, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Segment, {
        className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(styles.color, _styles__WEBPACK_IMPORTED_MODULE_8__.segmentStyles),
        options: getTypeOptions(previousMetrics, datasource.esVersion, datasource.xpack),
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_11__.changeMetricType)({
          id: value.id,
          type: e.value
        })),
        value: toOption(value)
      }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isMetricAggregationWithField)(value) && !(0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isPipelineAggregation)(value) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.SegmentAsync, {
        className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(styles.color, _styles__WEBPACK_IMPORTED_MODULE_8__.segmentStyles),
        loadOptions: loadOptions,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_11__.changeMetricField)({
          id: value.id,
          field: e.value
        })),
        placeholder: "Select Field",
        value: value.field
      }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isPipelineAggregation)(value) && !(0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isPipelineAggregationWithMultipleBucketPaths)(value) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_MetricPicker__WEBPACK_IMPORTED_MODULE_6__.MetricPicker, {
        className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(styles.color, _styles__WEBPACK_IMPORTED_MODULE_8__.segmentStyles),
        onChange: e => {
          var _e$value;

          return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_11__.changeMetricField)({
            id: value.id,
            field: (_e$value = e.value) === null || _e$value === void 0 ? void 0 : _e$value.id
          }));
        },
        options: previousMetrics,
        value: value.field
      })]
    }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_10__.isMetricAggregationWithSettings)(value) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_SettingsEditor__WEBPACK_IMPORTED_MODULE_9__.SettingsEditor, {
      metric: value,
      previousMetrics: previousMetrics
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BucketScriptSettingsEditor": () => (/* binding */ BucketScriptSettingsEditor)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _AddRemove__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/AddRemove.tsx");
/* harmony import */ var _MetricPicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/MetricPicker.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _SettingField__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/SettingField.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/actions.ts");
/* harmony import */ var _state_reducer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/reducer.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _InlineLabel;















const BucketScriptSettingsEditor = ({
  value,
  previousMetrics
}) => {
  var _value$pipelineVariab2;

  const upperStateDispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useStatelessReducer)(newValue => upperStateDispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_7__.changeMetricAttribute)({
    metric: value,
    attribute: 'pipelineVariables',
    newValue
  })), value.pipelineVariables, _state_reducer__WEBPACK_IMPORTED_MODULE_10__.reducer); // The model might not have pipeline variables (or an empty array of pipeline vars) in it because of the way it was built in previous versions of the datasource.
  // If this is the case we add a default one.

  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    var _value$pipelineVariab;

    if (!((_value$pipelineVariab = value.pipelineVariables) !== null && _value$pipelineVariab !== void 0 && _value$pipelineVariab.length)) {
      dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_9__.addPipelineVariable)());
    }
  }, [dispatch, (_value$pipelineVariab2 = value.pipelineVariables) === null || _value$pipelineVariab2 === void 0 ? void 0 : _value$pipelineVariab2.length]);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("div", {
      className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
          display: flex;
        `,
      children: [_InlineLabel || (_InlineLabel = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineLabel, {
        width: 16,
        children: "Variables"
      })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div", {
        className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
            display: grid;
            grid-template-columns: 1fr auto;
            row-gap: 4px;
            margin-bottom: 4px;
          `,
        children: value.pipelineVariables.map((pipelineVar, index) =>
        /*#__PURE__*/
        // index as a key doesn't work here since removing an element
        // in the middle of the list, will cause the next element to obtain the same key as the removed one.
        // this will cause react to "drop" the last element of the list instead of the just removed one,
        // and the default value for the input won't match the model as the DOM won't get updated.
        // using pipelineVar.name is not an option since it might be duplicated by the user.
        // generating a unique key on every render, while is probably not the best solution in terms of performance
        // ensures the UI is in a correct state. We might want to optimize this if we see perf issue in the future.
        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, {
          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("div", {
            className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
                  display: grid;
                  column-gap: 4px;
                  grid-template-columns: auto auto;
                `,
            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
              "aria-label": "Variable name",
              defaultValue: pipelineVar.name,
              placeholder: "Variable Name",
              onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_9__.renamePipelineVariable)({
                newName: e.target.value,
                index
              }))
            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_MetricPicker__WEBPACK_IMPORTED_MODULE_6__.MetricPicker, {
              onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_9__.changePipelineVariableMetric)({
                newMetric: e.value.id,
                index
              })),
              options: previousMetrics,
              value: pipelineVar.pipelineAgg
            })]
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_AddRemove__WEBPACK_IMPORTED_MODULE_5__.AddRemove, {
            index: index,
            elements: value.pipelineVariables || [],
            onAdd: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_9__.addPipelineVariable)()),
            onRemove: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_9__.removePipelineVariable)(index))
          })]
        }, (0,lodash__WEBPACK_IMPORTED_MODULE_1__.uniqueId)('es-bs-')))
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_8__.SettingField, {
      label: "Script",
      metric: value,
      settingName: "script",
      tooltip: "Elasticsearch v5.0 and above: Scripting language is Painless. Use params.<var> to reference a variable. Elasticsearch pre-v5.0: Scripting language is per default Groovy if not changed. For Groovy use <var> to reference a variable.",
      placeholder: "params.var1 / params.var2"
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addPipelineVariable": () => (/* binding */ addPipelineVariable),
/* harmony export */   "changePipelineVariableMetric": () => (/* binding */ changePipelineVariableMetric),
/* harmony export */   "removePipelineVariable": () => (/* binding */ removePipelineVariable),
/* harmony export */   "renamePipelineVariable": () => (/* binding */ renamePipelineVariable)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@reduxjs-toolkit-virtual-6cd1e25811/0/cache/@reduxjs-toolkit-npm-1.8.1-cf386ae48d-be5cdea975.zip/node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");

const addPipelineVariable = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@pipelineVariables/add');
const removePipelineVariable = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@pipelineVariables/remove');
const renamePipelineVariable = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@pipelineVariables/rename');
const changePipelineVariableMetric = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@pipelineVariables/change_metric');

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/reducer.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reducer": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/utils.ts");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/state/actions.ts");


const reducer = (state = [], action) => {
  if (_actions__WEBPACK_IMPORTED_MODULE_1__.addPipelineVariable.match(action)) {
    return [...state, (0,_utils__WEBPACK_IMPORTED_MODULE_0__.defaultPipelineVariable)((0,_utils__WEBPACK_IMPORTED_MODULE_0__.generatePipelineVariableName)(state))];
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_1__.removePipelineVariable.match(action)) {
    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_1__.renamePipelineVariable.match(action)) {
    return state.map((pipelineVariable, index) => {
      if (index !== action.payload.index) {
        return pipelineVariable;
      }

      return Object.assign({}, pipelineVariable, {
        name: action.payload.newName
      });
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_1__.changePipelineVariableMetric.match(action)) {
    return state.map((pipelineVariable, index) => {
      if (index !== action.payload.index) {
        return pipelineVariable;
      }

      return Object.assign({}, pipelineVariable, {
        pipelineAgg: action.payload.newMetric
      });
    });
  }

  return state;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultPipelineVariable": () => (/* binding */ defaultPipelineVariable),
/* harmony export */   "generatePipelineVariableName": () => (/* binding */ generatePipelineVariableName)
/* harmony export */ });
const defaultPipelineVariable = name => ({
  name,
  pipelineAgg: ''
});
/**
 * Given an array of pipeline variables generates a new unique pipeline variable name in the form of `var{n}`.
 * The value for `n` is calculated based on the variables names in pipelineVars matching `var{n}`.
 */

const generatePipelineVariableName = pipelineVars => `var${Math.max(0, ...pipelineVars.map(v => {
  var _v$name$match;

  return parseInt(((_v$name$match = v.name.match('^var(\\d+)$')) === null || _v$name$match === void 0 ? void 0 : _v$name$match[1]) || '0', 10);
})) + 1}`;

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/MovingAverageSettingsEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MovingAverageSettingsEditor": () => (/* binding */ MovingAverageSettingsEditor)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _SettingField__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/SettingField.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");











// The way we handle changes for those settings is not ideal compared to the other components in the editor
// FIXME: using `changeMetricSetting` will cause an error when switching from models that have different options
// as they might be incompatible. We should clear all other options on model change.
const MovingAverageSettingsEditor = ({
  metric
}) => {
  var _metric$settings, _metric$settings3, _metric$settings3$set, _metric$settings5, _metric$settings5$set, _metric$settings7, _metric$settings7$set, _metric$settings9, _metric$settings9$set, _metric$settings11, _metric$settings11$se, _metric$settings12;

  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-moving-avg-'));
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Model",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
        inputId: `${baseId}-model`,
        onChange: value => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
          metric,
          settingName: 'model',
          newValue: value.value
        })),
        options: _query_def__WEBPACK_IMPORTED_MODULE_4__.movingAvgModelOptions,
        value: (_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : _metric$settings.model
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_7__.SettingField, {
      label: "Window",
      settingName: "window",
      metric: metric,
      placeholder: "5"
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_7__.SettingField, {
      label: "Predict",
      settingName: "predict",
      metric: metric
    }), ((0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isEWMAMovingAverage)(metric) || (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltMovingAverage)(metric) || (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltWintersMovingAverage)(metric)) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Alpha",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-alpha`,
        onBlur: e => {
          var _metric$settings2;

          return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
            metric,
            settingName: 'settings',
            newValue: Object.assign({}, (_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : _metric$settings2.settings, {
              alpha: e.target.value
            })
          }));
        },
        defaultValue: (_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : (_metric$settings3$set = _metric$settings3.settings) === null || _metric$settings3$set === void 0 ? void 0 : _metric$settings3$set.alpha
      })
    }), ((0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltMovingAverage)(metric) || (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltWintersMovingAverage)(metric)) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Beta",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-beta`,
        onBlur: e => {
          var _metric$settings4;

          return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
            metric,
            settingName: 'settings',
            newValue: Object.assign({}, (_metric$settings4 = metric.settings) === null || _metric$settings4 === void 0 ? void 0 : _metric$settings4.settings, {
              beta: e.target.value
            })
          }));
        },
        defaultValue: (_metric$settings5 = metric.settings) === null || _metric$settings5 === void 0 ? void 0 : (_metric$settings5$set = _metric$settings5.settings) === null || _metric$settings5$set === void 0 ? void 0 : _metric$settings5$set.beta
      })
    }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltWintersMovingAverage)(metric) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Gamma",
        labelWidth: 16,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: `${baseId}-gamma`,
          onBlur: e => {
            var _metric$settings6;

            return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
              metric,
              settingName: 'settings',
              newValue: Object.assign({}, (_metric$settings6 = metric.settings) === null || _metric$settings6 === void 0 ? void 0 : _metric$settings6.settings, {
                gamma: e.target.value
              })
            }));
          },
          defaultValue: (_metric$settings7 = metric.settings) === null || _metric$settings7 === void 0 ? void 0 : (_metric$settings7$set = _metric$settings7.settings) === null || _metric$settings7$set === void 0 ? void 0 : _metric$settings7$set.gamma
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Period",
        labelWidth: 16,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: `${baseId}-period`,
          onBlur: e => {
            var _metric$settings8;

            return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
              metric,
              settingName: 'settings',
              newValue: Object.assign({}, (_metric$settings8 = metric.settings) === null || _metric$settings8 === void 0 ? void 0 : _metric$settings8.settings, {
                period: e.target.value
              })
            }));
          },
          defaultValue: (_metric$settings9 = metric.settings) === null || _metric$settings9 === void 0 ? void 0 : (_metric$settings9$set = _metric$settings9.settings) === null || _metric$settings9$set === void 0 ? void 0 : _metric$settings9$set.period
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Pad",
        labelWidth: 16,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch, {
          id: `${baseId}-pad`,
          onChange: e => {
            var _metric$settings10;

            return dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
              metric,
              settingName: 'settings',
              newValue: Object.assign({}, (_metric$settings10 = metric.settings) === null || _metric$settings10 === void 0 ? void 0 : _metric$settings10.settings, {
                pad: e.target.checked
              })
            }));
          },
          checked: !!((_metric$settings11 = metric.settings) !== null && _metric$settings11 !== void 0 && (_metric$settings11$se = _metric$settings11.settings) !== null && _metric$settings11$se !== void 0 && _metric$settings11$se.pad)
        })
      })]
    }), ((0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isEWMAMovingAverage)(metric) || (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltMovingAverage)(metric) || (0,_aggregations__WEBPACK_IMPORTED_MODULE_5__.isHoltWintersMovingAverage)(metric)) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Minimize",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch, {
        id: `${baseId}-minimize`,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
          metric,
          settingName: 'minimize',
          newValue: e.target.checked
        })),
        checked: !!((_metric$settings12 = metric.settings) !== null && _metric$settings12 !== void 0 && _metric$settings12.minimize)
      })
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/SettingField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingField": () => (/* binding */ SettingField)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_plugins_datasource_elasticsearch_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");







function SettingField({
  label,
  settingName,
  metric,
  placeholder,
  tooltip
}) {
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const [id] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)(`es-field-id-`));
  const settings = metric.settings;
  let defaultValue = (settings === null || settings === void 0 ? void 0 : settings[settingName]) || '';

  if (settingName === 'script') {
    defaultValue = (0,app_plugins_datasource_elasticsearch_utils__WEBPACK_IMPORTED_MODULE_3__.getScriptValue)(metric);
  }

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
    label: label,
    labelWidth: 16,
    tooltip: tooltip,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
      id: id,
      placeholder: placeholder,
      onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricSetting)({
        metric,
        settingName,
        newValue: e.target.value
      })),
      defaultValue: defaultValue
    })
  });
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/TopMetricsSettingsEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TopMetricsSettingsEditor": () => (/* binding */ TopMetricsSettingsEditor)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useFields__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useFields.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _BucketAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");











const toMultiSelectValue = value => ({
  value,
  label: value
});

const TopMetricsSettingsEditor = ({
  metric
}) => {
  var _metric$settings, _metric$settings$metr, _metric$settings2, _metric$settings3;

  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_4__.useDispatch)();
  const getOrderByOptions = (0,_hooks_useFields__WEBPACK_IMPORTED_MODULE_3__.useFields)(['number', 'date']);
  const getMetricsOptions = (0,_hooks_useFields__WEBPACK_IMPORTED_MODULE_3__.useFields)(metric.type);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Metrics",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.AsyncMultiSelect, {
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
          metric,
          settingName: 'metrics',
          newValue: e.map(v => v.value)
        })),
        loadOptions: getMetricsOptions,
        value: (_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : (_metric$settings$metr = _metric$settings.metrics) === null || _metric$settings$metr === void 0 ? void 0 : _metric$settings$metr.map(toMultiSelectValue),
        closeMenuOnSelect: false,
        defaultOptions: true
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Order",
      labelWidth: 16,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
          metric,
          settingName: 'order',
          newValue: e.value
        })),
        options: _BucketAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_5__.orderOptions,
        value: (_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : _metric$settings2.order
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
      label: "Order By",
      labelWidth: 16,
      className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
          & > div {
            width: 100%;
          }
        `,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.SegmentAsync, {
        className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
            margin-right: 0;
          `,
        loadOptions: getOrderByOptions,
        onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.changeMetricSetting)({
          metric,
          settingName: 'orderBy',
          newValue: e.value
        })),
        placeholder: "Select Field",
        value: (_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : _metric$settings3.orderBy
      })
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsEditor": () => (/* binding */ SettingsEditor)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _SettingsEditorContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/SettingsEditorContainer.tsx");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _BucketScriptSettingsEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/index.tsx");
/* harmony import */ var _MovingAverageSettingsEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/MovingAverageSettingsEditor.tsx");
/* harmony import */ var _SettingField__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/SettingField.tsx");
/* harmony import */ var _TopMetricsSettingsEditor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/TopMetricsSettingsEditor.tsx");
/* harmony import */ var _useDescription__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/useDescription.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");














 // TODO: Move this somewhere and share it with BucketsAggregation Editor





const inlineFieldProps = {
  labelWidth: 16
};
const SettingsEditor = ({
  metric,
  previousMetrics
}) => {
  var _metric$settings$size, _metric$settings, _metricAggregationCon, _metric$settings2, _metricAggregationCon3, _metric$settings3, _metric$settings4;

  const {
    current: baseId
  } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)('es-setting-'));
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();
  const description = (0,_useDescription__WEBPACK_IMPORTED_MODULE_14__.useDescription)(metric);
  const query = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_5__.useQuery)();
  const rateAggUnitOptions = [{
    value: 'second',
    label: 'Second'
  }, {
    value: 'minute',
    label: 'Minute'
  }, {
    value: 'hour',
    label: 'Hour'
  }, {
    value: 'day',
    label: 'Day'
  }, {
    value: 'week',
    label: 'Week'
  }, {
    value: 'month',
    label: 'Month'
  }, {
    value: 'quarter',
    label: 'Quarter'
  }, {
    value: 'Year',
    label: 'Year'
  }];
  const rateAggModeOptions = [{
    value: 'sum',
    label: 'Sum'
  }, {
    value: 'value_count',
    label: 'Value count'
  }];
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(_SettingsEditorContainer__WEBPACK_IMPORTED_MODULE_6__.SettingsEditorContainer, {
    label: description,
    hidden: metric.hide,
    children: [metric.type === 'derivative' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Unit",
      metric: metric,
      settingName: "unit"
    }), metric.type === 'serial_diff' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Lag",
      metric: metric,
      settingName: "lag",
      placeholder: "1"
    }), metric.type === 'cumulative_sum' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Format",
      metric: metric,
      settingName: "format"
    }), metric.type === 'moving_avg' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_MovingAverageSettingsEditor__WEBPACK_IMPORTED_MODULE_11__.MovingAverageSettingsEditor, {
      metric: metric
    }), metric.type === 'moving_fn' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
        label: "Window",
        metric: metric,
        settingName: "window"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
        label: "Script",
        metric: metric,
        settingName: "script"
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
        label: "Shift",
        metric: metric,
        settingName: "shift"
      })]
    }), metric.type === 'top_metrics' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_TopMetricsSettingsEditor__WEBPACK_IMPORTED_MODULE_13__.TopMetricsSettingsEditor, {
      metric: metric
    }), metric.type === 'bucket_script' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_BucketScriptSettingsEditor__WEBPACK_IMPORTED_MODULE_10__.BucketScriptSettingsEditor, {
      value: metric,
      previousMetrics: previousMetrics
    }), (metric.type === 'raw_data' || metric.type === 'raw_document') && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Size"
    }, inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `ES-query-${query.refId}_metric-${metric.id}-size`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeMetricSetting)({
          metric,
          settingName: 'size',
          newValue: e.target.value
        })),
        defaultValue: (_metric$settings$size = (_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : _metric$settings.size) !== null && _metric$settings$size !== void 0 ? _metric$settings$size : (_metricAggregationCon = _utils__WEBPACK_IMPORTED_MODULE_9__.metricAggregationConfig.raw_data.defaults.settings) === null || _metricAggregationCon === void 0 ? void 0 : _metricAggregationCon.size
      })
    })), metric.type === 'logs' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Limit",
      metric: metric,
      settingName: "limit",
      placeholder: "500"
    }), metric.type === 'cardinality' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Precision Threshold",
      metric: metric,
      settingName: "precision_threshold"
    }), metric.type === 'extended_stats' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment, {
      children: [_query_def__WEBPACK_IMPORTED_MODULE_4__.extendedStats.map(stat => {
        var _metric$meta, _metric$meta2, _metricAggregationCon2;

        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(ExtendedStatSetting, {
          stat: stat,
          onChange: newValue => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeMetricMeta)({
            metric,
            meta: stat.value,
            newValue
          })),
          value: ((_metric$meta = metric.meta) === null || _metric$meta === void 0 ? void 0 : _metric$meta[stat.value]) !== undefined ? !!((_metric$meta2 = metric.meta) !== null && _metric$meta2 !== void 0 && _metric$meta2[stat.value]) : !!((_metricAggregationCon2 = _utils__WEBPACK_IMPORTED_MODULE_9__.metricAggregationConfig.extended_stats.defaults.meta) !== null && _metricAggregationCon2 !== void 0 && _metricAggregationCon2[stat.value])
        }, stat.value);
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
        label: "Sigma",
        metric: metric,
        settingName: "sigma",
        placeholder: "3"
      })]
    }), metric.type === 'percentiles' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
      label: "Percentiles"
    }, inlineFieldProps, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
        id: `${baseId}-percentiles-percents`,
        onBlur: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeMetricSetting)({
          metric,
          settingName: 'percents',
          newValue: e.target.value.split(',').filter(Boolean)
        })),
        defaultValue: ((_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : _metric$settings2.percents) || ((_metricAggregationCon3 = _utils__WEBPACK_IMPORTED_MODULE_9__.metricAggregationConfig.percentiles.defaults.settings) === null || _metricAggregationCon3 === void 0 ? void 0 : _metricAggregationCon3.percents),
        placeholder: "1,5,25,50,75,95,99"
      })
    })), metric.type === 'rate' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment, {
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
        label: "Unit"
      }, inlineFieldProps, {
        "data-testid": "unit-select",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
          id: `ES-query-${query.refId}_metric-${metric.id}-unit`,
          onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeMetricSetting)({
            metric,
            settingName: 'unit',
            newValue: e.value
          })),
          options: rateAggUnitOptions,
          value: (_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : _metric$settings3.unit
        })
      })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
        label: "Mode"
      }, inlineFieldProps, {
        "data-testid": "mode-select",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
          id: `ES-query-${query.refId}_metric-${metric.id}-mode`,
          onChange: e => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_8__.changeMetricSetting)({
            metric,
            settingName: 'mode',
            newValue: e.value
          })),
          options: rateAggModeOptions,
          value: (_metric$settings4 = metric.settings) === null || _metric$settings4 === void 0 ? void 0 : _metric$settings4.unit
        })
      }))]
    }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_7__.isMetricAggregationWithInlineScript)(metric) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Script",
      metric: metric,
      settingName: "script",
      placeholder: "_value * 1"
    }), (0,_aggregations__WEBPACK_IMPORTED_MODULE_7__.isMetricAggregationWithMissingSupport)(metric) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_SettingField__WEBPACK_IMPORTED_MODULE_12__.SettingField, {
      label: "Missing",
      metric: metric,
      settingName: "missing",
      tooltip: "The missing parameter defines how documents that are missing a value should be treated. By default they will be ignored but it is also possible to treat them as if they had a value"
    })]
  });
};

const ExtendedStatSetting = ({
  stat,
  onChange,
  value
}) => {
  // this is needed for the htmlFor prop in the label so that clicking the label will toggle the switch state.
  const [id] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniqueId)(`es-field-id-`));
  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, Object.assign({
    label: stat.label
  }, inlineFieldProps, {
    key: stat.value
  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch, {
    id: id,
    onChange: e => onChange(e.target.checked),
    value: value
  }));
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/useDescription.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useDescription": () => (/* binding */ useDescription)
/* harmony export */ });
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");


const hasValue = value => object => object.value === value; // FIXME: All the defaults and validations down here should be defined somewhere else
// as they are also the defaults that are gonna be applied to the query.
// In the previous version, the same method was taking care of describing the settings and setting defaults.


const useDescription = metric => {
  var _metric$settings2, _metric$settings3, _metric$settings3$per;

  switch (metric.type) {
    case 'cardinality':
      {
        var _metric$settings;

        const precisionThreshold = ((_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : _metric$settings.precision_threshold) || '';
        return `Precision threshold: ${precisionThreshold}`;
      }

    case 'percentiles':
      if ((_metric$settings2 = metric.settings) !== null && _metric$settings2 !== void 0 && _metric$settings2.percents && ((_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : (_metric$settings3$per = _metric$settings3.percents) === null || _metric$settings3$per === void 0 ? void 0 : _metric$settings3$per.length) >= 1) {
        var _metric$settings4;

        return `Values: ${(_metric$settings4 = metric.settings) === null || _metric$settings4 === void 0 ? void 0 : _metric$settings4.percents}`;
      }

      return 'Percents: Default';

    case 'extended_stats':
      {
        const selectedStats = Object.entries(metric.meta || {}).map(([key, value]) => {
          var _extendedStats$find;

          return value && ((_extendedStats$find = _query_def__WEBPACK_IMPORTED_MODULE_0__.extendedStats.find(hasValue(key))) === null || _extendedStats$find === void 0 ? void 0 : _extendedStats$find.label);
        }).filter(Boolean);
        return `Stats: ${selectedStats.length > 0 ? selectedStats.join(', ') : 'None selected'}`;
      }

    case 'raw_document':
    case 'raw_data':
      {
        var _metric$settings5;

        const size = ((_metric$settings5 = metric.settings) === null || _metric$settings5 === void 0 ? void 0 : _metric$settings5.size) || 500;
        return `Size: ${size}`;
      }

    default:
      return 'Options';
  }
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "METRIC_AGGREGATION_TYPES": () => (/* binding */ METRIC_AGGREGATION_TYPES),
/* harmony export */   "isEWMAMovingAverage": () => (/* binding */ isEWMAMovingAverage),
/* harmony export */   "isHoltMovingAverage": () => (/* binding */ isHoltMovingAverage),
/* harmony export */   "isHoltWintersMovingAverage": () => (/* binding */ isHoltWintersMovingAverage),
/* harmony export */   "isMetricAggregationType": () => (/* binding */ isMetricAggregationType),
/* harmony export */   "isMetricAggregationWithField": () => (/* binding */ isMetricAggregationWithField),
/* harmony export */   "isMetricAggregationWithInlineScript": () => (/* binding */ isMetricAggregationWithInlineScript),
/* harmony export */   "isMetricAggregationWithMeta": () => (/* binding */ isMetricAggregationWithMeta),
/* harmony export */   "isMetricAggregationWithMissingSupport": () => (/* binding */ isMetricAggregationWithMissingSupport),
/* harmony export */   "isMetricAggregationWithSettings": () => (/* binding */ isMetricAggregationWithSettings),
/* harmony export */   "isMovingAverageWithModelSettings": () => (/* binding */ isMovingAverageWithModelSettings),
/* harmony export */   "isPipelineAggregation": () => (/* binding */ isPipelineAggregation),
/* harmony export */   "isPipelineAggregationWithMultipleBucketPaths": () => (/* binding */ isPipelineAggregationWithMultipleBucketPaths)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");

const isEWMAMovingAverage = metric => {
  var _metric$settings;

  return ((_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : _metric$settings.model) === 'ewma';
};
const isHoltMovingAverage = metric => {
  var _metric$settings2;

  return ((_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : _metric$settings2.model) === 'holt';
};
const isHoltWintersMovingAverage = metric => {
  var _metric$settings3;

  return ((_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : _metric$settings3.model) === 'holt_winters';
};
const isMovingAverageWithModelSettings = metric => {
  var _metric$settings4;

  return ['holt', 'ewma', 'holt_winters'].includes(((_metric$settings4 = metric.settings) === null || _metric$settings4 === void 0 ? void 0 : _metric$settings4.model) || '');
};
// Guards
// Given the structure of the aggregations (ie. `settings` field being always optional) we cannot
// determine types based solely on objects' properties, therefore we use `metricAggregationConfig` as the
// source of truth.

/**
 * Checks if `metric` requires a field (either referring to a document or another aggregation)
 * @param metric
 */
const isMetricAggregationWithField = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].requiresField;
const isPipelineAggregation = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].isPipelineAgg;
const isPipelineAggregationWithMultipleBucketPaths = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].supportsMultipleBucketPaths;
const isMetricAggregationWithMissingSupport = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].supportsMissing;
const isMetricAggregationWithSettings = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].hasSettings;
const isMetricAggregationWithMeta = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].hasMeta;
const isMetricAggregationWithInlineScript = metric => _utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metric.type].supportsInlineScript;
const METRIC_AGGREGATION_TYPES = ['count', 'avg', 'sum', 'min', 'max', 'extended_stats', 'percentiles', 'cardinality', 'raw_document', 'raw_data', 'logs', 'moving_avg', 'moving_fn', 'derivative', 'serial_diff', 'cumulative_sum', 'bucket_script', 'rate', 'top_metrics'];
const isMetricAggregationType = s => METRIC_AGGREGATION_TYPES.includes(s);

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MetricAggregationsEditor": () => (/* binding */ MetricAggregationsEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _IconButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/IconButton.tsx");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _QueryEditorRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/QueryEditorRow.tsx");
/* harmony import */ var _MetricEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/MetricEditor.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");











const MetricAggregationsEditor = ({
  nextId
}) => {
  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
  const {
    metrics
  } = (0,_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_3__.useQuery)();
  const totalMetrics = (metrics === null || metrics === void 0 ? void 0 : metrics.length) || 0;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment, {
    children: metrics === null || metrics === void 0 ? void 0 : metrics.map((metric, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(_QueryEditorRow__WEBPACK_IMPORTED_MODULE_4__.QueryEditorRow, {
      label: `Metric (${metric.id})`,
      hidden: metric.hide,
      onHideClick: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.toggleMetricVisibility)(metric.id)),
      onRemoveClick: totalMetrics > 1 && (() => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.removeMetric)(metric.id))),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_MetricEditor__WEBPACK_IMPORTED_MODULE_5__.MetricEditor, {
        value: metric
      }), !_utils__WEBPACK_IMPORTED_MODULE_7__.metricAggregationConfig[metric.type].isSingleMetric && index === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_IconButton__WEBPACK_IMPORTED_MODULE_2__.IconButton, {
        iconName: "plus",
        onClick: () => dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_6__.addMetric)(nextId)),
        label: "add"
      })]
    }, `${metric.type}-${metric.id}`))
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addMetric": () => (/* binding */ addMetric),
/* harmony export */   "changeMetricAttribute": () => (/* binding */ changeMetricAttribute),
/* harmony export */   "changeMetricField": () => (/* binding */ changeMetricField),
/* harmony export */   "changeMetricMeta": () => (/* binding */ changeMetricMeta),
/* harmony export */   "changeMetricSetting": () => (/* binding */ changeMetricSetting),
/* harmony export */   "changeMetricType": () => (/* binding */ changeMetricType),
/* harmony export */   "removeMetric": () => (/* binding */ removeMetric),
/* harmony export */   "toggleMetricVisibility": () => (/* binding */ toggleMetricVisibility)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@reduxjs-toolkit-virtual-6cd1e25811/0/cache/@reduxjs-toolkit-npm-1.8.1-cf386ae48d-be5cdea975.zip/node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");

const addMetric = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/add');
const removeMetric = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/remove');
const toggleMetricVisibility = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/toggle_visibility');
const changeMetricField = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/change_field');
const changeMetricType = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/change_type');
const changeMetricAttribute = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/change_attr');
const changeMetricSetting = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/change_setting');
const changeMetricMeta = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('@metrics/change_meta');

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/reducer.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "reducer": () => (/* binding */ reducer)
/* harmony export */ });
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/state.ts");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/state/actions.ts");






const reducer = (state, action) => {
  if (_actions__WEBPACK_IMPORTED_MODULE_5__.addMetric.match(action)) {
    return [...state, (0,_query_def__WEBPACK_IMPORTED_MODULE_0__.defaultMetricAgg)(action.payload)];
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.removeMetric.match(action)) {
    const metricToRemove = state.find(m => m.id === action.payload);
    const metricsToRemove = [metricToRemove, ...(0,_utils__WEBPACK_IMPORTED_MODULE_4__.getChildren)(metricToRemove, state)];
    const resultingMetrics = state.filter(metric => !metricsToRemove.some(toRemove => toRemove.id === metric.id));

    if (resultingMetrics.length === 0) {
      return [(0,_query_def__WEBPACK_IMPORTED_MODULE_0__.defaultMetricAgg)('1')];
    }

    return resultingMetrics;
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricType.match(action)) {
    return state.filter(metric => // When the new metric type is `isSingleMetric` we remove all other metrics from the query
    // leaving only the current one.
    !!_utils__WEBPACK_IMPORTED_MODULE_4__.metricAggregationConfig[action.payload.type].isSingleMetric ? metric.id === action.payload.id : true).map(metric => {
      if (metric.id !== action.payload.id) {
        return metric;
      }
      /*
      TODO: The previous version of the query editor was keeping some of the old metric's configurations
      in the new selected one (such as field or some settings).
      It the future would be nice to have the same behavior but it's hard without a proper definition,
      as Elasticsearch will error sometimes if some settings are not compatible.
      */


      return Object.assign({
        id: metric.id,
        type: action.payload.type
      }, _utils__WEBPACK_IMPORTED_MODULE_4__.metricAggregationConfig[action.payload.type].defaults);
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricField.match(action)) {
    return state.map(metric => {
      if (metric.id !== action.payload.id) {
        return metric;
      }

      const newMetric = Object.assign({}, metric, {
        field: action.payload.field
      });

      if ((0,_aggregations__WEBPACK_IMPORTED_MODULE_3__.isPipelineAggregation)(metric)) {
        return Object.assign({}, newMetric, {
          pipelineAgg: action.payload.field
        });
      }

      return newMetric;
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.toggleMetricVisibility.match(action)) {
    return state.map(metric => {
      if (metric.id !== action.payload) {
        return metric;
      }

      return Object.assign({}, metric, {
        hide: !metric.hide
      });
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricSetting.match(action)) {
    return state.map(metric => {
      if (metric.id !== action.payload.metric.id) {
        return metric;
      } // TODO: Here, instead of this if statement, we should assert that metric is MetricAggregationWithSettings


      if ((0,_aggregations__WEBPACK_IMPORTED_MODULE_3__.isMetricAggregationWithSettings)(metric)) {
        const newSettings = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.removeEmpty)(Object.assign({}, metric.settings, {
          [action.payload.settingName]: action.payload.newValue
        }));
        return Object.assign({}, metric, {
          settings: Object.assign({}, newSettings)
        });
      } // This should never happen.


      return metric;
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricMeta.match(action)) {
    return state.map(metric => {
      if (metric.id !== action.payload.metric.id) {
        return metric;
      } // TODO: Here, instead of this if statement, we should assert that metric is MetricAggregationWithMeta


      if ((0,_aggregations__WEBPACK_IMPORTED_MODULE_3__.isMetricAggregationWithMeta)(metric)) {
        return Object.assign({}, metric, {
          meta: Object.assign({}, metric.meta, {
            [action.payload.meta]: action.payload.newValue
          })
        });
      } // This should never happen.


      return metric;
    });
  }

  if (_actions__WEBPACK_IMPORTED_MODULE_5__.changeMetricAttribute.match(action)) {
    return state.map(metric => {
      if (metric.id !== action.payload.metric.id) {
        return metric;
      }

      return Object.assign({}, metric, {
        [action.payload.attribute]: action.payload.newValue
      });
    });
  }

  if (_state__WEBPACK_IMPORTED_MODULE_2__.initQuery.match(action)) {
    if (state !== null && state !== void 0 && state.length || 0 > 0) {
      return state;
    }

    return [(0,_query_def__WEBPACK_IMPORTED_MODULE_0__.defaultMetricAgg)('1')];
  }

  return state;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/styles.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getStyles": () => (/* binding */ getStyles)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");

const getStyles = (theme, hidden) => {
  return {
    color: hidden && _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
        &,
        &:hover,
        label,
        a {
          color: ${hidden ? theme.colors.text.disabled : theme.colors.text.primary};
        }
      `
  };
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getChildren": () => (/* binding */ getChildren),
/* harmony export */   "metricAggregationConfig": () => (/* binding */ metricAggregationConfig),
/* harmony export */   "pipelineOptions": () => (/* binding */ pipelineOptions)
/* harmony export */ });
/* harmony import */ var _SettingsEditor_BucketScriptSettingsEditor_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/SettingsEditor/BucketScriptSettingsEditor/utils.ts");
/* harmony import */ var _aggregations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");


const metricAggregationConfig = {
  count: {
    label: 'Count',
    requiresField: false,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: false,
    hasMeta: false,
    supportsInlineScript: false,
    defaults: {}
  },
  avg: {
    label: 'Average',
    requiresField: true,
    supportsInlineScript: true,
    supportsMissing: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: false,
    defaults: {}
  },
  sum: {
    label: 'Sum',
    requiresField: true,
    supportsInlineScript: true,
    supportsMissing: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: false,
    defaults: {}
  },
  max: {
    label: 'Max',
    requiresField: true,
    supportsInlineScript: true,
    supportsMissing: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: false,
    defaults: {}
  },
  min: {
    label: 'Min',
    requiresField: true,
    supportsInlineScript: true,
    supportsMissing: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: false,
    defaults: {}
  },
  extended_stats: {
    label: 'Extended Stats',
    requiresField: true,
    supportsMissing: true,
    supportsInlineScript: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: true,
    defaults: {
      meta: {
        std_deviation_bounds_lower: true,
        std_deviation_bounds_upper: true
      }
    }
  },
  percentiles: {
    label: 'Percentiles',
    requiresField: true,
    supportsMissing: true,
    supportsInlineScript: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    hasMeta: false,
    defaults: {
      settings: {
        percents: ['25', '50', '75', '95', '99']
      }
    }
  },
  cardinality: {
    label: 'Unique Count',
    requiresField: true,
    supportsMissing: true,
    isPipelineAgg: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {}
  },
  moving_avg: {
    label: 'Moving Average',
    requiresField: true,
    isPipelineAgg: true,
    versionRange: '>=2.0.0 <8.0.0',
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      settings: {
        model: 'simple',
        window: '5'
      }
    }
  },
  moving_fn: {
    // TODO: Check this
    label: 'Moving Function',
    requiresField: true,
    isPipelineAgg: true,
    supportsMultipleBucketPaths: false,
    supportsInlineScript: false,
    supportsMissing: false,
    hasMeta: false,
    hasSettings: true,
    versionRange: '>=7.0.0',
    defaults: {}
  },
  derivative: {
    label: 'Derivative',
    requiresField: true,
    isPipelineAgg: true,
    versionRange: '>=2.0.0',
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {}
  },
  serial_diff: {
    label: 'Serial Difference',
    requiresField: true,
    isPipelineAgg: true,
    versionRange: '>=2.0.0',
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      settings: {
        lag: '1'
      }
    }
  },
  cumulative_sum: {
    label: 'Cumulative Sum',
    requiresField: true,
    isPipelineAgg: true,
    versionRange: '>=2.0.0',
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {}
  },
  bucket_script: {
    label: 'Bucket Script',
    requiresField: false,
    isPipelineAgg: true,
    supportsMissing: false,
    supportsMultipleBucketPaths: true,
    versionRange: '>=2.0.0',
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      pipelineVariables: [(0,_SettingsEditor_BucketScriptSettingsEditor_utils__WEBPACK_IMPORTED_MODULE_0__.defaultPipelineVariable)((0,_SettingsEditor_BucketScriptSettingsEditor_utils__WEBPACK_IMPORTED_MODULE_0__.generatePipelineVariableName)([]))]
    }
  },
  raw_document: {
    label: 'Raw Document (legacy)',
    requiresField: false,
    isSingleMetric: true,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      settings: {
        size: '500'
      }
    }
  },
  raw_data: {
    label: 'Raw Data',
    requiresField: false,
    isSingleMetric: true,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      settings: {
        size: '500'
      }
    }
  },
  logs: {
    label: 'Logs',
    requiresField: false,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    isSingleMetric: true,
    supportsInlineScript: false,
    hasMeta: false,
    defaults: {
      settings: {
        limit: '500'
      }
    }
  },
  top_metrics: {
    label: 'Top Metrics',
    xpack: true,
    requiresField: false,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: false,
    versionRange: '>=7.7.0',
    hasMeta: false,
    defaults: {
      settings: {
        order: 'desc'
      }
    }
  },
  rate: {
    label: 'Rate',
    xpack: true,
    versionRange: '>=7.10.0',
    requiresField: true,
    isPipelineAgg: false,
    supportsMissing: false,
    supportsMultipleBucketPaths: false,
    hasSettings: true,
    supportsInlineScript: true,
    hasMeta: false,
    defaults: {}
  }
};
const pipelineOptions = {
  moving_avg: [{
    label: 'window',
    default: 5
  }, {
    label: 'model',
    default: 'simple'
  }, {
    label: 'predict'
  }, {
    label: 'minimize',
    default: false
  }],
  moving_fn: [{
    label: 'window',
    default: 5
  }, {
    label: 'script'
  }],
  derivative: [{
    label: 'unit'
  }],
  serial_diff: [{
    label: 'lag'
  }],
  cumulative_sum: [{
    label: 'format'
  }],
  bucket_script: []
};
/**
 * Given a metric `MetricA` and an array of metrics, returns all children of `MetricA`.
 * `MetricB` is considered a child of `MetricA` if `MetricA` is referenced by `MetricB` in it's `field` attribute
 * (`MetricA.id === MetricB.field`) or in it's pipeline aggregation variables (for bucket_scripts).
 * @param metric
 * @param metrics
 */

const getChildren = (metric, metrics) => {
  const children = metrics.filter(m => {
    // TODO: Check this.
    if ((0,_aggregations__WEBPACK_IMPORTED_MODULE_1__.isPipelineAggregationWithMultipleBucketPaths)(m)) {
      var _m$pipelineVariables;

      return (_m$pipelineVariables = m.pipelineVariables) === null || _m$pipelineVariables === void 0 ? void 0 : _m$pipelineVariables.some(pv => pv.pipelineAgg === metric.id);
    }

    return (0,_aggregations__WEBPACK_IMPORTED_MODULE_1__.isMetricAggregationWithField)(m) && metric.id === m.field;
  });
  return [...children, ...children.flatMap(child => getChildren(child, metrics))];
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/QueryEditorRow.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "QueryEditorRow": () => (/* binding */ QueryEditorRow)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");






const QueryEditorRow = ({
  children,
  label,
  onRemoveClick,
  onHideClick,
  hidden = false
}) => {
  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFieldRow, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineSegmentGroup, {
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineLabel, {
        width: 17,
        as: "div",
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span", {
          children: label
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span", {
          className: styles.iconWrapper,
          children: [onHideClick && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, {
            name: hidden ? 'eye-slash' : 'eye',
            onClick: onHideClick,
            size: "sm",
            "aria-pressed": hidden,
            "aria-label": "hide metric",
            className: styles.icon
          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.IconButton, {
            name: "trash-alt",
            size: "sm",
            className: styles.icon,
            onClick: onRemoveClick || lodash__WEBPACK_IMPORTED_MODULE_1__.noop,
            disabled: !onRemoveClick,
            "aria-label": "remove metric"
          })]
        })]
      })
    }), children]
  });
};

const getStyles = theme => {
  return {
    iconWrapper: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      display: flex;
    `,
    icon: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      color: ${theme.colors.text.secondary};
      margin-left: ${theme.spacing(0.25)};
    `
  };
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/SettingsEditorContainer.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsEditorContainer": () => (/* binding */ SettingsEditorContainer)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/styles.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");







const getStyles = (theme, hidden) => {
  return {
    wrapper: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      max-width: 500px;
      display: flex;
      flex-direction: column;
    `,
    settingsWrapper: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      padding-top: ${theme.spacing(0.5)};
    `,
    icon: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      margin-right: ${theme.spacing(0.5)};
    `,
    button: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      justify-content: start;
      ${hidden && _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
        color: ${theme.colors.text.disabled};
      `}
    `
  };
};

const SettingsEditorContainer = ({
  label,
  children,
  hidden = false
}) => {
  const [open, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const theme = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.useTheme2)();
  const styles = getStyles(theme, hidden);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSegmentGroup, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
      className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)(styles.wrapper),
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button", {
        className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.cx)('gf-form-label query-part', styles.button, _styles__WEBPACK_IMPORTED_MODULE_3__.segmentStyles),
        onClick: () => setOpen(!open),
        "aria-expanded": open,
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Icon, {
          name: open ? 'angle-down' : 'angle-right',
          "aria-hidden": "true",
          className: styles.icon
        }), label]
      }), open && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div", {
        className: styles.settingsWrapper,
        children: children
      })]
    })
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/index.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticSearchQueryField": () => (/* binding */ ElasticSearchQueryField),
/* harmony export */   "QueryEditor": () => (/* binding */ QueryEditor)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _hooks_useNextId__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useNextId.ts");
/* harmony import */ var _hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _BucketAggregationsEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/index.tsx");
/* harmony import */ var _ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _MetricAggregationsEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/index.tsx");
/* harmony import */ var _MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/state.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _Alert, _InlineLabel;
















const QueryEditor = ({
  query,
  onChange,
  onRunQuery,
  datasource,
  range
}) => {
  if (!(0,_utils__WEBPACK_IMPORTED_MODULE_6__.isSupportedVersion)(datasource.esVersion)) {
    return _Alert || (_Alert = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Alert, {
      title: `Support for Elasticsearch versions after their end-of-life (currently versions < 7.10) was removed`
    }));
  }

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_8__.ElasticsearchProvider, {
    datasource: datasource,
    onChange: onChange,
    onRunQuery: onRunQuery,
    query: query,
    range: range || (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.getDefaultTimeRange)(),
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(QueryEditorForm, {
      value: query
    })
  });
};

const getStyles = theme => ({
  root: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    display: flex;
  `,
  queryFieldWrapper: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    flex-grow: 1;
    margin: 0 ${theme.spacing(0.5)} ${theme.spacing(0.5)} 0;
  `
});

const ElasticSearchQueryField = ({
  value,
  onChange
}) => {
  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div", {
    className: styles.queryFieldWrapper,
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.QueryField, {
      query: value // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender
      // And slate will claim the focus, making it impossible to leave the field.
      ,
      onBlur: () => {},
      onChange: onChange,
      placeholder: "Lucene Query",
      portalOrigin: "elasticsearch"
    })
  });
};

const QueryEditorForm = ({
  value
}) => {
  var _value$bucketAggs, _value$bucketAggs$sli, _value$metrics;

  const dispatch = (0,_hooks_useStatelessReducer__WEBPACK_IMPORTED_MODULE_5__.useDispatch)();
  const nextId = (0,_hooks_useNextId__WEBPACK_IMPORTED_MODULE_4__.useNextId)();
  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles); // To be considered a time series query, the last bucked aggregation must be a Date Histogram

  const isTimeSeriesQuery = (value === null || value === void 0 ? void 0 : (_value$bucketAggs = value.bucketAggs) === null || _value$bucketAggs === void 0 ? void 0 : (_value$bucketAggs$sli = _value$bucketAggs.slice(-1)[0]) === null || _value$bucketAggs$sli === void 0 ? void 0 : _value$bucketAggs$sli.type) === 'date_histogram';
  const showBucketAggregationsEditor = (_value$metrics = value.metrics) === null || _value$metrics === void 0 ? void 0 : _value$metrics.every(metric => !_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_10__.metricAggregationConfig[metric.type].isSingleMetric);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment, {
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div", {
      className: styles.root,
      children: [_InlineLabel || (_InlineLabel = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineLabel, {
        width: 17,
        children: "Query"
      })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(ElasticSearchQueryField, {
        onChange: query => dispatch((0,_state__WEBPACK_IMPORTED_MODULE_11__.changeQuery)(query)),
        value: value === null || value === void 0 ? void 0 : value.query
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField, {
        label: "Alias",
        labelWidth: 15,
        disabled: !isTimeSeriesQuery,
        tooltip: "Aliasing only works for timeseries queries (when the last group is 'Date Histogram'). For all other query types this field is ignored.",
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Input, {
          id: `ES-query-${value.refId}_alias`,
          placeholder: "Alias Pattern",
          onBlur: e => dispatch((0,_state__WEBPACK_IMPORTED_MODULE_11__.changeAliasPattern)(e.currentTarget.value)),
          defaultValue: value.alias
        })
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_MetricAggregationsEditor__WEBPACK_IMPORTED_MODULE_9__.MetricAggregationsEditor, {
      nextId: nextId
    }), showBucketAggregationsEditor && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_BucketAggregationsEditor__WEBPACK_IMPORTED_MODULE_7__.BucketAggregationsEditor, {
      nextId: nextId
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/state.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "aliasPatternReducer": () => (/* binding */ aliasPatternReducer),
/* harmony export */   "changeAliasPattern": () => (/* binding */ changeAliasPattern),
/* harmony export */   "changeQuery": () => (/* binding */ changeQuery),
/* harmony export */   "initQuery": () => (/* binding */ initQuery),
/* harmony export */   "queryReducer": () => (/* binding */ queryReducer)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@reduxjs-toolkit-virtual-6cd1e25811/0/cache/@reduxjs-toolkit-npm-1.8.1-cf386ae48d-be5cdea975.zip/node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js");


/**
 * When the `initQuery` Action is dispatched, the query gets populated with default values where values are not present.
 * This means it won't override any existing value in place, but just ensure the query is in a "runnable" state.
 */
const initQuery = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('init');
const changeQuery = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('change_query');
const changeAliasPattern = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createAction)('change_alias_pattern');
const queryReducer = (prevQuery, action) => {
  if (changeQuery.match(action)) {
    return action.payload;
  }

  if (initQuery.match(action)) {
    return prevQuery || '';
  }

  return prevQuery;
};
const aliasPatternReducer = (prevAliasPattern, action) => {
  if (changeAliasPattern.match(action)) {
    return action.payload;
  }

  if (initQuery.match(action)) {
    return prevAliasPattern || '';
  }

  return prevAliasPattern;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/QueryEditor/styles.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "segmentStyles": () => (/* binding */ segmentStyles)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");

const segmentStyles = _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
  min-width: 150px;
`;

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/components/hooks/useCreatableSelectPersistedBehaviour.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCreatableSelectPersistedBehaviour": () => (/* binding */ useCreatableSelectPersistedBehaviour)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");


const hasValue = searchValue => ({
  value
}) => value === searchValue;

const getInitialState = (initialOptions, initialValue) => {
  if (initialValue === undefined || initialOptions.some(hasValue(initialValue))) {
    return initialOptions;
  }

  return [...initialOptions, {
    value: initialValue,
    label: initialValue
  }];
};

/**
 * Creates the Props needed by Select to handle custom values and handles custom value creation
 * and the initial value when it is not present in the option array.
 */
const useCreatableSelectPersistedBehaviour = ({
  options: initialOptions,
  value,
  onChange
}) => {
  const [options, setOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getInitialState(initialOptions, value));

  const addOption = newValue => setOptions([...options, {
    value: newValue,
    label: newValue
  }]);

  return {
    onCreateOption: value => {
      addOption(value);
      onChange({
        value
      });
    },
    onChange,
    allowCustomValue: true,
    options,
    value
  };
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/ConfigEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConfigEditor": () => (/* binding */ ConfigEditor)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_aws_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/@grafana-aws-sdk-npm-0.0.36-8ab4b07904-c243f7c900.zip/node_modules/@grafana/aws-sdk/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/core/config.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _DataLinks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/DataLinks.tsx");
/* harmony import */ var _ElasticDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/ElasticDetails.tsx");
/* harmony import */ var _LogsConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/LogsConfig.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _Alert, _Alert2;













const ConfigEditor = props => {
  // we decide on whether to show access options or not at the point when the config page opens.
  // whatever happens while the page is open, this decision does not change.
  // (we do this to avoid situations where you switch access-mode and suddenly
  // the access-mode-select-box vanishes)
  const showAccessOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props.options.access === 'direct');
  const {
    options: originalOptions,
    onOptionsChange
  } = props;
  const options = (0,_utils__WEBPACK_IMPORTED_MODULE_8__.coerceOptions)(originalOptions);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!(0,_utils__WEBPACK_IMPORTED_MODULE_8__.isValidOptions)(originalOptions)) {
      onOptionsChange((0,_utils__WEBPACK_IMPORTED_MODULE_8__.coerceOptions)(originalOptions));
    } // We can't enforce the eslint rule here because we only want to run this once.
    // eslint-disable-next-line react-hooks/exhaustive-deps

  }, []);
  const supportedVersion = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.isSupportedVersion)(options.jsonData.esVersion);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment, {
    children: [options.access === 'direct' && (_Alert || (_Alert = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, {
      title: "Error",
      severity: "error",
      children: "Browser access mode in the Elasticsearch datasource is no longer available. Switch to server access mode."
    }))), !supportedVersion && (_Alert2 || (_Alert2 = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Alert, {
      title: "Deprecation notice",
      severity: "error",
      children: `Support for Elasticsearch versions after their end-of-life (currently versions < 7.10) was removed`
    }))), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.DataSourceHttpSettings, {
      defaultUrl: "http://localhost:9200",
      dataSourceConfig: options,
      showAccessOptions: showAccessOptions.current,
      onChange: onOptionsChange,
      sigV4AuthToggleEnabled: app_core_config__WEBPACK_IMPORTED_MODULE_3__.config.sigV4AuthEnabled,
      renderSigV4Editor: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_grafana_aws_sdk__WEBPACK_IMPORTED_MODULE_1__.SIGV4ConnectionConfig, Object.assign({}, props))
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ElasticDetails__WEBPACK_IMPORTED_MODULE_6__.ElasticDetails, {
      value: options,
      onChange: onOptionsChange
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_LogsConfig__WEBPACK_IMPORTED_MODULE_7__.LogsConfig, {
      value: options.jsonData,
      onChange: newValue => onOptionsChange(Object.assign({}, options, {
        jsonData: newValue
      }))
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_DataLinks__WEBPACK_IMPORTED_MODULE_5__.DataLinks, {
      value: options.jsonData.dataLinks,
      onChange: newValue => {
        onOptionsChange(Object.assign({}, options, {
          jsonData: Object.assign({}, options.jsonData, {
            dataLinks: newValue
          })
        }));
      }
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/DataLink.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataLink": () => (/* binding */ DataLink)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./.yarn/__virtual__/react-use-virtual-cea8e826dc/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/esm/usePrevious.js");
/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-runtime/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");







const {
  FormField,
  Switch
} = _grafana_ui__WEBPACK_IMPORTED_MODULE_3__.LegacyForms;
const getStyles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.stylesFactory)(() => ({
  firstRow: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    display: flex;
  `,
  nameField: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    flex: 2;
  `,
  regexField: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    flex: 3;
  `,
  row: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    display: flex;
    align-items: baseline;
  `,
  urlField: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    flex: 1;
  `,
  urlDisplayLabelField: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
    flex: 1;
  `
}));
const DataLink = props => {
  const {
    value,
    onChange,
    onDelete,
    suggestions,
    className
  } = props;
  const styles = getStyles();
  const [showInternalLink, setShowInternalLink] = useInternalLink(value.datasourceUid);

  const handleChange = field => event => {
    onChange(Object.assign({}, value, {
      [field]: event.currentTarget.value
    }));
  };

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
    className: className,
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
      className: styles.firstRow + ' gf-form',
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormField, {
        className: styles.nameField,
        labelWidth: 6 // A bit of a hack to prevent using default value for the width from FormField
        ,
        inputWidth: null,
        label: "Field",
        type: "text",
        value: value.field,
        tooltip: 'Can be exact field name or a regex pattern that will match on the field name.',
        onChange: handleChange('field')
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Button, {
        variant: 'destructive',
        title: "Remove field",
        icon: "times",
        onClick: event => {
          event.preventDefault();
          onDelete();
        }
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
      className: "gf-form",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormField, {
        label: showInternalLink ? 'Query' : 'URL',
        labelWidth: 6,
        inputEl: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.DataLinkInput, {
          placeholder: showInternalLink ? '${__value.raw}' : 'http://example.com/${__value.raw}',
          value: value.url || '',
          onChange: newValue => onChange(Object.assign({}, value, {
            url: newValue
          })),
          suggestions: suggestions
        }),
        className: styles.urlField
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(FormField, {
        className: styles.urlDisplayLabelField,
        inputWidth: null,
        label: "URL Label",
        type: "text",
        value: value.urlDisplayLabel,
        onChange: handleChange('urlDisplayLabel'),
        tooltip: 'Use to override the button label.'
      })]
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div", {
      className: styles.row,
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Switch, {
        labelClass: 'width-6',
        label: "Internal link",
        checked: showInternalLink,
        onChange: () => {
          if (showInternalLink) {
            onChange(Object.assign({}, value, {
              datasourceUid: undefined
            }));
          }

          setShowInternalLink(!showInternalLink);
        }
      }), showInternalLink && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.DataSourcePicker, {
        tracing: true // Uid and value should be always set in the db and so in the items.
        ,
        onChange: ds => {
          onChange(Object.assign({}, value, {
            datasourceUid: ds.uid
          }));
        },
        current: value.datasourceUid
      })]
    })]
  });
};

function useInternalLink(datasourceUid) {
  const [showInternalLink, setShowInternalLink] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!!datasourceUid);
  const previousUid = (0,react_use__WEBPACK_IMPORTED_MODULE_5__["default"])(datasourceUid); // Force internal link visibility change if uid changed outside of this component.

  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!previousUid && datasourceUid && !showInternalLink) {
      setShowInternalLink(true);
    }

    if (previousUid && !datasourceUid && showInternalLink) {
      setShowInternalLink(false);
    }
  }, [previousUid, datasourceUid, showInternalLink]);
  return [showInternalLink, setShowInternalLink];
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/DataLinks.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataLinks": () => (/* binding */ DataLinks)
/* harmony export */ });
/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/__virtual__/@emotion-css-virtual-5255b58730/0/cache/@emotion-css-npm-11.9.0-e415e285ad-bd83d9af5c.zip/node_modules/@emotion/css/dist/emotion-css.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _DataLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/DataLink.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _h;










const getStyles = theme => {
  return {
    infoText: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      padding-bottom: ${theme.spacing(2)};
      color: ${theme.colors.text.secondary};
    `,
    dataLink: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
      margin-bottom: ${theme.spacing(1)};
    `
  };
};

const DataLinks = props => {
  const {
    value,
    onChange
  } = props;
  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment, {
    children: [_h || (_h = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("h3", {
      className: "page-heading",
      children: "Data links"
    })), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div", {
      className: styles.infoText,
      children: "Add links to existing fields. Links will be shown in log row details next to the field value."
    }), value && value.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div", {
      className: "gf-form-group",
      children: value.map((field, index) => {
        return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_DataLink__WEBPACK_IMPORTED_MODULE_4__.DataLink, {
          className: styles.dataLink,
          value: field,
          onChange: newField => {
            const newDataLinks = [...value];
            newDataLinks.splice(index, 1, newField);
            onChange(newDataLinks);
          },
          onDelete: () => {
            const newDataLinks = [...value];
            newDataLinks.splice(index, 1);
            onChange(newDataLinks);
          },
          suggestions: [{
            value: _grafana_data__WEBPACK_IMPORTED_MODULE_2__.DataLinkBuiltInVars.valueRaw,
            label: 'Raw value',
            documentation: 'Raw value of the field',
            origin: _grafana_data__WEBPACK_IMPORTED_MODULE_2__.VariableOrigin.Value
          }]
        }, index);
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Button, {
      type: "button",
      variant: 'secondary',
      className: _emotion_css__WEBPACK_IMPORTED_MODULE_0__.css`
          margin-right: 10px;
        `,
      icon: "plus",
      onClick: event => {
        event.preventDefault();
        const newDataLinks = [...(value || []), {
          field: '',
          url: ''
        }];
        onChange(newDataLinks);
      },
      children: "Add"
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/ElasticDetails.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticDetails": () => (/* binding */ ElasticDetails),
/* harmony export */   "defaultMaxConcurrentShardRequests": () => (/* binding */ defaultMaxConcurrentShardRequests)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/utils.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");
var _code;








const indexPatternTypes = [{
  label: 'No pattern',
  value: 'none'
}, {
  label: 'Hourly',
  value: 'Hourly',
  example: '[logstash-]YYYY.MM.DD.HH'
}, {
  label: 'Daily',
  value: 'Daily',
  example: '[logstash-]YYYY.MM.DD'
}, {
  label: 'Weekly',
  value: 'Weekly',
  example: '[logstash-]GGGG.WW'
}, {
  label: 'Monthly',
  value: 'Monthly',
  example: '[logstash-]YYYY.MM'
}, {
  label: 'Yearly',
  value: 'Yearly',
  example: '[logstash-]YYYY'
}];
const esVersions = [{
  label: '7.10+',
  value: '7.10.0'
}, {
  label: '8.0+',
  value: '8.0.0',
  description: 'support for Elasticsearch 8 is currently experimental'
}];
const ElasticDetails = ({
  value,
  onChange
}) => {
  var _value$jsonData$inclu;

  const currentVersion = esVersions.find(version => version.value === value.jsonData.esVersion);
  const customOption = !currentVersion && (0,semver__WEBPACK_IMPORTED_MODULE_1__.valid)(value.jsonData.esVersion) ? {
    label: value.jsonData.esVersion,
    value: value.jsonData.esVersion
  } : undefined;
  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.FieldSet, {
      label: "Elasticsearch details",
      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Index name",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: "es_config_indexName",
          value: value.database || '',
          onChange: changeHandler('database', value, onChange),
          width: 24,
          placeholder: "es-index-name",
          required: true
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Pattern",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
          inputId: "es_config_indexPattern",
          value: indexPatternTypes.find(pattern => pattern.value === (value.jsonData.interval === undefined ? 'none' : value.jsonData.interval)),
          options: indexPatternTypes,
          onChange: intervalHandler(value, onChange),
          width: 24
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Time field name",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: "es_config_timeField",
          value: value.jsonData.timeField || '',
          onChange: jsonDataChangeHandler('timeField', value, onChange),
          width: 24,
          placeholder: "@timestamp",
          required: true
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "ElasticSearch version",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Select, {
          inputId: "es_config_version",
          options: [customOption, ...esVersions].filter(_utils__WEBPACK_IMPORTED_MODULE_3__.isTruthy),
          onChange: option => {
            const maxConcurrentShardRequests = getMaxConcurrenShardRequestOrDefault(value.jsonData.maxConcurrentShardRequests, option.value);
            onChange(Object.assign({}, value, {
              jsonData: Object.assign({}, value.jsonData, {
                esVersion: option.value,
                maxConcurrentShardRequests
              })
            }));
          },
          value: currentVersion || customOption,
          width: 24
        })
      }), (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(value.jsonData.esVersion, '5.6.0') && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Max concurrent Shard Requests",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: "es_config_shardRequests",
          value: value.jsonData.maxConcurrentShardRequests || '',
          onChange: jsonDataChangeHandler('maxConcurrentShardRequests', value, onChange),
          width: 24
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Min time interval",
        labelWidth: 26,
        tooltip: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {
          children: ["A lower limit for the auto group by time interval. Recommended to be set to write frequency, for example", ' ', _code || (_code = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("code", {
            children: "1m"
          })), " if your data is written every minute."]
        }),
        error: "Value is not valid, you can use number with time unit specifier: y, M, w, d, h, m, s",
        invalid: !!value.jsonData.timeInterval && !/^\d+(ms|[Mwdhmsy])$/.test(value.jsonData.timeInterval),
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input, {
          id: "es_config_minTimeInterval",
          value: value.jsonData.timeInterval || '',
          onChange: jsonDataChangeHandler('timeInterval', value, onChange),
          width: 24,
          placeholder: "10s"
        })
      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "X-Pack enabled",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch, {
          id: "es_config_xpackEnabled",
          checked: value.jsonData.xpack || false,
          onChange: jsonDataSwitchChangeHandler('xpack', value, onChange)
        })
      }), (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(value.jsonData.esVersion, '6.6.0') && value.jsonData.xpack && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, {
        label: "Include Frozen Indices",
        labelWidth: 26,
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch, {
          id: "es_config_frozenIndices",
          checked: (_value$jsonData$inclu = value.jsonData.includeFrozen) !== null && _value$jsonData$inclu !== void 0 ? _value$jsonData$inclu : false,
          onChange: jsonDataSwitchChangeHandler('includeFrozen', value, onChange)
        })
      })]
    })
  });
}; // TODO: Use change handlers from @grafana/data

const changeHandler = (key, value, onChange) => event => {
  onChange(Object.assign({}, value, {
    [key]: event.currentTarget.value
  }));
}; // TODO: Use change handlers from @grafana/data


const jsonDataChangeHandler = (key, value, onChange) => event => {
  onChange(Object.assign({}, value, {
    jsonData: Object.assign({}, value.jsonData, {
      [key]: event.currentTarget.value
    })
  }));
};

const jsonDataSwitchChangeHandler = (key, value, onChange) => event => {
  onChange(Object.assign({}, value, {
    jsonData: Object.assign({}, value.jsonData, {
      [key]: event.currentTarget.checked
    })
  }));
};

const intervalHandler = (value, onChange) => option => {
  const {
    database
  } = value; // If option value is undefined it will send its label instead so we have to convert made up value to undefined here.

  const newInterval = option.value === 'none' ? undefined : option.value;

  if (!database || database.length === 0 || database.startsWith('[logstash-]')) {
    let newDatabase = '';

    if (newInterval !== undefined) {
      const pattern = indexPatternTypes.find(pattern => pattern.value === newInterval);

      if (pattern) {
        var _pattern$example;

        newDatabase = (_pattern$example = pattern.example) !== null && _pattern$example !== void 0 ? _pattern$example : '';
      }
    }

    onChange(Object.assign({}, value, {
      database: newDatabase,
      jsonData: Object.assign({}, value.jsonData, {
        interval: newInterval
      })
    }));
  } else {
    onChange(Object.assign({}, value, {
      jsonData: Object.assign({}, value.jsonData, {
        interval: newInterval
      })
    }));
  }
};

function getMaxConcurrenShardRequestOrDefault(maxConcurrentShardRequests, version) {
  if (maxConcurrentShardRequests === 5 && (0,semver__WEBPACK_IMPORTED_MODULE_1__.lt)(version, '7.0.0')) {
    return 256;
  }

  if (maxConcurrentShardRequests === 256 && (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(version, '7.0.0')) {
    return 5;
  }

  return maxConcurrentShardRequests || defaultMaxConcurrentShardRequests(version);
}

function defaultMaxConcurrentShardRequests(version) {
  return (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(version, '7.0.0') ? 5 : 256;
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/LogsConfig.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogsConfig": () => (/* binding */ LogsConfig)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./packages/grafana-ui/src/index.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/jsx-runtime.js");




const LogsConfig = props => {
  const {
    value,
    onChange
  } = props;

  const changeHandler = key => event => {
    onChange(Object.assign({}, value, {
      [key]: event.currentTarget.value
    }));
  };

  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.FieldSet, {
    label: "Logs",
    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {
      label: "Message field name",
      labelWidth: 22,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {
        id: "es_logs-config_logMessageField",
        value: value.logMessageField,
        onChange: changeHandler('logMessageField'),
        placeholder: "_source",
        width: 24
      })
    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, {
      label: "Level field name",
      labelWidth: 22,
      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.Input, {
        id: "es_logs-config_logLevelField",
        value: value.logLevelField,
        onChange: changeHandler('logLevelField'),
        width: 24
      })
    })]
  });
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/configuration/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "coerceOptions": () => (/* binding */ coerceOptions),
/* harmony export */   "isTruthy": () => (/* binding */ isTruthy),
/* harmony export */   "isValidOptions": () => (/* binding */ isValidOptions)
/* harmony export */ });
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
/* harmony import */ var _ElasticDetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/ElasticDetails.tsx");



const coerceOptions = options => {
  var _options$jsonData$inc;

  const esVersion = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.coerceESVersion)(options.jsonData.esVersion);
  return Object.assign({}, options, {
    jsonData: Object.assign({}, options.jsonData, {
      timeField: options.jsonData.timeField || '@timestamp',
      esVersion,
      maxConcurrentShardRequests: options.jsonData.maxConcurrentShardRequests || (0,_ElasticDetails__WEBPACK_IMPORTED_MODULE_2__.defaultMaxConcurrentShardRequests)(esVersion),
      logMessageField: options.jsonData.logMessageField || '',
      logLevelField: options.jsonData.logLevelField || '',
      includeFrozen: (_options$jsonData$inc = options.jsonData.includeFrozen) !== null && _options$jsonData$inc !== void 0 ? _options$jsonData$inc : false
    })
  });
};
const isValidOptions = options => {
  return (// esVersion should be a valid semver string
    !!(0,semver__WEBPACK_IMPORTED_MODULE_0__.valid)(options.jsonData.esVersion) && // timeField should not be empty or nullish
    !!options.jsonData.timeField && // maxConcurrentShardRequests should be a number AND greater than 0
    !!options.jsonData.maxConcurrentShardRequests && // message & level fields should be defined
    options.jsonData.logMessageField !== undefined && options.jsonData.logLevelField !== undefined
  );
};
const isTruthy = value => Boolean(value);

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/datasource.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticDatasource": () => (/* binding */ ElasticDatasource),
/* harmony export */   "enhanceDataFrame": () => (/* binding */ enhanceDataFrame)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/observable/throwError.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/observable/generate.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/observable/of.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/catchError.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/skipWhile.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/throwIfEmpty.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/operators/first.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./packages/grafana-runtime/src/index.ts");
/* harmony import */ var app_core_logs_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/core/logs_model.ts");
/* harmony import */ var app_features_templating_template_srv__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/features/templating/template_srv.ts");
/* harmony import */ var _components_QueryEditor_AnnotationQueryEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/AnnotationQueryEditor.tsx");
/* harmony import */ var _components_QueryEditor_BucketAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/aggregations.ts");
/* harmony import */ var _components_QueryEditor_BucketAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/utils.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _elastic_response__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/elastic_response.ts");
/* harmony import */ var _index_pattern__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/index_pattern.ts");
/* harmony import */ var _language_provider__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/language_provider.ts");
/* harmony import */ var _query_builder__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_builder.ts");
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



















 // Those are metadata fields as defined in https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-fields.html#_identity_metadata_fields.
// custom fields can start with underscores, therefore is not safe to exclude anything that starts with one.

const ELASTIC_META_FIELDS = ['_index', '_type', '_id', '_source', '_size', '_field_names', '_ignored', '_routing', '_meta'];
class ElasticDatasource extends _grafana_data__WEBPACK_IMPORTED_MODULE_2__.DataSourceApi {
  constructor(instanceSettings, templateSrv = (0,app_features_templating_template_srv__WEBPACK_IMPORTED_MODULE_5__.getTemplateSrv)()) {
    var _instanceSettings$dat, _settingsData$include;

    super(instanceSettings);

    _defineProperty(this, "basicAuth", void 0);

    _defineProperty(this, "withCredentials", void 0);

    _defineProperty(this, "url", void 0);

    _defineProperty(this, "name", void 0);

    _defineProperty(this, "index", void 0);

    _defineProperty(this, "timeField", void 0);

    _defineProperty(this, "esVersion", void 0);

    _defineProperty(this, "xpack", void 0);

    _defineProperty(this, "interval", void 0);

    _defineProperty(this, "maxConcurrentShardRequests", void 0);

    _defineProperty(this, "queryBuilder", void 0);

    _defineProperty(this, "indexPattern", void 0);

    _defineProperty(this, "logMessageField", void 0);

    _defineProperty(this, "logLevelField", void 0);

    _defineProperty(this, "dataLinks", void 0);

    _defineProperty(this, "languageProvider", void 0);

    _defineProperty(this, "includeFrozen", void 0);

    _defineProperty(this, "isProxyAccess", void 0);

    _defineProperty(this, "getLogRowContext", async (row, options) => {
      var _options$limit;

      const sortField = row.dataFrame.fields.find(f => f.name === 'sort');
      const searchAfter = (sortField === null || sortField === void 0 ? void 0 : sortField.values.get(row.rowIndex)) || [row.timeEpochMs];
      const sort = (options === null || options === void 0 ? void 0 : options.direction) === 'FORWARD' ? 'asc' : 'desc';
      const header = (options === null || options === void 0 ? void 0 : options.direction) === 'FORWARD' ? this.getQueryHeader('query_then_fetch', (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.dateTime)(row.timeEpochMs)) : this.getQueryHeader('query_then_fetch', undefined, (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.dateTime)(row.timeEpochMs));
      const limit = (_options$limit = options === null || options === void 0 ? void 0 : options.limit) !== null && _options$limit !== void 0 ? _options$limit : 10;
      const esQuery = JSON.stringify({
        size: limit,
        query: {
          bool: {
            filter: [{
              range: {
                [this.timeField]: {
                  [(options === null || options === void 0 ? void 0 : options.direction) === 'FORWARD' ? 'gte' : 'lte']: row.timeEpochMs,
                  format: 'epoch_millis'
                }
              }
            }]
          }
        },
        sort: [{
          [this.timeField]: sort
        }, {
          _doc: sort
        }],
        search_after: searchAfter
      });
      const payload = [header, esQuery].join('\n') + '\n';
      const url = this.getMultiSearchUrl();
      const response = await (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.post(url, payload));
      const targets = [{
        refId: `${row.dataFrame.refId}`,
        metrics: [{
          type: 'logs',
          id: '1'
        }]
      }];
      const elasticResponse = new _elastic_response__WEBPACK_IMPORTED_MODULE_11__.ElasticResponse(targets, transformHitsBasedOnDirection(response, sort));
      const logResponse = elasticResponse.getLogs(this.logMessageField, this.logLevelField);

      const dataFrame = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.first)(logResponse.data);

      if (!dataFrame) {
        return {
          data: []
        };
      }
      /**
       * The LogRowContextProvider requires there is a field in the dataFrame.fields
       * named `ts` for timestamp and `line` for the actual log line to display.
       * Unfortunatly these fields are hardcoded and are required for the lines to
       * be properly displayed. This code just copies the fields based on this.timeField
       * and this.logMessageField and recreates the dataFrame so it works.
       */


      const timestampField = dataFrame.fields.find(f => f.name === this.timeField);
      const lineField = dataFrame.fields.find(f => f.name === this.logMessageField);

      if (timestampField && lineField) {
        return {
          data: [Object.assign({}, dataFrame, {
            fields: [...dataFrame.fields, Object.assign({}, timestampField, {
              name: 'ts'
            }), Object.assign({}, lineField, {
              name: 'line'
            })]
          })]
        };
      }

      return logResponse;
    });

    this.templateSrv = templateSrv;
    this.basicAuth = instanceSettings.basicAuth;
    this.withCredentials = instanceSettings.withCredentials;
    this.url = instanceSettings.url;
    this.name = instanceSettings.name;
    this.index = (_instanceSettings$dat = instanceSettings.database) !== null && _instanceSettings$dat !== void 0 ? _instanceSettings$dat : '';
    this.isProxyAccess = instanceSettings.access === 'proxy';
    const settingsData = instanceSettings.jsonData || {};
    this.timeField = settingsData.timeField;
    this.esVersion = (0,_utils__WEBPACK_IMPORTED_MODULE_16__.coerceESVersion)(settingsData.esVersion);
    this.xpack = Boolean(settingsData.xpack);
    this.indexPattern = new _index_pattern__WEBPACK_IMPORTED_MODULE_12__.IndexPattern(this.index, settingsData.interval);
    this.interval = settingsData.timeInterval;
    this.maxConcurrentShardRequests = settingsData.maxConcurrentShardRequests;
    this.queryBuilder = new _query_builder__WEBPACK_IMPORTED_MODULE_14__.ElasticQueryBuilder({
      timeField: this.timeField,
      esVersion: this.esVersion
    });
    this.logMessageField = settingsData.logMessageField || '';
    this.logLevelField = settingsData.logLevelField || '';
    this.dataLinks = settingsData.dataLinks || [];
    this.includeFrozen = (_settingsData$include = settingsData.includeFrozen) !== null && _settingsData$include !== void 0 ? _settingsData$include : false;
    this.annotations = {
      QueryEditor: _components_QueryEditor_AnnotationQueryEditor__WEBPACK_IMPORTED_MODULE_6__.ElasticsearchAnnotationsQueryEditor
    };

    if (this.logMessageField === '') {
      this.logMessageField = undefined;
    }

    if (this.logLevelField === '') {
      this.logLevelField = undefined;
    }

    this.languageProvider = new _language_provider__WEBPACK_IMPORTED_MODULE_13__["default"](this);
  }

  request(method, url, data, headers) {
    if (!this.isProxyAccess) {
      const error = new Error('Browser access mode in the Elasticsearch datasource is no longer available. Switch to server access mode.');
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.throwError)(() => error);
    }

    if (!(0,_utils__WEBPACK_IMPORTED_MODULE_16__.isSupportedVersion)(this.esVersion)) {
      const error = new Error('Support for Elasticsearch versions after their end-of-life (currently versions < 7.10) was removed.');
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.throwError)(() => error);
    }

    const options = {
      url: this.url + '/' + url,
      method,
      data,
      headers
    };

    if (this.basicAuth || this.withCredentials) {
      options.withCredentials = true;
    }

    if (this.basicAuth) {
      options.headers = {
        Authorization: this.basicAuth
      };
    }

    return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_3__.getBackendSrv)().fetch(options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(results => {
      results.data.$$config = results.config;
      return results.data;
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)(err => {
      if (err.data) {
        var _ref, _err$data$error$reaso, _err$data$error;

        const message = (_ref = (_err$data$error$reaso = (_err$data$error = err.data.error) === null || _err$data$error === void 0 ? void 0 : _err$data$error.reason) !== null && _err$data$error$reaso !== void 0 ? _err$data$error$reaso : err.data.message) !== null && _ref !== void 0 ? _ref : 'Unknown error';
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.throwError)({
          message: 'Elasticsearch error: ' + message,
          error: err.data.error
        });
      }

      return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.throwError)(err);
    }));
  }

  async importFromAbstractQueries(abstractQueries) {
    return abstractQueries.map(abstractQuery => this.languageProvider.importFromAbstractQuery(abstractQuery));
  }
  /**
   * Sends a GET request to the specified url on the newest matching and available index.
   *
   * When multiple indices span the provided time range, the request is sent starting from the newest index,
   * and then going backwards until an index is found.
   *
   * @param url the url to query the index on, for example `/_mapping`.
   */


  get(url, range = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.getDefaultTimeRange)()) {
    let indexList = this.indexPattern.getIndexList(range.from, range.to);

    if (!Array.isArray(indexList)) {
      indexList = [this.indexPattern.getIndexForToday()];
    }

    const indexUrlList = indexList.map(index => index + url);
    return this.requestAllIndices(indexUrlList);
  }

  requestAllIndices(indexList) {
    const maxTraversals = 7; // do not go beyond one week (for a daily pattern)

    const listLen = indexList.length;
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.generate)({
      initialState: 0,
      condition: i => i < Math.min(listLen, maxTraversals),
      iterate: i => i + 1
    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.mergeMap)(index => {
      // catch all errors and emit an object with an err property to simplify checks later in the pipeline
      return this.request('GET', indexList[listLen - index - 1]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)(err => (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
        err
      })));
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.skipWhile)(resp => {
      var _resp$err;

      return (resp === null || resp === void 0 ? void 0 : (_resp$err = resp.err) === null || _resp$err === void 0 ? void 0 : _resp$err.status) === 404;
    }), // skip all requests that fail because missing Elastic index
    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.throwIfEmpty)(() => 'Could not find an available index for this time range.'), // when i === Math.min(listLen, maxTraversals) generate will complete but without emitting any values which means we didn't find a valid index
    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_26__.first)(), // take the first value that isn't skipped
    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(resp => {
      if (resp.err) {
        throw resp.err; // if there is some other error except 404 then we must throw it
      }

      return resp;
    }));
  }

  post(url, data) {
    return this.request('POST', url, data, {
      'Content-Type': 'application/x-ndjson'
    });
  }

  annotationQuery(options) {
    const annotation = options.annotation;
    const timeField = annotation.timeField || '@timestamp';
    const timeEndField = annotation.timeEndField || null;
    const queryString = annotation.query;
    const tagsField = annotation.tagsField || 'tags';
    const textField = annotation.textField || null;
    const dateRanges = [];
    const rangeStart = {};
    rangeStart[timeField] = {
      from: options.range.from.valueOf(),
      to: options.range.to.valueOf(),
      format: 'epoch_millis'
    };
    dateRanges.push({
      range: rangeStart
    });

    if (timeEndField) {
      const rangeEnd = {};
      rangeEnd[timeEndField] = {
        from: options.range.from.valueOf(),
        to: options.range.to.valueOf(),
        format: 'epoch_millis'
      };
      dateRanges.push({
        range: rangeEnd
      });
    }

    const queryInterpolated = this.interpolateLuceneQuery(queryString);
    const query = {
      bool: {
        filter: [{
          bool: {
            should: dateRanges,
            minimum_should_match: 1
          }
        }]
      }
    };

    if (queryInterpolated) {
      query.bool.filter.push({
        query_string: {
          query: queryInterpolated
        }
      });
    }

    const data = {
      query,
      size: 10000
    }; // fields field not supported on ES 5.x

    if ((0,semver__WEBPACK_IMPORTED_MODULE_1__.lt)(this.esVersion, '5.0.0')) {
      data['fields'] = [timeField, '_source'];
    }

    const header = {
      search_type: 'query_then_fetch',
      ignore_unavailable: true
    }; // old elastic annotations had index specified on them

    if (annotation.index) {
      header.index = annotation.index;
    } else {
      header.index = this.indexPattern.getIndexList(options.range.from, options.range.to);
    }

    const payload = JSON.stringify(header) + '\n' + JSON.stringify(data) + '\n';
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.post('_msearch', payload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(res => {
      const list = [];
      const hits = res.responses[0].hits.hits;

      const getFieldFromSource = (source, fieldName) => {
        if (!fieldName) {
          return;
        }

        const fieldNames = fieldName.split('.');
        let fieldValue = source;

        for (let i = 0; i < fieldNames.length; i++) {
          fieldValue = fieldValue[fieldNames[i]];

          if (!fieldValue) {
            console.log('could not find field in annotation: ', fieldName);
            return '';
          }
        }

        return fieldValue;
      };

      for (let i = 0; i < hits.length; i++) {
        const source = hits[i]._source;
        let time = getFieldFromSource(source, timeField);

        if (typeof hits[i].fields !== 'undefined') {
          const fields = hits[i].fields;

          if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isString)(fields[timeField]) || (0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNumber)(fields[timeField])) {
            time = fields[timeField];
          }
        }

        const event = {
          annotation: annotation,
          time: (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toUtc)(time).valueOf(),
          text: getFieldFromSource(source, textField),
          tags: getFieldFromSource(source, tagsField)
        };

        if (timeEndField) {
          const timeEnd = getFieldFromSource(source, timeEndField);

          if (timeEnd) {
            event.timeEnd = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toUtc)(timeEnd).valueOf();
          }
        } // legacy support for title tield


        if (annotation.titleField) {
          const title = getFieldFromSource(source, annotation.titleField);

          if (title) {
            event.text = title + '\n' + event.text;
          }
        }

        if (typeof event.tags === 'string') {
          event.tags = event.tags.split(',');
        }

        list.push(event);
      }

      return list;
    })));
  }

  interpolateLuceneQuery(queryString, scopedVars) {
    return this.templateSrv.replace(queryString, scopedVars, 'lucene');
  }

  interpolateVariablesInQueries(queries, scopedVars) {
    // We need a separate interpolation format for lucene queries, therefore we first interpolate any
    // lucene query string and then everything else
    const interpolateBucketAgg = bucketAgg => {
      if (bucketAgg.type === 'filters') {
        var _bucketAgg$settings, _bucketAgg$settings$f;

        return Object.assign({}, bucketAgg, {
          settings: Object.assign({}, bucketAgg.settings, {
            filters: (_bucketAgg$settings = bucketAgg.settings) === null || _bucketAgg$settings === void 0 ? void 0 : (_bucketAgg$settings$f = _bucketAgg$settings.filters) === null || _bucketAgg$settings$f === void 0 ? void 0 : _bucketAgg$settings$f.map(filter => Object.assign({}, filter, {
              query: this.interpolateLuceneQuery(filter.query, scopedVars) || '*'
            }))
          })
        });
      }

      return bucketAgg;
    };

    const expandedQueries = queries.map(query => {
      var _query$bucketAggs;

      return Object.assign({}, query, {
        datasource: this.getRef(),
        query: this.interpolateLuceneQuery(query.query || '', scopedVars),
        bucketAggs: (_query$bucketAggs = query.bucketAggs) === null || _query$bucketAggs === void 0 ? void 0 : _query$bucketAggs.map(interpolateBucketAgg)
      });
    });
    const finalQueries = JSON.parse(this.templateSrv.replace(JSON.stringify(expandedQueries), scopedVars));
    return finalQueries;
  }

  testDatasource() {
    // validate that the index exist and has date field
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.getFields(['date']).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_22__.mergeMap)(dateFields => {
      const timeField = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(dateFields, {
        text: this.timeField
      });

      if (!timeField) {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
          status: 'error',
          message: 'No date field named ' + this.timeField + ' found'
        });
      }

      return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
        status: 'success',
        message: 'Index OK. Time field name OK.'
      });
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)(err => {
      console.error(err);

      if (err.message) {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
          status: 'error',
          message: err.message
        });
      } else {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
          status: 'error',
          message: err.status
        });
      }
    })));
  }

  getQueryHeader(searchType, timeFrom, timeTo) {
    const queryHeader = {
      search_type: searchType,
      ignore_unavailable: true,
      index: this.indexPattern.getIndexList(timeFrom, timeTo)
    };

    if ((0,semver__WEBPACK_IMPORTED_MODULE_1__.satisfies)(this.esVersion, '>=5.6.0 <7.0.0')) {
      queryHeader['max_concurrent_shard_requests'] = this.maxConcurrentShardRequests;
    }

    return JSON.stringify(queryHeader);
  }

  getQueryDisplayText(query) {
    // TODO: This might be refactored a bit.
    const metricAggs = query.metrics;
    const bucketAggs = query.bucketAggs;
    let text = '';

    if (query.query) {
      text += 'Query: ' + query.query + ', ';
    }

    text += 'Metrics: ';
    text += metricAggs === null || metricAggs === void 0 ? void 0 : metricAggs.reduce((acc, metric) => {
      const metricConfig = _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_10__.metricAggregationConfig[metric.type];
      let text = metricConfig.label + '(';

      if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_9__.isMetricAggregationWithField)(metric)) {
        text += metric.field;
      }

      if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_9__.isPipelineAggregationWithMultipleBucketPaths)(metric)) {
        text += (0,_utils__WEBPACK_IMPORTED_MODULE_16__.getScriptValue)(metric).replace(new RegExp('params.', 'g'), '');
      }

      text += '), ';
      return `${acc} ${text}`;
    }, '');
    text += bucketAggs === null || bucketAggs === void 0 ? void 0 : bucketAggs.reduce((acc, bucketAgg, index) => {
      const bucketConfig = _components_QueryEditor_BucketAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_8__.bucketAggregationConfig[bucketAgg.type];
      let text = '';

      if (index === 0) {
        text += ' Group by: ';
      }

      text += bucketConfig.label + '(';

      if ((0,_components_QueryEditor_BucketAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_7__.isBucketAggregationWithField)(bucketAgg)) {
        text += bucketAgg.field;
      }

      return `${acc} ${text}), `;
    }, '');

    if (query.alias) {
      text += 'Alias: ' + query.alias;
    }

    return text;
  }
  /**
   * This method checks to ensure the user is running a 5.0+ cluster. This is
   * necessary bacause the query being used for the getLogRowContext relies on the
   * search_after feature.
   */


  showContextToggle() {
    return (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(this.esVersion, '5.0.0');
  }

  getLogsVolumeDataProvider(request) {
    const isLogsVolumeAvailable = request.targets.some(target => {
      var _target$metrics;

      return ((_target$metrics = target.metrics) === null || _target$metrics === void 0 ? void 0 : _target$metrics.length) === 1 && target.metrics[0].type === 'logs';
    });

    if (!isLogsVolumeAvailable) {
      return undefined;
    }

    const logsVolumeRequest = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.cloneDeep)(request);
    logsVolumeRequest.targets = logsVolumeRequest.targets.map(target => {
      var _this$timeField;

      const bucketAggs = [];
      const timeField = (_this$timeField = this.timeField) !== null && _this$timeField !== void 0 ? _this$timeField : '@timestamp';

      if (this.logLevelField) {
        bucketAggs.push({
          id: '2',
          type: 'terms',
          settings: {
            min_doc_count: '0',
            size: '0',
            order: 'desc',
            orderBy: '_count',
            missing: _grafana_data__WEBPACK_IMPORTED_MODULE_2__.LogLevel.unknown
          },
          field: this.logLevelField
        });
      }

      bucketAggs.push({
        id: '3',
        type: 'date_histogram',
        settings: {
          interval: 'auto',
          min_doc_count: '0',
          trimEdges: '0'
        },
        field: timeField
      });
      const logsVolumeQuery = {
        refId: target.refId,
        query: target.query,
        metrics: [{
          type: 'count',
          id: '1'
        }],
        timeField,
        bucketAggs
      };
      return logsVolumeQuery;
    });
    return (0,app_core_logs_model__WEBPACK_IMPORTED_MODULE_4__.queryLogsVolume)(this, logsVolumeRequest, {
      range: request.range,
      targets: request.targets,
      extractLevel: dataFrame => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.getLogLevelFromKey)(dataFrame.name || '')
    });
  }

  query(options) {
    let payload = '';
    const targets = this.interpolateVariablesInQueries((0,lodash__WEBPACK_IMPORTED_MODULE_0__.cloneDeep)(options.targets), options.scopedVars);
    const sentTargets = [];
    let targetsContainsLogsQuery = targets.some(target => (0,_query_def__WEBPACK_IMPORTED_MODULE_15__.hasMetricOfType)(target, 'logs')); // add global adhoc filters to timeFilter

    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);
    const logLimits = [];

    for (const target of targets) {
      if (target.hide) {
        continue;
      }

      let queryObj;

      if ((0,_query_def__WEBPACK_IMPORTED_MODULE_15__.hasMetricOfType)(target, 'logs')) {
        var _target$metrics2, _log$settings, _log$settings2;

        // FIXME: All this logic here should be in the query builder.
        // When moving to the BE-only implementation we should remove this and let the BE
        // Handle this.
        // TODO: defaultBucketAgg creates a dete_histogram aggregation without a field, so it fallbacks to
        // the configured timeField. we should allow people to use a different time field here.
        target.bucketAggs = [(0,_query_def__WEBPACK_IMPORTED_MODULE_15__.defaultBucketAgg)()];
        const log = (_target$metrics2 = target.metrics) === null || _target$metrics2 === void 0 ? void 0 : _target$metrics2.find(m => m.type === 'logs');
        const limit = (_log$settings = log.settings) !== null && _log$settings !== void 0 && _log$settings.limit ? parseInt((_log$settings2 = log.settings) === null || _log$settings2 === void 0 ? void 0 : _log$settings2.limit, 10) : 500;
        logLimits.push(limit);
        target.metrics = []; // Setting this for metrics queries that are typed as logs

        queryObj = this.queryBuilder.getLogsQuery(target, limit, adhocFilters);
      } else {
        logLimits.push();

        if (target.alias) {
          target.alias = this.interpolateLuceneQuery(target.alias, options.scopedVars);
        }

        queryObj = this.queryBuilder.build(target, adhocFilters);
      }

      const esQuery = JSON.stringify(queryObj);
      const searchType = queryObj.size === 0 && (0,semver__WEBPACK_IMPORTED_MODULE_1__.lt)(this.esVersion, '5.0.0') ? 'count' : 'query_then_fetch';
      const header = this.getQueryHeader(searchType, options.range.from, options.range.to);
      payload += header + '\n';
      payload += esQuery + '\n';
      sentTargets.push(target);
    }

    if (sentTargets.length === 0) {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.of)({
        data: []
      });
    } // We replace the range here for actual values. We need to replace it together with enclosing "" so that we replace
    // it as an integer not as string with digits. This is because elastic will convert the string only if the time
    // field is specified as type date (which probably should) but can also be specified as integer (millisecond epoch)
    // and then sending string will error out.


    payload = payload.replace(/"\$timeFrom"/g, options.range.from.valueOf().toString());
    payload = payload.replace(/"\$timeTo"/g, options.range.to.valueOf().toString());
    payload = this.templateSrv.replace(payload, options.scopedVars);
    const url = this.getMultiSearchUrl();
    return this.post(url, payload).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(res => {
      const er = new _elastic_response__WEBPACK_IMPORTED_MODULE_11__.ElasticResponse(sentTargets, res); // TODO: This needs to be revisited, it seems wrong to process ALL the sent queries as logs if only one of them was a log query

      if (targetsContainsLogsQuery) {
        const response = er.getLogs(this.logMessageField, this.logLevelField);
        response.data.forEach((dataFrame, index) => {
          enhanceDataFrame(dataFrame, this.dataLinks, logLimits[index]);
        });
        return response;
      }

      return er.getTimeSeries();
    }));
  }

  isMetadataField(fieldName) {
    return ELASTIC_META_FIELDS.includes(fieldName);
  } // TODO: instead of being a string, this could be a custom type representing all the elastic types
  // FIXME: This doesn't seem to return actual MetricFindValues, we should either change the return type
  // or fix the implementation.


  getFields(type, range) {
    const typeMap = {
      float: 'number',
      double: 'number',
      integer: 'number',
      long: 'number',
      date: 'date',
      date_nanos: 'date',
      string: 'string',
      text: 'string',
      scaled_float: 'number',
      nested: 'nested',
      histogram: 'number'
    };
    return this.get('/_mapping', range).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(result => {
      const shouldAddField = (obj, key) => {
        if (this.isMetadataField(key)) {
          return false;
        }

        if (!type || type.length === 0) {
          return true;
        } // equal query type filter, or via typemap translation


        return type.includes(obj.type) || type.includes(typeMap[obj.type]);
      }; // Store subfield names: [system, process, cpu, total] -> system.process.cpu.total


      const fieldNameParts = [];
      const fields = {};

      function getFieldsRecursively(obj) {
        for (const key in obj) {
          const subObj = obj[key]; // Check mapping field for nested fields

          if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isObject)(subObj.properties)) {
            fieldNameParts.push(key);
            getFieldsRecursively(subObj.properties);
          }

          if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isObject)(subObj.fields)) {
            fieldNameParts.push(key);
            getFieldsRecursively(subObj.fields);
          }

          if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isString)(subObj.type)) {
            const fieldName = fieldNameParts.concat(key).join('.'); // Hide meta-fields and check field type

            if (shouldAddField(subObj, key)) {
              fields[fieldName] = {
                text: fieldName,
                type: subObj.type
              };
            }
          }
        }

        fieldNameParts.pop();
      }

      for (const indexName in result) {
        const index = result[indexName];

        if (index && index.mappings) {
          const mappings = index.mappings;

          if ((0,semver__WEBPACK_IMPORTED_MODULE_1__.lt)(this.esVersion, '7.0.0')) {
            for (const typeName in mappings) {
              const properties = mappings[typeName].properties;
              getFieldsRecursively(properties);
            }
          } else {
            const properties = mappings.properties;
            getFieldsRecursively(properties);
          }
        }
      } // transform to array


      return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(fields, value => {
        return value;
      });
    }));
  }

  getTerms(queryDef, range = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.getDefaultTimeRange)()) {
    const searchType = (0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(this.esVersion, '5.0.0') ? 'query_then_fetch' : 'count';
    const header = this.getQueryHeader(searchType, range.from, range.to);
    let esQuery = JSON.stringify(this.queryBuilder.getTermsQuery(queryDef));
    esQuery = esQuery.replace(/\$timeFrom/g, range.from.valueOf().toString());
    esQuery = esQuery.replace(/\$timeTo/g, range.to.valueOf().toString());
    esQuery = header + '\n' + esQuery + '\n';
    const url = this.getMultiSearchUrl();
    return this.post(url, esQuery).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(res => {
      if (!res.responses[0].aggregations) {
        return [];
      }

      const buckets = res.responses[0].aggregations['1'].buckets;
      return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(buckets, bucket => {
        return {
          text: bucket.key_as_string || bucket.key,
          value: bucket.key
        };
      });
    }));
  }

  getMultiSearchUrl() {
    const searchParams = new URLSearchParams();

    if ((0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(this.esVersion, '7.0.0') && this.maxConcurrentShardRequests) {
      searchParams.append('max_concurrent_shard_requests', `${this.maxConcurrentShardRequests}`);
    }

    if ((0,semver__WEBPACK_IMPORTED_MODULE_1__.gte)(this.esVersion, '6.6.0') && this.xpack && this.includeFrozen) {
      searchParams.append('ignore_throttled', 'false');
    }

    return ('_msearch?' + searchParams.toString()).replace(/\?$/, '');
  }

  metricFindQuery(query, options) {
    const range = options === null || options === void 0 ? void 0 : options.range;
    const parsedQuery = JSON.parse(query);

    if (query) {
      if (parsedQuery.find === 'fields') {
        parsedQuery.type = this.interpolateLuceneQuery(parsedQuery.type);
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.getFields(parsedQuery.type, range));
      }

      if (parsedQuery.find === 'terms') {
        parsedQuery.field = this.interpolateLuceneQuery(parsedQuery.field);
        parsedQuery.query = this.interpolateLuceneQuery(parsedQuery.query);
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.getTerms(parsedQuery, range));
      }
    }

    return Promise.resolve([]);
  }

  getTagKeys() {
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.getFields());
  }

  getTagValues(options) {
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_17__.lastValueFrom)(this.getTerms({
      field: options.key
    }));
  }

  targetContainsTemplate(target) {
    if (this.templateSrv.containsTemplate(target.query) || this.templateSrv.containsTemplate(target.alias)) {
      return true;
    }

    for (const bucketAgg of target.bucketAggs) {
      if (this.templateSrv.containsTemplate(bucketAgg.field) || this.objectContainsTemplate(bucketAgg.settings)) {
        return true;
      }
    }

    for (const metric of target.metrics) {
      if (this.templateSrv.containsTemplate(metric.field) || this.objectContainsTemplate(metric.settings) || this.objectContainsTemplate(metric.meta)) {
        return true;
      }
    }

    return false;
  }

  isPrimitive(obj) {
    if (obj === null || obj === undefined) {
      return true;
    }

    if (['string', 'number', 'boolean'].some(type => type === typeof true)) {
      return true;
    }

    return false;
  }

  objectContainsTemplate(obj) {
    if (!obj) {
      return false;
    }

    for (const key of Object.keys(obj)) {
      if (this.isPrimitive(obj[key])) {
        if (this.templateSrv.containsTemplate(obj[key])) {
          return true;
        }
      } else if (Array.isArray(obj[key])) {
        for (const item of obj[key]) {
          if (this.objectContainsTemplate(item)) {
            return true;
          }
        }
      } else {
        if (this.objectContainsTemplate(obj[key])) {
          return true;
        }
      }
    }

    return false;
  }

}
/**
 * Modifies dataframe and adds dataLinks from the config.
 * Exported for tests.
 */

function enhanceDataFrame(dataFrame, dataLinks, limit) {
  if (limit) {
    dataFrame.meta = Object.assign({}, dataFrame.meta, {
      limit
    });
  }

  if (!dataLinks.length) {
    return;
  }

  for (const field of dataFrame.fields) {
    const linksToApply = dataLinks.filter(dataLink => new RegExp(dataLink.field).test(field.name));

    if (linksToApply.length === 0) {
      continue;
    }

    field.config = field.config || {};
    field.config.links = [...(field.config.links || [], linksToApply.map(generateDataLink))];
  }
}

function generateDataLink(linkConfig) {
  const dataSourceSrv = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_3__.getDataSourceSrv)();

  if (linkConfig.datasourceUid) {
    var _dsSettings$name;

    const dsSettings = dataSourceSrv.getInstanceSettings(linkConfig.datasourceUid);
    return {
      title: linkConfig.urlDisplayLabel || '',
      url: '',
      internal: {
        query: {
          query: linkConfig.url
        },
        datasourceUid: linkConfig.datasourceUid,
        datasourceName: (_dsSettings$name = dsSettings === null || dsSettings === void 0 ? void 0 : dsSettings.name) !== null && _dsSettings$name !== void 0 ? _dsSettings$name : 'Data source not found'
      }
    };
  } else {
    return {
      title: linkConfig.urlDisplayLabel || '',
      url: linkConfig.url
    };
  }
}

function transformHitsBasedOnDirection(response, direction) {
  if (direction === 'desc') {
    return response;
  }

  const actualResponse = response.responses[0];
  return Object.assign({}, response, {
    responses: [Object.assign({}, actualResponse, {
      hits: Object.assign({}, actualResponse.hits, {
        hits: actualResponse.hits.hits.reverse()
      })
    })]
  });
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/elastic_response.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticResponse": () => (/* binding */ ElasticResponse)
/* harmony export */ });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var app_core_table_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/core/table_model.ts");
/* harmony import */ var app_core_utils_flatten__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/core/utils/flatten.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









const HIGHLIGHT_TAGS_EXP = `${_query_def__WEBPACK_IMPORTED_MODULE_6__.highlightTags.pre}([^@]+)${_query_def__WEBPACK_IMPORTED_MODULE_6__.highlightTags.post}`;
class ElasticResponse {
  constructor(targets, _response) {
    _defineProperty(this, "processResponseToSeries", () => {
      const seriesList = [];

      for (let i = 0; i < this.response.responses.length; i++) {
        const response = this.response.responses[i];
        const target = this.targets[i];

        if (response.error) {
          throw this.getErrorFromElasticResponse(this.response, response.error);
        }

        if (response.hits && response.hits.hits.length > 0) {
          this.processHits(response.hits, seriesList, target);
        }

        if (response.aggregations) {
          const aggregations = response.aggregations;
          const target = this.targets[i];
          const tmpSeriesList = [];
          const table = new app_core_table_model__WEBPACK_IMPORTED_MODULE_2__["default"]();
          table.refId = target.refId;
          this.processBuckets(aggregations, target, tmpSeriesList, table, {}, 0);
          this.trimDatapoints(tmpSeriesList, target);
          this.nameSeries(tmpSeriesList, target);

          for (let y = 0; y < tmpSeriesList.length; y++) {
            seriesList.push(tmpSeriesList[y]);
          }

          if (table.rows.length > 0) {
            seriesList.push(table);
          }
        }
      }

      return {
        data: seriesList
      };
    });

    this.targets = targets;
    this.response = _response;
    this.targets = targets;
    this.response = _response;
  }

  processMetrics(esAgg, target, seriesList, props) {
    let newSeries;

    for (let y = 0; y < target.metrics.length; y++) {
      const metric = target.metrics[y];

      if (metric.hide) {
        continue;
      }

      switch (metric.type) {
        case 'count':
          {
            newSeries = {
              datapoints: [],
              metric: 'count',
              props,
              refId: target.refId
            };

            for (let i = 0; i < esAgg.buckets.length; i++) {
              const bucket = esAgg.buckets[i];
              const value = bucket.doc_count;
              newSeries.datapoints.push([value, bucket.key]);
            }

            seriesList.push(newSeries);
            break;
          }

        case 'percentiles':
          {
            if (esAgg.buckets.length === 0) {
              break;
            }

            const firstBucket = esAgg.buckets[0];
            const percentiles = firstBucket[metric.id].values;

            for (const percentileName in percentiles) {
              newSeries = {
                datapoints: [],
                metric: 'p' + percentileName,
                props: props,
                field: metric.field,
                refId: target.refId
              };

              for (let i = 0; i < esAgg.buckets.length; i++) {
                const bucket = esAgg.buckets[i];
                const values = bucket[metric.id].values;
                newSeries.datapoints.push([values[percentileName], bucket.key]);
              }

              seriesList.push(newSeries);
            }

            break;
          }

        case 'extended_stats':
          {
            for (const statName in metric.meta) {
              if (!metric.meta[statName]) {
                continue;
              }

              newSeries = {
                datapoints: [],
                metric: statName,
                props: props,
                field: metric.field,
                refId: target.refId
              };

              for (let i = 0; i < esAgg.buckets.length; i++) {
                const bucket = esAgg.buckets[i];
                const stats = bucket[metric.id]; // add stats that are in nested obj to top level obj

                stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;
                stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;
                newSeries.datapoints.push([stats[statName], bucket.key]);
              }

              seriesList.push(newSeries);
            }

            break;
          }

        case 'top_metrics':
          {
            var _metric$settings, _metric$settings$metr;

            if ((_metric$settings = metric.settings) !== null && _metric$settings !== void 0 && (_metric$settings$metr = _metric$settings.metrics) !== null && _metric$settings$metr !== void 0 && _metric$settings$metr.length) {
              for (const metricField of (_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : _metric$settings2.metrics) {
                var _metric$settings2;

                newSeries = {
                  datapoints: [],
                  metric: metric.type,
                  props: props,
                  refId: target.refId,
                  field: metricField
                };

                for (let i = 0; i < esAgg.buckets.length; i++) {
                  const bucket = esAgg.buckets[i];
                  const stats = bucket[metric.id];
                  const values = stats.top.map(hit => {
                    if (hit.metrics[metricField]) {
                      return hit.metrics[metricField];
                    }

                    return null;
                  });
                  const point = [values[values.length - 1], bucket.key];
                  newSeries.datapoints.push(point);
                }

                seriesList.push(newSeries);
              }
            }

            break;
          }

        default:
          {
            newSeries = {
              datapoints: [],
              metric: metric.type,
              metricId: metric.id,
              props: props,
              refId: target.refId
            };

            if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_4__.isMetricAggregationWithField)(metric)) {
              newSeries.field = metric.field;
            }

            for (let i = 0; i < esAgg.buckets.length; i++) {
              const bucket = esAgg.buckets[i];
              const value = bucket[metric.id];

              if (value !== undefined) {
                if (value.normalized_value) {
                  newSeries.datapoints.push([value.normalized_value, bucket.key]);
                } else {
                  newSeries.datapoints.push([value.value, bucket.key]);
                }
              }
            }

            seriesList.push(newSeries);
            break;
          }
      }
    }
  }

  processAggregationDocs(esAgg, aggDef, target, table, props) {
    // add columns
    if (table.columns.length === 0) {
      for (const propKey of (0,lodash__WEBPACK_IMPORTED_MODULE_0__.keys)(props)) {
        table.addColumn({
          text: propKey,
          filterable: true
        });
      }

      table.addColumn({
        text: aggDef.field,
        filterable: true
      });
    } // helper func to add values to value array


    const addMetricValue = (values, metricName, value) => {
      table.addColumn({
        text: metricName
      });
      values.push(value);
    };

    const buckets = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.isArray)(esAgg.buckets) ? esAgg.buckets : [esAgg.buckets];

    for (const bucket of buckets) {
      const values = [];

      for (const propValues of (0,lodash__WEBPACK_IMPORTED_MODULE_0__.values)(props)) {
        values.push(propValues);
      } // add bucket key (value)


      values.push(bucket.key);

      for (const metric of target.metrics || []) {
        switch (metric.type) {
          case 'count':
            {
              addMetricValue(values, this.getMetricName(metric.type), bucket.doc_count);
              break;
            }

          case 'extended_stats':
            {
              for (const statName in metric.meta) {
                if (!metric.meta[statName]) {
                  continue;
                }

                const stats = bucket[metric.id]; // add stats that are in nested obj to top level obj

                stats.std_deviation_bounds_upper = stats.std_deviation_bounds.upper;
                stats.std_deviation_bounds_lower = stats.std_deviation_bounds.lower;
                addMetricValue(values, this.getMetricName(statName), stats[statName]);
              }

              break;
            }

          case 'percentiles':
            {
              const percentiles = bucket[metric.id].values;

              for (const percentileName in percentiles) {
                addMetricValue(values, `p${percentileName} ${metric.field}`, percentiles[percentileName]);
              }

              break;
            }

          case 'top_metrics':
            {
              var _metric$settings3;

              const baseName = this.getMetricName(metric.type);

              if ((_metric$settings3 = metric.settings) !== null && _metric$settings3 !== void 0 && _metric$settings3.metrics) {
                for (const metricField of metric.settings.metrics) {
                  // If we selected more than one metric we also add each metric name
                  const metricName = metric.settings.metrics.length > 1 ? `${baseName} ${metricField}` : baseName;
                  const stats = bucket[metric.id]; // Size of top_metrics is fixed to 1.

                  addMetricValue(values, metricName, stats.top[0].metrics[metricField]);
                }
              }

              break;
            }

          default:
            {
              let metricName = this.getMetricName(metric.type);
              const otherMetrics = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.filter)(target.metrics, {
                type: metric.type
              }); // if more of the same metric type include field field name in property

              if (otherMetrics.length > 1) {
                if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_4__.isMetricAggregationWithField)(metric)) {
                  metricName += ' ' + metric.field;
                }

                if (metric.type === 'bucket_script') {
                  //Use the formula in the column name
                  metricName = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.getScriptValue)(metric);
                }
              }

              addMetricValue(values, metricName, bucket[metric.id].value);
              break;
            }
        }
      }

      table.rows.push(values);
    }
  } // This is quite complex
  // need to recurse down the nested buckets to build series


  processBuckets(aggs, target, seriesList, table, props, depth) {
    let bucket, aggDef, esAgg, aggId;
    const maxDepth = target.bucketAggs.length - 1;

    for (aggId in aggs) {
      aggDef = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(target.bucketAggs, {
        id: aggId
      });
      esAgg = aggs[aggId];

      if (!aggDef) {
        continue;
      }

      if (depth === maxDepth) {
        if (aggDef.type === 'date_histogram') {
          this.processMetrics(esAgg, target, seriesList, props);
        } else {
          this.processAggregationDocs(esAgg, aggDef, target, table, props);
        }
      } else {
        for (const nameIndex in esAgg.buckets) {
          bucket = esAgg.buckets[nameIndex];
          props = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.clone)(props);

          if (bucket.key !== void 0) {
            props[aggDef.field] = bucket.key;
          } else {
            props['filter'] = nameIndex;
          }

          if (bucket.key_as_string) {
            props[aggDef.field] = bucket.key_as_string;
          }

          this.processBuckets(bucket, target, seriesList, table, props, depth + 1);
        }
      }
    }
  }

  getMetricName(metric) {
    const metricDef = Object.entries(_components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_5__.metricAggregationConfig).filter(([key]) => key === metric).map(([_, value]) => value)[0];

    if (metricDef) {
      return metricDef.label;
    }

    const extendedStat = _query_def__WEBPACK_IMPORTED_MODULE_6__.extendedStats.find(e => e.value === metric);

    if (extendedStat) {
      return extendedStat.label;
    }

    return metric;
  }

  getSeriesName(series, target, dedup) {
    let metricName = this.getMetricName(series.metric);

    if (target.alias) {
      const regex = /\{\{([\s\S]+?)\}\}/g;
      return target.alias.replace(regex, (match, g1, g2) => {
        const group = g1 || g2;

        if (group.indexOf('term ') === 0) {
          return series.props[group.substring(5)];
        }

        if (series.props[group] !== void 0) {
          return series.props[group];
        }

        if (group === 'metric') {
          return metricName;
        }

        if (group === 'field') {
          return series.field || '';
        }

        return match;
      });
    }

    if (_query_def__WEBPACK_IMPORTED_MODULE_6__.isPipelineAgg(series.metric)) {
      if (series.metric && _query_def__WEBPACK_IMPORTED_MODULE_6__.isPipelineAggWithMultipleBucketPaths(series.metric)) {
        const agg = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(target.metrics, {
          id: series.metricId
        });

        if (agg && agg.settings.script) {
          metricName = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.getScriptValue)(agg);

          for (const pv of agg.pipelineVariables) {
            const appliedAgg = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(target.metrics, {
              id: pv.pipelineAgg
            });

            if (appliedAgg) {
              metricName = metricName.replace('params.' + pv.name, (0,_utils__WEBPACK_IMPORTED_MODULE_7__.describeMetric)(appliedAgg));
            }
          }
        } else {
          metricName = 'Unset';
        }
      } else {
        const appliedAgg = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(target.metrics, {
          id: series.field
        });

        if (appliedAgg) {
          metricName += ' ' + (0,_utils__WEBPACK_IMPORTED_MODULE_7__.describeMetric)(appliedAgg);
        } else {
          metricName = 'Unset';
        }
      }
    } else if (series.field) {
      metricName += ' ' + series.field;
    }

    const propKeys = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.keys)(series.props);

    if (propKeys.length === 0) {
      return metricName;
    }

    let name = '';

    for (const propName in series.props) {
      name += series.props[propName] + ' ';
    }

    if (dedup) {
      return name.trim() + ' ' + metricName;
    }

    return name.trim();
  }

  nameSeries(seriesList, target) {
    var _target$metrics;

    const metricTypeCount = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(seriesList, 'metric')).length;
    const hasTopMetricWithMultipleMetrics = ((_target$metrics = target.metrics) === null || _target$metrics === void 0 ? void 0 : _target$metrics.filter(m => m.type === 'top_metrics')).some(m => {
      var _m$settings, _m$settings$metrics;

      return ((m === null || m === void 0 ? void 0 : (_m$settings = m.settings) === null || _m$settings === void 0 ? void 0 : (_m$settings$metrics = _m$settings.metrics) === null || _m$settings$metrics === void 0 ? void 0 : _m$settings$metrics.length) || 0) > 1;
    });

    for (let i = 0; i < seriesList.length; i++) {
      const series = seriesList[i];
      series.target = this.getSeriesName(series, target, metricTypeCount > 1 || hasTopMetricWithMultipleMetrics);
    }
  }

  processHits(hits, seriesList, target) {
    const hitsTotal = typeof hits.total === 'number' ? hits.total : hits.total.value; // <- Works with Elasticsearch 7.0+

    const series = {
      target: target.refId,
      type: 'docs',
      refId: target.refId,
      datapoints: [],
      total: hitsTotal,
      filterable: true
    };
    let propName, hit, doc, i;

    for (i = 0; i < hits.hits.length; i++) {
      hit = hits.hits[i];
      doc = {
        _id: hit._id,
        _type: hit._type,
        _index: hit._index,
        sort: hit.sort,
        highlight: hit.highlight
      };

      if (hit._source) {
        for (propName in hit._source) {
          doc[propName] = hit._source[propName];
        }
      }

      for (propName in hit.fields) {
        doc[propName] = hit.fields[propName];
      }

      series.datapoints.push(doc);
    }

    seriesList.push(series);
  }

  trimDatapoints(aggregations, target) {
    const histogram = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.find)(target.bucketAggs, {
      type: 'date_histogram'
    });
    const shouldDropFirstAndLast = histogram && histogram.settings && histogram.settings.trimEdges;

    if (shouldDropFirstAndLast) {
      const trim = histogram.settings.trimEdges;

      for (const prop in aggregations) {
        const points = aggregations[prop];

        if (points.datapoints.length > trim * 2) {
          points.datapoints = points.datapoints.slice(trim, points.datapoints.length - trim);
        }
      }
    }
  }

  getErrorFromElasticResponse(response, err) {
    const result = {};
    result.data = JSON.stringify(err, null, 4);

    if (err.root_cause && err.root_cause.length > 0 && err.root_cause[0].reason) {
      result.message = err.root_cause[0].reason;
    } else {
      result.message = err.reason || 'Unknown elastic error response';
    }

    if (response.$$config) {
      result.config = response.$$config;
    }

    return result;
  }

  getTimeSeries() {
    if (this.targets.some(target => _query_def__WEBPACK_IMPORTED_MODULE_6__.hasMetricOfType(target, 'raw_data'))) {
      return this.processResponseToDataFrames(false);
    }

    return this.processResponseToSeries();
  }

  getLogs(logMessageField, logLevelField) {
    return this.processResponseToDataFrames(true, logMessageField, logLevelField);
  }

  processResponseToDataFrames(isLogsRequest, logMessageField, logLevelField) {
    const dataFrame = [];

    for (let n = 0; n < this.response.responses.length; n++) {
      const response = this.response.responses[n];

      if (response.error) {
        throw this.getErrorFromElasticResponse(this.response, response.error);
      }

      if (response.hits) {
        const {
          propNames,
          docs
        } = flattenHits(response.hits.hits);
        const series = docs.length ? createEmptyDataFrame(propNames.map(toNameTypePair(docs)), isLogsRequest, this.targets[0].timeField, logMessageField, logLevelField) : createEmptyDataFrame([], isLogsRequest);

        if (isLogsRequest) {
          addPreferredVisualisationType(series, 'logs');
        } // Add a row for each document


        for (const doc of docs) {
          if (logLevelField) {
            // Remap level field based on the datasource config. This field is
            // then used in explore to figure out the log level. We may rewrite
            // some actual data in the level field if they are different.
            doc['level'] = doc[logLevelField];
          } // When highlighting exists, we need to collect all the highlighted
          // phrases and add them to the DataFrame's meta.searchWords array.


          if (doc.highlight) {
            var _series$meta;

            // There might be multiple words so we need two versions of the
            // regular expression. One to match gobally, when used with part.match,
            // it returns and array of matches. The second one is used to capture the
            // values between the tags.
            const globalHighlightWordRegex = new RegExp(HIGHLIGHT_TAGS_EXP, 'g');
            const highlightWordRegex = new RegExp(HIGHLIGHT_TAGS_EXP);
            const newSearchWords = Object.keys(doc.highlight).flatMap(key => {
              return doc.highlight[key].flatMap(line => {
                const matchedPhrases = line.match(globalHighlightWordRegex);

                if (!matchedPhrases) {
                  return [];
                }

                return matchedPhrases.map(part => {
                  const matches = part.match(highlightWordRegex);
                  return matches && matches[1] || null;
                });
              });
            }).filter(lodash__WEBPACK_IMPORTED_MODULE_0__.identity); // If meta and searchWords already exists, add the words and
            // deduplicate otherwise create a new set of search words.

            const searchWords = (_series$meta = series.meta) !== null && _series$meta !== void 0 && _series$meta.searchWords ? (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)([...series.meta.searchWords, ...newSearchWords]) : [...newSearchWords];
            series.meta = series.meta ? Object.assign({}, series.meta, {
              searchWords
            }) : {
              searchWords
            };
          }

          series.add(doc);
        }

        const target = this.targets[n];
        series.refId = target.refId;
        dataFrame.push(series);
      }

      if (response.aggregations) {
        const aggregations = response.aggregations;
        const target = this.targets[n];
        const tmpSeriesList = [];
        const table = new app_core_table_model__WEBPACK_IMPORTED_MODULE_2__["default"]();
        this.processBuckets(aggregations, target, tmpSeriesList, table, {}, 0);
        this.trimDatapoints(tmpSeriesList, target);
        this.nameSeries(tmpSeriesList, target);

        if (table.rows.length > 0) {
          const series = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_1__.toDataFrame)(table);
          series.refId = target.refId;
          dataFrame.push(series);
        }

        for (let y = 0; y < tmpSeriesList.length; y++) {
          let series = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_1__.toDataFrame)(tmpSeriesList[y]); // When log results, show aggregations only in graph. Log fields are then going to be shown in table.

          if (isLogsRequest) {
            addPreferredVisualisationType(series, 'graph');
          }

          series.refId = target.refId;
          dataFrame.push(series);
        }
      }
    }

    return {
      data: dataFrame
    };
  }

}

/**
 * Flatten the docs from response mainly the _source part which can be nested. This flattens it so that it is one level
 * deep and the keys are: `level1Name.level2Name...`. Also returns list of all properties from all the docs (not all
 * docs have to have the same keys).
 * @param hits
 */
const flattenHits = hits => {
  const docs = []; // We keep a list of all props so that we can create all the fields in the dataFrame, this can lead
  // to wide sparse dataframes in case the scheme is different per document.

  let propNames = [];

  for (const hit of hits) {
    const flattened = hit._source ? (0,app_core_utils_flatten__WEBPACK_IMPORTED_MODULE_3__["default"])(hit._source) : {};
    const doc = Object.assign({
      _id: hit._id,
      _type: hit._type,
      _index: hit._index,
      sort: hit.sort,
      highlight: hit.highlight,
      _source: Object.assign({}, flattened)
    }, flattened);

    for (const propName of Object.keys(doc)) {
      if (propNames.indexOf(propName) === -1) {
        propNames.push(propName);
      }
    }

    docs.push(doc);
  }

  propNames.sort();
  return {
    docs,
    propNames
  };
};
/**
 * Create empty dataframe but with created fields. Fields are based from propNames (should be from the response) and
 * also from configuration specified fields for message, time, and level.
 * @param propNames
 * @param timeField
 * @param logMessageField
 * @param logLevelField
 */


const createEmptyDataFrame = (props, isLogsRequest, timeField, logMessageField, logLevelField) => {
  const series = new _grafana_data__WEBPACK_IMPORTED_MODULE_1__.MutableDataFrame({
    fields: []
  });

  if (timeField) {
    series.addField({
      config: {
        filterable: true
      },
      name: timeField,
      type: _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.time
    });
  }

  if (logMessageField) {
    const f = series.addField({
      name: logMessageField,
      type: _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.string
    });
    series.setParser(f, v => {
      return v || '';
    });
  }

  if (logLevelField) {
    const f = series.addField({
      name: 'level',
      type: _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.string
    });
    series.setParser(f, v => {
      return v || '';
    });
  }

  const fieldNames = series.fields.map(field => field.name);

  for (const [name, type] of props) {
    // Do not duplicate fields. This can mean that we will shadow some fields.
    if (fieldNames.includes(name)) {
      continue;
    } // Do not add _source field (besides logs) as we are showing each _source field in table instead.


    if (!isLogsRequest && name === '_source') {
      continue;
    }

    const f = series.addField({
      config: {
        filterable: true
      },
      name,
      type
    });
    series.setParser(f, v => {
      return v || '';
    });
  }

  return series;
};

const addPreferredVisualisationType = (series, type) => {
  let s = series;
  s.meta ? s.meta.preferredVisualisationType = type : s.meta = {
    preferredVisualisationType: type
  };
};

const toNameTypePair = docs => propName => {
  var _docs$find;

  return [propName, guessType((_docs$find = docs.find(doc => doc[propName] !== undefined)) === null || _docs$find === void 0 ? void 0 : _docs$find[propName])];
};
/**
 * Trying to guess data type from its value. This is far from perfect, as in order to have accurate guess
 * we should have access to the elasticsearch mapping, but it covers the most common use cases for numbers, strings & arrays.
 */


const guessType = value => {
  switch (typeof value) {
    case 'number':
      return _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.number;

    case 'string':
      return _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.string;

    default:
      return _grafana_data__WEBPACK_IMPORTED_MODULE_1__.FieldType.other;
  }
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/hooks/useFields.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useFields": () => (/* binding */ useFields)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./.yarn/cache/rxjs-npm-7.5.5-d0546b1ccb-e034f60805.zip/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js");
/* harmony import */ var _components_QueryEditor_BucketAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/aggregations.ts");
/* harmony import */ var _components_QueryEditor_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");





const getFilter = type => {
  if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isMetricAggregationType)(type)) {
    switch (type) {
      case 'cardinality':
        return [];

      case 'top_metrics':
        // top_metrics was introduced in 7.7 where `metrics` only supported number:
        // https://www.elastic.co/guide/en/elasticsearch/reference/7.7/search-aggregations-metrics-top-metrics.html#_metrics
        // TODO: starting from 7.11 it supports ips and keywords as well:
        // https://www.elastic.co/guide/en/elasticsearch/reference/7.11/search-aggregations-metrics-top-metrics.html#_metrics
        return ['number'];

      default:
        return ['number'];
    }
  }

  if ((0,_components_QueryEditor_BucketAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_0__.isBucketAggregationType)(type)) {
    switch (type) {
      case 'date_histogram':
        return ['date'];

      case 'geohash_grid':
        return ['geo_point'];

      case 'histogram':
        return ['number'];

      default:
        return [];
    }
  }

  return [];
};

const toSelectableValue = ({
  text
}) => ({
  label: text,
  value: text
});
/**
 * Returns a function to query the configured datasource for autocomplete values for the specified aggregation type or data types.
 * Each aggregation can be run on different types, for example avg only operates on numeric fields, geohash_grid only on geo_point fields.
 * If an aggregation type is provided, the promise will resolve with all fields suitable to be used as a field for the given aggregation.
 * If an array of types is providem the promise will resolve with all the fields matching the provided types.
 * @param aggregationType the type of aggregation to get fields for
 */


const useFields = type => {
  const datasource = (0,_components_QueryEditor_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__.useDatasource)();
  const range = (0,_components_QueryEditor_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__.useRange)();
  const filter = Array.isArray(type) ? type : getFilter(type);
  let rawFields;
  return async q => {
    // _mapping doesn't support filtering, we avoid sending a request everytime q changes
    if (!rawFields) {
      rawFields = await (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.lastValueFrom)(datasource.getFields(filter, range));
    }

    return rawFields.filter(({
      text
    }) => q === undefined || text.includes(q)).map(toSelectableValue);
  };
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/hooks/useNextId.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useNextId": () => (/* binding */ useNextId)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
/* harmony import */ var _components_QueryEditor_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/ElasticsearchQueryContext.tsx");



const toId = e => e.id;

const toInt = idString => parseInt(idString, 10);

const useNextId = () => {
  const {
    metrics,
    bucketAggs
  } = (0,_components_QueryEditor_ElasticsearchQueryContext__WEBPACK_IMPORTED_MODULE_1__.useQuery)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (Math.max(...[...((metrics === null || metrics === void 0 ? void 0 : metrics.map(toId)) || ['0']), ...((bucketAggs === null || bucketAggs === void 0 ? void 0 : bucketAggs.map(toId)) || ['0'])].map(toInt)) + 1).toString(), [metrics, bucketAggs]);
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/hooks/useStatelessReducer.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DispatchContext": () => (/* binding */ DispatchContext),
/* harmony export */   "combineReducers": () => (/* binding */ combineReducers),
/* harmony export */   "useDispatch": () => (/* binding */ useDispatch),
/* harmony export */   "useStatelessReducer": () => (/* binding */ useStatelessReducer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");

const combineReducers = reducers => (state, action) => {
  const newState = {};

  for (const key in reducers) {
    newState[key] = reducers[key](state[key], action);
  }

  return newState;
};
const useStatelessReducer = (onChange, state, reducer) => {
  const dispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(action => {
    onChange(reducer(state, action));
  }, [onChange, state, reducer]);
  return dispatch;
};
const DispatchContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);
const useDispatch = () => {
  const dispatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DispatchContext);

  if (!dispatch) {
    throw new Error('Use DispatchContext first.');
  }

  return dispatch;
};

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/index_pattern.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IndexPattern": () => (/* binding */ IndexPattern)
/* harmony export */ });
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./packages/grafana-data/src/index.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


const intervalMap = {
  Hourly: {
    startOf: 'hour',
    amount: 'hours'
  },
  Daily: {
    startOf: 'day',
    amount: 'days'
  },
  Weekly: {
    startOf: 'isoWeek',
    amount: 'weeks'
  },
  Monthly: {
    startOf: 'month',
    amount: 'months'
  },
  Yearly: {
    startOf: 'year',
    amount: 'years'
  }
};
class IndexPattern {
  constructor(pattern, interval) {
    _defineProperty(this, "dateLocale", 'en');

    this.pattern = pattern;
    this.interval = interval;
  }

  getIndexForToday() {
    if (this.interval) {
      return (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.toUtc)().locale(this.dateLocale).format(this.pattern);
    } else {
      return this.pattern;
    }
  }

  getIndexList(from, to) {
    // When no `from` or `to` is provided, we request data from 7 subsequent/previous indices
    // for the provided index pattern.
    // This is useful when requesting log context where the only time data we have is the log
    // timestamp.
    const indexOffset = 7;

    if (!this.interval) {
      return this.pattern;
    }

    const intervalInfo = intervalMap[this.interval];
    const start = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.dateTime)(from || (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.dateTime)(to).add(-indexOffset, intervalInfo.amount)).utc().startOf(intervalInfo.startOf);
    const endEpoch = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.dateTime)(to || (0,_grafana_data__WEBPACK_IMPORTED_MODULE_0__.dateTime)(from).add(indexOffset, intervalInfo.amount)).utc().startOf(intervalInfo.startOf).valueOf();
    const indexList = [];

    while (start.valueOf() <= endEpoch) {
      indexList.push(start.locale(this.dateLocale).format(this.pattern));
      start.add(1, intervalInfo.amount);
    }

    return indexList;
  }

}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/language_provider.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ElasticsearchLanguageProvider)
/* harmony export */ });
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./packages/grafana-data/src/index.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }


class ElasticsearchLanguageProvider extends _grafana_data__WEBPACK_IMPORTED_MODULE_0__.LanguageProvider {
  constructor(datasource, initialValues) {
    super();

    _defineProperty(this, "datasource", void 0);

    this.datasource = datasource;
    Object.assign(this, initialValues);
  }
  /**
   * Queries are transformed to an ES Logs query since it's the behaviour most users expect.
   **/


  importFromAbstractQuery(abstractQuery) {
    return {
      metrics: [{
        id: '1',
        type: 'logs'
      }],
      query: this.getElasticsearchQuery(abstractQuery.labelMatchers),
      refId: abstractQuery.refId
    };
  }

  getElasticsearchQuery(labels) {
    return labels.map(label => {
      switch (label.operator) {
        case _grafana_data__WEBPACK_IMPORTED_MODULE_0__.AbstractLabelOperator.Equal:
          {
            return label.name + ':"' + label.value + '"';
          }

        case _grafana_data__WEBPACK_IMPORTED_MODULE_0__.AbstractLabelOperator.NotEqual:
          {
            return 'NOT ' + label.name + ':"' + label.value + '"';
          }

        case _grafana_data__WEBPACK_IMPORTED_MODULE_0__.AbstractLabelOperator.EqualRegEx:
          {
            return label.name + ':/' + label.value + '/';
          }

        case _grafana_data__WEBPACK_IMPORTED_MODULE_0__.AbstractLabelOperator.NotEqualRegEx:
          {
            return 'NOT ' + label.name + ':/' + label.value + '/';
          }
      }
    }).join(' AND ');
  }

}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/module.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "plugin": () => (/* binding */ plugin)
/* harmony export */ });
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _components_QueryEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/index.tsx");
/* harmony import */ var _configuration_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/configuration/ConfigEditor.tsx");
/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/datasource.ts");




const plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_0__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_3__.ElasticDatasource).setQueryEditor(_components_QueryEditor__WEBPACK_IMPORTED_MODULE_1__.QueryEditor).setConfigEditor(_configuration_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__.ConfigEditor);

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/query_builder.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ElasticQueryBuilder": () => (/* binding */ ElasticQueryBuilder)
/* harmony export */ });
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./packages/grafana-data/src/index.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _query_def__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/query_def.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/utils.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






class ElasticQueryBuilder {
  constructor(options) {
    _defineProperty(this, "timeField", void 0);

    _defineProperty(this, "esVersion", void 0);

    this.timeField = options.timeField;
    this.esVersion = options.esVersion;
  }

  getRangeFilter() {
    const filter = {};
    filter[this.timeField] = {
      gte: '$timeFrom',
      lte: '$timeTo',
      format: 'epoch_millis'
    };
    return filter;
  }

  buildTermsAgg(aggDef, queryNode, target) {
    var _aggDef$settings;

    queryNode.terms = {
      field: aggDef.field
    };

    if (!aggDef.settings) {
      return queryNode;
    } // TODO: This default should be somewhere else together with the one used in the UI


    const size = (_aggDef$settings = aggDef.settings) !== null && _aggDef$settings !== void 0 && _aggDef$settings.size ? parseInt(aggDef.settings.size, 10) : 500;
    queryNode.terms.size = size === 0 ? 500 : size;

    if (aggDef.settings.orderBy !== void 0) {
      queryNode.terms.order = {};

      if (aggDef.settings.orderBy === '_term' && (0,semver__WEBPACK_IMPORTED_MODULE_0__.gte)(this.esVersion, '6.0.0')) {
        queryNode.terms.order['_key'] = aggDef.settings.order;
      } else {
        queryNode.terms.order[aggDef.settings.orderBy] = aggDef.settings.order;
      } // if metric ref, look it up and add it to this agg level


      const metricId = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.convertOrderByToMetricId)(aggDef.settings.orderBy);

      if (metricId) {
        for (let metric of target.metrics || []) {
          if (metric.id === metricId) {
            if (metric.type === 'count') {
              queryNode.terms.order = {
                _count: aggDef.settings.order
              };
            } else if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isMetricAggregationWithField)(metric)) {
              queryNode.aggs = {};
              queryNode.aggs[metric.id] = {
                [metric.type]: {
                  field: metric.field
                }
              };
            }

            break;
          }
        }
      }
    }

    if (aggDef.settings.min_doc_count !== void 0) {
      queryNode.terms.min_doc_count = parseInt(aggDef.settings.min_doc_count, 10);

      if (isNaN(queryNode.terms.min_doc_count)) {
        queryNode.terms.min_doc_count = aggDef.settings.min_doc_count;
      }
    }

    if (aggDef.settings.missing) {
      queryNode.terms.missing = aggDef.settings.missing;
    }

    return queryNode;
  }

  getDateHistogramAgg(aggDef) {
    const esAgg = {};
    const settings = aggDef.settings || {};
    esAgg.field = aggDef.field || this.timeField;
    esAgg.min_doc_count = settings.min_doc_count || 0;
    esAgg.extended_bounds = {
      min: '$timeFrom',
      max: '$timeTo'
    };
    esAgg.format = 'epoch_millis';

    if (settings.timeZone && settings.timeZone !== _grafana_data__WEBPACK_IMPORTED_MODULE_1__.InternalTimeZones.utc) {
      esAgg.time_zone = settings.timeZone;
    }

    if (settings.offset !== '') {
      esAgg.offset = settings.offset;
    }

    const interval = settings.interval === 'auto' ? '$__interval' : settings.interval;
    esAgg.fixed_interval = interval;
    return esAgg;
  }

  getHistogramAgg(aggDef) {
    const esAgg = {};
    const settings = aggDef.settings || {};
    esAgg.interval = settings.interval;
    esAgg.field = aggDef.field;
    esAgg.min_doc_count = settings.min_doc_count || 0;
    return esAgg;
  }

  getFiltersAgg(aggDef) {
    const filterObj = {};

    for (let {
      query,
      label
    } of ((_aggDef$settings2 = aggDef.settings) === null || _aggDef$settings2 === void 0 ? void 0 : _aggDef$settings2.filters) || []) {
      var _aggDef$settings2;

      filterObj[label || query] = {
        query_string: {
          query: query,
          analyze_wildcard: true
        }
      };
    }

    return filterObj;
  }

  documentQuery(query, size) {
    query.size = size;
    query.sort = [{
      [this.timeField]: {
        order: 'desc',
        unmapped_type: 'boolean'
      }
    }, {
      _doc: {
        order: 'desc'
      }
    }]; // fields field not supported on ES 5.x

    if ((0,semver__WEBPACK_IMPORTED_MODULE_0__.lt)(this.esVersion, '5.0.0')) {
      query.fields = ['*', '_source'];
    }

    query.script_fields = {};
    return query;
  }

  addAdhocFilters(query, adhocFilters) {
    if (!adhocFilters) {
      return;
    }

    let i, filter, condition, queryCondition;

    for (i = 0; i < adhocFilters.length; i++) {
      filter = adhocFilters[i];
      condition = {};
      condition[filter.key] = filter.value;
      queryCondition = {};
      queryCondition[filter.key] = {
        query: filter.value
      };

      switch (filter.operator) {
        case '=':
          if (!query.query.bool.must) {
            query.query.bool.must = [];
          }

          query.query.bool.must.push({
            match_phrase: queryCondition
          });
          break;

        case '!=':
          if (!query.query.bool.must_not) {
            query.query.bool.must_not = [];
          }

          query.query.bool.must_not.push({
            match_phrase: queryCondition
          });
          break;

        case '<':
          condition[filter.key] = {
            lt: filter.value
          };
          query.query.bool.filter.push({
            range: condition
          });
          break;

        case '>':
          condition[filter.key] = {
            gt: filter.value
          };
          query.query.bool.filter.push({
            range: condition
          });
          break;

        case '=~':
          query.query.bool.filter.push({
            regexp: condition
          });
          break;

        case '!~':
          query.query.bool.filter.push({
            bool: {
              must_not: {
                regexp: condition
              }
            }
          });
          break;
      }
    }
  }

  build(target, adhocFilters) {
    var _target$metrics, _target$metrics$, _target$metrics2, _target$metrics2$, _metricAgg, _metricAgg2, _metric$settings2, _metric$settings2$met, _metric$settings3;

    // make sure query has defaults;
    target.metrics = target.metrics || [(0,_query_def__WEBPACK_IMPORTED_MODULE_3__.defaultMetricAgg)()];
    target.bucketAggs = target.bucketAggs || [(0,_query_def__WEBPACK_IMPORTED_MODULE_3__.defaultBucketAgg)()];
    target.timeField = this.timeField;
    let metric;
    let i, j, pv, nestedAggs;
    const query = {
      size: 0,
      query: {
        bool: {
          filter: [{
            range: this.getRangeFilter()
          }]
        }
      }
    };

    if (target.query && target.query !== '') {
      query.query.bool.filter = [...query.query.bool.filter, {
        query_string: {
          analyze_wildcard: true,
          query: target.query
        }
      }];
    }

    this.addAdhocFilters(query, adhocFilters); // If target doesn't have bucketAggs and type is not raw_document, it is invalid query.

    if (target.bucketAggs.length === 0) {
      metric = target.metrics[0];

      if (!metric || !(metric.type === 'raw_document' || metric.type === 'raw_data')) {
        throw {
          message: 'Invalid query'
        };
      }
    }
    /* Handle document query:
     * Check if metric type is raw_document. If metric doesn't have size (or size is 0), update size to 500.
     * Otherwise it will not be a valid query and error will be thrown.
     */


    if (((_target$metrics = target.metrics) === null || _target$metrics === void 0 ? void 0 : (_target$metrics$ = _target$metrics[0]) === null || _target$metrics$ === void 0 ? void 0 : _target$metrics$.type) === 'raw_document' || ((_target$metrics2 = target.metrics) === null || _target$metrics2 === void 0 ? void 0 : (_target$metrics2$ = _target$metrics2[0]) === null || _target$metrics2$ === void 0 ? void 0 : _target$metrics2$.type) === 'raw_data') {
      var _metric$settings;

      metric = target.metrics[0]; // TODO: This default should be somewhere else together with the one used in the UI

      const size = (_metric$settings = metric.settings) !== null && _metric$settings !== void 0 && _metric$settings.size ? parseInt(metric.settings.size, 10) : 500;
      return this.documentQuery(query, size || 500);
    }

    nestedAggs = query;

    for (i = 0; i < target.bucketAggs.length; i++) {
      const aggDef = target.bucketAggs[i];
      const esAgg = {};

      switch (aggDef.type) {
        case 'date_histogram':
          {
            esAgg['date_histogram'] = this.getDateHistogramAgg(aggDef);
            break;
          }

        case 'histogram':
          {
            esAgg['histogram'] = this.getHistogramAgg(aggDef);
            break;
          }

        case 'filters':
          {
            esAgg['filters'] = {
              filters: this.getFiltersAgg(aggDef)
            };
            break;
          }

        case 'terms':
          {
            this.buildTermsAgg(aggDef, esAgg, target);
            break;
          }

        case 'geohash_grid':
          {
            var _aggDef$settings3;

            esAgg['geohash_grid'] = {
              field: aggDef.field,
              precision: (_aggDef$settings3 = aggDef.settings) === null || _aggDef$settings3 === void 0 ? void 0 : _aggDef$settings3.precision
            };
            break;
          }
      }

      nestedAggs.aggs = nestedAggs.aggs || {};
      nestedAggs.aggs[aggDef.id] = esAgg;
      nestedAggs = esAgg;
    }

    nestedAggs.aggs = {};

    for (i = 0; i < target.metrics.length; i++) {
      metric = target.metrics[i];

      if (metric.type === 'count') {
        continue;
      }

      const aggField = {};
      let metricAgg = {};

      if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isPipelineAggregation)(metric)) {
        if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isPipelineAggregationWithMultipleBucketPaths)(metric)) {
          if (metric.pipelineVariables) {
            metricAgg = {
              buckets_path: {}
            };

            for (j = 0; j < metric.pipelineVariables.length; j++) {
              pv = metric.pipelineVariables[j];

              if (pv.name && pv.pipelineAgg && /^\d*$/.test(pv.pipelineAgg)) {
                const appliedAgg = (0,_query_def__WEBPACK_IMPORTED_MODULE_3__.findMetricById)(target.metrics, pv.pipelineAgg);

                if (appliedAgg) {
                  if (appliedAgg.type === 'count') {
                    metricAgg.buckets_path[pv.name] = '_count';
                  } else {
                    metricAgg.buckets_path[pv.name] = pv.pipelineAgg;
                  }
                }
              }
            }
          } else {
            continue;
          }
        } else {
          if (metric.field && /^\d*$/.test(metric.field)) {
            const appliedAgg = (0,_query_def__WEBPACK_IMPORTED_MODULE_3__.findMetricById)(target.metrics, metric.field);

            if (appliedAgg) {
              if (appliedAgg.type === 'count') {
                metricAgg = {
                  buckets_path: '_count'
                };
              } else {
                metricAgg = {
                  buckets_path: metric.field
                };
              }
            }
          } else {
            continue;
          }
        }
      } else if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isMetricAggregationWithField)(metric)) {
        metricAgg = {
          field: metric.field
        };
      }

      if ((0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isMetricAggregationWithSettings)(metric)) {
        Object.entries(metric.settings || {}).filter(([_, v]) => v !== null).forEach(([k, v]) => {
          metricAgg[k] = k === 'script' ? this.buildScript((0,_utils__WEBPACK_IMPORTED_MODULE_4__.getScriptValue)(metric)) : v;
        }); // Elasticsearch isn't generally too picky about the data types in the request body,
        // however some fields are required to be numeric.
        // Users might have already created some of those with before, where the values were numbers.

        switch (metric.type) {
          case 'moving_avg':
            metricAgg = Object.assign({}, metricAgg, ((_metricAgg = metricAgg) === null || _metricAgg === void 0 ? void 0 : _metricAgg.window) !== undefined && {
              window: this.toNumber(metricAgg.window)
            }, ((_metricAgg2 = metricAgg) === null || _metricAgg2 === void 0 ? void 0 : _metricAgg2.predict) !== undefined && {
              predict: this.toNumber(metricAgg.predict)
            }, (0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_2__.isMovingAverageWithModelSettings)(metric) && {
              settings: Object.assign({}, metricAgg.settings, Object.fromEntries(Object.entries(metricAgg.settings || {}) // Only format properties that are required to be numbers
              .filter(([settingName]) => ['alpha', 'beta', 'gamma', 'period'].includes(settingName)) // omitting undefined
              .filter(([_, stringValue]) => stringValue !== undefined).map(([_, stringValue]) => [_, this.toNumber(stringValue)])))
            });
            break;

          case 'serial_diff':
            metricAgg = Object.assign({}, metricAgg, metricAgg.lag !== undefined && {
              lag: this.toNumber(metricAgg.lag)
            });
            break;

          case 'top_metrics':
            metricAgg = {
              metrics: (_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : (_metric$settings2$met = _metric$settings2.metrics) === null || _metric$settings2$met === void 0 ? void 0 : _metric$settings2$met.map(field => ({
                field
              })),
              size: 1
            };

            if ((_metric$settings3 = metric.settings) !== null && _metric$settings3 !== void 0 && _metric$settings3.orderBy) {
              var _metric$settings4, _metric$settings5;

              metricAgg.sort = [{
                [(_metric$settings4 = metric.settings) === null || _metric$settings4 === void 0 ? void 0 : _metric$settings4.orderBy]: (_metric$settings5 = metric.settings) === null || _metric$settings5 === void 0 ? void 0 : _metric$settings5.order
              }];
            }

            break;
        }
      }

      aggField[metric.type] = metricAgg;
      nestedAggs.aggs[metric.id] = aggField;
    }

    return query;
  }

  buildScript(script) {
    if ((0,semver__WEBPACK_IMPORTED_MODULE_0__.gte)(this.esVersion, '5.6.0')) {
      return script;
    }

    return {
      inline: script
    };
  }

  toNumber(stringValue) {
    const parsedValue = parseFloat(`${stringValue}`);

    if (isNaN(parsedValue)) {
      return stringValue;
    }

    return parsedValue;
  }

  getTermsQuery(queryDef) {
    const query = {
      size: 0,
      query: {
        bool: {
          filter: [{
            range: this.getRangeFilter()
          }]
        }
      }
    };

    if (queryDef.query) {
      query.query.bool.filter.push({
        query_string: {
          analyze_wildcard: true,
          query: queryDef.query
        }
      });
    }

    let size = 500;

    if (queryDef.size) {
      size = queryDef.size;
    }

    query.aggs = {
      '1': {
        terms: {
          field: queryDef.field,
          size: size,
          order: {}
        }
      }
    }; // Default behaviour is to order results by { _key: asc }
    // queryDef.order allows selection of asc/desc
    // queryDef.orderBy allows selection of doc_count ordering (defaults desc)

    const {
      orderBy = 'key',
      order = orderBy === 'doc_count' ? 'desc' : 'asc'
    } = queryDef;

    if (['asc', 'desc'].indexOf(order) < 0) {
      throw {
        message: `Invalid query sort order ${order}`
      };
    }

    switch (orderBy) {
      case 'key':
      case 'term':
        const keyname = (0,semver__WEBPACK_IMPORTED_MODULE_0__.gte)(this.esVersion, '6.0.0') ? '_key' : '_term';
        query.aggs['1'].terms.order[keyname] = order;
        break;

      case 'doc_count':
        query.aggs['1'].terms.order['_count'] = order;
        break;

      default:
        throw {
          message: `Invalid query sort type ${orderBy}`
        };
    }

    return query;
  }

  getLogsQuery(target, limit, adhocFilters) {
    let query = {
      size: 0,
      query: {
        bool: {
          filter: [{
            range: this.getRangeFilter()
          }]
        }
      }
    };
    this.addAdhocFilters(query, adhocFilters);

    if (target.query) {
      query.query.bool.filter.push({
        query_string: {
          analyze_wildcard: true,
          query: target.query
        }
      });
    }

    query = this.documentQuery(query, limit);
    return Object.assign({}, query, {
      aggs: this.build(target, null).aggs,
      highlight: {
        fields: {
          '*': {}
        },
        pre_tags: [_query_def__WEBPACK_IMPORTED_MODULE_3__.highlightTags.pre],
        post_tags: [_query_def__WEBPACK_IMPORTED_MODULE_3__.highlightTags.post],
        fragment_size: 2147483647
      }
    });
  }

}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/query_def.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultBucketAgg": () => (/* binding */ defaultBucketAgg),
/* harmony export */   "defaultMetricAgg": () => (/* binding */ defaultMetricAgg),
/* harmony export */   "extendedStats": () => (/* binding */ extendedStats),
/* harmony export */   "findMetricById": () => (/* binding */ findMetricById),
/* harmony export */   "hasMetricOfType": () => (/* binding */ hasMetricOfType),
/* harmony export */   "highlightTags": () => (/* binding */ highlightTags),
/* harmony export */   "isPipelineAgg": () => (/* binding */ isPipelineAgg),
/* harmony export */   "isPipelineAggWithMultipleBucketPaths": () => (/* binding */ isPipelineAggWithMultipleBucketPaths),
/* harmony export */   "movingAvgModelOptions": () => (/* binding */ movingAvgModelOptions)
/* harmony export */ });
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");

const extendedStats = [{
  label: 'Avg',
  value: 'avg'
}, {
  label: 'Min',
  value: 'min'
}, {
  label: 'Max',
  value: 'max'
}, {
  label: 'Sum',
  value: 'sum'
}, {
  label: 'Count',
  value: 'count'
}, {
  label: 'Std Dev',
  value: 'std_deviation'
}, {
  label: 'Std Dev Upper',
  value: 'std_deviation_bounds_upper'
}, {
  label: 'Std Dev Lower',
  value: 'std_deviation_bounds_lower'
}];
const movingAvgModelOptions = [{
  label: 'Simple',
  value: 'simple'
}, {
  label: 'Linear',
  value: 'linear'
}, {
  label: 'Exponentially Weighted',
  value: 'ewma'
}, {
  label: 'Holt Linear',
  value: 'holt'
}, {
  label: 'Holt Winters',
  value: 'holt_winters'
}];
const highlightTags = {
  pre: '@HIGHLIGHT@',
  post: '@/HIGHLIGHT@'
};
function defaultMetricAgg(id = '1') {
  return {
    type: 'count',
    id
  };
}
function defaultBucketAgg(id = '1') {
  return {
    type: 'date_histogram',
    id,
    settings: {
      interval: 'auto'
    }
  };
}
const findMetricById = (metrics, id) => metrics.find(metric => metric.id === id);
function hasMetricOfType(target, type) {
  var _target$metrics;

  return !!(target !== null && target !== void 0 && (_target$metrics = target.metrics) !== null && _target$metrics !== void 0 && _target$metrics.some(m => m.type === type));
} // Even if we have type guards when building a query, we currently have no way of getting this information from the response.
// We should try to find a better (type safe) way of doing the following 2.

function isPipelineAgg(metricType) {
  return metricType in _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_0__.pipelineOptions;
}
function isPipelineAggWithMultipleBucketPaths(metricType) {
  return !!_components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_0__.metricAggregationConfig[metricType].supportsMultipleBucketPaths;
}

/***/ }),

/***/ "./public/app/plugins/datasource/elasticsearch/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "coerceESVersion": () => (/* binding */ coerceESVersion),
/* harmony export */   "convertOrderByToMetricId": () => (/* binding */ convertOrderByToMetricId),
/* harmony export */   "describeMetric": () => (/* binding */ describeMetric),
/* harmony export */   "getScriptValue": () => (/* binding */ getScriptValue),
/* harmony export */   "isSupportedVersion": () => (/* binding */ isSupportedVersion),
/* harmony export */   "removeEmpty": () => (/* binding */ removeEmpty)
/* harmony export */ });
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js");
/* harmony import */ var semver__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(semver__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/aggregations.ts");
/* harmony import */ var _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./public/app/plugins/datasource/elasticsearch/components/QueryEditor/MetricAggregationsEditor/utils.ts");



const describeMetric = metric => {
  if (!(0,_components_QueryEditor_MetricAggregationsEditor_aggregations__WEBPACK_IMPORTED_MODULE_1__.isMetricAggregationWithField)(metric)) {
    return _components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_2__.metricAggregationConfig[metric.type].label;
  } // TODO: field might be undefined


  return `${_components_QueryEditor_MetricAggregationsEditor_utils__WEBPACK_IMPORTED_MODULE_2__.metricAggregationConfig[metric.type].label} ${metric.field}`;
};
/**
 * Utility function to clean up aggregations settings objects.
 * It removes nullish values and empty strings, array and objects
 * recursing over nested objects (not arrays).
 * @param obj
 */

const removeEmpty = obj => Object.entries(obj).reduce((acc, [key, value]) => {
  // Removing nullish values (null & undefined)
  if (value == null) {
    return Object.assign({}, acc);
  } // Removing empty arrays (This won't recurse the array)


  if (Array.isArray(value) && value.length === 0) {
    return Object.assign({}, acc);
  } // Removing empty strings


  if ((value === null || value === void 0 ? void 0 : value.length) === 0) {
    return Object.assign({}, acc);
  } // Recursing over nested objects


  if (!Array.isArray(value) && typeof value === 'object') {
    const cleanObj = removeEmpty(value);

    if (Object.keys(cleanObj).length === 0) {
      return Object.assign({}, acc);
    }

    return Object.assign({}, acc, {
      [key]: cleanObj
    });
  }

  return Object.assign({}, acc, {
    [key]: value
  });
}, {});
/**
 *  This function converts an order by string to the correct metric id For example,
 *  if the user uses the standard deviation extended stat for the order by,
 *  the value would be "1[std_deviation]" and this would return "1"
 */

const convertOrderByToMetricId = orderBy => {
  const metricIdMatches = orderBy.match(/^(\d+)/);
  return metricIdMatches ? metricIdMatches[1] : void 0;
};
/** Gets the actual script value for metrics that support inline scripts.
 *
 *  This is needed because the `script` is a bit polymorphic.
 *  when creating a query with Grafana < 7.4 it was stored as:
 * ```json
 * {
 *    "settings": {
 *      "script": {
 *        "inline": "value"
 *      }
 *    }
 * }
 * ```
 *
 * while from 7.4 it's stored as
 * ```json
 * {
 *    "settings": {
 *      "script": "value"
 *    }
 * }
 * ```
 *
 * This allows us to access both formats and support both queries created before 7.4 and after.
 */

const getScriptValue = metric => {
  var _metric$settings, _metric$settings2, _metric$settings2$scr, _metric$settings3;

  return (typeof ((_metric$settings = metric.settings) === null || _metric$settings === void 0 ? void 0 : _metric$settings.script) === 'object' ? (_metric$settings2 = metric.settings) === null || _metric$settings2 === void 0 ? void 0 : (_metric$settings2$scr = _metric$settings2.script) === null || _metric$settings2$scr === void 0 ? void 0 : _metric$settings2$scr.inline : (_metric$settings3 = metric.settings) === null || _metric$settings3 === void 0 ? void 0 : _metric$settings3.script) || '';
};
/**
 * Coerces the a version string/number to a valid semver string.
 * It takes care of also converting from the legacy format (numeric) to the new one.
 * @param version
 */

const coerceESVersion = version => {
  if (typeof version === 'string') {
    return (0,semver__WEBPACK_IMPORTED_MODULE_0__.valid)(version) || '5.0.0';
  }

  switch (version) {
    case 2:
      return '2.0.0';

    case 56:
      return '5.6.0';

    case 60:
      return '6.0.0';

    case 70:
      return '7.0.0';

    case 5:
    default:
      return '5.0.0';
  }
};
const isSupportedVersion = version => {
  if ((0,semver__WEBPACK_IMPORTED_MODULE_0__.gte)(version, '7.10.0')) {
    return true;
  }

  return false;
};

/***/ }),

/***/ "./.yarn/__virtual__/react-use-virtual-cea8e826dc/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/esm/usePrevious.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ usePrevious)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");

function usePrevious(state) {
    var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
        ref.current = state;
    });
    return ref.current;
}


/***/ }),

/***/ "./.yarn/cache/@grafana-aws-sdk-npm-0.0.36-8ab4b07904-c243f7c900.zip/node_modules/@grafana/aws-sdk/dist/index.development.js":
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

Object.defineProperty(exports, "__esModule", ({ value: true }));

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = __webpack_require__("./.yarn/cache/react-npm-17.0.2-99ba37d931-b254cc17ce.zip/node_modules/react/index.js");
var React__default = _interopDefault(React);
var ui = __webpack_require__("./packages/grafana-ui/src/index.ts");
var data = __webpack_require__("./packages/grafana-data/src/index.ts");
var lodash = __webpack_require__("./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js");

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

var standardRegions = [
    'af-south-1',
    'ap-east-1',
    'ap-northeast-1',
    'ap-northeast-2',
    'ap-northeast-3',
    'ap-south-1',
    'ap-southeast-1',
    'ap-southeast-2',
    'ca-central-1',
    'cn-north-1',
    'cn-northwest-1',
    'eu-central-1',
    'eu-north-1',
    'eu-west-1',
    'eu-west-2',
    'eu-west-3',
    'me-south-1',
    'sa-east-1',
    'us-east-1',
    'us-east-2',
    'us-gov-east-1',
    'us-gov-west-1',
    'us-iso-east-1',
    'us-isob-east-1',
    'us-west-1',
    'us-west-2',
];

(function (AwsAuthType) {
    AwsAuthType["Keys"] = "keys";
    AwsAuthType["Credentials"] = "credentials";
    AwsAuthType["Default"] = "default";
    AwsAuthType["EC2IAMRole"] = "ec2_iam_role";
    /**
     * @deprecated use default
     */
    AwsAuthType["ARN"] = "arn";
})(exports.AwsAuthType || (exports.AwsAuthType = {}));

var awsAuthProviderOptions = [
    {
        label: 'Workspace IAM Role',
        value: exports.AwsAuthType.EC2IAMRole,
    },
    {
        label: 'AWS SDK Default',
        value: exports.AwsAuthType.Default,
    },
    {
        label: 'Access & secret key',
        value: exports.AwsAuthType.Keys,
    },
    {
        label: 'Credentials file',
        value: exports.AwsAuthType.Credentials,
    },
];

var toOption = function (value) { return ({ value: value, label: value }); };
var ConnectionConfig = function (props) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j;
    var _k = __read(React.useState((props.standardRegions || standardRegions).map(toOption)), 2), regions = _k[0], setRegions = _k[1];
    var loadRegions = props.loadRegions, onOptionsChange = props.onOptionsChange, _l = props.skipHeader, skipHeader = _l === void 0 ? false : _l, _m = props.skipEndpoint, skipEndpoint = _m === void 0 ? false : _m;
    var options = props.options;
    var profile = options.jsonData.profile;
    if (profile === undefined) {
        profile = options.database;
    }
    var settings = window.grafanaBootData.settings;
    var awsAllowedAuthProviders = (_a = settings.awsAllowedAuthProviders) !== null && _a !== void 0 ? _a : [
        exports.AwsAuthType.Default,
        exports.AwsAuthType.Keys,
        exports.AwsAuthType.Credentials,
    ];
    var awsAssumeRoleEnabled = (_b = settings.awsAssumeRoleEnabled) !== null && _b !== void 0 ? _b : true;
    var currentProvider = awsAuthProviderOptions.find(function (p) { return p.value === options.jsonData.authType; });
    React.useEffect(function () {
        // Make sure a authType exists in the current model
        if (!currentProvider && awsAllowedAuthProviders.length) {
            onOptionsChange(__assign(__assign({}, options), { jsonData: __assign(__assign({}, options.jsonData), { authType: awsAllowedAuthProviders[0] }) }));
        }
    }, [currentProvider, options, onOptionsChange]);
    React.useEffect(function () {
        if (!loadRegions) {
            return;
        }
        loadRegions().then(function (regions) { return setRegions(regions.map(toOption)); });
    }, [loadRegions]);
    return (React__default.createElement(ui.FieldSet, { label: skipHeader ? '' : 'Connection Details', "data-testid": "connection-config" },
        React__default.createElement(ui.InlineField, { label: "Authentication Provider", labelWidth: 28, tooltip: "Specify which AWS credentials chain to use." },
            React__default.createElement(ui.Select, { "aria-label": "Authentication Provider", className: "width-30", value: currentProvider, options: awsAuthProviderOptions.filter(function (opt) { return awsAllowedAuthProviders.includes(opt.value); }), defaultValue: options.jsonData.authType, onChange: function (option) {
                    data.onUpdateDatasourceJsonDataOptionSelect(props, 'authType')(option);
                }, menuShouldPortal: true })),
        options.jsonData.authType === 'credentials' && (React__default.createElement(ui.InlineField, { label: "Credentials Profile Name", labelWidth: 28, tooltip: "Credentials profile name, as specified in ~/.aws/credentials, leave blank for default." },
            React__default.createElement(ui.Input, { "aria-label": "Credentials Profile Name", className: "width-30", placeholder: "default", value: profile, onChange: data.onUpdateDatasourceJsonDataOption(props, 'profile') }))),
        options.jsonData.authType === 'keys' && (React__default.createElement(React__default.Fragment, null,
            React__default.createElement(ui.InlineField, { label: "Access Key ID", labelWidth: 28 }, ((_c = props.options.secureJsonFields) === null || _c === void 0 ? void 0 : _c.accessKey) ? (React__default.createElement(ui.ButtonGroup, { className: "width-30" },
                React__default.createElement(ui.Input, { disabled: true, placeholder: "Configured" }),
                React__default.createElement(ui.ToolbarButton, { icon: "edit", tooltip: "Edit Access Key ID", type: "button", onClick: data.onUpdateDatasourceResetOption(props, 'accessKey') }))) : (React__default.createElement(ui.Input, { "aria-label": "Access Key ID", className: "width-30", value: (_e = (_d = options.secureJsonData) === null || _d === void 0 ? void 0 : _d.accessKey) !== null && _e !== void 0 ? _e : '', onChange: data.onUpdateDatasourceSecureJsonDataOption(props, 'accessKey') }))),
            React__default.createElement(ui.InlineField, { label: "Secret Access Key", labelWidth: 28 }, ((_f = props.options.secureJsonFields) === null || _f === void 0 ? void 0 : _f.secretKey) ? (React__default.createElement(ui.ButtonGroup, { className: "width-30" },
                React__default.createElement(ui.Input, { disabled: true, placeholder: "Configured" }),
                React__default.createElement(ui.ToolbarButton, { icon: "edit", type: "button", tooltip: "Edit Secret Access Key", onClick: data.onUpdateDatasourceResetOption(props, 'secretKey') }))) : (React__default.createElement(ui.Input, { "aria-label": "Secret Access Key", className: "width-30", value: (_h = (_g = options.secureJsonData) === null || _g === void 0 ? void 0 : _g.secretKey) !== null && _h !== void 0 ? _h : '', onChange: data.onUpdateDatasourceSecureJsonDataOption(props, 'secretKey') }))))),
        awsAssumeRoleEnabled && (React__default.createElement(React__default.Fragment, null,
            React__default.createElement(ui.InlineField, { label: "Assume Role ARN", labelWidth: 28, tooltip: "Optionally, specify the ARN of a role to assume. Specifying a role here will ensure that the selected authentication provider is used to assume the specified role rather than using the credentials directly. Leave blank if you don't need to assume a role at all" },
                React__default.createElement(ui.Input, { "aria-label": "Assume Role ARN", className: "width-30", placeholder: "arn:aws:iam:*", value: options.jsonData.assumeRoleArn || '', onChange: data.onUpdateDatasourceJsonDataOption(props, 'assumeRoleArn') })),
            React__default.createElement(ui.InlineField, { label: "External ID", labelWidth: 28, tooltip: "If you are assuming a role in another account, that has been created with an external ID, specify the external ID here." },
                React__default.createElement(ui.Input, { "aria-label": "External ID", className: "width-30", placeholder: "External ID", value: options.jsonData.externalId || '', onChange: data.onUpdateDatasourceJsonDataOption(props, 'externalId') })))),
        !skipEndpoint && (React__default.createElement(ui.InlineField, { label: "Endpoint", labelWidth: 28, tooltip: "Optionally, specify a custom endpoint for the service" },
            React__default.createElement(ui.Input, { "aria-label": "Endpoint", className: "width-30", placeholder: (_j = props.defaultEndpoint) !== null && _j !== void 0 ? _j : 'https://{service}.{region}.amazonaws.com', value: options.jsonData.endpoint || '', onChange: data.onUpdateDatasourceJsonDataOption(props, 'endpoint') }))),
        React__default.createElement(ui.InlineField, { label: "Default Region", labelWidth: 28, tooltip: "Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region." },
            React__default.createElement(ui.Select, { "aria-label": "Default Region", className: "width-30", value: regions.find(function (region) { return region.value === options.jsonData.defaultRegion; }), options: regions, defaultValue: options.jsonData.defaultRegion, allowCustomValue: true, onChange: data.onUpdateDatasourceJsonDataOptionSelect(props, 'defaultRegion'), formatCreateLabel: function (r) { return "Use region: " + r; }, menuShouldPortal: true })),
        props.children));
};

var SIGV4ConnectionConfig = function (props) {
    var _a, _b, _c, _d;
    var onOptionsChange = props.onOptionsChange, options = props.options;
    // Map HttpSettings props to ConnectionConfigProps
    var connectionConfigProps = {
        onOptionsChange: function (awsDataSourceSettings) {
            var _a, _b, _c, _d;
            var dataSourceSettings = __assign(__assign({}, options), { jsonData: __assign(__assign({}, options.jsonData), { sigV4AuthType: awsDataSourceSettings.jsonData.authType, sigV4Profile: awsDataSourceSettings.jsonData.profile, sigV4AssumeRoleArn: awsDataSourceSettings.jsonData.assumeRoleArn, sigV4ExternalId: awsDataSourceSettings.jsonData.externalId, sigV4Region: awsDataSourceSettings.jsonData.defaultRegion, sigV4Endpoint: awsDataSourceSettings.jsonData.endpoint }), secureJsonFields: {
                    sigV4AccessKey: (_a = awsDataSourceSettings.secureJsonFields) === null || _a === void 0 ? void 0 : _a.accessKey,
                    sigV4SecretKey: (_b = awsDataSourceSettings.secureJsonFields) === null || _b === void 0 ? void 0 : _b.secretKey,
                }, secureJsonData: {
                    sigV4AccessKey: (_c = awsDataSourceSettings.secureJsonData) === null || _c === void 0 ? void 0 : _c.accessKey,
                    sigV4SecretKey: (_d = awsDataSourceSettings.secureJsonData) === null || _d === void 0 ? void 0 : _d.secretKey,
                } });
            onOptionsChange(dataSourceSettings);
        },
        options: __assign(__assign({}, options), { jsonData: __assign(__assign({}, options.jsonData), { authType: options.jsonData.sigV4AuthType, profile: options.jsonData.sigV4Profile, assumeRoleArn: options.jsonData.sigV4AssumeRoleArn, externalId: options.jsonData.sigV4ExternalId, defaultRegion: options.jsonData.sigV4Region, endpoint: options.jsonData.sigV4Endpoint }), secureJsonFields: {
                accessKey: (_a = options.secureJsonFields) === null || _a === void 0 ? void 0 : _a.sigV4AccessKey,
                secretKey: (_b = options.secureJsonFields) === null || _b === void 0 ? void 0 : _b.sigV4SecretKey,
            }, secureJsonData: {
                accessKey: (_c = options.secureJsonData) === null || _c === void 0 ? void 0 : _c.sigV4AccessKey,
                secretKey: (_d = options.secureJsonData) === null || _d === void 0 ? void 0 : _d.sigV4SecretKey,
            } }),
    };
    return (React__default.createElement(React__default.Fragment, null,
        React__default.createElement("div", { className: "gf-form" },
            React__default.createElement("h6", null, "SigV4 Auth Details")),
        React__default.createElement(ConnectionConfig, __assign({}, connectionConfigProps, { skipHeader: true, skipEndpoint: true }))));
};

var defaultKey = '__default';

function ResourceSelector(props) {
    var _this = this;
    var _a = __read(React.useState(props.value || props.default || null), 2), resource = _a[0], setResource = _a[1];
    var _b = __read(React.useState(resource ? [resource] : []), 2), resources = _b[0], setResources = _b[1];
    var _c = __read(React.useState(props.dependencies), 2), dependencies = _c[0], setDependencies = _c[1];
    var _d = __read(React.useState(false), 2), isLoading = _d[0], setIsLoading = _d[1];
    var _e = __read(React.useState(false), 2), fetched = _e[0], setFetched = _e[1];
    var defaultOpts = React.useMemo(function () {
        var opts = [
            {
                label: "default (" + props.default + ")",
                value: defaultKey,
                description: "Default value set in the data source",
            },
        ];
        if (props.value && props.value !== defaultKey) {
            opts.push({ label: props.value, value: props.value });
        }
        return opts;
    }, [props.default, props.value]);
    var _f = __read(React.useState(props.default ? defaultOpts : []), 2), options = _f[0], setOptions = _f[1];
    React.useEffect(function () {
        if (props.resources !== undefined) {
            setResources(props.resources);
        }
    }, [props.resources]);
    React.useEffect(function () {
        var newOptions = props.default ? defaultOpts : [];
        if (resources.length) {
            resources.forEach(function (r) {
                var value = typeof r === 'string' ? r : r.value;
                if (!newOptions.find(function (o) { return o.value === value; })) {
                    typeof r === 'string' ? newOptions.push({ label: r, value: r }) : newOptions.push(r);
                }
            });
            setOptions(newOptions);
        }
        else {
            setOptions([]);
        }
    }, [resources, defaultOpts, props.default]);
    React.useEffect(function () {
        // A change in the dependencies cause a state clean-up
        if (!lodash.isEqual(props.dependencies, dependencies)) {
            setFetched(false);
            setResource(null);
            props.onChange(null);
            setDependencies(props.dependencies);
        }
    }, [props, dependencies]);
    var fetch = function () { return __awaiter(_this, void 0, void 0, function () {
        var resources_1;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (fetched) {
                        return [2 /*return*/];
                    }
                    if (!props.saveOptions) return [3 /*break*/, 2];
                    return [4 /*yield*/, props.saveOptions()];
                case 1:
                    _a.sent();
                    _a.label = 2;
                case 2:
                    _a.trys.push([2, , 4, 5]);
                    return [4 /*yield*/, props.fetch()];
                case 3:
                    resources_1 = _a.sent();
                    setResources(resources_1);
                    return [3 /*break*/, 5];
                case 4:
                    setFetched(true);
                    return [7 /*endfinally*/];
                case 5: return [2 /*return*/];
            }
        });
    }); };
    var onChange = function (e) {
        props.onChange(e);
        if (e.value) {
            setResource(e.value);
        }
    };
    var onClick = function () { return __awaiter(_this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    setIsLoading(true);
                    _a.label = 1;
                case 1:
                    _a.trys.push([1, , 3, 4]);
                    return [4 /*yield*/, fetch()];
                case 2:
                    _a.sent();
                    return [3 /*break*/, 4];
                case 3:
                    setIsLoading(false);
                    return [7 /*endfinally*/];
                case 4: return [2 /*return*/];
            }
        });
    }); };
    return (React__default.createElement(ui.InlineField, { label: props.label, labelWidth: props.labelWidth, tooltip: props.tooltip, hidden: props.hidden },
        React__default.createElement("div", { "data-testid": props['data-testid'], title: props.title },
            React__default.createElement(ui.Select, __assign({}, props, { "aria-label": props.label, options: options, onChange: onChange, isLoading: isLoading, className: props.className || 'min-width-6', onOpenMenu: function () { return props.fetch && onClick(); }, menuShouldPortal: true })))));
}

function ConfigSelect(props) {
    var jsonData = props.options.jsonData;
    var commonProps = {
        title: jsonData.defaultRegion ? '' : 'select a default region',
        labelWidth: 28,
        className: 'width-30',
    };
    // Any change in the AWS connection details will affect selectors
    var dependencies = [
        props.options.jsonData.assumeRoleArn,
        props.options.jsonData.authType,
        props.options.jsonData.defaultRegion,
        props.options.jsonData.endpoint,
        props.options.jsonData.externalId,
        props.options.jsonData.profile,
    ].concat(props.dependencies);
    return (React__default.createElement(ResourceSelector, __assign({ label: props.label, "data-testid": props['data-testid'], onChange: props.onChange, fetch: props.fetch, value: props.value, saveOptions: props.saveOptions, dependencies: dependencies, hidden: props.hidden, disabled: props.disabled || !jsonData.defaultRegion, allowCustomValue: props.allowCustomValue, autoFocus: props.autoFocus, backspaceRemovesValue: props.backspaceRemovesValue, className: props.className, invalid: props.invalid, isClearable: props.isClearable, isMulti: props.isMulti, inputId: props.inputId, showAllSelectedWhenOpen: props.showAllSelectedWhenOpen, maxMenuHeight: props.maxMenuHeight, minMenuHeight: props.minMenuHeight, maxVisibleValues: props.maxVisibleValues, menuPlacement: props.menuPlacement, menuPosition: props.menuPosition, noOptionsMessage: props.noOptionsMessage, onBlur: props.onBlur, onCreateOption: props.onCreateOption, onInputChange: props.onInputChange, placeholder: props.placeholder, width: props.width, isOptionDisabled: props.isOptionDisabled }, commonProps)));
}

function InlineInput(props) {
    return (React__default.createElement(ui.InlineField, { label: props.label, labelWidth: 28, tooltip: props.tooltip, hidden: props.hidden, disabled: props.disabled },
        React__default.createElement(ui.Input, { "data-testid": props['data-testid'], className: "width-30", value: props.value, onChange: props.onChange, placeholder: props.placeholder, disabled: props.disabled })));
}

function QueryCodeEditor(props) {
    var getSuggestions = props.getSuggestions, query = props.query;
    var rawSQL = lodash.defaults(props.query, { rawSQL: '' }).rawSQL;
    var onRawSqlChange = function (rawSQL) {
        var query = __assign(__assign({}, props.query), { rawSQL: rawSQL });
        props.onChange(query);
        props.onRunQuery();
    };
    // Use a reference for suggestions because a bug in CodeEditor getSuggestions
    // https://github.com/grafana/grafana/issues/40121
    // It was been fixed in 8.3 but keeping the workaround here to support older
    // versions.
    var suggestionsRef = React.useRef([]);
    React.useEffect(function () {
        suggestionsRef.current = getSuggestions(query);
    }, [getSuggestions, query]);
    return (React__default.createElement(ui.CodeEditor, __assign({ language: props.language, value: rawSQL, onBlur: onRawSqlChange, showMiniMap: false, showLineNumbers: true, getSuggestions: function () { return suggestionsRef.current; }, height: "240px" }, props.editorProps)));
}

function FormatSelect(props) {
    var onChangeFormat = function (e) {
        props.onChange(__assign(__assign({}, props.query), { format: e.value || 0 }));
        props.onRunQuery();
    };
    return (React__default.createElement(ui.InlineField, { label: "Format as", labelWidth: 11 },
        React__default.createElement(ui.Select, { "aria-label": "Format as", options: props.options, value: props.query.format, onChange: onChangeFormat, className: "width-12", menuShouldPortal: true })));
}

(function (FillValueOptions) {
    FillValueOptions[FillValueOptions["Previous"] = 0] = "Previous";
    FillValueOptions[FillValueOptions["Null"] = 1] = "Null";
    FillValueOptions[FillValueOptions["Value"] = 2] = "Value";
})(exports.FillValueOptions || (exports.FillValueOptions = {}));
var SelectableFillValueOptions = [
    {
        label: 'Previous Value',
        value: exports.FillValueOptions.Previous,
    },
    {
        label: 'NULL',
        value: exports.FillValueOptions.Null,
    },
    {
        label: 'Value',
        value: exports.FillValueOptions.Value,
    },
];
function FillValueSelect(props) {
    var _a, _b, _c;
    return (React__default.createElement(React__default.Fragment, null,
        React__default.createElement(ui.InlineField, { label: "Fill value", tooltip: "value to fill missing points" },
            React__default.createElement(ui.Select, { "aria-label": "Fill value", options: SelectableFillValueOptions, value: (_b = (_a = props.query.fillMode) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : exports.FillValueOptions.Previous, onChange: function (_a) {
                    var value = _a.value;
                    props.onChange(__assign(__assign({}, props.query), { 
                        // Keep the fillMode.value in case FillValueOptions.Value mode is selected back
                        fillMode: __assign(__assign({}, props.query.fillMode), { mode: value }) }));
                    props.onRunQuery();
                }, className: "width-12", menuShouldPortal: true })),
        ((_c = props.query.fillMode) === null || _c === void 0 ? void 0 : _c.mode) === exports.FillValueOptions.Value && (React__default.createElement(ui.InlineField, { label: "Value", labelWidth: 11 },
            React__default.createElement(ui.Input, { type: "number", "aria-label": "Value", value: props.query.fillMode.value, onChange: function (_a) {
                    var currentTarget = _a.currentTarget;
                    return props.onChange(__assign(__assign({}, props.query), { fillMode: {
                            mode: exports.FillValueOptions.Value,
                            value: currentTarget.valueAsNumber,
                        } }));
                }, onBlur: function () { return props.onRunQuery(); } })))));
}

/**
 * Do not execute queries that do not exist yet
 */
function filterSQLQuery(query) {
    return !!query.rawSQL;
}
function applySQLTemplateVariables(query, scopedVars, getTemplateSrv) {
    var templateSrv = getTemplateSrv();
    return __assign(__assign({}, query), { rawSQL: templateSrv.replace(query.rawSQL, scopedVars, interpolateVariable) });
}
function interpolateVariable(value) {
    if (typeof value === 'string') {
        return value;
    }
    var quotedValues = value.map(function (v) {
        return quoteLiteral(v);
    });
    return quotedValues.join(',');
}
function quoteLiteral(value) {
    return "'" + String(value).replace(/'/g, "''") + "'";
}
var appendTemplateVariablesAsSuggestions = function (getTemplateSrv, sugs) {
    var templateSrv = getTemplateSrv();
    var templateSugs = [];
    templateSrv.getVariables().forEach(function (variable) {
        var label = '$' + variable.name;
        var val = templateSrv.replace(label);
        if (val === label) {
            val = '';
        }
        templateSugs.push({
            label: label,
            kind: ui.CodeEditorSuggestionItemKind.Text,
            detail: "(Template Variable) " + val,
        });
    });
    return sugs.concat(templateSugs);
};

exports.ConfigSelect = ConfigSelect;
exports.ConnectionConfig = ConnectionConfig;
exports.FillValueSelect = FillValueSelect;
exports.FormatSelect = FormatSelect;
exports.InlineInput = InlineInput;
exports.QueryCodeEditor = QueryCodeEditor;
exports.ResourceSelector = ResourceSelector;
exports.SIGV4ConnectionConfig = SIGV4ConnectionConfig;
exports.appendTemplateVariablesAsSuggestions = appendTemplateVariablesAsSuggestions;
exports.applySQLTemplateVariables = applySQLTemplateVariables;
exports.awsAuthProviderOptions = awsAuthProviderOptions;
exports.filterSQLQuery = filterSQLQuery;
exports.standardRegions = standardRegions;
//# sourceMappingURL=index.development.js.map


/***/ }),

/***/ "./.yarn/cache/@grafana-aws-sdk-npm-0.0.36-8ab4b07904-c243f7c900.zip/node_modules/@grafana/aws-sdk/index.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__("./.yarn/cache/@grafana-aws-sdk-npm-0.0.36-8ab4b07904-c243f7c900.zip/node_modules/@grafana/aws-sdk/dist/index.development.js");
}


/***/ }),

/***/ "./.yarn/cache/lru-cache-npm-6.0.0-b4c8668fe1-f97f499f89.zip/node_modules/lru-cache/index.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


// A linked list to keep track of recently-used-ness
const Yallist = __webpack_require__("./.yarn/cache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/yallist.js")

const MAX = Symbol('max')
const LENGTH = Symbol('length')
const LENGTH_CALCULATOR = Symbol('lengthCalculator')
const ALLOW_STALE = Symbol('allowStale')
const MAX_AGE = Symbol('maxAge')
const DISPOSE = Symbol('dispose')
const NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')
const LRU_LIST = Symbol('lruList')
const CACHE = Symbol('cache')
const UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')

const naiveLength = () => 1

// lruList is a yallist where the head is the youngest
// item, and the tail is the oldest.  the list contains the Hit
// objects as the entries.
// Each Hit object has a reference to its Yallist.Node.  This
// never changes.
//
// cache is a Map (or PseudoMap) that matches the keys to
// the Yallist.Node object.
class LRUCache {
  constructor (options) {
    if (typeof options === 'number')
      options = { max: options }

    if (!options)
      options = {}

    if (options.max && (typeof options.max !== 'number' || options.max < 0))
      throw new TypeError('max must be a non-negative number')
    // Kind of weird to have a default max of Infinity, but oh well.
    const max = this[MAX] = options.max || Infinity

    const lc = options.length || naiveLength
    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc
    this[ALLOW_STALE] = options.stale || false
    if (options.maxAge && typeof options.maxAge !== 'number')
      throw new TypeError('maxAge must be a number')
    this[MAX_AGE] = options.maxAge || 0
    this[DISPOSE] = options.dispose
    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false
    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false
    this.reset()
  }

  // resize the cache when the max changes.
  set max (mL) {
    if (typeof mL !== 'number' || mL < 0)
      throw new TypeError('max must be a non-negative number')

    this[MAX] = mL || Infinity
    trim(this)
  }
  get max () {
    return this[MAX]
  }

  set allowStale (allowStale) {
    this[ALLOW_STALE] = !!allowStale
  }
  get allowStale () {
    return this[ALLOW_STALE]
  }

  set maxAge (mA) {
    if (typeof mA !== 'number')
      throw new TypeError('maxAge must be a non-negative number')

    this[MAX_AGE] = mA
    trim(this)
  }
  get maxAge () {
    return this[MAX_AGE]
  }

  // resize the cache when the lengthCalculator changes.
  set lengthCalculator (lC) {
    if (typeof lC !== 'function')
      lC = naiveLength

    if (lC !== this[LENGTH_CALCULATOR]) {
      this[LENGTH_CALCULATOR] = lC
      this[LENGTH] = 0
      this[LRU_LIST].forEach(hit => {
        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)
        this[LENGTH] += hit.length
      })
    }
    trim(this)
  }
  get lengthCalculator () { return this[LENGTH_CALCULATOR] }

  get length () { return this[LENGTH] }
  get itemCount () { return this[LRU_LIST].length }

  rforEach (fn, thisp) {
    thisp = thisp || this
    for (let walker = this[LRU_LIST].tail; walker !== null;) {
      const prev = walker.prev
      forEachStep(this, fn, walker, thisp)
      walker = prev
    }
  }

  forEach (fn, thisp) {
    thisp = thisp || this
    for (let walker = this[LRU_LIST].head; walker !== null;) {
      const next = walker.next
      forEachStep(this, fn, walker, thisp)
      walker = next
    }
  }

  keys () {
    return this[LRU_LIST].toArray().map(k => k.key)
  }

  values () {
    return this[LRU_LIST].toArray().map(k => k.value)
  }

  reset () {
    if (this[DISPOSE] &&
        this[LRU_LIST] &&
        this[LRU_LIST].length) {
      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))
    }

    this[CACHE] = new Map() // hash of items by key
    this[LRU_LIST] = new Yallist() // list of items in order of use recency
    this[LENGTH] = 0 // length of items in the list
  }

  dump () {
    return this[LRU_LIST].map(hit =>
      isStale(this, hit) ? false : {
        k: hit.key,
        v: hit.value,
        e: hit.now + (hit.maxAge || 0)
      }).toArray().filter(h => h)
  }

  dumpLru () {
    return this[LRU_LIST]
  }

  set (key, value, maxAge) {
    maxAge = maxAge || this[MAX_AGE]

    if (maxAge && typeof maxAge !== 'number')
      throw new TypeError('maxAge must be a number')

    const now = maxAge ? Date.now() : 0
    const len = this[LENGTH_CALCULATOR](value, key)

    if (this[CACHE].has(key)) {
      if (len > this[MAX]) {
        del(this, this[CACHE].get(key))
        return false
      }

      const node = this[CACHE].get(key)
      const item = node.value

      // dispose of the old one before overwriting
      // split out into 2 ifs for better coverage tracking
      if (this[DISPOSE]) {
        if (!this[NO_DISPOSE_ON_SET])
          this[DISPOSE](key, item.value)
      }

      item.now = now
      item.maxAge = maxAge
      item.value = value
      this[LENGTH] += len - item.length
      item.length = len
      this.get(key)
      trim(this)
      return true
    }

    const hit = new Entry(key, value, len, now, maxAge)

    // oversized objects fall out of cache automatically.
    if (hit.length > this[MAX]) {
      if (this[DISPOSE])
        this[DISPOSE](key, value)

      return false
    }

    this[LENGTH] += hit.length
    this[LRU_LIST].unshift(hit)
    this[CACHE].set(key, this[LRU_LIST].head)
    trim(this)
    return true
  }

  has (key) {
    if (!this[CACHE].has(key)) return false
    const hit = this[CACHE].get(key).value
    return !isStale(this, hit)
  }

  get (key) {
    return get(this, key, true)
  }

  peek (key) {
    return get(this, key, false)
  }

  pop () {
    const node = this[LRU_LIST].tail
    if (!node)
      return null

    del(this, node)
    return node.value
  }

  del (key) {
    del(this, this[CACHE].get(key))
  }

  load (arr) {
    // reset the cache
    this.reset()

    const now = Date.now()
    // A previous serialized cache has the most recent items first
    for (let l = arr.length - 1; l >= 0; l--) {
      const hit = arr[l]
      const expiresAt = hit.e || 0
      if (expiresAt === 0)
        // the item was created without expiration in a non aged cache
        this.set(hit.k, hit.v)
      else {
        const maxAge = expiresAt - now
        // dont add already expired items
        if (maxAge > 0) {
          this.set(hit.k, hit.v, maxAge)
        }
      }
    }
  }

  prune () {
    this[CACHE].forEach((value, key) => get(this, key, false))
  }
}

const get = (self, key, doUse) => {
  const node = self[CACHE].get(key)
  if (node) {
    const hit = node.value
    if (isStale(self, hit)) {
      del(self, node)
      if (!self[ALLOW_STALE])
        return undefined
    } else {
      if (doUse) {
        if (self[UPDATE_AGE_ON_GET])
          node.value.now = Date.now()
        self[LRU_LIST].unshiftNode(node)
      }
    }
    return hit.value
  }
}

const isStale = (self, hit) => {
  if (!hit || (!hit.maxAge && !self[MAX_AGE]))
    return false

  const diff = Date.now() - hit.now
  return hit.maxAge ? diff > hit.maxAge
    : self[MAX_AGE] && (diff > self[MAX_AGE])
}

const trim = self => {
  if (self[LENGTH] > self[MAX]) {
    for (let walker = self[LRU_LIST].tail;
      self[LENGTH] > self[MAX] && walker !== null;) {
      // We know that we're about to delete this one, and also
      // what the next least recently used key will be, so just
      // go ahead and set it now.
      const prev = walker.prev
      del(self, walker)
      walker = prev
    }
  }
}

const del = (self, node) => {
  if (node) {
    const hit = node.value
    if (self[DISPOSE])
      self[DISPOSE](hit.key, hit.value)

    self[LENGTH] -= hit.length
    self[CACHE].delete(hit.key)
    self[LRU_LIST].removeNode(node)
  }
}

class Entry {
  constructor (key, value, length, now, maxAge) {
    this.key = key
    this.value = value
    this.length = length
    this.now = now
    this.maxAge = maxAge || 0
  }
}

const forEachStep = (self, fn, node, thisp) => {
  let hit = node.value
  if (isStale(self, hit)) {
    del(self, node)
    if (!self[ALLOW_STALE])
      hit = undefined
  }
  if (hit)
    fn.call(thisp, hit.value, hit.key, self)
}

module.exports = LRUCache


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/comparator.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const ANY = Symbol('SemVer ANY')
// hoisted class for cyclic dependency
class Comparator {
  static get ANY () {
    return ANY
  }

  constructor (comp, options) {
    options = parseOptions(options)

    if (comp instanceof Comparator) {
      if (comp.loose === !!options.loose) {
        return comp
      } else {
        comp = comp.value
      }
    }

    debug('comparator', comp, options)
    this.options = options
    this.loose = !!options.loose
    this.parse(comp)

    if (this.semver === ANY) {
      this.value = ''
    } else {
      this.value = this.operator + this.semver.version
    }

    debug('comp', this)
  }

  parse (comp) {
    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]
    const m = comp.match(r)

    if (!m) {
      throw new TypeError(`Invalid comparator: ${comp}`)
    }

    this.operator = m[1] !== undefined ? m[1] : ''
    if (this.operator === '=') {
      this.operator = ''
    }

    // if it literally is just '>' or '' then allow anything.
    if (!m[2]) {
      this.semver = ANY
    } else {
      this.semver = new SemVer(m[2], this.options.loose)
    }
  }

  toString () {
    return this.value
  }

  test (version) {
    debug('Comparator.test', version, this.options.loose)

    if (this.semver === ANY || version === ANY) {
      return true
    }

    if (typeof version === 'string') {
      try {
        version = new SemVer(version, this.options)
      } catch (er) {
        return false
      }
    }

    return cmp(version, this.operator, this.semver, this.options)
  }

  intersects (comp, options) {
    if (!(comp instanceof Comparator)) {
      throw new TypeError('a Comparator is required')
    }

    if (!options || typeof options !== 'object') {
      options = {
        loose: !!options,
        includePrerelease: false,
      }
    }

    if (this.operator === '') {
      if (this.value === '') {
        return true
      }
      return new Range(comp.value, options).test(this.value)
    } else if (comp.operator === '') {
      if (comp.value === '') {
        return true
      }
      return new Range(this.value, options).test(comp.semver)
    }

    const sameDirectionIncreasing =
      (this.operator === '>=' || this.operator === '>') &&
      (comp.operator === '>=' || comp.operator === '>')
    const sameDirectionDecreasing =
      (this.operator === '<=' || this.operator === '<') &&
      (comp.operator === '<=' || comp.operator === '<')
    const sameSemVer = this.semver.version === comp.semver.version
    const differentDirectionsInclusive =
      (this.operator === '>=' || this.operator === '<=') &&
      (comp.operator === '>=' || comp.operator === '<=')
    const oppositeDirectionsLessThan =
      cmp(this.semver, '<', comp.semver, options) &&
      (this.operator === '>=' || this.operator === '>') &&
        (comp.operator === '<=' || comp.operator === '<')
    const oppositeDirectionsGreaterThan =
      cmp(this.semver, '>', comp.semver, options) &&
      (this.operator === '<=' || this.operator === '<') &&
        (comp.operator === '>=' || comp.operator === '>')

    return (
      sameDirectionIncreasing ||
      sameDirectionDecreasing ||
      (sameSemVer && differentDirectionsInclusive) ||
      oppositeDirectionsLessThan ||
      oppositeDirectionsGreaterThan
    )
  }
}

module.exports = Comparator

const parseOptions = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/parse-options.js")
const { re, t } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")
const cmp = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/cmp.js")
const debug = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/debug.js")
const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// hoisted class for cyclic dependency
class Range {
  constructor (range, options) {
    options = parseOptions(options)

    if (range instanceof Range) {
      if (
        range.loose === !!options.loose &&
        range.includePrerelease === !!options.includePrerelease
      ) {
        return range
      } else {
        return new Range(range.raw, options)
      }
    }

    if (range instanceof Comparator) {
      // just put it in the set and return
      this.raw = range.value
      this.set = [[range]]
      this.format()
      return this
    }

    this.options = options
    this.loose = !!options.loose
    this.includePrerelease = !!options.includePrerelease

    // First, split based on boolean or ||
    this.raw = range
    this.set = range
      .split('||')
      // map the range to a 2d array of comparators
      .map(r => this.parseRange(r.trim()))
      // throw out any comparator lists that are empty
      // this generally means that it was not a valid range, which is allowed
      // in loose mode, but will still throw if the WHOLE range is invalid.
      .filter(c => c.length)

    if (!this.set.length) {
      throw new TypeError(`Invalid SemVer Range: ${range}`)
    }

    // if we have any that are not the null set, throw out null sets.
    if (this.set.length > 1) {
      // keep the first one, in case they're all null sets
      const first = this.set[0]
      this.set = this.set.filter(c => !isNullSet(c[0]))
      if (this.set.length === 0) {
        this.set = [first]
      } else if (this.set.length > 1) {
        // if we have any that are *, then the range is just *
        for (const c of this.set) {
          if (c.length === 1 && isAny(c[0])) {
            this.set = [c]
            break
          }
        }
      }
    }

    this.format()
  }

  format () {
    this.range = this.set
      .map((comps) => {
        return comps.join(' ').trim()
      })
      .join('||')
      .trim()
    return this.range
  }

  toString () {
    return this.range
  }

  parseRange (range) {
    range = range.trim()

    // memoize range parsing for performance.
    // this is a very hot path, and fully deterministic.
    const memoOpts = Object.keys(this.options).join(',')
    const memoKey = `parseRange:${memoOpts}:${range}`
    const cached = cache.get(memoKey)
    if (cached) {
      return cached
    }

    const loose = this.options.loose
    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`
    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]
    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))
    debug('hyphen replace', range)
    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`
    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)
    debug('comparator trim', range)

    // `~ 1.2.3` => `~1.2.3`
    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)

    // `^ 1.2.3` => `^1.2.3`
    range = range.replace(re[t.CARETTRIM], caretTrimReplace)

    // normalize spaces
    range = range.split(/\s+/).join(' ')

    // At this point, the range is completely trimmed and
    // ready to be split into comparators.

    let rangeList = range
      .split(' ')
      .map(comp => parseComparator(comp, this.options))
      .join(' ')
      .split(/\s+/)
      // >=0.0.0 is equivalent to *
      .map(comp => replaceGTE0(comp, this.options))

    if (loose) {
      // in loose mode, throw out any that are not valid comparators
      rangeList = rangeList.filter(comp => {
        debug('loose invalid filter', comp, this.options)
        return !!comp.match(re[t.COMPARATORLOOSE])
      })
    }
    debug('range list', rangeList)

    // if any comparators are the null set, then replace with JUST null set
    // if more than one comparator, remove any * comparators
    // also, don't include the same comparator more than once
    const rangeMap = new Map()
    const comparators = rangeList.map(comp => new Comparator(comp, this.options))
    for (const comp of comparators) {
      if (isNullSet(comp)) {
        return [comp]
      }
      rangeMap.set(comp.value, comp)
    }
    if (rangeMap.size > 1 && rangeMap.has('')) {
      rangeMap.delete('')
    }

    const result = [...rangeMap.values()]
    cache.set(memoKey, result)
    return result
  }

  intersects (range, options) {
    if (!(range instanceof Range)) {
      throw new TypeError('a Range is required')
    }

    return this.set.some((thisComparators) => {
      return (
        isSatisfiable(thisComparators, options) &&
        range.set.some((rangeComparators) => {
          return (
            isSatisfiable(rangeComparators, options) &&
            thisComparators.every((thisComparator) => {
              return rangeComparators.every((rangeComparator) => {
                return thisComparator.intersects(rangeComparator, options)
              })
            })
          )
        })
      )
    })
  }

  // if ANY of the sets match ALL of its comparators, then pass
  test (version) {
    if (!version) {
      return false
    }

    if (typeof version === 'string') {
      try {
        version = new SemVer(version, this.options)
      } catch (er) {
        return false
      }
    }

    for (let i = 0; i < this.set.length; i++) {
      if (testSet(this.set[i], version, this.options)) {
        return true
      }
    }
    return false
  }
}
module.exports = Range

const LRU = __webpack_require__("./.yarn/cache/lru-cache-npm-6.0.0-b4c8668fe1-f97f499f89.zip/node_modules/lru-cache/index.js")
const cache = new LRU({ max: 1000 })

const parseOptions = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/parse-options.js")
const Comparator = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/comparator.js")
const debug = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/debug.js")
const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const {
  re,
  t,
  comparatorTrimReplace,
  tildeTrimReplace,
  caretTrimReplace,
} = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")

const isNullSet = c => c.value === '<0.0.0-0'
const isAny = c => c.value === ''

// take a set of comparators and determine whether there
// exists a version which can satisfy it
const isSatisfiable = (comparators, options) => {
  let result = true
  const remainingComparators = comparators.slice()
  let testComparator = remainingComparators.pop()

  while (result && remainingComparators.length) {
    result = remainingComparators.every((otherComparator) => {
      return testComparator.intersects(otherComparator, options)
    })

    testComparator = remainingComparators.pop()
  }

  return result
}

// comprised of xranges, tildes, stars, and gtlt's at this point.
// already replaced the hyphen ranges
// turn into a set of JUST comparators.
const parseComparator = (comp, options) => {
  debug('comp', comp, options)
  comp = replaceCarets(comp, options)
  debug('caret', comp)
  comp = replaceTildes(comp, options)
  debug('tildes', comp)
  comp = replaceXRanges(comp, options)
  debug('xrange', comp)
  comp = replaceStars(comp, options)
  debug('stars', comp)
  return comp
}

const isX = id => !id || id.toLowerCase() === 'x' || id === '*'

// ~, ~> --> * (any, kinda silly)
// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0
// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0
// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0
// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0
// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0
const replaceTildes = (comp, options) =>
  comp.trim().split(/\s+/).map((c) => {
    return replaceTilde(c, options)
  }).join(' ')

const replaceTilde = (comp, options) => {
  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]
  return comp.replace(r, (_, M, m, p, pr) => {
    debug('tilde', comp, _, M, m, p, pr)
    let ret

    if (isX(M)) {
      ret = ''
    } else if (isX(m)) {
      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`
    } else if (isX(p)) {
      // ~1.2 == >=1.2.0 <1.3.0-0
      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`
    } else if (pr) {
      debug('replaceTilde pr', pr)
      ret = `>=${M}.${m}.${p}-${pr
      } <${M}.${+m + 1}.0-0`
    } else {
      // ~1.2.3 == >=1.2.3 <1.3.0-0
      ret = `>=${M}.${m}.${p
      } <${M}.${+m + 1}.0-0`
    }

    debug('tilde return', ret)
    return ret
  })
}

// ^ --> * (any, kinda silly)
// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0
// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0
// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0
// ^1.2.3 --> >=1.2.3 <2.0.0-0
// ^1.2.0 --> >=1.2.0 <2.0.0-0
const replaceCarets = (comp, options) =>
  comp.trim().split(/\s+/).map((c) => {
    return replaceCaret(c, options)
  }).join(' ')

const replaceCaret = (comp, options) => {
  debug('caret', comp, options)
  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]
  const z = options.includePrerelease ? '-0' : ''
  return comp.replace(r, (_, M, m, p, pr) => {
    debug('caret', comp, _, M, m, p, pr)
    let ret

    if (isX(M)) {
      ret = ''
    } else if (isX(m)) {
      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`
    } else if (isX(p)) {
      if (M === '0') {
        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`
      } else {
        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`
      }
    } else if (pr) {
      debug('replaceCaret pr', pr)
      if (M === '0') {
        if (m === '0') {
          ret = `>=${M}.${m}.${p}-${pr
          } <${M}.${m}.${+p + 1}-0`
        } else {
          ret = `>=${M}.${m}.${p}-${pr
          } <${M}.${+m + 1}.0-0`
        }
      } else {
        ret = `>=${M}.${m}.${p}-${pr
        } <${+M + 1}.0.0-0`
      }
    } else {
      debug('no pr')
      if (M === '0') {
        if (m === '0') {
          ret = `>=${M}.${m}.${p
          }${z} <${M}.${m}.${+p + 1}-0`
        } else {
          ret = `>=${M}.${m}.${p
          }${z} <${M}.${+m + 1}.0-0`
        }
      } else {
        ret = `>=${M}.${m}.${p
        } <${+M + 1}.0.0-0`
      }
    }

    debug('caret return', ret)
    return ret
  })
}

const replaceXRanges = (comp, options) => {
  debug('replaceXRanges', comp, options)
  return comp.split(/\s+/).map((c) => {
    return replaceXRange(c, options)
  }).join(' ')
}

const replaceXRange = (comp, options) => {
  comp = comp.trim()
  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]
  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {
    debug('xRange', comp, ret, gtlt, M, m, p, pr)
    const xM = isX(M)
    const xm = xM || isX(m)
    const xp = xm || isX(p)
    const anyX = xp

    if (gtlt === '=' && anyX) {
      gtlt = ''
    }

    // if we're including prereleases in the match, then we need
    // to fix this to -0, the lowest possible prerelease value
    pr = options.includePrerelease ? '-0' : ''

    if (xM) {
      if (gtlt === '>' || gtlt === '<') {
        // nothing is allowed
        ret = '<0.0.0-0'
      } else {
        // nothing is forbidden
        ret = '*'
      }
    } else if (gtlt && anyX) {
      // we know patch is an x, because we have any x at all.
      // replace X with 0
      if (xm) {
        m = 0
      }
      p = 0

      if (gtlt === '>') {
        // >1 => >=2.0.0
        // >1.2 => >=1.3.0
        gtlt = '>='
        if (xm) {
          M = +M + 1
          m = 0
          p = 0
        } else {
          m = +m + 1
          p = 0
        }
      } else if (gtlt === '<=') {
        // <=0.7.x is actually <0.8.0, since any 0.7.x should
        // pass.  Similarly, <=7.x is actually <8.0.0, etc.
        gtlt = '<'
        if (xm) {
          M = +M + 1
        } else {
          m = +m + 1
        }
      }

      if (gtlt === '<') {
        pr = '-0'
      }

      ret = `${gtlt + M}.${m}.${p}${pr}`
    } else if (xm) {
      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`
    } else if (xp) {
      ret = `>=${M}.${m}.0${pr
      } <${M}.${+m + 1}.0-0`
    }

    debug('xRange return', ret)

    return ret
  })
}

// Because * is AND-ed with everything else in the comparator,
// and '' means "any version", just remove the *s entirely.
const replaceStars = (comp, options) => {
  debug('replaceStars', comp, options)
  // Looseness is ignored here.  star is always as loose as it gets!
  return comp.trim().replace(re[t.STAR], '')
}

const replaceGTE0 = (comp, options) => {
  debug('replaceGTE0', comp, options)
  return comp.trim()
    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')
}

// This function is passed to string.replace(re[t.HYPHENRANGE])
// M, m, patch, prerelease, build
// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5
// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do
// 1.2 - 3.4 => >=1.2.0 <3.5.0-0
const hyphenReplace = incPr => ($0,
  from, fM, fm, fp, fpr, fb,
  to, tM, tm, tp, tpr, tb) => {
  if (isX(fM)) {
    from = ''
  } else if (isX(fm)) {
    from = `>=${fM}.0.0${incPr ? '-0' : ''}`
  } else if (isX(fp)) {
    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`
  } else if (fpr) {
    from = `>=${from}`
  } else {
    from = `>=${from}${incPr ? '-0' : ''}`
  }

  if (isX(tM)) {
    to = ''
  } else if (isX(tm)) {
    to = `<${+tM + 1}.0.0-0`
  } else if (isX(tp)) {
    to = `<${tM}.${+tm + 1}.0-0`
  } else if (tpr) {
    to = `<=${tM}.${tm}.${tp}-${tpr}`
  } else if (incPr) {
    to = `<${tM}.${tm}.${+tp + 1}-0`
  } else {
    to = `<=${to}`
  }

  return (`${from} ${to}`).trim()
}

const testSet = (set, version, options) => {
  for (let i = 0; i < set.length; i++) {
    if (!set[i].test(version)) {
      return false
    }
  }

  if (version.prerelease.length && !options.includePrerelease) {
    // Find the set of versions that are allowed to have prereleases
    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0
    // That should allow `1.2.3-pr.2` to pass.
    // However, `1.2.4-alpha.notready` should NOT be allowed,
    // even though it's within the range set by the comparators.
    for (let i = 0; i < set.length; i++) {
      debug(set[i].semver)
      if (set[i].semver === Comparator.ANY) {
        continue
      }

      if (set[i].semver.prerelease.length > 0) {
        const allowed = set[i].semver
        if (allowed.major === version.major &&
            allowed.minor === version.minor &&
            allowed.patch === version.patch) {
          return true
        }
      }
    }

    // Version has a -pre, but it's not one of the ones we like.
    return false
  }

  return true
}


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const debug = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/debug.js")
const { MAX_LENGTH, MAX_SAFE_INTEGER } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/constants.js")
const { re, t } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")

const parseOptions = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/parse-options.js")
const { compareIdentifiers } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/identifiers.js")
class SemVer {
  constructor (version, options) {
    options = parseOptions(options)

    if (version instanceof SemVer) {
      if (version.loose === !!options.loose &&
          version.includePrerelease === !!options.includePrerelease) {
        return version
      } else {
        version = version.version
      }
    } else if (typeof version !== 'string') {
      throw new TypeError(`Invalid Version: ${version}`)
    }

    if (version.length > MAX_LENGTH) {
      throw new TypeError(
        `version is longer than ${MAX_LENGTH} characters`
      )
    }

    debug('SemVer', version, options)
    this.options = options
    this.loose = !!options.loose
    // this isn't actually relevant for versions, but keep it so that we
    // don't run into trouble passing this.options around.
    this.includePrerelease = !!options.includePrerelease

    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])

    if (!m) {
      throw new TypeError(`Invalid Version: ${version}`)
    }

    this.raw = version

    // these are actually numbers
    this.major = +m[1]
    this.minor = +m[2]
    this.patch = +m[3]

    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {
      throw new TypeError('Invalid major version')
    }

    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {
      throw new TypeError('Invalid minor version')
    }

    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {
      throw new TypeError('Invalid patch version')
    }

    // numberify any prerelease numeric ids
    if (!m[4]) {
      this.prerelease = []
    } else {
      this.prerelease = m[4].split('.').map((id) => {
        if (/^[0-9]+$/.test(id)) {
          const num = +id
          if (num >= 0 && num < MAX_SAFE_INTEGER) {
            return num
          }
        }
        return id
      })
    }

    this.build = m[5] ? m[5].split('.') : []
    this.format()
  }

  format () {
    this.version = `${this.major}.${this.minor}.${this.patch}`
    if (this.prerelease.length) {
      this.version += `-${this.prerelease.join('.')}`
    }
    return this.version
  }

  toString () {
    return this.version
  }

  compare (other) {
    debug('SemVer.compare', this.version, this.options, other)
    if (!(other instanceof SemVer)) {
      if (typeof other === 'string' && other === this.version) {
        return 0
      }
      other = new SemVer(other, this.options)
    }

    if (other.version === this.version) {
      return 0
    }

    return this.compareMain(other) || this.comparePre(other)
  }

  compareMain (other) {
    if (!(other instanceof SemVer)) {
      other = new SemVer(other, this.options)
    }

    return (
      compareIdentifiers(this.major, other.major) ||
      compareIdentifiers(this.minor, other.minor) ||
      compareIdentifiers(this.patch, other.patch)
    )
  }

  comparePre (other) {
    if (!(other instanceof SemVer)) {
      other = new SemVer(other, this.options)
    }

    // NOT having a prerelease is > having one
    if (this.prerelease.length && !other.prerelease.length) {
      return -1
    } else if (!this.prerelease.length && other.prerelease.length) {
      return 1
    } else if (!this.prerelease.length && !other.prerelease.length) {
      return 0
    }

    let i = 0
    do {
      const a = this.prerelease[i]
      const b = other.prerelease[i]
      debug('prerelease compare', i, a, b)
      if (a === undefined && b === undefined) {
        return 0
      } else if (b === undefined) {
        return 1
      } else if (a === undefined) {
        return -1
      } else if (a === b) {
        continue
      } else {
        return compareIdentifiers(a, b)
      }
    } while (++i)
  }

  compareBuild (other) {
    if (!(other instanceof SemVer)) {
      other = new SemVer(other, this.options)
    }

    let i = 0
    do {
      const a = this.build[i]
      const b = other.build[i]
      debug('prerelease compare', i, a, b)
      if (a === undefined && b === undefined) {
        return 0
      } else if (b === undefined) {
        return 1
      } else if (a === undefined) {
        return -1
      } else if (a === b) {
        continue
      } else {
        return compareIdentifiers(a, b)
      }
    } while (++i)
  }

  // preminor will bump the version up to the next minor release, and immediately
  // down to pre-release. premajor and prepatch work the same way.
  inc (release, identifier) {
    switch (release) {
      case 'premajor':
        this.prerelease.length = 0
        this.patch = 0
        this.minor = 0
        this.major++
        this.inc('pre', identifier)
        break
      case 'preminor':
        this.prerelease.length = 0
        this.patch = 0
        this.minor++
        this.inc('pre', identifier)
        break
      case 'prepatch':
        // If this is already a prerelease, it will bump to the next version
        // drop any prereleases that might already exist, since they are not
        // relevant at this point.
        this.prerelease.length = 0
        this.inc('patch', identifier)
        this.inc('pre', identifier)
        break
      // If the input is a non-prerelease version, this acts the same as
      // prepatch.
      case 'prerelease':
        if (this.prerelease.length === 0) {
          this.inc('patch', identifier)
        }
        this.inc('pre', identifier)
        break

      case 'major':
        // If this is a pre-major version, bump up to the same major version.
        // Otherwise increment major.
        // 1.0.0-5 bumps to 1.0.0
        // 1.1.0 bumps to 2.0.0
        if (
          this.minor !== 0 ||
          this.patch !== 0 ||
          this.prerelease.length === 0
        ) {
          this.major++
        }
        this.minor = 0
        this.patch = 0
        this.prerelease = []
        break
      case 'minor':
        // If this is a pre-minor version, bump up to the same minor version.
        // Otherwise increment minor.
        // 1.2.0-5 bumps to 1.2.0
        // 1.2.1 bumps to 1.3.0
        if (this.patch !== 0 || this.prerelease.length === 0) {
          this.minor++
        }
        this.patch = 0
        this.prerelease = []
        break
      case 'patch':
        // If this is not a pre-release version, it will increment the patch.
        // If it is a pre-release it will bump up to the same patch version.
        // 1.2.0-5 patches to 1.2.0
        // 1.2.0 patches to 1.2.1
        if (this.prerelease.length === 0) {
          this.patch++
        }
        this.prerelease = []
        break
      // This probably shouldn't be used publicly.
      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.
      case 'pre':
        if (this.prerelease.length === 0) {
          this.prerelease = [0]
        } else {
          let i = this.prerelease.length
          while (--i >= 0) {
            if (typeof this.prerelease[i] === 'number') {
              this.prerelease[i]++
              i = -2
            }
          }
          if (i === -1) {
            // didn't increment anything
            this.prerelease.push(0)
          }
        }
        if (identifier) {
          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,
          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0
          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {
            if (isNaN(this.prerelease[1])) {
              this.prerelease = [identifier, 0]
            }
          } else {
            this.prerelease = [identifier, 0]
          }
        }
        break

      default:
        throw new Error(`invalid increment argument: ${release}`)
    }
    this.format()
    this.raw = this.version
    return this
  }
}

module.exports = SemVer


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/clean.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const parse = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js")
const clean = (version, options) => {
  const s = parse(version.trim().replace(/^[=v]+/, ''), options)
  return s ? s.version : null
}
module.exports = clean


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/cmp.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const eq = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/eq.js")
const neq = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/neq.js")
const gt = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gt.js")
const gte = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gte.js")
const lt = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lt.js")
const lte = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lte.js")

const cmp = (a, op, b, loose) => {
  switch (op) {
    case '===':
      if (typeof a === 'object') {
        a = a.version
      }
      if (typeof b === 'object') {
        b = b.version
      }
      return a === b

    case '!==':
      if (typeof a === 'object') {
        a = a.version
      }
      if (typeof b === 'object') {
        b = b.version
      }
      return a !== b

    case '':
    case '=':
    case '==':
      return eq(a, b, loose)

    case '!=':
      return neq(a, b, loose)

    case '>':
      return gt(a, b, loose)

    case '>=':
      return gte(a, b, loose)

    case '<':
      return lt(a, b, loose)

    case '<=':
      return lte(a, b, loose)

    default:
      throw new TypeError(`Invalid operator: ${op}`)
  }
}
module.exports = cmp


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/coerce.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const parse = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js")
const { re, t } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")

const coerce = (version, options) => {
  if (version instanceof SemVer) {
    return version
  }

  if (typeof version === 'number') {
    version = String(version)
  }

  if (typeof version !== 'string') {
    return null
  }

  options = options || {}

  let match = null
  if (!options.rtl) {
    match = version.match(re[t.COERCE])
  } else {
    // Find the right-most coercible string that does not share
    // a terminus with a more left-ward coercible string.
    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'
    //
    // Walk through the string checking with a /g regexp
    // Manually set the index so as to pick up overlapping matches.
    // Stop when we get a match that ends at the string end, since no
    // coercible string can be more right-ward without the same terminus.
    let next
    while ((next = re[t.COERCERTL].exec(version)) &&
        (!match || match.index + match[0].length !== version.length)
    ) {
      if (!match ||
            next.index + next[0].length !== match.index + match[0].length) {
        match = next
      }
      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length
    }
    // leave it in a clean state
    re[t.COERCERTL].lastIndex = -1
  }

  if (match === null) {
    return null
  }

  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)
}
module.exports = coerce


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-build.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const compareBuild = (a, b, loose) => {
  const versionA = new SemVer(a, loose)
  const versionB = new SemVer(b, loose)
  return versionA.compare(versionB) || versionA.compareBuild(versionB)
}
module.exports = compareBuild


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-loose.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const compareLoose = (a, b) => compare(a, b, true)
module.exports = compareLoose


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const compare = (a, b, loose) =>
  new SemVer(a, loose).compare(new SemVer(b, loose))

module.exports = compare


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/diff.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const parse = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js")
const eq = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/eq.js")

const diff = (version1, version2) => {
  if (eq(version1, version2)) {
    return null
  } else {
    const v1 = parse(version1)
    const v2 = parse(version2)
    const hasPre = v1.prerelease.length || v2.prerelease.length
    const prefix = hasPre ? 'pre' : ''
    const defaultResult = hasPre ? 'prerelease' : ''
    for (const key in v1) {
      if (key === 'major' || key === 'minor' || key === 'patch') {
        if (v1[key] !== v2[key]) {
          return prefix + key
        }
      }
    }
    return defaultResult // may be undefined
  }
}
module.exports = diff


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/eq.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const eq = (a, b, loose) => compare(a, b, loose) === 0
module.exports = eq


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gt.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const gt = (a, b, loose) => compare(a, b, loose) > 0
module.exports = gt


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gte.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const gte = (a, b, loose) => compare(a, b, loose) >= 0
module.exports = gte


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/inc.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")

const inc = (version, release, options, identifier) => {
  if (typeof (options) === 'string') {
    identifier = options
    options = undefined
  }

  try {
    return new SemVer(
      version instanceof SemVer ? version.version : version,
      options
    ).inc(release, identifier).version
  } catch (er) {
    return null
  }
}
module.exports = inc


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lt.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const lt = (a, b, loose) => compare(a, b, loose) < 0
module.exports = lt


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lte.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const lte = (a, b, loose) => compare(a, b, loose) <= 0
module.exports = lte


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/major.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const major = (a, loose) => new SemVer(a, loose).major
module.exports = major


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/minor.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const minor = (a, loose) => new SemVer(a, loose).minor
module.exports = minor


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/neq.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const neq = (a, b, loose) => compare(a, b, loose) !== 0
module.exports = neq


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const { MAX_LENGTH } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/constants.js")
const { re, t } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")
const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")

const parseOptions = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/parse-options.js")
const parse = (version, options) => {
  options = parseOptions(options)

  if (version instanceof SemVer) {
    return version
  }

  if (typeof version !== 'string') {
    return null
  }

  if (version.length > MAX_LENGTH) {
    return null
  }

  const r = options.loose ? re[t.LOOSE] : re[t.FULL]
  if (!r.test(version)) {
    return null
  }

  try {
    return new SemVer(version, options)
  } catch (er) {
    return null
  }
}

module.exports = parse


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/patch.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const patch = (a, loose) => new SemVer(a, loose).patch
module.exports = patch


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/prerelease.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const parse = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js")
const prerelease = (version, options) => {
  const parsed = parse(version, options)
  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null
}
module.exports = prerelease


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/rcompare.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
const rcompare = (a, b, loose) => compare(b, a, loose)
module.exports = rcompare


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/rsort.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compareBuild = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-build.js")
const rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))
module.exports = rsort


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/satisfies.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const satisfies = (version, range, options) => {
  try {
    range = new Range(range, options)
  } catch (er) {
    return false
  }
  return range.test(version)
}
module.exports = satisfies


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/sort.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const compareBuild = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-build.js")
const sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))
module.exports = sort


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/valid.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const parse = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js")
const valid = (version, options) => {
  const v = parse(version, options)
  return v ? v.version : null
}
module.exports = valid


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/index.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// just pre-load all the stuff that index.js lazily exports
const internalRe = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js")
module.exports = {
  re: internalRe.re,
  src: internalRe.src,
  tokens: internalRe.t,
  SEMVER_SPEC_VERSION: (__webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/constants.js").SEMVER_SPEC_VERSION),
  SemVer: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js"),
  compareIdentifiers: (__webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/identifiers.js").compareIdentifiers),
  rcompareIdentifiers: (__webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/identifiers.js").rcompareIdentifiers),
  parse: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/parse.js"),
  valid: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/valid.js"),
  clean: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/clean.js"),
  inc: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/inc.js"),
  diff: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/diff.js"),
  major: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/major.js"),
  minor: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/minor.js"),
  patch: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/patch.js"),
  prerelease: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/prerelease.js"),
  compare: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js"),
  rcompare: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/rcompare.js"),
  compareLoose: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-loose.js"),
  compareBuild: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare-build.js"),
  sort: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/sort.js"),
  rsort: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/rsort.js"),
  gt: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gt.js"),
  lt: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lt.js"),
  eq: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/eq.js"),
  neq: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/neq.js"),
  gte: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gte.js"),
  lte: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lte.js"),
  cmp: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/cmp.js"),
  coerce: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/coerce.js"),
  Comparator: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/comparator.js"),
  Range: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js"),
  satisfies: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/satisfies.js"),
  toComparators: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/to-comparators.js"),
  maxSatisfying: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/max-satisfying.js"),
  minSatisfying: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/min-satisfying.js"),
  minVersion: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/min-version.js"),
  validRange: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/valid.js"),
  outside: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/outside.js"),
  gtr: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/gtr.js"),
  ltr: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/ltr.js"),
  intersects: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/intersects.js"),
  simplifyRange: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/simplify.js"),
  subset: __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/subset.js"),
}


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/constants.js":
/***/ ((module) => {

// Note: this is the semver.org version of the spec that it implements
// Not necessarily the package version of this code.
const SEMVER_SPEC_VERSION = '2.0.0'

const MAX_LENGTH = 256
const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||
/* istanbul ignore next */ 9007199254740991

// Max safe segment length for coercion.
const MAX_SAFE_COMPONENT_LENGTH = 16

module.exports = {
  SEMVER_SPEC_VERSION,
  MAX_LENGTH,
  MAX_SAFE_INTEGER,
  MAX_SAFE_COMPONENT_LENGTH,
}


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/debug.js":
/***/ ((module) => {

const debug = (
  typeof process === 'object' &&
  ({"NODE_ENV":"development"}) &&
  ({"NODE_ENV":"development"}).NODE_DEBUG &&
  /\bsemver\b/i.test(({"NODE_ENV":"development"}).NODE_DEBUG)
) ? (...args) => console.error('SEMVER', ...args)
  : () => {}

module.exports = debug


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/identifiers.js":
/***/ ((module) => {

const numeric = /^[0-9]+$/
const compareIdentifiers = (a, b) => {
  const anum = numeric.test(a)
  const bnum = numeric.test(b)

  if (anum && bnum) {
    a = +a
    b = +b
  }

  return a === b ? 0
    : (anum && !bnum) ? -1
    : (bnum && !anum) ? 1
    : a < b ? -1
    : 1
}

const rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)

module.exports = {
  compareIdentifiers,
  rcompareIdentifiers,
}


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/parse-options.js":
/***/ ((module) => {

// parse out just the options we care about so we always get a consistent
// obj with keys in a consistent order.
const opts = ['includePrerelease', 'loose', 'rtl']
const parseOptions = options =>
  !options ? {}
  : typeof options !== 'object' ? { loose: true }
  : opts.filter(k => options[k]).reduce((o, k) => {
    o[k] = true
    return o
  }, {})
module.exports = parseOptions


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/re.js":
/***/ ((module, exports, __webpack_require__) => {

const { MAX_SAFE_COMPONENT_LENGTH } = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/constants.js")
const debug = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/internal/debug.js")
exports = module.exports = {}

// The actual regexps go on exports.re
const re = exports.re = []
const src = exports.src = []
const t = exports.t = {}
let R = 0

const createToken = (name, value, isGlobal) => {
  const index = R++
  debug(name, index, value)
  t[name] = index
  src[index] = value
  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)
}

// The following Regular Expressions can be used for tokenizing,
// validating, and parsing SemVer version strings.

// ## Numeric Identifier
// A single `0`, or a non-zero digit followed by zero or more digits.

createToken('NUMERICIDENTIFIER', '0|[1-9]\\d*')
createToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')

// ## Non-numeric Identifier
// Zero or more digits, followed by a letter or hyphen, and then zero or
// more letters, digits, or hyphens.

createToken('NONNUMERICIDENTIFIER', '\\d*[a-zA-Z-][a-zA-Z0-9-]*')

// ## Main Version
// Three dot-separated numeric identifiers.

createToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\.` +
                   `(${src[t.NUMERICIDENTIFIER]})\\.` +
                   `(${src[t.NUMERICIDENTIFIER]})`)

createToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\.` +
                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\.` +
                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)

// ## Pre-release Version Identifier
// A numeric identifier, or a non-numeric identifier.

createToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]
}|${src[t.NONNUMERICIDENTIFIER]})`)

createToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]
}|${src[t.NONNUMERICIDENTIFIER]})`)

// ## Pre-release Version
// Hyphen, followed by one or more dot-separated pre-release version
// identifiers.

createToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]
}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`)

createToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]
}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)

// ## Build Metadata Identifier
// Any combination of digits, letters, or hyphens.

createToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')

// ## Build Metadata
// Plus sign, followed by one or more period-separated build metadata
// identifiers.

createToken('BUILD', `(?:\\+(${src[t.BUILDIDENTIFIER]
}(?:\\.${src[t.BUILDIDENTIFIER]})*))`)

// ## Full Version String
// A main version, followed optionally by a pre-release version and
// build metadata.

// Note that the only major, minor, patch, and pre-release sections of
// the version string are capturing groups.  The build metadata is not a
// capturing group, because it should not ever be used in version
// comparison.

createToken('FULLPLAIN', `v?${src[t.MAINVERSION]
}${src[t.PRERELEASE]}?${
  src[t.BUILD]}?`)

createToken('FULL', `^${src[t.FULLPLAIN]}$`)

// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.
// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty
// common in the npm registry.
createToken('LOOSEPLAIN', `[v=\\s]*${src[t.MAINVERSIONLOOSE]
}${src[t.PRERELEASELOOSE]}?${
  src[t.BUILD]}?`)

createToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)

createToken('GTLT', '((?:<|>)?=?)')

// Something like "2.*" or "1.2.x".
// Note that "x.x" is a valid xRange identifer, meaning "any version"
// Only the first item is strictly required.
createToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`)
createToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\*`)

createToken('XRANGEPLAIN', `[v=\\s]*(${src[t.XRANGEIDENTIFIER]})` +
                   `(?:\\.(${src[t.XRANGEIDENTIFIER]})` +
                   `(?:\\.(${src[t.XRANGEIDENTIFIER]})` +
                   `(?:${src[t.PRERELEASE]})?${
                     src[t.BUILD]}?` +
                   `)?)?`)

createToken('XRANGEPLAINLOOSE', `[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +
                        `(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +
                        `(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +
                        `(?:${src[t.PRERELEASELOOSE]})?${
                          src[t.BUILD]}?` +
                        `)?)?`)

createToken('XRANGE', `^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`)
createToken('XRANGELOOSE', `^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`)

// Coercion.
// Extract anything that could conceivably be a part of a valid semver
createToken('COERCE', `${'(^|[^\\d])' +
              '(\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +
              `(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +
              `(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +
              `(?:$|[^\\d])`)
createToken('COERCERTL', src[t.COERCE], true)

// Tilde ranges.
// Meaning is "reasonably at or greater than"
createToken('LONETILDE', '(?:~>?)')

createToken('TILDETRIM', `(\\s*)${src[t.LONETILDE]}\\s+`, true)
exports.tildeTrimReplace = '$1~'

createToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)
createToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)

// Caret ranges.
// Meaning is "at least and backwards compatible with"
createToken('LONECARET', '(?:\\^)')

createToken('CARETTRIM', `(\\s*)${src[t.LONECARET]}\\s+`, true)
exports.caretTrimReplace = '$1^'

createToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)
createToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)

// A simple gt/lt/eq thing, or just "" to indicate "any version"
createToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`)
createToken('COMPARATOR', `^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`)

// An expression to strip any whitespace between the gtlt and the thing
// it modifies, so that `> 1.2.3` ==> `>1.2.3`
createToken('COMPARATORTRIM', `(\\s*)${src[t.GTLT]
}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)
exports.comparatorTrimReplace = '$1$2$3'

// Something like `1.2.3 - 1.2.4`
// Note that these all use the loose form, because they'll be
// checked against either the strict or loose comparator form
// later.
createToken('HYPHENRANGE', `^\\s*(${src[t.XRANGEPLAIN]})` +
                   `\\s+-\\s+` +
                   `(${src[t.XRANGEPLAIN]})` +
                   `\\s*$`)

createToken('HYPHENRANGELOOSE', `^\\s*(${src[t.XRANGEPLAINLOOSE]})` +
                        `\\s+-\\s+` +
                        `(${src[t.XRANGEPLAINLOOSE]})` +
                        `\\s*$`)

// Star ranges basically just allow anything at all.
createToken('STAR', '(<|>)?=?\\s*\\*')
// >=0.0.0 is like a star
createToken('GTE0', '^\\s*>=\\s*0\\.0\\.0\\s*$')
createToken('GTE0PRE', '^\\s*>=\\s*0\\.0\\.0-0\\s*$')


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/gtr.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Determine if version is greater than all the versions possible in the range.
const outside = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/outside.js")
const gtr = (version, range, options) => outside(version, range, '>', options)
module.exports = gtr


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/intersects.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const intersects = (r1, r2, options) => {
  r1 = new Range(r1, options)
  r2 = new Range(r2, options)
  return r1.intersects(r2)
}
module.exports = intersects


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/ltr.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const outside = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/outside.js")
// Determine if version is less than all the versions possible in the range
const ltr = (version, range, options) => outside(version, range, '<', options)
module.exports = ltr


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/max-satisfying.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")

const maxSatisfying = (versions, range, options) => {
  let max = null
  let maxSV = null
  let rangeObj = null
  try {
    rangeObj = new Range(range, options)
  } catch (er) {
    return null
  }
  versions.forEach((v) => {
    if (rangeObj.test(v)) {
      // satisfies(v, range, options)
      if (!max || maxSV.compare(v) === -1) {
        // compare(max, v, true)
        max = v
        maxSV = new SemVer(max, options)
      }
    }
  })
  return max
}
module.exports = maxSatisfying


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/min-satisfying.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const minSatisfying = (versions, range, options) => {
  let min = null
  let minSV = null
  let rangeObj = null
  try {
    rangeObj = new Range(range, options)
  } catch (er) {
    return null
  }
  versions.forEach((v) => {
    if (rangeObj.test(v)) {
      // satisfies(v, range, options)
      if (!min || minSV.compare(v) === 1) {
        // compare(min, v, true)
        min = v
        minSV = new SemVer(min, options)
      }
    }
  })
  return min
}
module.exports = minSatisfying


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/min-version.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const gt = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gt.js")

const minVersion = (range, loose) => {
  range = new Range(range, loose)

  let minver = new SemVer('0.0.0')
  if (range.test(minver)) {
    return minver
  }

  minver = new SemVer('0.0.0-0')
  if (range.test(minver)) {
    return minver
  }

  minver = null
  for (let i = 0; i < range.set.length; ++i) {
    const comparators = range.set[i]

    let setMin = null
    comparators.forEach((comparator) => {
      // Clone to avoid manipulating the comparator's semver object.
      const compver = new SemVer(comparator.semver.version)
      switch (comparator.operator) {
        case '>':
          if (compver.prerelease.length === 0) {
            compver.patch++
          } else {
            compver.prerelease.push(0)
          }
          compver.raw = compver.format()
          /* fallthrough */
        case '':
        case '>=':
          if (!setMin || gt(compver, setMin)) {
            setMin = compver
          }
          break
        case '<':
        case '<=':
          /* Ignore maximum versions */
          break
        /* istanbul ignore next */
        default:
          throw new Error(`Unexpected operation: ${comparator.operator}`)
      }
    })
    if (setMin && (!minver || gt(minver, setMin))) {
      minver = setMin
    }
  }

  if (minver && range.test(minver)) {
    return minver
  }

  return null
}
module.exports = minVersion


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/outside.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SemVer = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/semver.js")
const Comparator = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/comparator.js")
const { ANY } = Comparator
const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const satisfies = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/satisfies.js")
const gt = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gt.js")
const lt = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lt.js")
const lte = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/lte.js")
const gte = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/gte.js")

const outside = (version, range, hilo, options) => {
  version = new SemVer(version, options)
  range = new Range(range, options)

  let gtfn, ltefn, ltfn, comp, ecomp
  switch (hilo) {
    case '>':
      gtfn = gt
      ltefn = lte
      ltfn = lt
      comp = '>'
      ecomp = '>='
      break
    case '<':
      gtfn = lt
      ltefn = gte
      ltfn = gt
      comp = '<'
      ecomp = '<='
      break
    default:
      throw new TypeError('Must provide a hilo val of "<" or ">"')
  }

  // If it satisfies the range it is not outside
  if (satisfies(version, range, options)) {
    return false
  }

  // From now on, variable terms are as if we're in "gtr" mode.
  // but note that everything is flipped for the "ltr" function.

  for (let i = 0; i < range.set.length; ++i) {
    const comparators = range.set[i]

    let high = null
    let low = null

    comparators.forEach((comparator) => {
      if (comparator.semver === ANY) {
        comparator = new Comparator('>=0.0.0')
      }
      high = high || comparator
      low = low || comparator
      if (gtfn(comparator.semver, high.semver, options)) {
        high = comparator
      } else if (ltfn(comparator.semver, low.semver, options)) {
        low = comparator
      }
    })

    // If the edge version comparator has a operator then our version
    // isn't outside it
    if (high.operator === comp || high.operator === ecomp) {
      return false
    }

    // If the lowest version comparator has an operator and our version
    // is less than it then it isn't higher than the range
    if ((!low.operator || low.operator === comp) &&
        ltefn(version, low.semver)) {
      return false
    } else if (low.operator === ecomp && ltfn(version, low.semver)) {
      return false
    }
  }
  return true
}

module.exports = outside


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/simplify.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// given a set of versions and a range, create a "simplified" range
// that includes the same versions that the original range does
// If the original range is shorter than the simplified one, return that.
const satisfies = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/satisfies.js")
const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")
module.exports = (versions, range, options) => {
  const set = []
  let first = null
  let prev = null
  const v = versions.sort((a, b) => compare(a, b, options))
  for (const version of v) {
    const included = satisfies(version, range, options)
    if (included) {
      prev = version
      if (!first) {
        first = version
      }
    } else {
      if (prev) {
        set.push([first, prev])
      }
      prev = null
      first = null
    }
  }
  if (first) {
    set.push([first, null])
  }

  const ranges = []
  for (const [min, max] of set) {
    if (min === max) {
      ranges.push(min)
    } else if (!max && min === v[0]) {
      ranges.push('*')
    } else if (!max) {
      ranges.push(`>=${min}`)
    } else if (min === v[0]) {
      ranges.push(`<=${max}`)
    } else {
      ranges.push(`${min} - ${max}`)
    }
  }
  const simplified = ranges.join(' || ')
  const original = typeof range.raw === 'string' ? range.raw : String(range)
  return simplified.length < original.length ? simplified : range
}


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/subset.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const Comparator = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/comparator.js")
const { ANY } = Comparator
const satisfies = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/satisfies.js")
const compare = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/functions/compare.js")

// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:
// - Every simple range `r1, r2, ...` is a null set, OR
// - Every simple range `r1, r2, ...` which is not a null set is a subset of
//   some `R1, R2, ...`
//
// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:
// - If c is only the ANY comparator
//   - If C is only the ANY comparator, return true
//   - Else if in prerelease mode, return false
//   - else replace c with `[>=0.0.0]`
// - If C is only the ANY comparator
//   - if in prerelease mode, return true
//   - else replace C with `[>=0.0.0]`
// - Let EQ be the set of = comparators in c
// - If EQ is more than one, return true (null set)
// - Let GT be the highest > or >= comparator in c
// - Let LT be the lowest < or <= comparator in c
// - If GT and LT, and GT.semver > LT.semver, return true (null set)
// - If any C is a = range, and GT or LT are set, return false
// - If EQ
//   - If GT, and EQ does not satisfy GT, return true (null set)
//   - If LT, and EQ does not satisfy LT, return true (null set)
//   - If EQ satisfies every C, return true
//   - Else return false
// - If GT
//   - If GT.semver is lower than any > or >= comp in C, return false
//   - If GT is >=, and GT.semver does not satisfy every C, return false
//   - If GT.semver has a prerelease, and not in prerelease mode
//     - If no C has a prerelease and the GT.semver tuple, return false
// - If LT
//   - If LT.semver is greater than any < or <= comp in C, return false
//   - If LT is <=, and LT.semver does not satisfy every C, return false
//   - If GT.semver has a prerelease, and not in prerelease mode
//     - If no C has a prerelease and the LT.semver tuple, return false
// - Else return true

const subset = (sub, dom, options = {}) => {
  if (sub === dom) {
    return true
  }

  sub = new Range(sub, options)
  dom = new Range(dom, options)
  let sawNonNull = false

  OUTER: for (const simpleSub of sub.set) {
    for (const simpleDom of dom.set) {
      const isSub = simpleSubset(simpleSub, simpleDom, options)
      sawNonNull = sawNonNull || isSub !== null
      if (isSub) {
        continue OUTER
      }
    }
    // the null set is a subset of everything, but null simple ranges in
    // a complex range should be ignored.  so if we saw a non-null range,
    // then we know this isn't a subset, but if EVERY simple range was null,
    // then it is a subset.
    if (sawNonNull) {
      return false
    }
  }
  return true
}

const simpleSubset = (sub, dom, options) => {
  if (sub === dom) {
    return true
  }

  if (sub.length === 1 && sub[0].semver === ANY) {
    if (dom.length === 1 && dom[0].semver === ANY) {
      return true
    } else if (options.includePrerelease) {
      sub = [new Comparator('>=0.0.0-0')]
    } else {
      sub = [new Comparator('>=0.0.0')]
    }
  }

  if (dom.length === 1 && dom[0].semver === ANY) {
    if (options.includePrerelease) {
      return true
    } else {
      dom = [new Comparator('>=0.0.0')]
    }
  }

  const eqSet = new Set()
  let gt, lt
  for (const c of sub) {
    if (c.operator === '>' || c.operator === '>=') {
      gt = higherGT(gt, c, options)
    } else if (c.operator === '<' || c.operator === '<=') {
      lt = lowerLT(lt, c, options)
    } else {
      eqSet.add(c.semver)
    }
  }

  if (eqSet.size > 1) {
    return null
  }

  let gtltComp
  if (gt && lt) {
    gtltComp = compare(gt.semver, lt.semver, options)
    if (gtltComp > 0) {
      return null
    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {
      return null
    }
  }

  // will iterate one or zero times
  for (const eq of eqSet) {
    if (gt && !satisfies(eq, String(gt), options)) {
      return null
    }

    if (lt && !satisfies(eq, String(lt), options)) {
      return null
    }

    for (const c of dom) {
      if (!satisfies(eq, String(c), options)) {
        return false
      }
    }

    return true
  }

  let higher, lower
  let hasDomLT, hasDomGT
  // if the subset has a prerelease, we need a comparator in the superset
  // with the same tuple and a prerelease, or it's not a subset
  let needDomLTPre = lt &&
    !options.includePrerelease &&
    lt.semver.prerelease.length ? lt.semver : false
  let needDomGTPre = gt &&
    !options.includePrerelease &&
    gt.semver.prerelease.length ? gt.semver : false
  // exception: <1.2.3-0 is the same as <1.2.3
  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&
      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {
    needDomLTPre = false
  }

  for (const c of dom) {
    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='
    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='
    if (gt) {
      if (needDomGTPre) {
        if (c.semver.prerelease && c.semver.prerelease.length &&
            c.semver.major === needDomGTPre.major &&
            c.semver.minor === needDomGTPre.minor &&
            c.semver.patch === needDomGTPre.patch) {
          needDomGTPre = false
        }
      }
      if (c.operator === '>' || c.operator === '>=') {
        higher = higherGT(gt, c, options)
        if (higher === c && higher !== gt) {
          return false
        }
      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {
        return false
      }
    }
    if (lt) {
      if (needDomLTPre) {
        if (c.semver.prerelease && c.semver.prerelease.length &&
            c.semver.major === needDomLTPre.major &&
            c.semver.minor === needDomLTPre.minor &&
            c.semver.patch === needDomLTPre.patch) {
          needDomLTPre = false
        }
      }
      if (c.operator === '<' || c.operator === '<=') {
        lower = lowerLT(lt, c, options)
        if (lower === c && lower !== lt) {
          return false
        }
      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {
        return false
      }
    }
    if (!c.operator && (lt || gt) && gtltComp !== 0) {
      return false
    }
  }

  // if there was a < or >, and nothing in the dom, then must be false
  // UNLESS it was limited by another range in the other direction.
  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0
  if (gt && hasDomLT && !lt && gtltComp !== 0) {
    return false
  }

  if (lt && hasDomGT && !gt && gtltComp !== 0) {
    return false
  }

  // we needed a prerelease range in a specific tuple, but didn't get one
  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,
  // because it includes prereleases in the 1.2.3 tuple
  if (needDomGTPre || needDomLTPre) {
    return false
  }

  return true
}

// >=1.2.3 is lower than >1.2.3
const higherGT = (a, b, options) => {
  if (!a) {
    return b
  }
  const comp = compare(a.semver, b.semver, options)
  return comp > 0 ? a
    : comp < 0 ? b
    : b.operator === '>' && a.operator === '>=' ? b
    : a
}

// <=1.2.3 is higher than <1.2.3
const lowerLT = (a, b, options) => {
  if (!a) {
    return b
  }
  const comp = compare(a.semver, b.semver, options)
  return comp < 0 ? a
    : comp > 0 ? b
    : b.operator === '<' && a.operator === '<=' ? b
    : a
}

module.exports = subset


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/to-comparators.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")

// Mostly just for testing and legacy API reasons
const toComparators = (range, options) =>
  new Range(range, options).set
    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))

module.exports = toComparators


/***/ }),

/***/ "./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/ranges/valid.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Range = __webpack_require__("./.yarn/cache/semver-npm-7.3.7-3bfe704194-2fa3e87756.zip/node_modules/semver/classes/range.js")
const validRange = (range, options) => {
  try {
    // Return '*' instead of '' so that truthiness works.
    // This will throw if it's invalid anyway
    return new Range(range, options).range || '*'
  } catch (er) {
    return null
  }
}
module.exports = validRange


/***/ }),

/***/ "./.yarn/cache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/iterator.js":
/***/ ((module) => {

"use strict";

module.exports = function (Yallist) {
  Yallist.prototype[Symbol.iterator] = function* () {
    for (let walker = this.head; walker; walker = walker.next) {
      yield walker.value
    }
  }
}


/***/ }),

/***/ "./.yarn/cache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/yallist.js":
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

module.exports = Yallist

Yallist.Node = Node
Yallist.create = Yallist

function Yallist (list) {
  var self = this
  if (!(self instanceof Yallist)) {
    self = new Yallist()
  }

  self.tail = null
  self.head = null
  self.length = 0

  if (list && typeof list.forEach === 'function') {
    list.forEach(function (item) {
      self.push(item)
    })
  } else if (arguments.length > 0) {
    for (var i = 0, l = arguments.length; i < l; i++) {
      self.push(arguments[i])
    }
  }

  return self
}

Yallist.prototype.removeNode = function (node) {
  if (node.list !== this) {
    throw new Error('removing node which does not belong to this list')
  }

  var next = node.next
  var prev = node.prev

  if (next) {
    next.prev = prev
  }

  if (prev) {
    prev.next = next
  }

  if (node === this.head) {
    this.head = next
  }
  if (node === this.tail) {
    this.tail = prev
  }

  node.list.length--
  node.next = null
  node.prev = null
  node.list = null

  return next
}

Yallist.prototype.unshiftNode = function (node) {
  if (node === this.head) {
    return
  }

  if (node.list) {
    node.list.removeNode(node)
  }

  var head = this.head
  node.list = this
  node.next = head
  if (head) {
    head.prev = node
  }

  this.head = node
  if (!this.tail) {
    this.tail = node
  }
  this.length++
}

Yallist.prototype.pushNode = function (node) {
  if (node === this.tail) {
    return
  }

  if (node.list) {
    node.list.removeNode(node)
  }

  var tail = this.tail
  node.list = this
  node.prev = tail
  if (tail) {
    tail.next = node
  }

  this.tail = node
  if (!this.head) {
    this.head = node
  }
  this.length++
}

Yallist.prototype.push = function () {
  for (var i = 0, l = arguments.length; i < l; i++) {
    push(this, arguments[i])
  }
  return this.length
}

Yallist.prototype.unshift = function () {
  for (var i = 0, l = arguments.length; i < l; i++) {
    unshift(this, arguments[i])
  }
  return this.length
}

Yallist.prototype.pop = function () {
  if (!this.tail) {
    return undefined
  }

  var res = this.tail.value
  this.tail = this.tail.prev
  if (this.tail) {
    this.tail.next = null
  } else {
    this.head = null
  }
  this.length--
  return res
}

Yallist.prototype.shift = function () {
  if (!this.head) {
    return undefined
  }

  var res = this.head.value
  this.head = this.head.next
  if (this.head) {
    this.head.prev = null
  } else {
    this.tail = null
  }
  this.length--
  return res
}

Yallist.prototype.forEach = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this.head, i = 0; walker !== null; i++) {
    fn.call(thisp, walker.value, i, this)
    walker = walker.next
  }
}

Yallist.prototype.forEachReverse = function (fn, thisp) {
  thisp = thisp || this
  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {
    fn.call(thisp, walker.value, i, this)
    walker = walker.prev
  }
}

Yallist.prototype.get = function (n) {
  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {
    // abort out of the list early if we hit a cycle
    walker = walker.next
  }
  if (i === n && walker !== null) {
    return walker.value
  }
}

Yallist.prototype.getReverse = function (n) {
  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {
    // abort out of the list early if we hit a cycle
    walker = walker.prev
  }
  if (i === n && walker !== null) {
    return walker.value
  }
}

Yallist.prototype.map = function (fn, thisp) {
  thisp = thisp || this
  var res = new Yallist()
  for (var walker = this.head; walker !== null;) {
    res.push(fn.call(thisp, walker.value, this))
    walker = walker.next
  }
  return res
}

Yallist.prototype.mapReverse = function (fn, thisp) {
  thisp = thisp || this
  var res = new Yallist()
  for (var walker = this.tail; walker !== null;) {
    res.push(fn.call(thisp, walker.value, this))
    walker = walker.prev
  }
  return res
}

Yallist.prototype.reduce = function (fn, initial) {
  var acc
  var walker = this.head
  if (arguments.length > 1) {
    acc = initial
  } else if (this.head) {
    walker = this.head.next
    acc = this.head.value
  } else {
    throw new TypeError('Reduce of empty list with no initial value')
  }

  for (var i = 0; walker !== null; i++) {
    acc = fn(acc, walker.value, i)
    walker = walker.next
  }

  return acc
}

Yallist.prototype.reduceReverse = function (fn, initial) {
  var acc
  var walker = this.tail
  if (arguments.length > 1) {
    acc = initial
  } else if (this.tail) {
    walker = this.tail.prev
    acc = this.tail.value
  } else {
    throw new TypeError('Reduce of empty list with no initial value')
  }

  for (var i = this.length - 1; walker !== null; i--) {
    acc = fn(acc, walker.value, i)
    walker = walker.prev
  }

  return acc
}

Yallist.prototype.toArray = function () {
  var arr = new Array(this.length)
  for (var i = 0, walker = this.head; walker !== null; i++) {
    arr[i] = walker.value
    walker = walker.next
  }
  return arr
}

Yallist.prototype.toArrayReverse = function () {
  var arr = new Array(this.length)
  for (var i = 0, walker = this.tail; walker !== null; i++) {
    arr[i] = walker.value
    walker = walker.prev
  }
  return arr
}

Yallist.prototype.slice = function (from, to) {
  to = to || this.length
  if (to < 0) {
    to += this.length
  }
  from = from || 0
  if (from < 0) {
    from += this.length
  }
  var ret = new Yallist()
  if (to < from || to < 0) {
    return ret
  }
  if (from < 0) {
    from = 0
  }
  if (to > this.length) {
    to = this.length
  }
  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {
    walker = walker.next
  }
  for (; walker !== null && i < to; i++, walker = walker.next) {
    ret.push(walker.value)
  }
  return ret
}

Yallist.prototype.sliceReverse = function (from, to) {
  to = to || this.length
  if (to < 0) {
    to += this.length
  }
  from = from || 0
  if (from < 0) {
    from += this.length
  }
  var ret = new Yallist()
  if (to < from || to < 0) {
    return ret
  }
  if (from < 0) {
    from = 0
  }
  if (to > this.length) {
    to = this.length
  }
  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {
    walker = walker.prev
  }
  for (; walker !== null && i > from; i--, walker = walker.prev) {
    ret.push(walker.value)
  }
  return ret
}

Yallist.prototype.splice = function (start, deleteCount, ...nodes) {
  if (start > this.length) {
    start = this.length - 1
  }
  if (start < 0) {
    start = this.length + start;
  }

  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {
    walker = walker.next
  }

  var ret = []
  for (var i = 0; walker && i < deleteCount; i++) {
    ret.push(walker.value)
    walker = this.removeNode(walker)
  }
  if (walker === null) {
    walker = this.tail
  }

  if (walker !== this.head && walker !== this.tail) {
    walker = walker.prev
  }

  for (var i = 0; i < nodes.length; i++) {
    walker = insert(this, walker, nodes[i])
  }
  return ret;
}

Yallist.prototype.reverse = function () {
  var head = this.head
  var tail = this.tail
  for (var walker = head; walker !== null; walker = walker.prev) {
    var p = walker.prev
    walker.prev = walker.next
    walker.next = p
  }
  this.head = tail
  this.tail = head
  return this
}

function insert (self, node, value) {
  var inserted = node === self.head ?
    new Node(value, null, node, self) :
    new Node(value, node, node.next, self)

  if (inserted.next === null) {
    self.tail = inserted
  }
  if (inserted.prev === null) {
    self.head = inserted
  }

  self.length++

  return inserted
}

function push (self, item) {
  self.tail = new Node(item, self.tail, null, self)
  if (!self.head) {
    self.head = self.tail
  }
  self.length++
}

function unshift (self, item) {
  self.head = new Node(item, null, self.head, self)
  if (!self.tail) {
    self.tail = self.head
  }
  self.length++
}

function Node (value, prev, next, list) {
  if (!(this instanceof Node)) {
    return new Node(value, prev, next, list)
  }

  this.list = list
  this.value = value

  if (prev) {
    prev.next = this
    this.prev = prev
  } else {
    this.prev = null
  }

  if (next) {
    next.prev = this
    this.next = next
  } else {
    this.next = null
  }
}

try {
  // add if support for Symbol.iterator is present
  __webpack_require__("./.yarn/cache/yallist-npm-4.0.0-b493d9e907-343617202a.zip/node_modules/yallist/iterator.js")(Yallist)
} catch (er) {}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxhc3RpY3NlYXJjaFBsdWdpbi5kMGEyMmE4YzM1ZWMzZmQyZTc2NS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sTUFBTUcsU0FBUyxHQUFHLENBQUM7RUFBRUMsS0FBRjtFQUFTQyxLQUFUO0VBQWdCQyxRQUFoQjtFQUEwQkM7QUFBMUIsQ0FBRCxLQUFpRDtFQUN4RSxvQkFDRTtJQUNFLFNBQVMsRUFBRVAsNkNBQUk7QUFDckI7QUFDQSxPQUhJO0lBQUEsV0FLR0ksS0FBSyxLQUFLLENBQVYsaUJBQWUsdURBQUMsbURBQUQ7TUFBWSxRQUFRLEVBQUMsTUFBckI7TUFBNEIsT0FBTyxFQUFFQyxLQUFyQztNQUE0QyxLQUFLLEVBQUM7SUFBbEQsRUFMbEIsRUFPR0UsUUFBUSxDQUFDQyxNQUFULElBQW1CLENBQW5CLGlCQUF3Qix1REFBQyxtREFBRDtNQUFZLFFBQVEsRUFBQyxPQUFyQjtNQUE2QixPQUFPLEVBQUVGLFFBQXRDO01BQWdELEtBQUssRUFBQztJQUF0RCxFQVAzQjtFQUFBLEVBREY7QUFXRCxDQVpNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2hCUDtBQUNBO0FBRUE7OztBQUVBLE1BQU1LLE1BQU0sR0FBR1gsNkNBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQVJBO0FBaUJPLE1BQU1FLFVBQVUsR0FBRztFQUFBLElBQUM7SUFDekJVLFFBRHlCO0lBRXpCQyxPQUZ5QjtJQUd6QkMsU0FIeUI7SUFJekJDO0VBSnlCLENBQUQ7RUFBQSxJQUtyQkMsV0FMcUI7O0VBQUEsb0JBT3hCO0lBQVEsU0FBUyxFQUFFUCxnREFBRSxDQUFDLDZDQUFELEVBQWdESyxTQUFoRCxDQUFyQjtJQUFpRixPQUFPLEVBQUVEO0VBQTFGLEdBQXVHRyxXQUF2RztJQUFBLHdCQUNFO01BQU0sU0FBUyxFQUFFTCxNQUFqQjtNQUFBLFVBQTBCSTtJQUExQixFQURG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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7OztBQzdVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRCxLQUFLO0FBQ3REOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMsd0dBQTJCO0FBQ3hELFFBQVEsUUFBUSxFQUFFLG1CQUFP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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFdBQVcsR0FBRyxXQUFXLEdBQUcsV0FBVztBQUM3RDtBQUNBLDBCQUEwQiwwQkFBMEI7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDZCQUE2QjtBQUNuRTtBQUNBO0FBQ0EsU0FBUywyQkFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsMkJBQTJCO0FBQzNFO0FBQ0E7QUFDQSxTQUFTLDZCQUE2QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0MsOEJBQThCO0FBQ3BFO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMkJBQTJCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaUJBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFLG1CQUFPLENBQUMsNEZBQWU7QUFDekIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvQWRkUmVtb3ZlLnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL0ljb25CdXR0b24udHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvTWV0cmljUGlja2VyLnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0Fubm90YXRpb25RdWVyeUVkaXRvci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvQnVja2V0QWdncmVnYXRpb25FZGl0b3IudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvQnVja2V0QWdncmVnYXRpb25zRWRpdG9yL1NldHRpbmdzRWRpdG9yL0RhdGVIaXN0b2dyYW1TZXR0aW5nc0VkaXRvci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvU2V0dGluZ3NFZGl0b3IvRmlsdGVyc1NldHRpbmdzRWRpdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9GaWx0ZXJzU2V0dGluZ3NFZGl0b3Ivc3RhdGUvYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9GaWx0ZXJzU2V0dGluZ3NFZGl0b3Ivc3RhdGUvcmVkdWNlci50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9GaWx0ZXJzU2V0dGluZ3NFZGl0b3IvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvU2V0dGluZ3NFZGl0b3IvVGVybXNTZXR0aW5nc0VkaXRvci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvU2V0dGluZ3NFZGl0b3IvaW5kZXgudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvQnVja2V0QWdncmVnYXRpb25zRWRpdG9yL1NldHRpbmdzRWRpdG9yL3VzZURlc2NyaXB0aW9uLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvQnVja2V0QWdncmVnYXRpb25zRWRpdG9yL2FnZ3JlZ2F0aW9ucy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3Ivc3RhdGUvYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9zdGF0ZS9yZWR1Y2VyLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvQnVja2V0QWdncmVnYXRpb25zRWRpdG9yL3V0aWxzLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dC50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvTWV0cmljRWRpdG9yLnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9CdWNrZXRTY3JpcHRTZXR0aW5nc0VkaXRvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvU2V0dGluZ3NFZGl0b3IvQnVja2V0U2NyaXB0U2V0dGluZ3NFZGl0b3Ivc3RhdGUvYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9CdWNrZXRTY3JpcHRTZXR0aW5nc0VkaXRvci9zdGF0ZS9yZWR1Y2VyLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL1NldHRpbmdzRWRpdG9yL0J1Y2tldFNjcmlwdFNldHRpbmdzRWRpdG9yL3V0aWxzLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL1NldHRpbmdzRWRpdG9yL01vdmluZ0F2ZXJhZ2VTZXR0aW5nc0VkaXRvci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvU2V0dGluZ3NFZGl0b3IvU2V0dGluZ0ZpZWxkLnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci9Ub3BNZXRyaWNzU2V0dGluZ3NFZGl0b3IudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL1NldHRpbmdzRWRpdG9yL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9TZXR0aW5nc0VkaXRvci91c2VEZXNjcmlwdGlvbi50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9hZ2dyZWdhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvaW5kZXgudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL3N0YXRlL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3Ivc3RhdGUvcmVkdWNlci50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9zdHlsZXMudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9RdWVyeUVkaXRvclJvdy50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9TZXR0aW5nc0VkaXRvckNvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9pbmRleC50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29tcG9uZW50cy9RdWVyeUVkaXRvci9zdGF0ZS50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL3N0eWxlcy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb21wb25lbnRzL2hvb2tzL3VzZUNyZWF0YWJsZVNlbGVjdFBlcnNpc3RlZEJlaGF2aW91ci50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9jb25maWd1cmF0aW9uL0NvbmZpZ0VkaXRvci50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29uZmlndXJhdGlvbi9EYXRhTGluay50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29uZmlndXJhdGlvbi9EYXRhTGlua3MudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbmZpZ3VyYXRpb24vRWxhc3RpY0RldGFpbHMudHN4Iiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2NvbmZpZ3VyYXRpb24vTG9nc0NvbmZpZy50c3giLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvY29uZmlndXJhdGlvbi91dGlscy50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9kYXRhc291cmNlLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2VsYXN0aWNfcmVzcG9uc2UudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvaG9va3MvdXNlRmllbGRzLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2hvb2tzL3VzZU5leHRJZC50cyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvZWxhc3RpY3NlYXJjaC9ob29rcy91c2VTdGF0ZWxlc3NSZWR1Y2VyLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL2luZGV4X3BhdHRlcm4udHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvbGFuZ3VhZ2VfcHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvbW9kdWxlLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL3F1ZXJ5X2J1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvcXVlcnlfZGVmLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9lbGFzdGljc2VhcmNoL3V0aWxzLnRzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9fX3ZpcnR1YWxfXy9yZWFjdC11c2UtdmlydHVhbC1jZWE4ZTgyNmRjLzAvY2FjaGUvcmVhY3QtdXNlLW5wbS0xNy40LjAtMGVmNDUyMTU0NC0wODg5ZGE5MTliLnppcC9ub2RlX21vZHVsZXMvcmVhY3QtdXNlL2VzbS91c2VQcmV2aW91cy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvQGdyYWZhbmEtYXdzLXNkay1ucG0tMC4wLjM2LThhYjRiMDc5MDQtYzI0M2Y3YzkwMC56aXAvbm9kZV9tb2R1bGVzL0BncmFmYW5hL2F3cy1zZGsvZGlzdC9pbmRleC5kZXZlbG9wbWVudC5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvQGdyYWZhbmEtYXdzLXNkay1ucG0tMC4wLjM2LThhYjRiMDc5MDQtYzI0M2Y3YzkwMC56aXAvbm9kZV9tb2R1bGVzL0BncmFmYW5hL2F3cy1zZGsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL2xydS1jYWNoZS1ucG0tNi4wLjAtYjRjODY2OGZlMS1mOTdmNDk5Zjg5LnppcC9ub2RlX21vZHVsZXMvbHJ1LWNhY2hlL2luZGV4LmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9jbGFzc2VzL2NvbXBhcmF0b3IuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2NsYXNzZXMvcmFuZ2UuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2NsYXNzZXMvc2VtdmVyLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvY2xlYW4uanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jbXAuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jb2VyY2UuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9jb21wYXJlLWJ1aWxkLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvY29tcGFyZS1sb29zZS5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2NvbXBhcmUuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9kaWZmLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvZXEuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9ndC5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2d0ZS5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2luYy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL2x0LmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvbHRlLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvbWFqb3IuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9taW5vci5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL25lcS5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3BhcnNlLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvcGF0Y2guanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9wcmVyZWxlYXNlLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9mdW5jdGlvbnMvcmNvbXBhcmUuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy9yc29ydC5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3NhdGlzZmllcy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvZnVuY3Rpb25zL3NvcnQuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2Z1bmN0aW9ucy92YWxpZC5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvaW50ZXJuYWwvZGVidWcuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL2ludGVybmFsL2lkZW50aWZpZXJzLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9wYXJzZS1vcHRpb25zLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9pbnRlcm5hbC9yZS5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL2d0ci5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL2ludGVyc2VjdHMuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9sdHIuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9tYXgtc2F0aXNmeWluZy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL21pbi1zYXRpc2Z5aW5nLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9yYW5nZXMvbWluLXZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9vdXRzaWRlLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS9zZW12ZXItbnBtLTcuMy43LTNiZmU3MDQxOTQtMmZhM2U4Nzc1Ni56aXAvbm9kZV9tb2R1bGVzL3NlbXZlci9yYW5nZXMvc2ltcGxpZnkuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy9zdWJzZXQuanMiLCJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL3NlbXZlci1ucG0tNy4zLjctM2JmZTcwNDE5NC0yZmEzZTg3NzU2LnppcC9ub2RlX21vZHVsZXMvc2VtdmVyL3Jhbmdlcy90by1jb21wYXJhdG9ycy5qcyIsIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vY2FjaGUvc2VtdmVyLW5wbS03LjMuNy0zYmZlNzA0MTk0LTJmYTNlODc3NTYuemlwL25vZGVfbW9kdWxlcy9zZW12ZXIvcmFuZ2VzL3ZhbGlkLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTM0MzYxNzIwMmEuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L2l0ZXJhdG9yLmpzIiwid2VicGFjazovL2dyYWZhbmEvLi8ueWFybi9jYWNoZS95YWxsaXN0LW5wbS00LjAuMC1iNDkzZDllOTA3LTM0MzYxNzIwMmEuemlwL25vZGVfbW9kdWxlcy95YWxsaXN0L3lhbGxpc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tICcuL0ljb25CdXR0b24nO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBpbmRleDogbnVtYmVyO1xuICBlbGVtZW50czogYW55W107XG4gIG9uQWRkOiAoKSA9PiB2b2lkO1xuICBvblJlbW92ZTogKCkgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBBIGNvbXBvbmVudCB1c2VkIHRvIHNob3cgYWRkICYgcmVtb3ZlIGJ1dHRvbnMgZm9yIG11dGFibGUgbGlzdHMgb2YgdmFsdWVzLiBXZXRoZXIgdG8gc2hvdyBvciBub3QgdGhlIGFkZCBvciB0aGUgcmVtb3ZlIGJ1dHRvbnNcbiAqIGRlcGVuZHMgb24gdGhlIGBpbmRleGAgYW5kIGBlbGVtZW50c2AgcHJvcHMuIFRoaXMgZW5mb3JjZXMgYSBjb25zaXN0ZW50IGV4cGVyaWVuY2Ugd2hlbmV2ZXIgdGhpcyBwYXR0ZXJuIGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBBZGRSZW1vdmUgPSAoeyBpbmRleCwgb25BZGQsIG9uUmVtb3ZlLCBlbGVtZW50cyB9OiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y3NzYFxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYH1cbiAgICA+XG4gICAgICB7aW5kZXggPT09IDAgJiYgPEljb25CdXR0b24gaWNvbk5hbWU9XCJwbHVzXCIgb25DbGljaz17b25BZGR9IGxhYmVsPVwiYWRkXCIgLz59XG5cbiAgICAgIHtlbGVtZW50cy5sZW5ndGggPj0gMiAmJiA8SWNvbkJ1dHRvbiBpY29uTmFtZT1cIm1pbnVzXCIgb25DbGljaz17b25SZW1vdmV9IGxhYmVsPVwicmVtb3ZlXCIgLz59XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3gsIGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50UHJvcHMsIEJ1dHRvbkhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5jb25zdCBTUk9ubHkgPSBjc3NgXG4gIGNsaXA6IHJlY3QoMCAwIDAgMCk7XG4gIGNsaXAtcGF0aDogaW5zZXQoNTAlKTtcbiAgaGVpZ2h0OiAxcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgd2lkdGg6IDFweDtcbmA7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGljb25OYW1lOiBDb21wb25lbnRQcm9wczx0eXBlb2YgSWNvbj5bJ25hbWUnXTtcbiAgb25DbGljazogKCkgPT4gdm9pZDtcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgSWNvbkJ1dHRvbiA9ICh7XG4gIGljb25OYW1lLFxuICBvbkNsaWNrLFxuICBjbGFzc05hbWUsXG4gIGxhYmVsLFxuICAuLi5idXR0b25Qcm9wc1xufTogUHJvcHMgJiBCdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4pID0+IChcbiAgPGJ1dHRvbiBjbGFzc05hbWU9e2N4KCdnZi1mb3JtLWxhYmVsIGdmLWZvcm0tbGFiZWwtLWJ0biBxdWVyeS1wYXJ0JywgY2xhc3NOYW1lKX0gb25DbGljaz17b25DbGlja30gey4uLmJ1dHRvblByb3BzfT5cbiAgICA8c3BhbiBjbGFzc05hbWU9e1NST25seX0+e2xhYmVsfTwvc3Bhbj5cbiAgICA8SWNvbiBuYW1lPXtpY29uTmFtZX0gYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgPC9idXR0b24+XG4pO1xuIiwiaW1wb3J0IHsgY3NzLCBjeCB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IFNlZ21lbnQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IGRlc2NyaWJlTWV0cmljIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBNZXRyaWNBZ2dyZWdhdGlvbiB9IGZyb20gJy4vUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL2FnZ3JlZ2F0aW9ucyc7XG5cbmNvbnN0IG5vV3JhcCA9IGNzc2BcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbmA7XG5cbmNvbnN0IHRvT3B0aW9uID0gKG1ldHJpYzogTWV0cmljQWdncmVnYXRpb24pID0+ICh7XG4gIGxhYmVsOiBkZXNjcmliZU1ldHJpYyhtZXRyaWMpLFxuICB2YWx1ZTogbWV0cmljLFxufSk7XG5cbmNvbnN0IHRvT3B0aW9ucyA9IChtZXRyaWNzOiBNZXRyaWNBZ2dyZWdhdGlvbltdKTogQXJyYXk8U2VsZWN0YWJsZVZhbHVlPE1ldHJpY0FnZ3JlZ2F0aW9uPj4gPT4gbWV0cmljcy5tYXAodG9PcHRpb24pO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBvcHRpb25zOiBNZXRyaWNBZ2dyZWdhdGlvbltdO1xuICBvbkNoYW5nZTogKGU6IFNlbGVjdGFibGVWYWx1ZTxNZXRyaWNBZ2dyZWdhdGlvbj4pID0+IHZvaWQ7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdmFsdWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBNZXRyaWNQaWNrZXIgPSAoeyBvcHRpb25zLCBvbkNoYW5nZSwgY2xhc3NOYW1lLCB2YWx1ZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuZmluZCgob3B0aW9uKSA9PiBvcHRpb24uaWQgPT09IHZhbHVlKTtcblxuICByZXR1cm4gKFxuICAgIDxTZWdtZW50XG4gICAgICBjbGFzc05hbWU9e2N4KGNsYXNzTmFtZSwgbm9XcmFwKX1cbiAgICAgIG9wdGlvbnM9e3RvT3B0aW9ucyhvcHRpb25zKX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IE1ldHJpY1wiXG4gICAgICB2YWx1ZT17ISFzZWxlY3RlZE9wdGlvbiA/IHRvT3B0aW9uKHNlbGVjdGVkT3B0aW9uKSA6IHVuZGVmaW5lZH1cbiAgICAvPlxuICApO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEFubm90YXRpb25RdWVyeSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRWRpdG9yUm93LCBFZGl0b3JGaWVsZCB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgRWxhc3RpY3NlYXJjaFF1ZXJ5IH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBFbGFzdGljUXVlcnlFZGl0b3JQcm9wcywgRWxhc3RpY1NlYXJjaFF1ZXJ5RmllbGQgfSBmcm9tICcuL2luZGV4JztcblxudHlwZSBQcm9wcyA9IEVsYXN0aWNRdWVyeUVkaXRvclByb3BzICYge1xuICBhbm5vdGF0aW9uPzogQW5ub3RhdGlvblF1ZXJ5PEVsYXN0aWNzZWFyY2hRdWVyeT47XG4gIG9uQW5ub3RhdGlvbkNoYW5nZT86IChhbm5vdGF0aW9uOiBBbm5vdGF0aW9uUXVlcnk8RWxhc3RpY3NlYXJjaFF1ZXJ5PikgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBFbGFzdGljc2VhcmNoQW5ub3RhdGlvbnNRdWVyeUVkaXRvcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3QgYW5ub3RhdGlvbiA9IHByb3BzLmFubm90YXRpb24hO1xuICBjb25zdCBvbkFubm90YXRpb25DaGFuZ2UgPSBwcm9wcy5vbkFubm90YXRpb25DaGFuZ2UhO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1ncm91cFwiPlxuICAgICAgICA8RWxhc3RpY1NlYXJjaFF1ZXJ5RmllbGRcbiAgICAgICAgICB2YWx1ZT17YW5ub3RhdGlvbi50YXJnZXQ/LnF1ZXJ5fVxuICAgICAgICAgIG9uQ2hhbmdlPXsocXVlcnkpID0+IHtcbiAgICAgICAgICAgIG9uQW5ub3RhdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICAgIC4uLmFubm90YXRpb24sXG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGg2PkZpZWxkIG1hcHBpbmdzPC9oNj5cbiAgICAgICAgPEVkaXRvclJvdz5cbiAgICAgICAgICA8RWRpdG9yRmllbGQgbGFiZWw9XCJUaW1lXCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkB0aW1lc3RhbXBcIlxuICAgICAgICAgICAgICB2YWx1ZT17YW5ub3RhdGlvbi50aW1lRmllbGR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQW5ub3RhdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAuLi5hbm5vdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgdGltZUZpZWxkOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRWRpdG9yRmllbGQ+XG4gICAgICAgICAgPEVkaXRvckZpZWxkIGxhYmVsPVwiVGltZSBFbmRcIj5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXthbm5vdGF0aW9uLnRpbWVFbmRGaWVsZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgb25Bbm5vdGF0aW9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLmFubm90YXRpb24sXG4gICAgICAgICAgICAgICAgICB0aW1lRW5kRmllbGQ6IGUuY3VycmVudFRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9FZGl0b3JGaWVsZD5cbiAgICAgICAgICA8RWRpdG9yRmllbGQgbGFiZWw9XCJUZXh0XCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17YW5ub3RhdGlvbi50ZXh0RmllbGR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQW5ub3RhdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAuLi5hbm5vdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgdGV4dEZpZWxkOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRWRpdG9yRmllbGQ+XG4gICAgICAgICAgPEVkaXRvckZpZWxkIGxhYmVsPVwiVGFnc1wiPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ0YWdzXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2Fubm90YXRpb24udGFnc0ZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBvbkFubm90YXRpb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4uYW5ub3RhdGlvbixcbiAgICAgICAgICAgICAgICAgIHRhZ3NGaWVsZDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0VkaXRvckZpZWxkPlxuICAgICAgICA8L0VkaXRvclJvdz5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgU2VsZWN0YWJsZVZhbHVlIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBJbmxpbmVTZWdtZW50R3JvdXAsIFNlZ21lbnQsIFNlZ21lbnRBc3luYyB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgdXNlRmllbGRzIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlRmllbGRzJztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBzZWdtZW50U3R5bGVzIH0gZnJvbSAnLi4vc3R5bGVzJztcblxuaW1wb3J0IHsgU2V0dGluZ3NFZGl0b3IgfSBmcm9tICcuL1NldHRpbmdzRWRpdG9yJztcbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uLCBCdWNrZXRBZ2dyZWdhdGlvblR5cGUsIGlzQnVja2V0QWdncmVnYXRpb25XaXRoRmllbGQgfSBmcm9tICcuL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvbkZpZWxkLCBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblR5cGUgfSBmcm9tICcuL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgYnVja2V0QWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgYnVja2V0QWdnT3B0aW9uczogQXJyYXk8U2VsZWN0YWJsZVZhbHVlPEJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZT4+ID0gT2JqZWN0LmVudHJpZXMoYnVja2V0QWdncmVnYXRpb25Db25maWcpLm1hcChcbiAgKFtrZXksIHsgbGFiZWwgfV0pID0+ICh7XG4gICAgbGFiZWwsXG4gICAgdmFsdWU6IGtleSBhcyBCdWNrZXRBZ2dyZWdhdGlvblR5cGUsXG4gIH0pXG4pO1xuXG5jb25zdCB0b09wdGlvbiA9IChidWNrZXRBZ2c6IEJ1Y2tldEFnZ3JlZ2F0aW9uKSA9PiAoe1xuICBsYWJlbDogYnVja2V0QWdncmVnYXRpb25Db25maWdbYnVja2V0QWdnLnR5cGVdLmxhYmVsLFxuICB2YWx1ZTogYnVja2V0QWdnLnR5cGUsXG59KTtcblxuaW50ZXJmYWNlIFF1ZXJ5TWV0cmljRWRpdG9yUHJvcHMge1xuICB2YWx1ZTogQnVja2V0QWdncmVnYXRpb247XG59XG5cbmV4cG9ydCBjb25zdCBCdWNrZXRBZ2dyZWdhdGlvbkVkaXRvciA9ICh7IHZhbHVlIH06IFF1ZXJ5TWV0cmljRWRpdG9yUHJvcHMpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBnZXRGaWVsZHMgPSB1c2VGaWVsZHModmFsdWUudHlwZSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPElubGluZVNlZ21lbnRHcm91cD5cbiAgICAgICAgPFNlZ21lbnRcbiAgICAgICAgICBjbGFzc05hbWU9e3NlZ21lbnRTdHlsZXN9XG4gICAgICAgICAgb3B0aW9ucz17YnVja2V0QWdnT3B0aW9uc31cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGRpc3BhdGNoKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZSh7IGlkOiB2YWx1ZS5pZCwgbmV3VHlwZTogZS52YWx1ZSEgfSkpfVxuICAgICAgICAgIHZhbHVlPXt0b09wdGlvbih2YWx1ZSl9XG4gICAgICAgIC8+XG5cbiAgICAgICAge2lzQnVja2V0QWdncmVnYXRpb25XaXRoRmllbGQodmFsdWUpICYmIChcbiAgICAgICAgICA8U2VnbWVudEFzeW5jXG4gICAgICAgICAgICBjbGFzc05hbWU9e3NlZ21lbnRTdHlsZXN9XG4gICAgICAgICAgICBsb2FkT3B0aW9ucz17Z2V0RmllbGRzfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvbkZpZWxkKHsgaWQ6IHZhbHVlLmlkLCBuZXdGaWVsZDogZS52YWx1ZSB9KSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBGaWVsZFwiXG4gICAgICAgICAgICB2YWx1ZT17dmFsdWUuZmllbGR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvSW5saW5lU2VnbWVudEdyb3VwPlxuXG4gICAgICA8U2V0dGluZ3NFZGl0b3IgYnVja2V0QWdnPXt2YWx1ZX0gLz5cbiAgICA8Lz5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgR3JvdXBCYXNlLCBPcHRpb25zT3JHcm91cHMgfSBmcm9tICdyZWFjdC1zZWxlY3QnO1xuXG5pbXBvcnQgeyBJbnRlcm5hbFRpbWVab25lcywgU2VsZWN0YWJsZVZhbHVlIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBJbmxpbmVGaWVsZCwgSW5wdXQsIFNlbGVjdCwgVGltZVpvbmVQaWNrZXIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyB1c2VDcmVhdGFibGVTZWxlY3RQZXJzaXN0ZWRCZWhhdmlvdXIgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VDcmVhdGFibGVTZWxlY3RQZXJzaXN0ZWRCZWhhdmlvdXInO1xuaW1wb3J0IHsgRGF0ZUhpc3RvZ3JhbSB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcgfSBmcm9tICcuLi9zdGF0ZS9hY3Rpb25zJztcbmltcG9ydCB7IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBpbmxpbmVGaWVsZFByb3BzIH0gZnJvbSAnLic7XG5cbmNvbnN0IGRlZmF1bHRJbnRlcnZhbE9wdGlvbnM6IEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+PiA9IFtcbiAgeyBsYWJlbDogJ2F1dG8nLCB2YWx1ZTogJ2F1dG8nIH0sXG4gIHsgbGFiZWw6ICcxMHMnLCB2YWx1ZTogJzEwcycgfSxcbiAgeyBsYWJlbDogJzFtJywgdmFsdWU6ICcxbScgfSxcbiAgeyBsYWJlbDogJzVtJywgdmFsdWU6ICc1bScgfSxcbiAgeyBsYWJlbDogJzEwbScsIHZhbHVlOiAnMTBtJyB9LFxuICB7IGxhYmVsOiAnMjBtJywgdmFsdWU6ICcyMG0nIH0sXG4gIHsgbGFiZWw6ICcxaCcsIHZhbHVlOiAnMWgnIH0sXG4gIHsgbGFiZWw6ICcxZCcsIHZhbHVlOiAnMWQnIH0sXG5dO1xuXG5jb25zdCBoYXNWYWx1ZSA9XG4gIChzZWFyY2hWYWx1ZTogc3RyaW5nKSA9PlxuICAoeyB2YWx1ZSB9OiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPikgPT5cbiAgICB2YWx1ZSA9PT0gc2VhcmNoVmFsdWU7XG5cbmNvbnN0IGlzVmFsaWROZXdPcHRpb24gPSAoXG4gIGlucHV0VmFsdWU6IHN0cmluZyxcbiAgXzogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4gfCBudWxsLFxuICBvcHRpb25zOiBPcHRpb25zT3JHcm91cHM8dW5rbm93biwgR3JvdXBCYXNlPHVua25vd24+PlxuKSA9PiB7XG4gIC8vIFRPRE86IHdvdWxkIGJlIGV4dHJlbWVseSBuaWNlIGhlcmUgdG8gYWxsb3cgb25seSB0ZW1wbGF0ZSB2YXJpYWJsZXMgYW5kIHZhbHVlcyB0aGF0IGFyZVxuICAvLyB2YWxpZCBkYXRlIGhpc3RvZ3JhbSdzIEludGVydmFsIG9wdGlvbnNcbiAgY29uc3QgdmFsdWVFeGlzdHMgPSAob3B0aW9ucyBhcyBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4pLnNvbWUoaGFzVmFsdWUoaW5wdXRWYWx1ZSkpO1xuICAvLyB3ZSBhbHNvIGRvbid0IHdhbnQgdXNlcnMgdG8gY3JlYXRlIFwiZW1wdHlcIiB2YWx1ZXNcbiAgcmV0dXJuICF2YWx1ZUV4aXN0cyAmJiBpbnB1dFZhbHVlLnRyaW0oKS5sZW5ndGggPiAwO1xufTtcblxuY29uc3Qgb3B0aW9uU3RhcnRzV2l0aFZhbHVlID0gKG9wdGlvbjogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4sIHZhbHVlOiBzdHJpbmcpID0+XG4gIG9wdGlvbi52YWx1ZT8uc3RhcnRzV2l0aCh2YWx1ZSkgfHwgZmFsc2U7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGJ1Y2tldEFnZzogRGF0ZUhpc3RvZ3JhbTtcbn1cblxuZXhwb3J0IGNvbnN0IERhdGVIaXN0b2dyYW1TZXR0aW5nc0VkaXRvciA9ICh7IGJ1Y2tldEFnZyB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHsgY3VycmVudDogYmFzZUlkIH0gPSB1c2VSZWYodW5pcXVlSWQoJ2VzLWRhdGVfaGlzdG9ncmFtLScpKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnZhbENoYW5nZSA9ICh7IHZhbHVlIH06IFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+KSA9PlxuICAgIGRpc3BhdGNoKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdpbnRlcnZhbCcsIG5ld1ZhbHVlOiB2YWx1ZSB9KSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiSW50ZXJ2YWxcIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBpbnB1dElkPXt1bmlxdWVJZCgnZXMtZGF0ZV9oaXN0b2dyYW0taW50ZXJ2YWwnKX1cbiAgICAgICAgICBpc1ZhbGlkTmV3T3B0aW9uPXtpc1ZhbGlkTmV3T3B0aW9ufVxuICAgICAgICAgIGZpbHRlck9wdGlvbj17b3B0aW9uU3RhcnRzV2l0aFZhbHVlfVxuICAgICAgICAgIHsuLi51c2VDcmVhdGFibGVTZWxlY3RQZXJzaXN0ZWRCZWhhdmlvdXIoe1xuICAgICAgICAgICAgb3B0aW9uczogZGVmYXVsdEludGVydmFsT3B0aW9ucyxcbiAgICAgICAgICAgIHZhbHVlOiBidWNrZXRBZ2cuc2V0dGluZ3M/LmludGVydmFsIHx8IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnLmRhdGVfaGlzdG9ncmFtLmRlZmF1bHRTZXR0aW5ncz8uaW50ZXJ2YWwsXG4gICAgICAgICAgICBvbkNoYW5nZTogaGFuZGxlSW50ZXJ2YWxDaGFuZ2UsXG4gICAgICAgICAgfSl9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuXG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNaW4gRG9jIENvdW50XCIgey4uLmlubGluZUZpZWxkUHJvcHN9PlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBpZD17YCR7YmFzZUlkfS1taW5fZG9jX2NvdW50YH1cbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PlxuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgIGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdtaW5fZG9jX2NvdW50JywgbmV3VmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICBidWNrZXRBZ2cuc2V0dGluZ3M/Lm1pbl9kb2NfY291bnQgfHwgYnVja2V0QWdncmVnYXRpb25Db25maWcuZGF0ZV9oaXN0b2dyYW0uZGVmYXVsdFNldHRpbmdzPy5taW5fZG9jX2NvdW50XG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiVHJpbSBFZGdlc1wiIHsuLi5pbmxpbmVGaWVsZFByb3BzfSB0b29sdGlwPVwiVHJpbSB0aGUgZWRnZXMgb24gdGhlIHRpbWVzZXJpZXMgZGF0YXBvaW50c1wiPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBpZD17YCR7YmFzZUlkfS10cmltZV9lZGdlc2B9XG4gICAgICAgICAgb25CbHVyPXsoZSkgPT5cbiAgICAgICAgICAgIGRpc3BhdGNoKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICd0cmltRWRnZXMnLCBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUgfSkpXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICBidWNrZXRBZ2cuc2V0dGluZ3M/LnRyaW1FZGdlcyB8fCBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZy5kYXRlX2hpc3RvZ3JhbS5kZWZhdWx0U2V0dGluZ3M/LnRyaW1FZGdlc1xuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICBsYWJlbD1cIk9mZnNldFwiXG4gICAgICAgIHsuLi5pbmxpbmVGaWVsZFByb3BzfVxuICAgICAgICB0b29sdGlwPVwiQ2hhbmdlIHRoZSBzdGFydCB2YWx1ZSBvZiBlYWNoIGJ1Y2tldCBieSB0aGUgc3BlY2lmaWVkIHBvc2l0aXZlICgrKSBvciBuZWdhdGl2ZSBvZmZzZXQgKC0pIGR1cmF0aW9uLCBzdWNoIGFzIDFoIGZvciBhbiBob3VyLCBvciAxZCBmb3IgYSBkYXlcIlxuICAgICAgPlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBpZD17YCR7YmFzZUlkfS1vZmZzZXRgfVxuICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICBkaXNwYXRjaChjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcoeyBidWNrZXRBZ2csIHNldHRpbmdOYW1lOiAnb2Zmc2V0JywgbmV3VmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pKVxuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0VmFsdWU9e2J1Y2tldEFnZy5zZXR0aW5ncz8ub2Zmc2V0IHx8IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnLmRhdGVfaGlzdG9ncmFtLmRlZmF1bHRTZXR0aW5ncz8ub2Zmc2V0fVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiVGltZXpvbmVcIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgIDxUaW1lWm9uZVBpY2tlclxuICAgICAgICAgIHZhbHVlPXtidWNrZXRBZ2cuc2V0dGluZ3M/LnRpbWVab25lIHx8IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnLmRhdGVfaGlzdG9ncmFtLmRlZmF1bHRTZXR0aW5ncz8udGltZVpvbmV9XG4gICAgICAgICAgaW5jbHVkZUludGVybmFsPXtbSW50ZXJuYWxUaW1lWm9uZXMudXRjXX1cbiAgICAgICAgICBvbkNoYW5nZT17KHRpbWVab25lKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcoeyBidWNrZXRBZ2csIHNldHRpbmdOYW1lOiAndGltZVpvbmUnLCBuZXdWYWx1ZTogdGltZVpvbmUgfSkpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IElubGluZUZpZWxkLCBJbnB1dCwgUXVlcnlGaWVsZCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVN0YXRlbGVzc1JlZHVjZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9ob29rcy91c2VTdGF0ZWxlc3NSZWR1Y2VyJztcbmltcG9ydCB7IEFkZFJlbW92ZSB9IGZyb20gJy4uLy4uLy4uLy4uL0FkZFJlbW92ZSc7XG5pbXBvcnQgeyBGaWx0ZXJzIH0gZnJvbSAnLi4vLi4vYWdncmVnYXRpb25zJztcbmltcG9ydCB7IGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyB9IGZyb20gJy4uLy4uL3N0YXRlL2FjdGlvbnMnO1xuXG5pbXBvcnQgeyBhZGRGaWx0ZXIsIGNoYW5nZUZpbHRlciwgcmVtb3ZlRmlsdGVyIH0gZnJvbSAnLi9zdGF0ZS9hY3Rpb25zJztcbmltcG9ydCB7IHJlZHVjZXIgYXMgZmlsdGVyc1JlZHVjZXIgfSBmcm9tICcuL3N0YXRlL3JlZHVjZXInO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBidWNrZXRBZ2c6IEZpbHRlcnM7XG59XG5cbmV4cG9ydCBjb25zdCBGaWx0ZXJzU2V0dGluZ3NFZGl0b3IgPSAoeyBidWNrZXRBZ2cgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50OiBiYXNlSWQgfSA9IHVzZVJlZih1bmlxdWVJZCgnZXMtZmlsdGVycy0nKSk7XG5cbiAgY29uc3QgdXBwZXJTdGF0ZURpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICBjb25zdCBkaXNwYXRjaCA9IHVzZVN0YXRlbGVzc1JlZHVjZXIoXG4gICAgKG5ld1ZhbHVlKSA9PiB1cHBlclN0YXRlRGlzcGF0Y2goY2hhbmdlQnVja2V0QWdncmVnYXRpb25TZXR0aW5nKHsgYnVja2V0QWdnLCBzZXR0aW5nTmFtZTogJ2ZpbHRlcnMnLCBuZXdWYWx1ZSB9KSksXG4gICAgYnVja2V0QWdnLnNldHRpbmdzPy5maWx0ZXJzLFxuICAgIGZpbHRlcnNSZWR1Y2VyXG4gICk7XG5cbiAgLy8gVGhlIG1vZGVsIG1pZ2h0IG5vdCBoYXZlIGZpbHRlcnMgKG9yIGFuIGVtcHR5IGFycmF5IG9mIGZpbHRlcnMpIGluIGl0IGJlY2F1c2Ugb2YgdGhlIHdheSBpdCB3YXMgYnVpbHQgaW4gcHJldmlvdXMgdmVyc2lvbnMgb2YgdGhlIGRhdGFzb3VyY2UuXG4gIC8vIElmIHRoaXMgaXMgdGhlIGNhc2Ugd2UgYWRkIGEgZGVmYXVsdCBvbmUuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFidWNrZXRBZ2cuc2V0dGluZ3M/LmZpbHRlcnM/Lmxlbmd0aCkge1xuICAgICAgZGlzcGF0Y2goYWRkRmlsdGVyKCkpO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBidWNrZXRBZ2cuc2V0dGluZ3M/LmZpbHRlcnM/Lmxlbmd0aF0pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjc3NgXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBgfVxuICAgICAgPlxuICAgICAgICB7YnVja2V0QWdnLnNldHRpbmdzPy5maWx0ZXJzIS5tYXAoKGZpbHRlciwgaW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjc3NgXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlF1ZXJ5XCIgbGFiZWxXaWR0aD17OH0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nzc2BcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNTBweDtcbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFF1ZXJ5RmllbGRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTHVjZW5lIFF1ZXJ5XCJcbiAgICAgICAgICAgICAgICAgIHBvcnRhbE9yaWdpbj1cImVsYXN0aWNzZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgb25CbHVyPXsoKSA9PiB7fX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsocXVlcnkpID0+IGRpc3BhdGNoKGNoYW5nZUZpbHRlcih7IGluZGV4LCBmaWx0ZXI6IHsgLi4uZmlsdGVyLCBxdWVyeSB9IH0pKX1cbiAgICAgICAgICAgICAgICAgIHF1ZXJ5PXtmaWx0ZXIucXVlcnl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiTGFiZWxcIiBsYWJlbFdpZHRoPXs4fT5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgd2lkdGg9ezE2fVxuICAgICAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LWxhYmVsLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkxhYmVsXCJcbiAgICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VGaWx0ZXIoeyBpbmRleCwgZmlsdGVyOiB7IC4uLmZpbHRlciwgbGFiZWw6IGUudGFyZ2V0LnZhbHVlIH0gfSkpfVxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZmlsdGVyLmxhYmVsfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgICAgIDxBZGRSZW1vdmVcbiAgICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICBlbGVtZW50cz17YnVja2V0QWdnLnNldHRpbmdzPy5maWx0ZXJzIHx8IFtdfVxuICAgICAgICAgICAgICBvbkFkZD17KCkgPT4gZGlzcGF0Y2goYWRkRmlsdGVyKCkpfVxuICAgICAgICAgICAgICBvblJlbW92ZT17KCkgPT4gZGlzcGF0Y2gocmVtb3ZlRmlsdGVyKGluZGV4KSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi8uLi8uLi9hZ2dyZWdhdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgYWRkRmlsdGVyID0gY3JlYXRlQWN0aW9uKCdAYnVja2V0QWdncmVnYXRpb25zL2ZpbHRlci9hZGQnKTtcbmV4cG9ydCBjb25zdCByZW1vdmVGaWx0ZXIgPSBjcmVhdGVBY3Rpb248bnVtYmVyPignQGJ1Y2tldEFnZ3JlZ2F0aW9ucy9maWx0ZXIvcmVtb3ZlJyk7XG5leHBvcnQgY29uc3QgY2hhbmdlRmlsdGVyID0gY3JlYXRlQWN0aW9uPHsgaW5kZXg6IG51bWJlcjsgZmlsdGVyOiBGaWx0ZXIgfT4oJ0BidWNrZXRBZ2dyZWdhdGlvbnMvZmlsdGVyL2NoYW5nZScpO1xuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAncmVkdXgnO1xuXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuLi8uLi8uLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlciB9IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHsgYWRkRmlsdGVyLCBjaGFuZ2VGaWx0ZXIsIHJlbW92ZUZpbHRlciB9IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyID0gKHN0YXRlOiBGaWx0ZXJbXSA9IFtdLCBhY3Rpb246IEFjdGlvbikgPT4ge1xuICBpZiAoYWRkRmlsdGVyLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gWy4uLnN0YXRlLCBkZWZhdWx0RmlsdGVyKCldO1xuICB9XG5cbiAgaWYgKHJlbW92ZUZpbHRlci5tYXRjaChhY3Rpb24pKSB7XG4gICAgcmV0dXJuIHN0YXRlLnNsaWNlKDAsIGFjdGlvbi5wYXlsb2FkKS5jb25jYXQoc3RhdGUuc2xpY2UoYWN0aW9uLnBheWxvYWQgKyAxKSk7XG4gIH1cblxuICBpZiAoY2hhbmdlRmlsdGVyLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gc3RhdGUubWFwKChmaWx0ZXIsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggIT09IGFjdGlvbi5wYXlsb2FkLmluZGV4KSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZC5maWx0ZXI7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59O1xuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnLi4vLi4vYWdncmVnYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRGaWx0ZXIgPSAoKTogRmlsdGVyID0+ICh7IGxhYmVsOiAnJywgcXVlcnk6ICcqJyB9KTtcbiIsImltcG9ydCB7IHVuaXF1ZUlkIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgSW5saW5lRmllbGQsIFNlbGVjdCwgSW5wdXQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBkZXNjcmliZU1ldHJpYyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IHVzZUNyZWF0YWJsZVNlbGVjdFBlcnNpc3RlZEJlaGF2aW91ciB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUNyZWF0YWJsZVNlbGVjdFBlcnNpc3RlZEJlaGF2aW91cic7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJy4uLy4uL0VsYXN0aWNzZWFyY2hRdWVyeUNvbnRleHQnO1xuaW1wb3J0IHtcbiAgRXh0ZW5kZWRTdGF0TWV0YVR5cGUsXG4gIEV4dGVuZGVkU3RhdHMsXG4gIGlzUGlwZWxpbmVBZ2dyZWdhdGlvbixcbiAgTWV0cmljQWdncmVnYXRpb24sXG4gIFBlcmNlbnRpbGVzLFxufSBmcm9tICcuLi8uLi9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcbmltcG9ydCB7IFRlcm1zIH0gZnJvbSAnLi4vYWdncmVnYXRpb25zJztcbmltcG9ydCB7IGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyB9IGZyb20gJy4uL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgYnVja2V0QWdncmVnYXRpb25Db25maWcsIG9yZGVyQnlPcHRpb25zLCBvcmRlck9wdGlvbnMsIHNpemVPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBpbmxpbmVGaWVsZFByb3BzIH0gZnJvbSAnLic7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGJ1Y2tldEFnZzogVGVybXM7XG59XG5cbmV4cG9ydCBjb25zdCBUZXJtc1NldHRpbmdzRWRpdG9yID0gKHsgYnVja2V0QWdnIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgbWV0cmljcyB9ID0gdXNlUXVlcnkoKTtcbiAgY29uc3Qgb3JkZXJCeSA9IGNyZWF0ZU9yZGVyQnlPcHRpb25zKG1ldHJpY3MpO1xuICBjb25zdCB7IGN1cnJlbnQ6IGJhc2VJZCB9ID0gdXNlUmVmKHVuaXF1ZUlkKCdlcy10ZXJtcy0nKSk7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIk9yZGVyXCIgey4uLmlubGluZUZpZWxkUHJvcHN9PlxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgaW5wdXRJZD17YCR7YmFzZUlkfS1vcmRlcmB9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PlxuICAgICAgICAgICAgZGlzcGF0Y2goY2hhbmdlQnVja2V0QWdncmVnYXRpb25TZXR0aW5nKHsgYnVja2V0QWdnLCBzZXR0aW5nTmFtZTogJ29yZGVyJywgbmV3VmFsdWU6IGUudmFsdWUgfSkpXG4gICAgICAgICAgfVxuICAgICAgICAgIG9wdGlvbnM9e29yZGVyT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17YnVja2V0QWdnLnNldHRpbmdzPy5vcmRlciB8fCBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZy50ZXJtcy5kZWZhdWx0U2V0dGluZ3M/Lm9yZGVyfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiU2l6ZVwiIHsuLi5pbmxpbmVGaWVsZFByb3BzfT5cbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIGlucHV0SWQ9e2Ake2Jhc2VJZH0tc2l6ZWB9XG4gICAgICAgICAgLy8gVE9ETzogaXNWYWxpZE5ld09wdGlvbiBzaG91bGQgb25seSBhbGxvdyBudW1iZXJzICYgdGVtcGxhdGUgdmFyaWFibGVzXG4gICAgICAgICAgey4uLnVzZUNyZWF0YWJsZVNlbGVjdFBlcnNpc3RlZEJlaGF2aW91cih7XG4gICAgICAgICAgICBvcHRpb25zOiBzaXplT3B0aW9ucyxcbiAgICAgICAgICAgIHZhbHVlOiBidWNrZXRBZ2cuc2V0dGluZ3M/LnNpemUgfHwgYnVja2V0QWdncmVnYXRpb25Db25maWcudGVybXMuZGVmYXVsdFNldHRpbmdzPy5zaXplLFxuICAgICAgICAgICAgb25DaGFuZ2UoeyB2YWx1ZSB9KSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdzaXplJywgbmV3VmFsdWU6IHZhbHVlIH0pKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSl9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuXG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNaW4gRG9jIENvdW50XCIgey4uLmlubGluZUZpZWxkUHJvcHN9PlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICBpZD17YCR7YmFzZUlkfS1taW5fZG9jX2NvdW50YH1cbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PlxuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgIGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdtaW5fZG9jX2NvdW50JywgbmV3VmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZT17XG4gICAgICAgICAgICBidWNrZXRBZ2cuc2V0dGluZ3M/Lm1pbl9kb2NfY291bnQgfHwgYnVja2V0QWdncmVnYXRpb25Db25maWcudGVybXMuZGVmYXVsdFNldHRpbmdzPy5taW5fZG9jX2NvdW50XG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiT3JkZXIgQnlcIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBpbnB1dElkPXtgJHtiYXNlSWR9LW9yZGVyX2J5YH1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XG4gICAgICAgICAgICBkaXNwYXRjaChjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcoeyBidWNrZXRBZ2csIHNldHRpbmdOYW1lOiAnb3JkZXJCeScsIG5ld1ZhbHVlOiBlLnZhbHVlIH0pKVxuICAgICAgICAgIH1cbiAgICAgICAgICBvcHRpb25zPXtvcmRlckJ5fVxuICAgICAgICAgIHZhbHVlPXtidWNrZXRBZ2cuc2V0dGluZ3M/Lm9yZGVyQnkgfHwgYnVja2V0QWdncmVnYXRpb25Db25maWcudGVybXMuZGVmYXVsdFNldHRpbmdzPy5vcmRlckJ5fVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiTWlzc2luZ1wiIHsuLi5pbmxpbmVGaWVsZFByb3BzfT5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgaWQ9e2Ake2Jhc2VJZH0tbWlzc2luZ2B9XG4gICAgICAgICAgb25CbHVyPXsoZSkgPT5cbiAgICAgICAgICAgIGRpc3BhdGNoKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdtaXNzaW5nJywgbmV3VmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pKVxuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0VmFsdWU9e2J1Y2tldEFnZy5zZXR0aW5ncz8ubWlzc2luZyB8fCBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZy50ZXJtcy5kZWZhdWx0U2V0dGluZ3M/Lm1pc3Npbmd9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgIDwvPlxuICApO1xufTtcblxuLyoqXG4gKiBUaGlzIHJldHVybnMgdGhlIHZhbGlkIG9wdGlvbnMgZm9yIGVhY2ggb2YgdGhlIGVuYWJsZWQgZXh0ZW5kZWQgc3RhdFxuICovXG5mdW5jdGlvbiBjcmVhdGVPcmRlckJ5T3B0aW9uc0ZvckV4dGVuZGVkU3RhdHMobWV0cmljOiBFeHRlbmRlZFN0YXRzKTogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4ge1xuICBpZiAoIW1ldHJpYy5tZXRhKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG1ldGFLZXlzID0gT2JqZWN0LmtleXMobWV0cmljLm1ldGEpIGFzIEV4dGVuZGVkU3RhdE1ldGFUeXBlW107XG4gIHJldHVybiBtZXRhS2V5c1xuICAgIC5maWx0ZXIoKGtleSkgPT4gbWV0cmljLm1ldGE/LltrZXldKVxuICAgIC5tYXAoKGtleSkgPT4ge1xuICAgICAgbGV0IG1ldGhvZCA9IGtleSBhcyBzdHJpbmc7XG4gICAgICAvLyBUaGUgYnVja2V0IHBhdGggZm9yIHN0ZF9kZXZpYXRpb25fYm91bmRzLmxvd2VyIGFuZCBzdGRfZGV2aWF0aW9uX2JvdW5kcy51cHBlclxuICAgICAgLy8gaXMgYWNjZXNzZWQgdmlhIHN0ZF9sb3dlciBhbmQgc3RkX3VwcGVyLCByZXNwZWN0aXZlbHkuXG4gICAgICBpZiAoa2V5ID09PSAnc3RkX2RldmlhdGlvbl9ib3VuZHNfbG93ZXInKSB7XG4gICAgICAgIG1ldGhvZCA9ICdzdGRfbG93ZXInO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gJ3N0ZF9kZXZpYXRpb25fYm91bmRzX3VwcGVyJykge1xuICAgICAgICBtZXRob2QgPSAnc3RkX3VwcGVyJztcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGxhYmVsOiBgJHtkZXNjcmliZU1ldHJpYyhtZXRyaWMpfSAoJHttZXRob2R9KWAsIHZhbHVlOiBgJHttZXRyaWMuaWR9WyR7bWV0aG9kfV1gIH07XG4gICAgfSk7XG59XG5cbi8qKlxuICogVGhpcyByZXR1cm5zIHRoZSB2YWxpZCBvcHRpb25zIGZvciBlYWNoIG9mIHRoZSBwZXJjZW50cyBsaXN0ZWQgaW4gdGhlIHBlcmNlbnRpbGUgc2V0dGluZ3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3JkZXJCeU9wdGlvbnNGb3JQZXJjZW50aWxlcyhtZXRyaWM6IFBlcmNlbnRpbGVzKTogQXJyYXk8U2VsZWN0YWJsZVZhbHVlPHN0cmluZz4+IHtcbiAgaWYgKCFtZXRyaWMuc2V0dGluZ3M/LnBlcmNlbnRzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBtZXRyaWMuc2V0dGluZ3MucGVyY2VudHMubWFwKChwZXJjZW50KSA9PiB7XG4gICAgLy8gVGhlIGJ1Y2tldCBwYXRoIGZvciBwZXJjZW50aWxlIG51bWJlcnMgaXMgYXBwZW5kZWQgd2l0aCBhIGAuMGAgaWYgdGhlIG51bWJlciBpcyB3aG9sZVxuICAgIC8vIG90aGVyd2lzZSB5b3UgaGF2ZSB0byB1c2UgdGhlIGFjdHVhbCB2YWx1ZS5cbiAgICBjb25zdCBwZXJjZW50U3RyaW5nID0gL15cXGQrXFwuXFxkKy8udGVzdChgJHtwZXJjZW50fWApID8gcGVyY2VudCA6IGAke3BlcmNlbnR9LjBgO1xuICAgIHJldHVybiB7IGxhYmVsOiBgJHtkZXNjcmliZU1ldHJpYyhtZXRyaWMpfSAoJHtwZXJjZW50fSlgLCB2YWx1ZTogYCR7bWV0cmljLmlkfVske3BlcmNlbnRTdHJpbmd9XWAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRPcmRlclRhcmdldChtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uKSB7XG4gIHJldHVybiAoXG4gICAgLy8gdG9wIG1ldHJpY3MgY2FuJ3QgYmUgdXNlZCBmb3Igb3JkZXJpbmdcbiAgICBtZXRyaWMudHlwZSAhPT0gJ3RvcF9tZXRyaWNzJyAmJlxuICAgIC8vIHBpcGVsaW5lIGFnZ3JlZ2F0aW9ucyBjYW4ndCBiZSB1c2VkIGZvciBvcmRlcmluZzogaHR0cHM6Ly93d3cuZWxhc3RpYy5jby9ndWlkZS9lbi9lbGFzdGljc2VhcmNoL3JlZmVyZW5jZS9jdXJyZW50L3NlYXJjaC1hZ2dyZWdhdGlvbnMtYnVja2V0LXRlcm1zLWFnZ3JlZ2F0aW9uLmh0bWwjc2VhcmNoLWFnZ3JlZ2F0aW9ucy1idWNrZXQtdGVybXMtYWdncmVnYXRpb24tb3JkZXJcbiAgICAhaXNQaXBlbGluZUFnZ3JlZ2F0aW9uKG1ldHJpYylcbiAgKTtcbn1cblxuLyoqXG4gKiBUaGlzIGNyZWF0ZXMgYWxsIHRoZSB2YWxpZCBvcmRlciBieSBvcHRpb25zIGJhc2VkIG9uIHRoZSBtZXRyaWNzXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlckJ5T3B0aW9ucyA9IChtZXRyaWNzOiBNZXRyaWNBZ2dyZWdhdGlvbltdID0gW10pOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4gPT4ge1xuICBjb25zdCBtZXRyaWNPcHRpb25zID0gbWV0cmljcy5maWx0ZXIoaXNWYWxpZE9yZGVyVGFyZ2V0KS5mbGF0TWFwKChtZXRyaWMpID0+IHtcbiAgICBpZiAobWV0cmljLnR5cGUgPT09ICdleHRlbmRlZF9zdGF0cycpIHtcbiAgICAgIHJldHVybiBjcmVhdGVPcmRlckJ5T3B0aW9uc0ZvckV4dGVuZGVkU3RhdHMobWV0cmljKTtcbiAgICB9IGVsc2UgaWYgKG1ldHJpYy50eXBlID09PSAncGVyY2VudGlsZXMnKSB7XG4gICAgICByZXR1cm4gY3JlYXRlT3JkZXJCeU9wdGlvbnNGb3JQZXJjZW50aWxlcyhtZXRyaWMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBsYWJlbDogZGVzY3JpYmVNZXRyaWMobWV0cmljKSwgdmFsdWU6IG1ldHJpYy5pZCB9O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBbLi4ub3JkZXJCeU9wdGlvbnMsIC4uLm1ldHJpY09wdGlvbnNdO1xufTtcbiIsImltcG9ydCB7IHVuaXF1ZUlkIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnRQcm9wcywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJbmxpbmVGaWVsZCwgSW5wdXQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBTZXR0aW5nc0VkaXRvckNvbnRhaW5lciB9IGZyb20gJy4uLy4uL1NldHRpbmdzRWRpdG9yQ29udGFpbmVyJztcbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi4vYWdncmVnYXRpb25zJztcbmltcG9ydCB7IGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyB9IGZyb20gJy4uL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgYnVja2V0QWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IERhdGVIaXN0b2dyYW1TZXR0aW5nc0VkaXRvciB9IGZyb20gJy4vRGF0ZUhpc3RvZ3JhbVNldHRpbmdzRWRpdG9yJztcbmltcG9ydCB7IEZpbHRlcnNTZXR0aW5nc0VkaXRvciB9IGZyb20gJy4vRmlsdGVyc1NldHRpbmdzRWRpdG9yJztcbmltcG9ydCB7IFRlcm1zU2V0dGluZ3NFZGl0b3IgfSBmcm9tICcuL1Rlcm1zU2V0dGluZ3NFZGl0b3InO1xuaW1wb3J0IHsgdXNlRGVzY3JpcHRpb24gfSBmcm9tICcuL3VzZURlc2NyaXB0aW9uJztcblxuZXhwb3J0IGNvbnN0IGlubGluZUZpZWxkUHJvcHM6IFBhcnRpYWw8Q29tcG9uZW50UHJvcHM8dHlwZW9mIElubGluZUZpZWxkPj4gPSB7XG4gIGxhYmVsV2lkdGg6IDE2LFxufTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgYnVja2V0QWdnOiBCdWNrZXRBZ2dyZWdhdGlvbjtcbn1cblxuZXhwb3J0IGNvbnN0IFNldHRpbmdzRWRpdG9yID0gKHsgYnVja2V0QWdnIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY3VycmVudDogYmFzZUlkIH0gPSB1c2VSZWYodW5pcXVlSWQoJ2VzLXNldHRpbmctJykpO1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICBjb25zdCBzZXR0aW5nc0Rlc2NyaXB0aW9uID0gdXNlRGVzY3JpcHRpb24oYnVja2V0QWdnKTtcblxuICByZXR1cm4gKFxuICAgIDxTZXR0aW5nc0VkaXRvckNvbnRhaW5lciBsYWJlbD17c2V0dGluZ3NEZXNjcmlwdGlvbn0+XG4gICAgICB7YnVja2V0QWdnLnR5cGUgPT09ICd0ZXJtcycgJiYgPFRlcm1zU2V0dGluZ3NFZGl0b3IgYnVja2V0QWdnPXtidWNrZXRBZ2d9IC8+fVxuICAgICAge2J1Y2tldEFnZy50eXBlID09PSAnZGF0ZV9oaXN0b2dyYW0nICYmIDxEYXRlSGlzdG9ncmFtU2V0dGluZ3NFZGl0b3IgYnVja2V0QWdnPXtidWNrZXRBZ2d9IC8+fVxuICAgICAge2J1Y2tldEFnZy50eXBlID09PSAnZmlsdGVycycgJiYgPEZpbHRlcnNTZXR0aW5nc0VkaXRvciBidWNrZXRBZ2c9e2J1Y2tldEFnZ30gLz59XG5cbiAgICAgIHtidWNrZXRBZ2cudHlwZSA9PT0gJ2dlb2hhc2hfZ3JpZCcgJiYgKFxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJQcmVjaXNpb25cIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBpZD17YCR7YmFzZUlkfS1nZW9oYXNoX2dyaWQtcHJlY2lzaW9uYH1cbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZyh7IGJ1Y2tldEFnZywgc2V0dGluZ05hbWU6ICdwcmVjaXNpb24nLCBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtcbiAgICAgICAgICAgICAgYnVja2V0QWdnLnNldHRpbmdzPy5wcmVjaXNpb24gfHwgYnVja2V0QWdncmVnYXRpb25Db25maWdbYnVja2V0QWdnLnR5cGVdLmRlZmF1bHRTZXR0aW5ncz8ucHJlY2lzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICl9XG5cbiAgICAgIHtidWNrZXRBZ2cudHlwZSA9PT0gJ2hpc3RvZ3JhbScgJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIkludGVydmFsXCIgey4uLmlubGluZUZpZWxkUHJvcHN9PlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LWhpc3RvZ3JhbS1pbnRlcnZhbGB9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcoeyBidWNrZXRBZ2csIHNldHRpbmdOYW1lOiAnaW50ZXJ2YWwnLCBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtcbiAgICAgICAgICAgICAgICBidWNrZXRBZ2cuc2V0dGluZ3M/LmludGVydmFsIHx8IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnW2J1Y2tldEFnZy50eXBlXS5kZWZhdWx0U2V0dGluZ3M/LmludGVydmFsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIk1pbiBEb2MgQ291bnRcIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgaWQ9e2Ake2Jhc2VJZH0taGlzdG9ncmFtLW1pbl9kb2NfY291bnRgfVxuICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgY2hhbmdlQnVja2V0QWdncmVnYXRpb25TZXR0aW5nKHsgYnVja2V0QWdnLCBzZXR0aW5nTmFtZTogJ21pbl9kb2NfY291bnQnLCBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtcbiAgICAgICAgICAgICAgICBidWNrZXRBZ2cuc2V0dGluZ3M/Lm1pbl9kb2NfY291bnQgfHxcbiAgICAgICAgICAgICAgICBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZ1tidWNrZXRBZ2cudHlwZV0uZGVmYXVsdFNldHRpbmdzPy5taW5fZG9jX2NvdW50XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgIDwvU2V0dGluZ3NFZGl0b3JDb250YWluZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgZGVzY3JpYmVNZXRyaWMsIGNvbnZlcnRPcmRlckJ5VG9NZXRyaWNJZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnLi4vLi4vRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dCc7XG5pbXBvcnQgeyBCdWNrZXRBZ2dyZWdhdGlvbiB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZywgb3JkZXJCeU9wdGlvbnMsIG9yZGVyT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgaGFzVmFsdWUgPSAodmFsdWU6IHN0cmluZykgPT4gKG9iamVjdDogeyB2YWx1ZT86IHN0cmluZyB9KSA9PiBvYmplY3QudmFsdWUgPT09IHZhbHVlO1xuXG4vLyBGSVhNRTogV2Ugc2hvdWxkIGFwcGx5IHRoZSBzYW1lIGRlZmF1bHRzIHdlIGhhdmUgaW4gYnVja2V0QWdncmVnYXRpb25zQ29uZmlnIGhlcmUgaW5zdGVhZCBvZiBcImN1c3RvbVwiIHZhbHVlc1xuLy8gYXMgdGhleSBtaWdodCBnZXQgb3V0IG9mIHN5bmMuXG4vLyBUaGUgcmVhc29uIHdlIG5lZWQgdGhlbSBpcyB0aGF0IGV2ZW4gdGhvdWdoIGFmdGVyIHRoZSByZWZhY3RvcmluZyBlYWNoIHNldHRpbmcgaXMgY3JlYXRlZCB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlLFxuLy8gcXVlcmllcyBjcmVhdGVkIHdpdGggdGhlIG9sZCB2ZXJzaW9uIG1pZ2h0IG5vdCBoYXZlIHRoZW0uXG5leHBvcnQgY29uc3QgdXNlRGVzY3JpcHRpb24gPSAoYnVja2V0QWdnOiBCdWNrZXRBZ2dyZWdhdGlvbik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHsgbWV0cmljcyB9ID0gdXNlUXVlcnkoKTtcblxuICBzd2l0Y2ggKGJ1Y2tldEFnZy50eXBlKSB7XG4gICAgY2FzZSAndGVybXMnOiB7XG4gICAgICBjb25zdCBvcmRlciA9IGJ1Y2tldEFnZy5zZXR0aW5ncz8ub3JkZXIgfHwgJ2Rlc2MnO1xuICAgICAgY29uc3Qgc2l6ZSA9IGJ1Y2tldEFnZy5zZXR0aW5ncz8uc2l6ZSB8fCAnMTAnO1xuICAgICAgY29uc3QgbWluRG9jQ291bnQgPSBwYXJzZUludChidWNrZXRBZ2cuc2V0dGluZ3M/Lm1pbl9kb2NfY291bnQgfHwgJzAnLCAxMCk7XG4gICAgICBjb25zdCBvcmRlckJ5ID0gYnVja2V0QWdnLnNldHRpbmdzPy5vcmRlckJ5IHx8ICdfdGVybSc7XG4gICAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcblxuICAgICAgaWYgKHNpemUgIT09ICcwJykge1xuICAgICAgICBjb25zdCBvcmRlckxhYmVsID0gb3JkZXJPcHRpb25zLmZpbmQoaGFzVmFsdWUob3JkZXIpKT8ubGFiZWwhO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IGAke29yZGVyTGFiZWx9ICR7c2l6ZX0sIGA7XG4gICAgICB9XG5cbiAgICAgIGlmIChtaW5Eb2NDb3VudCA+IDApIHtcbiAgICAgICAgZGVzY3JpcHRpb24gKz0gYE1pbiBEb2MgQ291bnQ6ICR7bWluRG9jQ291bnR9LCBgO1xuICAgICAgfVxuXG4gICAgICBkZXNjcmlwdGlvbiArPSAnT3JkZXIgYnk6ICc7XG4gICAgICBjb25zdCBvcmRlckJ5T3B0aW9uID0gb3JkZXJCeU9wdGlvbnMuZmluZChoYXNWYWx1ZShvcmRlckJ5KSk7XG4gICAgICBpZiAob3JkZXJCeU9wdGlvbikge1xuICAgICAgICBkZXNjcmlwdGlvbiArPSBvcmRlckJ5T3B0aW9uLmxhYmVsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWV0cmljID0gbWV0cmljcz8uZmluZCgobSkgPT4gbS5pZCA9PT0gY29udmVydE9yZGVyQnlUb01ldHJpY0lkKG9yZGVyQnkpKTtcbiAgICAgICAgaWYgKG1ldHJpYykge1xuICAgICAgICAgIGRlc2NyaXB0aW9uICs9IGRlc2NyaWJlTWV0cmljKG1ldHJpYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzY3JpcHRpb24gKz0gJ21ldHJpYyBub3QgZm91bmQnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzaXplID09PSAnMCcpIHtcbiAgICAgICAgZGVzY3JpcHRpb24gKz0gYCAoJHtvcmRlcn0pYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBjYXNlICdoaXN0b2dyYW0nOiB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IGJ1Y2tldEFnZy5zZXR0aW5ncz8uaW50ZXJ2YWwgfHwgMTAwMDtcbiAgICAgIGNvbnN0IG1pbkRvY0NvdW50ID0gYnVja2V0QWdnLnNldHRpbmdzPy5taW5fZG9jX2NvdW50IHx8IDE7XG5cbiAgICAgIHJldHVybiBgSW50ZXJ2YWw6ICR7aW50ZXJ2YWx9JHttaW5Eb2NDb3VudCA+IDAgPyBgLCBNaW4gRG9jIENvdW50OiAke21pbkRvY0NvdW50fWAgOiAnJ31gO1xuICAgIH1cblxuICAgIGNhc2UgJ2ZpbHRlcnMnOiB7XG4gICAgICBjb25zdCBmaWx0ZXJzID0gYnVja2V0QWdnLnNldHRpbmdzPy5maWx0ZXJzIHx8IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnWydmaWx0ZXJzJ10uZGVmYXVsdFNldHRpbmdzPy5maWx0ZXJzO1xuICAgICAgcmV0dXJuIGBGaWx0ZXIgUXVlcmllcyAoJHtmaWx0ZXJzIS5sZW5ndGh9KWA7XG4gICAgfVxuXG4gICAgY2FzZSAnZ2VvaGFzaF9ncmlkJzoge1xuICAgICAgY29uc3QgcHJlY2lzaW9uID0gTWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQoYnVja2V0QWdnLnNldHRpbmdzPy5wcmVjaXNpb24gfHwgJzUnLCAxMCksIDEyKSwgMSk7XG4gICAgICByZXR1cm4gYFByZWNpc2lvbjogJHtwcmVjaXNpb259YDtcbiAgICB9XG5cbiAgICBjYXNlICdkYXRlX2hpc3RvZ3JhbSc6IHtcbiAgICAgIGNvbnN0IGludGVydmFsID0gYnVja2V0QWdnLnNldHRpbmdzPy5pbnRlcnZhbCB8fCAnYXV0byc7XG4gICAgICBjb25zdCBtaW5Eb2NDb3VudCA9IGJ1Y2tldEFnZy5zZXR0aW5ncz8ubWluX2RvY19jb3VudCB8fCAwO1xuICAgICAgY29uc3QgdHJpbUVkZ2VzID0gYnVja2V0QWdnLnNldHRpbmdzPy50cmltRWRnZXMgfHwgMDtcblxuICAgICAgbGV0IGRlc2NyaXB0aW9uID0gYEludGVydmFsOiAke2ludGVydmFsfWA7XG5cbiAgICAgIGlmIChtaW5Eb2NDb3VudCA+IDApIHtcbiAgICAgICAgZGVzY3JpcHRpb24gKz0gYCwgTWluIERvYyBDb3VudDogJHttaW5Eb2NDb3VudH1gO1xuICAgICAgfVxuXG4gICAgICBpZiAodHJpbUVkZ2VzID4gMCkge1xuICAgICAgICBkZXNjcmlwdGlvbiArPSBgLCBUcmltIGVkZ2VzOiAke3RyaW1FZGdlc31gO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnU2V0dGluZ3MnO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgYnVja2V0QWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IHR5cGUgQnVja2V0QWdncmVnYXRpb25UeXBlID0gJ3Rlcm1zJyB8ICdmaWx0ZXJzJyB8ICdnZW9oYXNoX2dyaWQnIHwgJ2RhdGVfaGlzdG9ncmFtJyB8ICdoaXN0b2dyYW0nO1xuXG5pbnRlcmZhY2UgQmFzZUJ1Y2tldEFnZ3JlZ2F0aW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogQnVja2V0QWdncmVnYXRpb25UeXBlO1xuICBzZXR0aW5ncz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkIGV4dGVuZHMgQmFzZUJ1Y2tldEFnZ3JlZ2F0aW9uIHtcbiAgZmllbGQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0ZUhpc3RvZ3JhbSBleHRlbmRzIEJ1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkIHtcbiAgdHlwZTogJ2RhdGVfaGlzdG9ncmFtJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgaW50ZXJ2YWw/OiBzdHJpbmc7XG4gICAgbWluX2RvY19jb3VudD86IHN0cmluZztcbiAgICB0cmltRWRnZXM/OiBzdHJpbmc7XG4gICAgb2Zmc2V0Pzogc3RyaW5nO1xuICAgIHRpbWVab25lPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvZ3JhbSBleHRlbmRzIEJ1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkIHtcbiAgdHlwZTogJ2hpc3RvZ3JhbSc7XG4gIHNldHRpbmdzPzoge1xuICAgIGludGVydmFsPzogc3RyaW5nO1xuICAgIG1pbl9kb2NfY291bnQ/OiBzdHJpbmc7XG4gIH07XG59XG5cbnR5cGUgVGVybXNPcmRlciA9ICdkZXNjJyB8ICdhc2MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlcm1zIGV4dGVuZHMgQnVja2V0QWdncmVnYXRpb25XaXRoRmllbGQge1xuICB0eXBlOiAndGVybXMnO1xuICBzZXR0aW5ncz86IHtcbiAgICBvcmRlcj86IFRlcm1zT3JkZXI7XG4gICAgc2l6ZT86IHN0cmluZztcbiAgICBtaW5fZG9jX2NvdW50Pzogc3RyaW5nO1xuICAgIG9yZGVyQnk/OiBzdHJpbmc7XG4gICAgbWlzc2luZz86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IHR5cGUgRmlsdGVyID0ge1xuICBxdWVyeTogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xufTtcbmV4cG9ydCBpbnRlcmZhY2UgRmlsdGVycyBleHRlbmRzIEJhc2VCdWNrZXRBZ2dyZWdhdGlvbiB7XG4gIHR5cGU6ICdmaWx0ZXJzJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgZmlsdGVycz86IEZpbHRlcltdO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgR2VvSGFzaEdyaWQgZXh0ZW5kcyBCdWNrZXRBZ2dyZWdhdGlvbldpdGhGaWVsZCB7XG4gIHR5cGU6ICdnZW9oYXNoX2dyaWQnO1xuICBzZXR0aW5ncz86IHtcbiAgICBwcmVjaXNpb24/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCB0eXBlIEJ1Y2tldEFnZ3JlZ2F0aW9uID0gRGF0ZUhpc3RvZ3JhbSB8IEhpc3RvZ3JhbSB8IFRlcm1zIHwgRmlsdGVycyB8IEdlb0hhc2hHcmlkO1xuXG5leHBvcnQgY29uc3QgaXNCdWNrZXRBZ2dyZWdhdGlvbldpdGhGaWVsZCA9IChcbiAgYnVja2V0QWdnOiBCdWNrZXRBZ2dyZWdhdGlvbiB8IEJ1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkXG4pOiBidWNrZXRBZ2cgaXMgQnVja2V0QWdncmVnYXRpb25XaXRoRmllbGQgPT4gYnVja2V0QWdncmVnYXRpb25Db25maWdbYnVja2V0QWdnLnR5cGVdLnJlcXVpcmVzRmllbGQ7XG5cbmV4cG9ydCBjb25zdCBCVUNLRVRfQUdHUkVHQVRJT05fVFlQRVM6IEJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZVtdID0gW1xuICAnZGF0ZV9oaXN0b2dyYW0nLFxuICAnaGlzdG9ncmFtJyxcbiAgJ3Rlcm1zJyxcbiAgJ2ZpbHRlcnMnLFxuICAnZ2VvaGFzaF9ncmlkJyxcbl07XG5cbmV4cG9ydCBjb25zdCBpc0J1Y2tldEFnZ3JlZ2F0aW9uVHlwZSA9IChzOiBCdWNrZXRBZ2dyZWdhdGlvblR5cGUgfCBzdHJpbmcpOiBzIGlzIEJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZSA9PlxuICBCVUNLRVRfQUdHUkVHQVRJT05fVFlQRVMuaW5jbHVkZXMocyBhcyBCdWNrZXRBZ2dyZWdhdGlvblR5cGUpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2VTdGF0ZWxlc3NSZWR1Y2VyJztcbmltcG9ydCB7IEljb25CdXR0b24gfSBmcm9tICcuLi8uLi9JY29uQnV0dG9uJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnLi4vRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dCc7XG5pbXBvcnQgeyBRdWVyeUVkaXRvclJvdyB9IGZyb20gJy4uL1F1ZXJ5RWRpdG9yUm93JztcblxuaW1wb3J0IHsgQnVja2V0QWdncmVnYXRpb25FZGl0b3IgfSBmcm9tICcuL0J1Y2tldEFnZ3JlZ2F0aW9uRWRpdG9yJztcbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgYWRkQnVja2V0QWdncmVnYXRpb24sIHJlbW92ZUJ1Y2tldEFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi9zdGF0ZS9hY3Rpb25zJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbmV4dElkOiBCdWNrZXRBZ2dyZWdhdGlvblsnaWQnXTtcbn1cblxuZXhwb3J0IGNvbnN0IEJ1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvciA9ICh7IG5leHRJZCB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHsgYnVja2V0QWdncyB9ID0gdXNlUXVlcnkoKTtcbiAgY29uc3QgdG90YWxCdWNrZXRBZ2dzID0gYnVja2V0QWdncz8ubGVuZ3RoIHx8IDA7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2J1Y2tldEFnZ3MhLm1hcCgoYnVja2V0QWdnLCBpbmRleCkgPT4gKFxuICAgICAgICA8UXVlcnlFZGl0b3JSb3dcbiAgICAgICAgICBrZXk9e2Ake2J1Y2tldEFnZy50eXBlfS0ke2J1Y2tldEFnZy5pZH1gfVxuICAgICAgICAgIGxhYmVsPXtpbmRleCA9PT0gMCA/ICdHcm91cCBCeScgOiAnVGhlbiBCeSd9XG4gICAgICAgICAgb25SZW1vdmVDbGljaz17dG90YWxCdWNrZXRBZ2dzID4gMSAmJiAoKCkgPT4gZGlzcGF0Y2gocmVtb3ZlQnVja2V0QWdncmVnYXRpb24oYnVja2V0QWdnLmlkKSkpfVxuICAgICAgICA+XG4gICAgICAgICAgPEJ1Y2tldEFnZ3JlZ2F0aW9uRWRpdG9yIHZhbHVlPXtidWNrZXRBZ2d9IC8+XG5cbiAgICAgICAgICB7aW5kZXggPT09IDAgJiYgKFxuICAgICAgICAgICAgPEljb25CdXR0b24gaWNvbk5hbWU9XCJwbHVzXCIgb25DbGljaz17KCkgPT4gZGlzcGF0Y2goYWRkQnVja2V0QWdncmVnYXRpb24obmV4dElkKSl9IGxhYmVsPVwiYWRkXCIgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1F1ZXJ5RWRpdG9yUm93PlxuICAgICAgKSl9XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5cbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uLCBCdWNrZXRBZ2dyZWdhdGlvblR5cGUsIEJ1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkIH0gZnJvbSAnLi4vYWdncmVnYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IGFkZEJ1Y2tldEFnZ3JlZ2F0aW9uID0gY3JlYXRlQWN0aW9uPEJ1Y2tldEFnZ3JlZ2F0aW9uWydpZCddPignQGJ1Y2tldEFnZ3MvYWRkJyk7XG5leHBvcnQgY29uc3QgcmVtb3ZlQnVja2V0QWdncmVnYXRpb24gPSBjcmVhdGVBY3Rpb248QnVja2V0QWdncmVnYXRpb25bJ2lkJ10+KCdAYnVja2V0QWdncy9yZW1vdmUnKTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblR5cGUgPSBjcmVhdGVBY3Rpb248e1xuICBpZDogQnVja2V0QWdncmVnYXRpb25bJ2lkJ107XG4gIG5ld1R5cGU6IEJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZTtcbn0+KCdAYnVja2V0QWdncy9jaGFuZ2VfdHlwZScpO1xuZXhwb3J0IGNvbnN0IGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uRmllbGQgPSBjcmVhdGVBY3Rpb248e1xuICBpZDogQnVja2V0QWdncmVnYXRpb25bJ2lkJ107XG4gIG5ld0ZpZWxkOiBCdWNrZXRBZ2dyZWdhdGlvbldpdGhGaWVsZFsnZmllbGQnXTtcbn0+KCdAYnVja2V0QWdncy9jaGFuZ2VfZmllbGQnKTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcgPSBjcmVhdGVBY3Rpb248e1xuICBidWNrZXRBZ2c6IEJ1Y2tldEFnZ3JlZ2F0aW9uO1xuICBzZXR0aW5nTmFtZTogc3RyaW5nO1xuICBuZXdWYWx1ZTogYW55O1xufT4oJ0BidWNrZXRBZ2dzL2NoYW5nZV9zZXR0aW5nJyk7XG4iLCJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcblxuaW1wb3J0IHsgZGVmYXVsdEJ1Y2tldEFnZyB9IGZyb20gJy4uLy4uLy4uLy4uL3F1ZXJ5X2RlZic7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoUXVlcnkgfSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcyc7XG5pbXBvcnQgeyByZW1vdmVFbXB0eSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IGNoYW5nZU1ldHJpY1R5cGUgfSBmcm9tICcuLi8uLi9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3Ivc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci91dGlscyc7XG5pbXBvcnQgeyBpbml0UXVlcnkgfSBmcm9tICcuLi8uLi9zdGF0ZSc7XG5pbXBvcnQgeyBCdWNrZXRBZ2dyZWdhdGlvbiwgVGVybXMgfSBmcm9tICcuLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgYnVja2V0QWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7XG4gIGFkZEJ1Y2tldEFnZ3JlZ2F0aW9uLFxuICBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvbkZpZWxkLFxuICBjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblNldHRpbmcsXG4gIGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZSxcbiAgcmVtb3ZlQnVja2V0QWdncmVnYXRpb24sXG59IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZWR1Y2VyID1cbiAgKGRlZmF1bHRUaW1lRmllbGQ6IHN0cmluZykgPT5cbiAgKHN0YXRlOiBFbGFzdGljc2VhcmNoUXVlcnlbJ2J1Y2tldEFnZ3MnXSwgYWN0aW9uOiBBY3Rpb24pOiBFbGFzdGljc2VhcmNoUXVlcnlbJ2J1Y2tldEFnZ3MnXSA9PiB7XG4gICAgaWYgKGFkZEJ1Y2tldEFnZ3JlZ2F0aW9uLm1hdGNoKGFjdGlvbikpIHtcbiAgICAgIGNvbnN0IG5ld0FnZzogVGVybXMgPSB7XG4gICAgICAgIGlkOiBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgdHlwZTogJ3Rlcm1zJyxcbiAgICAgICAgc2V0dGluZ3M6IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnWyd0ZXJtcyddLmRlZmF1bHRTZXR0aW5ncyxcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIHRoZSBsYXN0IGJ1Y2tldCBhZ2dyZWdhdGlvbiBpcyBhIGBkYXRlX2hpc3RvZ3JhbWAgd2UgYWRkIHRoZSBuZXcgb25lIGJlZm9yZSBpdC5cbiAgICAgIGNvbnN0IGxhc3RBZ2cgPSBzdGF0ZSFbc3RhdGUhLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGxhc3RBZ2c/LnR5cGUgPT09ICdkYXRlX2hpc3RvZ3JhbScpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5zdGF0ZSEuc2xpY2UoMCwgc3RhdGUhLmxlbmd0aCAtIDEpLCBuZXdBZ2csIGxhc3RBZ2ddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gWy4uLnN0YXRlISwgbmV3QWdnXTtcbiAgICB9XG5cbiAgICBpZiAocmVtb3ZlQnVja2V0QWdncmVnYXRpb24ubWF0Y2goYWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHN0YXRlIS5maWx0ZXIoKGJ1Y2tldEFnZykgPT4gYnVja2V0QWdnLmlkICE9PSBhY3Rpb24ucGF5bG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uVHlwZS5tYXRjaChhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc3RhdGUhLm1hcCgoYnVja2V0QWdnKSA9PiB7XG4gICAgICAgIGlmIChidWNrZXRBZ2cuaWQgIT09IGFjdGlvbi5wYXlsb2FkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGJ1Y2tldEFnZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgIFRPRE86IFRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBxdWVyeSBlZGl0b3Igd2FzIGtlZXBpbmcgc29tZSBvZiB0aGUgb2xkIGJ1Y2tldCBhZ2dyZWdhdGlvbidzIGNvbmZpZ3VyYXRpb25zXG4gICAgICAgIGluIHRoZSBuZXcgc2VsZWN0ZWQgb25lIChzdWNoIGFzIGZpZWxkIG9yIHNvbWUgc2V0dGluZ3MpLlxuICAgICAgICBJdCB0aGUgZnV0dXJlIHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBidXQgaXQncyBoYXJkIHdpdGhvdXQgYSBwcm9wZXIgZGVmaW5pdGlvbixcbiAgICAgICAgYXMgRWxhc3RpY3NlYXJjaCB3aWxsIGVycm9yIHNvbWV0aW1lcyBpZiBzb21lIHNldHRpbmdzIGFyZSBub3QgY29tcGF0aWJsZS5cbiAgICAgICovXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGJ1Y2tldEFnZy5pZCxcbiAgICAgICAgICB0eXBlOiBhY3Rpb24ucGF5bG9hZC5uZXdUeXBlLFxuICAgICAgICAgIHNldHRpbmdzOiBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZ1thY3Rpb24ucGF5bG9hZC5uZXdUeXBlXS5kZWZhdWx0U2V0dGluZ3MsXG4gICAgICAgIH0gYXMgQnVja2V0QWdncmVnYXRpb247XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2hhbmdlQnVja2V0QWdncmVnYXRpb25GaWVsZC5tYXRjaChhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc3RhdGUhLm1hcCgoYnVja2V0QWdnKSA9PiB7XG4gICAgICAgIGlmIChidWNrZXRBZ2cuaWQgIT09IGFjdGlvbi5wYXlsb2FkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGJ1Y2tldEFnZztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYnVja2V0QWdnLFxuICAgICAgICAgIGZpZWxkOiBhY3Rpb24ucGF5bG9hZC5uZXdGaWVsZCxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VNZXRyaWNUeXBlLm1hdGNoKGFjdGlvbikpIHtcbiAgICAgIC8vIElmIHdlIGFyZSBzd2l0Y2hpbmcgdG8gYSBtZXRyaWMgd2hpY2ggcmVxdWlyZXMgdGhlIGFic2VuY2Ugb2YgYnVja2V0IGFnZ3JlZ2F0aW9uc1xuICAgICAgLy8gd2UgcmVtb3ZlIGFsbCBvZiB0aGVtLlxuICAgICAgaWYgKG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW2FjdGlvbi5wYXlsb2FkLnR5cGVdLmlzU2luZ2xlTWV0cmljKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBFbHNlLCBpZiB0aGVyZSBhcmUgbm8gYnVja2V0IGFnZ3JlZ2F0aW9ucyB3ZSByZXN0b3JlIGEgZGVmYXVsdCBvbmUuXG4gICAgICAgIC8vIFRoaXMgaGFwcGVucyB3aGVuIHN3aXRjaGluZyBmcm9tIGEgbWV0cmljIHRoYXQgcmVxdWlyZXMgdGhlIGFic2VuY2Ugb2YgYnVja2V0IGFnZ3JlZ2F0aW9ucyB0b1xuICAgICAgICAvLyBvbmUgdGhhdCByZXF1aXJlcyBpdC5cbiAgICAgICAgcmV0dXJuIFt7IC4uLmRlZmF1bHRCdWNrZXRBZ2coJzInKSwgZmllbGQ6IGRlZmF1bHRUaW1lRmllbGQgfV07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uU2V0dGluZy5tYXRjaChhY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc3RhdGUhLm1hcCgoYnVja2V0QWdnKSA9PiB7XG4gICAgICAgIGlmIChidWNrZXRBZ2cuaWQgIT09IGFjdGlvbi5wYXlsb2FkLmJ1Y2tldEFnZy5pZCkge1xuICAgICAgICAgIHJldHVybiBidWNrZXRBZ2c7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHJlbW92ZUVtcHR5KHtcbiAgICAgICAgICAuLi5idWNrZXRBZ2cuc2V0dGluZ3MsXG4gICAgICAgICAgW2FjdGlvbi5wYXlsb2FkLnNldHRpbmdOYW1lXTogYWN0aW9uLnBheWxvYWQubmV3VmFsdWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYnVja2V0QWdnLFxuICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAuLi5uZXdTZXR0aW5ncyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGluaXRRdWVyeS5tYXRjaChhY3Rpb24pKSB7XG4gICAgICBpZiAoc3RhdGU/Lmxlbmd0aCB8fCAwID4gMCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbeyAuLi5kZWZhdWx0QnVja2V0QWdnKCcyJyksIGZpZWxkOiBkZWZhdWx0VGltZUZpZWxkIH1dO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcbiIsImltcG9ydCB7IEludGVybmFsVGltZVpvbmVzLCBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuaW1wb3J0IHsgQnVja2V0c0NvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXIgfSBmcm9tICcuL1NldHRpbmdzRWRpdG9yL0ZpbHRlcnNTZXR0aW5nc0VkaXRvci91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZzogQnVja2V0c0NvbmZpZ3VyYXRpb24gPSB7XG4gIHRlcm1zOiB7XG4gICAgbGFiZWw6ICdUZXJtcycsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBkZWZhdWx0U2V0dGluZ3M6IHtcbiAgICAgIG1pbl9kb2NfY291bnQ6ICcxJyxcbiAgICAgIHNpemU6ICcxMCcsXG4gICAgICBvcmRlcjogJ2Rlc2MnLFxuICAgICAgb3JkZXJCeTogJ190ZXJtJyxcbiAgICB9LFxuICB9LFxuICBmaWx0ZXJzOiB7XG4gICAgbGFiZWw6ICdGaWx0ZXJzJyxcbiAgICByZXF1aXJlc0ZpZWxkOiBmYWxzZSxcbiAgICBkZWZhdWx0U2V0dGluZ3M6IHtcbiAgICAgIGZpbHRlcnM6IFtkZWZhdWx0RmlsdGVyKCldLFxuICAgIH0sXG4gIH0sXG4gIGdlb2hhc2hfZ3JpZDoge1xuICAgIGxhYmVsOiAnR2VvIEhhc2ggR3JpZCcsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBkZWZhdWx0U2V0dGluZ3M6IHtcbiAgICAgIHByZWNpc2lvbjogJzMnLFxuICAgIH0sXG4gIH0sXG4gIGRhdGVfaGlzdG9ncmFtOiB7XG4gICAgbGFiZWw6ICdEYXRlIEhpc3RvZ3JhbScsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBkZWZhdWx0U2V0dGluZ3M6IHtcbiAgICAgIGludGVydmFsOiAnYXV0bycsXG4gICAgICBtaW5fZG9jX2NvdW50OiAnMCcsXG4gICAgICB0cmltRWRnZXM6ICcwJyxcbiAgICAgIHRpbWVab25lOiBJbnRlcm5hbFRpbWVab25lcy51dGMsXG4gICAgfSxcbiAgfSxcbiAgaGlzdG9ncmFtOiB7XG4gICAgbGFiZWw6ICdIaXN0b2dyYW0nLFxuICAgIHJlcXVpcmVzRmllbGQ6IHRydWUsXG4gICAgZGVmYXVsdFNldHRpbmdzOiB7XG4gICAgICBpbnRlcnZhbDogJzEwMDAnLFxuICAgICAgbWluX2RvY19jb3VudDogJzAnLFxuICAgIH0sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3Qgb3JkZXJCeU9wdGlvbnM6IEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+PiA9IFtcbiAgeyBsYWJlbDogJ1Rlcm0gdmFsdWUnLCB2YWx1ZTogJ190ZXJtJyB9LFxuICB7IGxhYmVsOiAnRG9jIENvdW50JywgdmFsdWU6ICdfY291bnQnIH0sXG5dO1xuXG5leHBvcnQgY29uc3Qgb3JkZXJPcHRpb25zOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4gPSBbXG4gIHsgbGFiZWw6ICdUb3AnLCB2YWx1ZTogJ2Rlc2MnIH0sXG4gIHsgbGFiZWw6ICdCb3R0b20nLCB2YWx1ZTogJ2FzYycgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBzaXplT3B0aW9ucyA9IFtcbiAgeyBsYWJlbDogJ05vIGxpbWl0JywgdmFsdWU6ICcwJyB9LFxuICB7IGxhYmVsOiAnMScsIHZhbHVlOiAnMScgfSxcbiAgeyBsYWJlbDogJzInLCB2YWx1ZTogJzInIH0sXG4gIHsgbGFiZWw6ICczJywgdmFsdWU6ICczJyB9LFxuICB7IGxhYmVsOiAnNScsIHZhbHVlOiAnNScgfSxcbiAgeyBsYWJlbDogJzEwJywgdmFsdWU6ICcxMCcgfSxcbiAgeyBsYWJlbDogJzE1JywgdmFsdWU6ICcxNScgfSxcbiAgeyBsYWJlbDogJzIwJywgdmFsdWU6ICcyMCcgfSxcbl07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29udGV4dCwgY3JlYXRlQ29udGV4dCwgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBUaW1lUmFuZ2UgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuaW1wb3J0IHsgRWxhc3RpY0RhdGFzb3VyY2UgfSBmcm9tICcuLi8uLi9kYXRhc291cmNlJztcbmltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycywgdXNlU3RhdGVsZXNzUmVkdWNlciwgRGlzcGF0Y2hDb250ZXh0IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoUXVlcnkgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7IGNyZWF0ZVJlZHVjZXIgYXMgY3JlYXRlQnVja2V0QWdnc1JlZHVjZXIgfSBmcm9tICcuL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9zdGF0ZS9yZWR1Y2VyJztcbmltcG9ydCB7IHJlZHVjZXIgYXMgbWV0cmljc1JlZHVjZXIgfSBmcm9tICcuL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9zdGF0ZS9yZWR1Y2VyJztcbmltcG9ydCB7IGFsaWFzUGF0dGVyblJlZHVjZXIsIHF1ZXJ5UmVkdWNlciwgaW5pdFF1ZXJ5IH0gZnJvbSAnLi9zdGF0ZSc7XG5cbmNvbnN0IERhdGFzb3VyY2VDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxFbGFzdGljRGF0YXNvdXJjZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbmNvbnN0IFF1ZXJ5Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8RWxhc3RpY3NlYXJjaFF1ZXJ5IHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuY29uc3QgUmFuZ2VDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUaW1lUmFuZ2UgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHF1ZXJ5OiBFbGFzdGljc2VhcmNoUXVlcnk7XG4gIG9uQ2hhbmdlOiAocXVlcnk6IEVsYXN0aWNzZWFyY2hRdWVyeSkgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgZGF0YXNvdXJjZTogRWxhc3RpY0RhdGFzb3VyY2U7XG4gIHJhbmdlOiBUaW1lUmFuZ2U7XG59XG5cbmV4cG9ydCBjb25zdCBFbGFzdGljc2VhcmNoUHJvdmlkZXIgPSAoe1xuICBjaGlsZHJlbixcbiAgb25DaGFuZ2UsXG4gIG9uUnVuUXVlcnksXG4gIHF1ZXJ5LFxuICBkYXRhc291cmNlLFxuICByYW5nZSxcbn06IFByb3BzV2l0aENoaWxkcmVuPFByb3BzPikgPT4ge1xuICBjb25zdCBvblN0YXRlQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKHF1ZXJ5OiBFbGFzdGljc2VhcmNoUXVlcnkpID0+IHtcbiAgICAgIG9uQ2hhbmdlKHF1ZXJ5KTtcbiAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICB9LFxuICAgIFtvbkNoYW5nZSwgb25SdW5RdWVyeV1cbiAgKTtcblxuICBjb25zdCByZWR1Y2VyID0gY29tYmluZVJlZHVjZXJzPFBpY2s8RWxhc3RpY3NlYXJjaFF1ZXJ5LCAncXVlcnknIHwgJ2FsaWFzJyB8ICdtZXRyaWNzJyB8ICdidWNrZXRBZ2dzJz4+KHtcbiAgICBxdWVyeTogcXVlcnlSZWR1Y2VyLFxuICAgIGFsaWFzOiBhbGlhc1BhdHRlcm5SZWR1Y2VyLFxuICAgIG1ldHJpY3M6IG1ldHJpY3NSZWR1Y2VyLFxuICAgIGJ1Y2tldEFnZ3M6IGNyZWF0ZUJ1Y2tldEFnZ3NSZWR1Y2VyKGRhdGFzb3VyY2UudGltZUZpZWxkKSxcbiAgfSk7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VTdGF0ZWxlc3NSZWR1Y2VyKFxuICAgIC8vIHRpbWVGaWVsZCBpcyBwYXJ0IG9mIHRoZSBxdWVyeSBtb2RlbCwgYnV0IGl0cyB2YWx1ZSBpcyBhbHdheXMgc2V0IHRvIGJlIHRoZSBvbmUgZnJvbSBkYXRhc291cmNlIHNldHRpbmdzLlxuICAgIChuZXdTdGF0ZSkgPT4gb25TdGF0ZUNoYW5nZSh7IC4uLnF1ZXJ5LCAuLi5uZXdTdGF0ZSwgdGltZUZpZWxkOiBkYXRhc291cmNlLnRpbWVGaWVsZCB9KSxcbiAgICBxdWVyeSxcbiAgICByZWR1Y2VyXG4gICk7XG5cbiAgLy8gVGhpcyBpbml0aWFsaXplcyB0aGUgcXVlcnkgYnkgZGlzcGF0Y2hpbmcgYW4gaW5pdCBhY3Rpb24gdG8gZWFjaCByZWR1Y2VyLlxuICAvLyB1c2VTdGF0ZWxlc3NSZWR1Y2VyIHdpbGwgdGhlbiBjYWxsIGBvbkNoYW5nZWAgd2l0aCB0aGUgbmV3bHkgZ2VuZXJhdGVkIHF1ZXJ5XG4gIGlmICghcXVlcnkubWV0cmljcyB8fCAhcXVlcnkuYnVja2V0QWdncyB8fCBxdWVyeS5xdWVyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZGlzcGF0Y2goaW5pdFF1ZXJ5KCkpO1xuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEYXRhc291cmNlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17ZGF0YXNvdXJjZX0+XG4gICAgICA8UXVlcnlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtxdWVyeX0+XG4gICAgICAgIDxSYW5nZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3JhbmdlfT5cbiAgICAgICAgICA8RGlzcGF0Y2hDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtkaXNwYXRjaH0+e2NoaWxkcmVufTwvRGlzcGF0Y2hDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICA8L1JhbmdlQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDwvUXVlcnlDb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvRGF0YXNvdXJjZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgR2V0SG9vayB7XG4gIDxUPihjb250ZXh0OiBDb250ZXh0PFQ+KTogKCkgPT4gTm9uTnVsbGFibGU8VD47XG59XG5cbmNvbnN0IGdldEhvb2s6IEdldEhvb2sgPSAoYykgPT4gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0VmFsdWUgPSB1c2VDb250ZXh0KGMpO1xuXG4gIGlmICghY29udGV4dFZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2UgRWxhc3RpY3NlYXJjaFByb3ZpZGVyIGZpcnN0LicpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHRWYWx1ZSBhcyBOb25OdWxsYWJsZTx0eXBlb2YgY29udGV4dFZhbHVlPjtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VRdWVyeSA9IGdldEhvb2soUXVlcnlDb250ZXh0KTtcbmV4cG9ydCBjb25zdCB1c2VEYXRhc291cmNlID0gZ2V0SG9vayhEYXRhc291cmNlQ29udGV4dCk7XG5leHBvcnQgY29uc3QgdXNlUmFuZ2UgPSBnZXRIb29rKFJhbmdlQ29udGV4dCk7XG4iLCJpbXBvcnQgeyBjeCB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzYXRpc2ZpZXMgfSBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQgeyBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IElubGluZVNlZ21lbnRHcm91cCwgU2VnbWVudCwgU2VnbWVudEFzeW5jLCB1c2VUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZUZpZWxkcyB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZUZpZWxkcyc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZVN0YXRlbGVzc1JlZHVjZXInO1xuaW1wb3J0IHsgTWV0cmljUGlja2VyIH0gZnJvbSAnLi4vLi4vTWV0cmljUGlja2VyJztcbmltcG9ydCB7IHVzZURhdGFzb3VyY2UsIHVzZVF1ZXJ5IH0gZnJvbSAnLi4vRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dCc7XG5pbXBvcnQgeyBzZWdtZW50U3R5bGVzIH0gZnJvbSAnLi4vc3R5bGVzJztcblxuaW1wb3J0IHsgU2V0dGluZ3NFZGl0b3IgfSBmcm9tICcuL1NldHRpbmdzRWRpdG9yJztcbmltcG9ydCB7XG4gIGlzTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsXG4gIGlzTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0LFxuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aFNldHRpbmdzLFxuICBpc1BpcGVsaW5lQWdncmVnYXRpb24sXG4gIGlzUGlwZWxpbmVBZ2dyZWdhdGlvbldpdGhNdWx0aXBsZUJ1Y2tldFBhdGhzLFxuICBNZXRyaWNBZ2dyZWdhdGlvbixcbiAgTWV0cmljQWdncmVnYXRpb25UeXBlLFxufSBmcm9tICcuL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBjaGFuZ2VNZXRyaWNGaWVsZCwgY2hhbmdlTWV0cmljVHlwZSB9IGZyb20gJy4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyBnZXRTdHlsZXMgfSBmcm9tICcuL3N0eWxlcyc7XG5pbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZyB9IGZyb20gJy4vdXRpbHMnO1xuXG5jb25zdCB0b09wdGlvbiA9IChtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uKSA9PiAoe1xuICBsYWJlbDogbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdLmxhYmVsLFxuICB2YWx1ZTogbWV0cmljLnR5cGUsXG59KTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdmFsdWU6IE1ldHJpY0FnZ3JlZ2F0aW9uO1xufVxuXG4vLyBJZiBhIG1ldHJpYyBpcyBhIFBpcGVsaW5lIEFnZ3JlZ2F0aW9uIChodHRwczovL3d3dy5lbGFzdGljLmNvL2d1aWRlL2VuL2VsYXN0aWNzZWFyY2gvcmVmZXJlbmNlL2N1cnJlbnQvc2VhcmNoLWFnZ3JlZ2F0aW9ucy1waXBlbGluZS5odG1sKVxuLy8gaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIHNob3cgaXQgaW4gdGhlIHR5cGUgcGlja2VyIHdoZW4gdGhlcmUgaXMgbm8gbm9uLXBpcGVsaW5lLWFnZ3JlZ2F0aW9uIHByZXZpb3VzbHkgc2VsZWN0ZWRcbi8vIGFzIHRoZXkgd29yayBvbiB0aGUgb3V0cHV0cyBwcm9kdWNlZCBmcm9tIG90aGVyIGFnZ3JlZ2F0aW9ucyByYXRoZXIgdGhhbiBmcm9tIGRvY3VtZW50cyBvciBmaWVsZHMuXG4vLyBUaGlzIG1lYW5zIHdlIHNob3VsZCBmaWx0ZXIgdGhlbSBvdXQgZnJvbSB0aGUgdHlwZSBwaWNrZXIgaWYgdGhlcmUncyBubyBvdGhlciBcImJhc2ljXCIgYWdncmVnYXRpb24gYmVmb3JlIHRoZSBjdXJyZW50IG9uZS5cbmNvbnN0IGlzQmFzaWNBZ2dyZWdhdGlvbiA9IChtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uKSA9PiAhbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdLmlzUGlwZWxpbmVBZ2c7XG5cbmNvbnN0IGdldFR5cGVPcHRpb25zID0gKFxuICBwcmV2aW91c01ldHJpY3M6IE1ldHJpY0FnZ3JlZ2F0aW9uW10sXG4gIGVzVmVyc2lvbjogc3RyaW5nLFxuICB4cGFjayA9IGZhbHNlXG4pOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8TWV0cmljQWdncmVnYXRpb25UeXBlPj4gPT4ge1xuICAvLyB3ZSdsbCBpbmNsdWRlIFBpcGVsaW5lIEFnZ3JlZ2F0aW9ucyBvbmx5IGlmIGF0IGxlYXN0IG9uZSBwcmV2aW91cyBtZXRyaWMgaXMgYSBcIkJhc2ljXCIgb25lXG4gIGNvbnN0IGluY2x1ZGVQaXBlbGluZUFnZ3JlZ2F0aW9ucyA9IHByZXZpb3VzTWV0cmljcy5zb21lKGlzQmFzaWNBZ2dyZWdhdGlvbik7XG5cbiAgcmV0dXJuIChcbiAgICBPYmplY3QuZW50cmllcyhtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZylcbiAgICAgIC8vIE9ubHkgc2hvd2luZyBtZXRyaWNzIHR5cGUgc3VwcG9ydGVkIGJ5IHRoZSBjb25maWd1cmVkIHZlcnNpb24gb2YgRVNcbiAgICAgIC5maWx0ZXIoKFtfLCB7IHZlcnNpb25SYW5nZSA9ICcqJyB9XSkgPT4gc2F0aXNmaWVzKGVzVmVyc2lvbiwgdmVyc2lvblJhbmdlKSlcbiAgICAgIC8vIEZpbHRlcmluZyBvdXQgUGlwZWxpbmUgQWdncmVnYXRpb25zIGlmIHRoZXJlJ3Mgbm8gYmFzaWMgbWV0cmljIHNlbGVjdGVkIGJlZm9yZVxuICAgICAgLmZpbHRlcigoW18sIGNvbmZpZ10pID0+IGluY2x1ZGVQaXBlbGluZUFnZ3JlZ2F0aW9ucyB8fCAhY29uZmlnLmlzUGlwZWxpbmVBZ2cpXG4gICAgICAvLyBGaWx0ZXJpbmcgb3V0IFgtUGFjayBwbHVnaW5zIGlmIFgtUGFjayBpcyBkaXNhYmxlZFxuICAgICAgLmZpbHRlcigoW18sIGNvbmZpZ10pID0+IChjb25maWcueHBhY2sgPyB4cGFjayA6IHRydWUpKVxuICAgICAgLm1hcCgoW2tleSwgeyBsYWJlbCB9XSkgPT4gKHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHZhbHVlOiBrZXkgYXMgTWV0cmljQWdncmVnYXRpb25UeXBlLFxuICAgICAgfSkpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgTWV0cmljRWRpdG9yID0gKHsgdmFsdWUgfTogUHJvcHMpID0+IHtcbiAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzKHVzZVRoZW1lMigpLCAhIXZhbHVlLmhpZGUpO1xuICBjb25zdCBkYXRhc291cmNlID0gdXNlRGF0YXNvdXJjZSgpO1xuICBjb25zdCBxdWVyeSA9IHVzZVF1ZXJ5KCk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgZ2V0RmllbGRzID0gdXNlRmllbGRzKHZhbHVlLnR5cGUpO1xuXG4gIGNvbnN0IGxvYWRPcHRpb25zID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlbW90ZUZpZWxkcyA9IGF3YWl0IGdldEZpZWxkcygpO1xuXG4gICAgLy8gTWV0cmljIGFnZ3JlZ2F0aW9ucyB0aGF0IGhhdmUgaW5saW5lIHNjcmlwdCBzdXBwb3J0IGRvbid0IHJlcXVpcmUgYSBmaWVsZCB0byBiZSBzZXQuXG4gICAgaWYgKGlzTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIFt7IGxhYmVsOiAnTm9uZScgfSwgLi4ucmVtb3RlRmllbGRzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVtb3RlRmllbGRzO1xuICB9LCBbZ2V0RmllbGRzLCB2YWx1ZV0pO1xuXG4gIGNvbnN0IHByZXZpb3VzTWV0cmljcyA9IHF1ZXJ5Lm1ldHJpY3MhLnNsaWNlKFxuICAgIDAsXG4gICAgcXVlcnkubWV0cmljcyEuZmluZEluZGV4KChtKSA9PiBtLmlkID09PSB2YWx1ZS5pZClcbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SW5saW5lU2VnbWVudEdyb3VwPlxuICAgICAgICA8U2VnbWVudFxuICAgICAgICAgIGNsYXNzTmFtZT17Y3goc3R5bGVzLmNvbG9yLCBzZWdtZW50U3R5bGVzKX1cbiAgICAgICAgICBvcHRpb25zPXtnZXRUeXBlT3B0aW9ucyhwcmV2aW91c01ldHJpY3MsIGRhdGFzb3VyY2UuZXNWZXJzaW9uLCBkYXRhc291cmNlLnhwYWNrKX1cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGRpc3BhdGNoKGNoYW5nZU1ldHJpY1R5cGUoeyBpZDogdmFsdWUuaWQsIHR5cGU6IGUudmFsdWUhIH0pKX1cbiAgICAgICAgICB2YWx1ZT17dG9PcHRpb24odmFsdWUpfVxuICAgICAgICAvPlxuXG4gICAgICAgIHtpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkKHZhbHVlKSAmJiAhaXNQaXBlbGluZUFnZ3JlZ2F0aW9uKHZhbHVlKSAmJiAoXG4gICAgICAgICAgPFNlZ21lbnRBc3luY1xuICAgICAgICAgICAgY2xhc3NOYW1lPXtjeChzdHlsZXMuY29sb3IsIHNlZ21lbnRTdHlsZXMpfVxuICAgICAgICAgICAgbG9hZE9wdGlvbnM9e2xvYWRPcHRpb25zfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VNZXRyaWNGaWVsZCh7IGlkOiB2YWx1ZS5pZCwgZmllbGQ6IGUudmFsdWUhIH0pKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IEZpZWxkXCJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS5maWVsZH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHtpc1BpcGVsaW5lQWdncmVnYXRpb24odmFsdWUpICYmICFpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyh2YWx1ZSkgJiYgKFxuICAgICAgICAgIDxNZXRyaWNQaWNrZXJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goc3R5bGVzLmNvbG9yLCBzZWdtZW50U3R5bGVzKX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZGlzcGF0Y2goY2hhbmdlTWV0cmljRmllbGQoeyBpZDogdmFsdWUuaWQsIGZpZWxkOiBlLnZhbHVlPy5pZCEgfSkpfVxuICAgICAgICAgICAgb3B0aW9ucz17cHJldmlvdXNNZXRyaWNzfVxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlLmZpZWxkfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L0lubGluZVNlZ21lbnRHcm91cD5cblxuICAgICAge2lzTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3ModmFsdWUpICYmIDxTZXR0aW5nc0VkaXRvciBtZXRyaWM9e3ZhbHVlfSBwcmV2aW91c01ldHJpY3M9e3ByZXZpb3VzTWV0cmljc30gLz59XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCB7IHVuaXF1ZUlkIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCwgeyBGcmFnbWVudCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCwgSW5saW5lTGFiZWwgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZVN0YXRlbGVzc1JlZHVjZXIsIHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBBZGRSZW1vdmUgfSBmcm9tICcuLi8uLi8uLi8uLi9BZGRSZW1vdmUnO1xuaW1wb3J0IHsgTWV0cmljUGlja2VyIH0gZnJvbSAnLi4vLi4vLi4vLi4vTWV0cmljUGlja2VyJztcbmltcG9ydCB7IEJ1Y2tldFNjcmlwdCwgTWV0cmljQWdncmVnYXRpb24gfSBmcm9tICcuLi8uLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgY2hhbmdlTWV0cmljQXR0cmlidXRlIH0gZnJvbSAnLi4vLi4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyBTZXR0aW5nRmllbGQgfSBmcm9tICcuLi9TZXR0aW5nRmllbGQnO1xuXG5pbXBvcnQge1xuICBhZGRQaXBlbGluZVZhcmlhYmxlLFxuICByZW1vdmVQaXBlbGluZVZhcmlhYmxlLFxuICByZW5hbWVQaXBlbGluZVZhcmlhYmxlLFxuICBjaGFuZ2VQaXBlbGluZVZhcmlhYmxlTWV0cmljLFxufSBmcm9tICcuL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgcmVkdWNlciB9IGZyb20gJy4vc3RhdGUvcmVkdWNlcic7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHZhbHVlOiBCdWNrZXRTY3JpcHQ7XG4gIHByZXZpb3VzTWV0cmljczogTWV0cmljQWdncmVnYXRpb25bXTtcbn1cblxuZXhwb3J0IGNvbnN0IEJ1Y2tldFNjcmlwdFNldHRpbmdzRWRpdG9yID0gKHsgdmFsdWUsIHByZXZpb3VzTWV0cmljcyB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB1cHBlclN0YXRlRGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlU3RhdGVsZXNzUmVkdWNlcihcbiAgICAobmV3VmFsdWUpID0+XG4gICAgICB1cHBlclN0YXRlRGlzcGF0Y2goY2hhbmdlTWV0cmljQXR0cmlidXRlKHsgbWV0cmljOiB2YWx1ZSwgYXR0cmlidXRlOiAncGlwZWxpbmVWYXJpYWJsZXMnLCBuZXdWYWx1ZSB9KSksXG4gICAgdmFsdWUucGlwZWxpbmVWYXJpYWJsZXMsXG4gICAgcmVkdWNlclxuICApO1xuXG4gIC8vIFRoZSBtb2RlbCBtaWdodCBub3QgaGF2ZSBwaXBlbGluZSB2YXJpYWJsZXMgKG9yIGFuIGVtcHR5IGFycmF5IG9mIHBpcGVsaW5lIHZhcnMpIGluIGl0IGJlY2F1c2Ugb2YgdGhlIHdheSBpdCB3YXMgYnVpbHQgaW4gcHJldmlvdXMgdmVyc2lvbnMgb2YgdGhlIGRhdGFzb3VyY2UuXG4gIC8vIElmIHRoaXMgaXMgdGhlIGNhc2Ugd2UgYWRkIGEgZGVmYXVsdCBvbmUuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2YWx1ZS5waXBlbGluZVZhcmlhYmxlcz8ubGVuZ3RoKSB7XG4gICAgICBkaXNwYXRjaChhZGRQaXBlbGluZVZhcmlhYmxlKCkpO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCB2YWx1ZS5waXBlbGluZVZhcmlhYmxlcz8ubGVuZ3RoXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Nzc2BcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBgfVxuICAgICAgPlxuICAgICAgICA8SW5saW5lTGFiZWwgd2lkdGg9ezE2fT5WYXJpYWJsZXM8L0lubGluZUxhYmVsPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjc3NgXG4gICAgICAgICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bztcbiAgICAgICAgICAgIHJvdy1nYXA6IDRweDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgICBgfVxuICAgICAgICA+XG4gICAgICAgICAge3ZhbHVlLnBpcGVsaW5lVmFyaWFibGVzIS5tYXAoKHBpcGVsaW5lVmFyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgLy8gaW5kZXggYXMgYSBrZXkgZG9lc24ndCB3b3JrIGhlcmUgc2luY2UgcmVtb3ZpbmcgYW4gZWxlbWVudFxuICAgICAgICAgICAgLy8gaW4gdGhlIG1pZGRsZSBvZiB0aGUgbGlzdCwgd2lsbCBjYXVzZSB0aGUgbmV4dCBlbGVtZW50IHRvIG9idGFpbiB0aGUgc2FtZSBrZXkgYXMgdGhlIHJlbW92ZWQgb25lLlxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGNhdXNlIHJlYWN0IHRvIFwiZHJvcFwiIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIGxpc3QgaW5zdGVhZCBvZiB0aGUganVzdCByZW1vdmVkIG9uZSxcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIGlucHV0IHdvbid0IG1hdGNoIHRoZSBtb2RlbCBhcyB0aGUgRE9NIHdvbid0IGdldCB1cGRhdGVkLlxuICAgICAgICAgICAgLy8gdXNpbmcgcGlwZWxpbmVWYXIubmFtZSBpcyBub3QgYW4gb3B0aW9uIHNpbmNlIGl0IG1pZ2h0IGJlIGR1cGxpY2F0ZWQgYnkgdGhlIHVzZXIuXG4gICAgICAgICAgICAvLyBnZW5lcmF0aW5nIGEgdW5pcXVlIGtleSBvbiBldmVyeSByZW5kZXIsIHdoaWxlIGlzIHByb2JhYmx5IG5vdCB0aGUgYmVzdCBzb2x1dGlvbiBpbiB0ZXJtcyBvZiBwZXJmb3JtYW5jZVxuICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGUgVUkgaXMgaW4gYSBjb3JyZWN0IHN0YXRlLiBXZSBtaWdodCB3YW50IHRvIG9wdGltaXplIHRoaXMgaWYgd2Ugc2VlIHBlcmYgaXNzdWUgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgIDxGcmFnbWVudCBrZXk9e3VuaXF1ZUlkKCdlcy1icy0nKX0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nzc2BcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgICAgICAgICBjb2x1bW4tZ2FwOiA0cHg7XG4gICAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gYXV0bztcbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiVmFyaWFibGUgbmFtZVwiXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3BpcGVsaW5lVmFyLm5hbWV9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlZhcmlhYmxlIE5hbWVcIlxuICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gZGlzcGF0Y2gocmVuYW1lUGlwZWxpbmVWYXJpYWJsZSh7IG5ld05hbWU6IGUudGFyZ2V0LnZhbHVlLCBpbmRleCB9KSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8TWV0cmljUGlja2VyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGRpc3BhdGNoKGNoYW5nZVBpcGVsaW5lVmFyaWFibGVNZXRyaWMoeyBuZXdNZXRyaWM6IGUudmFsdWUhLmlkLCBpbmRleCB9KSl9XG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXtwcmV2aW91c01ldHJpY3N9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cGlwZWxpbmVWYXIucGlwZWxpbmVBZ2d9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPEFkZFJlbW92ZVxuICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICBlbGVtZW50cz17dmFsdWUucGlwZWxpbmVWYXJpYWJsZXMgfHwgW119XG4gICAgICAgICAgICAgICAgb25BZGQ9eygpID0+IGRpc3BhdGNoKGFkZFBpcGVsaW5lVmFyaWFibGUoKSl9XG4gICAgICAgICAgICAgICAgb25SZW1vdmU9eygpID0+IGRpc3BhdGNoKHJlbW92ZVBpcGVsaW5lVmFyaWFibGUoaW5kZXgpKX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxTZXR0aW5nRmllbGRcbiAgICAgICAgbGFiZWw9XCJTY3JpcHRcIlxuICAgICAgICBtZXRyaWM9e3ZhbHVlfVxuICAgICAgICBzZXR0aW5nTmFtZT1cInNjcmlwdFwiXG4gICAgICAgIHRvb2x0aXA9XCJFbGFzdGljc2VhcmNoIHY1LjAgYW5kIGFib3ZlOiBTY3JpcHRpbmcgbGFuZ3VhZ2UgaXMgUGFpbmxlc3MuIFVzZSBwYXJhbXMuPHZhcj4gdG8gcmVmZXJlbmNlIGEgdmFyaWFibGUuIEVsYXN0aWNzZWFyY2ggcHJlLXY1LjA6IFNjcmlwdGluZyBsYW5ndWFnZSBpcyBwZXIgZGVmYXVsdCBHcm9vdnkgaWYgbm90IGNoYW5nZWQuIEZvciBHcm9vdnkgdXNlIDx2YXI+IHRvIHJlZmVyZW5jZSBhIHZhcmlhYmxlLlwiXG4gICAgICAgIHBsYWNlaG9sZGVyPVwicGFyYW1zLnZhcjEgLyBwYXJhbXMudmFyMlwiXG4gICAgICAvPlxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuXG5leHBvcnQgY29uc3QgYWRkUGlwZWxpbmVWYXJpYWJsZSA9IGNyZWF0ZUFjdGlvbignQHBpcGVsaW5lVmFyaWFibGVzL2FkZCcpO1xuZXhwb3J0IGNvbnN0IHJlbW92ZVBpcGVsaW5lVmFyaWFibGUgPSBjcmVhdGVBY3Rpb248bnVtYmVyPignQHBpcGVsaW5lVmFyaWFibGVzL3JlbW92ZScpO1xuXG5leHBvcnQgY29uc3QgcmVuYW1lUGlwZWxpbmVWYXJpYWJsZSA9IGNyZWF0ZUFjdGlvbjx7IGluZGV4OiBudW1iZXI7IG5ld05hbWU6IHN0cmluZyB9PignQHBpcGVsaW5lVmFyaWFibGVzL3JlbmFtZScpO1xuXG5leHBvcnQgY29uc3QgY2hhbmdlUGlwZWxpbmVWYXJpYWJsZU1ldHJpYyA9IGNyZWF0ZUFjdGlvbjx7IGluZGV4OiBudW1iZXI7IG5ld01ldHJpYzogc3RyaW5nIH0+KFxuICAnQHBpcGVsaW5lVmFyaWFibGVzL2NoYW5nZV9tZXRyaWMnXG4pO1xuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5cbmltcG9ydCB7IFBpcGVsaW5lVmFyaWFibGUgfSBmcm9tICcuLi8uLi8uLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgZGVmYXVsdFBpcGVsaW5lVmFyaWFibGUsIGdlbmVyYXRlUGlwZWxpbmVWYXJpYWJsZU5hbWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7XG4gIGFkZFBpcGVsaW5lVmFyaWFibGUsXG4gIGNoYW5nZVBpcGVsaW5lVmFyaWFibGVNZXRyaWMsXG4gIHJlbW92ZVBpcGVsaW5lVmFyaWFibGUsXG4gIHJlbmFtZVBpcGVsaW5lVmFyaWFibGUsXG59IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyID0gKHN0YXRlOiBQaXBlbGluZVZhcmlhYmxlW10gPSBbXSwgYWN0aW9uOiBBY3Rpb24pID0+IHtcbiAgaWYgKGFkZFBpcGVsaW5lVmFyaWFibGUubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBbLi4uc3RhdGUsIGRlZmF1bHRQaXBlbGluZVZhcmlhYmxlKGdlbmVyYXRlUGlwZWxpbmVWYXJpYWJsZU5hbWUoc3RhdGUpKV07XG4gIH1cblxuICBpZiAocmVtb3ZlUGlwZWxpbmVWYXJpYWJsZS5tYXRjaChhY3Rpb24pKSB7XG4gICAgcmV0dXJuIHN0YXRlLnNsaWNlKDAsIGFjdGlvbi5wYXlsb2FkKS5jb25jYXQoc3RhdGUuc2xpY2UoYWN0aW9uLnBheWxvYWQgKyAxKSk7XG4gIH1cblxuICBpZiAocmVuYW1lUGlwZWxpbmVWYXJpYWJsZS5tYXRjaChhY3Rpb24pKSB7XG4gICAgcmV0dXJuIHN0YXRlLm1hcCgocGlwZWxpbmVWYXJpYWJsZSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCAhPT0gYWN0aW9uLnBheWxvYWQuaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHBpcGVsaW5lVmFyaWFibGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnBpcGVsaW5lVmFyaWFibGUsXG4gICAgICAgIG5hbWU6IGFjdGlvbi5wYXlsb2FkLm5ld05hbWUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGNoYW5nZVBpcGVsaW5lVmFyaWFibGVNZXRyaWMubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBzdGF0ZS5tYXAoKHBpcGVsaW5lVmFyaWFibGUsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggIT09IGFjdGlvbi5wYXlsb2FkLmluZGV4KSB7XG4gICAgICAgIHJldHVybiBwaXBlbGluZVZhcmlhYmxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5waXBlbGluZVZhcmlhYmxlLFxuICAgICAgICBwaXBlbGluZUFnZzogYWN0aW9uLnBheWxvYWQubmV3TWV0cmljLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn07XG4iLCJpbXBvcnQgeyBQaXBlbGluZVZhcmlhYmxlIH0gZnJvbSAnLi4vLi4vYWdncmVnYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRQaXBlbGluZVZhcmlhYmxlID0gKG5hbWU6IHN0cmluZyk6IFBpcGVsaW5lVmFyaWFibGUgPT4gKHsgbmFtZSwgcGlwZWxpbmVBZ2c6ICcnIH0pO1xuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIHBpcGVsaW5lIHZhcmlhYmxlcyBnZW5lcmF0ZXMgYSBuZXcgdW5pcXVlIHBpcGVsaW5lIHZhcmlhYmxlIG5hbWUgaW4gdGhlIGZvcm0gb2YgYHZhcntufWAuXG4gKiBUaGUgdmFsdWUgZm9yIGBuYCBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSB2YXJpYWJsZXMgbmFtZXMgaW4gcGlwZWxpbmVWYXJzIG1hdGNoaW5nIGB2YXJ7bn1gLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVQaXBlbGluZVZhcmlhYmxlTmFtZSA9IChwaXBlbGluZVZhcnM6IFBpcGVsaW5lVmFyaWFibGVbXSk6IHN0cmluZyA9PlxuICBgdmFyJHtNYXRoLm1heCgwLCAuLi5waXBlbGluZVZhcnMubWFwKCh2KSA9PiBwYXJzZUludCh2Lm5hbWUubWF0Y2goJ152YXIoXFxcXGQrKSQnKT8uWzFdIHx8ICcwJywgMTApKSkgKyAxfWA7XG4iLCJpbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCwgSW5saW5lRmllbGQsIFNlbGVjdCwgSW5saW5lU3dpdGNoIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZVN0YXRlbGVzc1JlZHVjZXInO1xuaW1wb3J0IHsgbW92aW5nQXZnTW9kZWxPcHRpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vcXVlcnlfZGVmJztcbmltcG9ydCB7IGlzRVdNQU1vdmluZ0F2ZXJhZ2UsIGlzSG9sdE1vdmluZ0F2ZXJhZ2UsIGlzSG9sdFdpbnRlcnNNb3ZpbmdBdmVyYWdlLCBNb3ZpbmdBdmVyYWdlIH0gZnJvbSAnLi4vYWdncmVnYXRpb25zJztcbmltcG9ydCB7IGNoYW5nZU1ldHJpY1NldHRpbmcgfSBmcm9tICcuLi9zdGF0ZS9hY3Rpb25zJztcblxuaW1wb3J0IHsgU2V0dGluZ0ZpZWxkIH0gZnJvbSAnLi9TZXR0aW5nRmllbGQnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBtZXRyaWM6IE1vdmluZ0F2ZXJhZ2U7XG59XG5cbi8vIFRoZSB3YXkgd2UgaGFuZGxlIGNoYW5nZXMgZm9yIHRob3NlIHNldHRpbmdzIGlzIG5vdCBpZGVhbCBjb21wYXJlZCB0byB0aGUgb3RoZXIgY29tcG9uZW50cyBpbiB0aGUgZWRpdG9yXG4vLyBGSVhNRTogdXNpbmcgYGNoYW5nZU1ldHJpY1NldHRpbmdgIHdpbGwgY2F1c2UgYW4gZXJyb3Igd2hlbiBzd2l0Y2hpbmcgZnJvbSBtb2RlbHMgdGhhdCBoYXZlIGRpZmZlcmVudCBvcHRpb25zXG4vLyBhcyB0aGV5IG1pZ2h0IGJlIGluY29tcGF0aWJsZS4gV2Ugc2hvdWxkIGNsZWFyIGFsbCBvdGhlciBvcHRpb25zIG9uIG1vZGVsIGNoYW5nZS5cbmV4cG9ydCBjb25zdCBNb3ZpbmdBdmVyYWdlU2V0dGluZ3NFZGl0b3IgPSAoeyBtZXRyaWMgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCB7IGN1cnJlbnQ6IGJhc2VJZCB9ID0gdXNlUmVmKHVuaXF1ZUlkKCdlcy1tb3ZpbmctYXZnLScpKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNb2RlbFwiIGxhYmVsV2lkdGg9ezE2fT5cbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIGlucHV0SWQ9e2Ake2Jhc2VJZH0tbW9kZWxgfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IGRpc3BhdGNoKGNoYW5nZU1ldHJpY1NldHRpbmcoeyBtZXRyaWMsIHNldHRpbmdOYW1lOiAnbW9kZWwnLCBuZXdWYWx1ZTogdmFsdWUudmFsdWUgfSkpfVxuICAgICAgICAgIG9wdGlvbnM9e21vdmluZ0F2Z01vZGVsT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17bWV0cmljLnNldHRpbmdzPy5tb2RlbH1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgIDxTZXR0aW5nRmllbGQgbGFiZWw9XCJXaW5kb3dcIiBzZXR0aW5nTmFtZT1cIndpbmRvd1wiIG1ldHJpYz17bWV0cmljfSBwbGFjZWhvbGRlcj1cIjVcIiAvPlxuXG4gICAgICA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiUHJlZGljdFwiIHNldHRpbmdOYW1lPVwicHJlZGljdFwiIG1ldHJpYz17bWV0cmljfSAvPlxuXG4gICAgICB7KGlzRVdNQU1vdmluZ0F2ZXJhZ2UobWV0cmljKSB8fCBpc0hvbHRNb3ZpbmdBdmVyYWdlKG1ldHJpYykgfHwgaXNIb2x0V2ludGVyc01vdmluZ0F2ZXJhZ2UobWV0cmljKSkgJiYgKFxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJBbHBoYVwiIGxhYmVsV2lkdGg9ezE2fT5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LWFscGhhYH1cbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGNoYW5nZU1ldHJpY1NldHRpbmcoe1xuICAgICAgICAgICAgICAgICAgbWV0cmljLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ05hbWU6ICdzZXR0aW5ncycsXG4gICAgICAgICAgICAgICAgICBuZXdWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAuLi5tZXRyaWMuc2V0dGluZ3M/LnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICBhbHBoYTogZS50YXJnZXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bWV0cmljLnNldHRpbmdzPy5zZXR0aW5ncz8uYWxwaGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICl9XG5cbiAgICAgIHsoaXNIb2x0TW92aW5nQXZlcmFnZShtZXRyaWMpIHx8IGlzSG9sdFdpbnRlcnNNb3ZpbmdBdmVyYWdlKG1ldHJpYykpICYmIChcbiAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiQmV0YVwiIGxhYmVsV2lkdGg9ezE2fT5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LWJldGFgfVxuICAgICAgICAgICAgb25CbHVyPXsoZSkgPT5cbiAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgY2hhbmdlTWV0cmljU2V0dGluZyh7XG4gICAgICAgICAgICAgICAgICBtZXRyaWMsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nTmFtZTogJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1ldHJpYy5zZXR0aW5ncz8uc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIGJldGE6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU9e21ldHJpYy5zZXR0aW5ncz8uc2V0dGluZ3M/LmJldGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICl9XG5cbiAgICAgIHtpc0hvbHRXaW50ZXJzTW92aW5nQXZlcmFnZShtZXRyaWMpICYmIChcbiAgICAgICAgPD5cbiAgICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJHYW1tYVwiIGxhYmVsV2lkdGg9ezE2fT5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBpZD17YCR7YmFzZUlkfS1nYW1tYWB9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VNZXRyaWNTZXR0aW5nKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0cmljLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nTmFtZTogJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5tZXRyaWMuc2V0dGluZ3M/LnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgIGdhbW1hOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bWV0cmljLnNldHRpbmdzPy5zZXR0aW5ncz8uZ2FtbWF9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiUGVyaW9kXCIgbGFiZWxXaWR0aD17MTZ9PlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LXBlcmlvZGB9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VNZXRyaWNTZXR0aW5nKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0cmljLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nTmFtZTogJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5tZXRyaWMuc2V0dGluZ3M/LnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZDogZS50YXJnZXQudmFsdWUhLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttZXRyaWMuc2V0dGluZ3M/LnNldHRpbmdzPy5wZXJpb2R9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJQYWRcIiBsYWJlbFdpZHRoPXsxNn0+XG4gICAgICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LXBhZGB9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VNZXRyaWNTZXR0aW5nKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0cmljLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nTmFtZTogJ3NldHRpbmdzJyxcbiAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWU6IHsgLi4ubWV0cmljLnNldHRpbmdzPy5zZXR0aW5ncywgcGFkOiBlLnRhcmdldC5jaGVja2VkIH0sXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjaGVja2VkPXshIW1ldHJpYy5zZXR0aW5ncz8uc2V0dGluZ3M/LnBhZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgPC8+XG4gICAgICApfVxuXG4gICAgICB7KGlzRVdNQU1vdmluZ0F2ZXJhZ2UobWV0cmljKSB8fCBpc0hvbHRNb3ZpbmdBdmVyYWdlKG1ldHJpYykgfHwgaXNIb2x0V2ludGVyc01vdmluZ0F2ZXJhZ2UobWV0cmljKSkgJiYgKFxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNaW5pbWl6ZVwiIGxhYmVsV2lkdGg9ezE2fT5cbiAgICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgICBpZD17YCR7YmFzZUlkfS1taW5pbWl6ZWB9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PlxuICAgICAgICAgICAgICBkaXNwYXRjaChjaGFuZ2VNZXRyaWNTZXR0aW5nKHsgbWV0cmljLCBzZXR0aW5nTmFtZTogJ21pbmltaXplJywgbmV3VmFsdWU6IGUudGFyZ2V0LmNoZWNrZWQgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGVja2VkPXshIW1ldHJpYy5zZXR0aW5ncz8ubWluaW1pemV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICl9XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgdW5pcXVlSWQgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudFByb3BzLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgSW5saW5lRmllbGQsIElucHV0IH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuaW1wb3J0IHsgZ2V0U2NyaXB0VmFsdWUgfSBmcm9tICdhcHAvcGx1Z2lucy9kYXRhc291cmNlL2VsYXN0aWNzZWFyY2gvdXRpbHMnO1xuXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZVN0YXRlbGVzc1JlZHVjZXInO1xuaW1wb3J0IHsgU2V0dGluZ0tleU9mIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0LCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhTZXR0aW5ncyB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBjaGFuZ2VNZXRyaWNTZXR0aW5nIH0gZnJvbSAnLi4vc3RhdGUvYWN0aW9ucyc7XG5cbmludGVyZmFjZSBQcm9wczxUIGV4dGVuZHMgTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3MsIEsgZXh0ZW5kcyBTZXR0aW5nS2V5T2Y8VD4+IHtcbiAgbGFiZWw6IHN0cmluZztcbiAgc2V0dGluZ05hbWU6IEs7XG4gIG1ldHJpYzogVDtcbiAgcGxhY2Vob2xkZXI/OiBDb21wb25lbnRQcm9wczx0eXBlb2YgSW5wdXQ+WydwbGFjZWhvbGRlciddO1xuICB0b29sdGlwPzogQ29tcG9uZW50UHJvcHM8dHlwZW9mIElubGluZUZpZWxkPlsndG9vbHRpcCddO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ0ZpZWxkPFQgZXh0ZW5kcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhTZXR0aW5ncywgSyBleHRlbmRzIFNldHRpbmdLZXlPZjxUPj4oe1xuICBsYWJlbCxcbiAgc2V0dGluZ05hbWUsXG4gIG1ldHJpYyxcbiAgcGxhY2Vob2xkZXIsXG4gIHRvb2x0aXAsXG59OiBQcm9wczxULCBLPikge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IFtpZF0gPSB1c2VTdGF0ZSh1bmlxdWVJZChgZXMtZmllbGQtaWQtYCkpO1xuICBjb25zdCBzZXR0aW5ncyA9IG1ldHJpYy5zZXR0aW5ncztcblxuICBsZXQgZGVmYXVsdFZhbHVlID0gc2V0dGluZ3M/LltzZXR0aW5nTmFtZSBhcyBrZXlvZiB0eXBlb2Ygc2V0dGluZ3NdIHx8ICcnO1xuXG4gIGlmIChzZXR0aW5nTmFtZSA9PT0gJ3NjcmlwdCcpIHtcbiAgICBkZWZhdWx0VmFsdWUgPSBnZXRTY3JpcHRWYWx1ZShtZXRyaWMgYXMgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0KTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPElubGluZUZpZWxkIGxhYmVsPXtsYWJlbH0gbGFiZWxXaWR0aD17MTZ9IHRvb2x0aXA9e3Rvb2x0aXB9PlxuICAgICAgPElucHV0XG4gICAgICAgIGlkPXtpZH1cbiAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICBvbkJsdXI9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VNZXRyaWNTZXR0aW5nKHsgbWV0cmljLCBzZXR0aW5nTmFtZSwgbmV3VmFsdWU6IGUudGFyZ2V0LnZhbHVlIH0pKX1cbiAgICAgICAgZGVmYXVsdFZhbHVlPXtkZWZhdWx0VmFsdWV9XG4gICAgICAvPlxuICAgIDwvSW5saW5lRmllbGQ+XG4gICk7XG59XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0LCB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IEFzeW5jTXVsdGlTZWxlY3QsIElubGluZUZpZWxkLCBTZWdtZW50QXN5bmMsIFNlbGVjdCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgdXNlRmllbGRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlRmllbGRzJztcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBvcmRlck9wdGlvbnMgfSBmcm9tICcuLi8uLi9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvdXRpbHMnO1xuaW1wb3J0IHsgVG9wTWV0cmljcyB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBjaGFuZ2VNZXRyaWNTZXR0aW5nIH0gZnJvbSAnLi4vc3RhdGUvYWN0aW9ucyc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG1ldHJpYzogVG9wTWV0cmljcztcbn1cblxuY29uc3QgdG9NdWx0aVNlbGVjdFZhbHVlID0gKHZhbHVlOiBzdHJpbmcpOiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPiA9PiAoeyB2YWx1ZSwgbGFiZWw6IHZhbHVlIH0pO1xuXG5leHBvcnQgY29uc3QgVG9wTWV0cmljc1NldHRpbmdzRWRpdG9yOiBGdW5jdGlvbkNvbXBvbmVudDxQcm9wcz4gPSAoeyBtZXRyaWMgfSkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGdldE9yZGVyQnlPcHRpb25zID0gdXNlRmllbGRzKFsnbnVtYmVyJywgJ2RhdGUnXSk7XG4gIGNvbnN0IGdldE1ldHJpY3NPcHRpb25zID0gdXNlRmllbGRzKG1ldHJpYy50eXBlKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNZXRyaWNzXCIgbGFiZWxXaWR0aD17MTZ9PlxuICAgICAgICA8QXN5bmNNdWx0aVNlbGVjdFxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICBjaGFuZ2VNZXRyaWNTZXR0aW5nKHtcbiAgICAgICAgICAgICAgICBtZXRyaWMsXG4gICAgICAgICAgICAgICAgc2V0dGluZ05hbWU6ICdtZXRyaWNzJyxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogZS5tYXAoKHYpID0+IHYudmFsdWUhKSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9hZE9wdGlvbnM9e2dldE1ldHJpY3NPcHRpb25zfVxuICAgICAgICAgIHZhbHVlPXttZXRyaWMuc2V0dGluZ3M/Lm1ldHJpY3M/Lm1hcCh0b011bHRpU2VsZWN0VmFsdWUpfVxuICAgICAgICAgIGNsb3NlTWVudU9uU2VsZWN0PXtmYWxzZX1cbiAgICAgICAgICBkZWZhdWx0T3B0aW9uc1xuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIk9yZGVyXCIgbGFiZWxXaWR0aD17MTZ9PlxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VNZXRyaWNTZXR0aW5nKHsgbWV0cmljLCBzZXR0aW5nTmFtZTogJ29yZGVyJywgbmV3VmFsdWU6IGUudmFsdWUgfSkpfVxuICAgICAgICAgIG9wdGlvbnM9e29yZGVyT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17bWV0cmljLnNldHRpbmdzPy5vcmRlcn1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgbGFiZWw9XCJPcmRlciBCeVwiXG4gICAgICAgIGxhYmVsV2lkdGg9ezE2fVxuICAgICAgICBjbGFzc05hbWU9e2Nzc2BcbiAgICAgICAgICAmID4gZGl2IHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgID5cbiAgICAgICAgPFNlZ21lbnRBc3luY1xuICAgICAgICAgIGNsYXNzTmFtZT17Y3NzYFxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAwO1xuICAgICAgICAgIGB9XG4gICAgICAgICAgbG9hZE9wdGlvbnM9e2dldE9yZGVyQnlPcHRpb25zfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZGlzcGF0Y2goY2hhbmdlTWV0cmljU2V0dGluZyh7IG1ldHJpYywgc2V0dGluZ05hbWU6ICdvcmRlckJ5JywgbmV3VmFsdWU6IGUudmFsdWUgfSkpfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IEZpZWxkXCJcbiAgICAgICAgICB2YWx1ZT17bWV0cmljLnNldHRpbmdzPy5vcmRlckJ5fVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICA8Lz5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50UHJvcHMsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IElubGluZUZpZWxkLCBJbnB1dCwgSW5saW5lU3dpdGNoLCBTZWxlY3QgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBleHRlbmRlZFN0YXRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vcXVlcnlfZGVmJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnLi4vLi4vRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dCc7XG5pbXBvcnQgeyBTZXR0aW5nc0VkaXRvckNvbnRhaW5lciB9IGZyb20gJy4uLy4uL1NldHRpbmdzRWRpdG9yQ29udGFpbmVyJztcbmltcG9ydCB7XG4gIE1ldHJpY0FnZ3JlZ2F0aW9uLFxuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCxcbiAgaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhNaXNzaW5nU3VwcG9ydCxcbiAgRXh0ZW5kZWRTdGF0LFxufSBmcm9tICcuLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgY2hhbmdlTWV0cmljTWV0YSwgY2hhbmdlTWV0cmljU2V0dGluZyB9IGZyb20gJy4uL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgbWV0cmljQWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IEJ1Y2tldFNjcmlwdFNldHRpbmdzRWRpdG9yIH0gZnJvbSAnLi9CdWNrZXRTY3JpcHRTZXR0aW5nc0VkaXRvcic7XG5pbXBvcnQgeyBNb3ZpbmdBdmVyYWdlU2V0dGluZ3NFZGl0b3IgfSBmcm9tICcuL01vdmluZ0F2ZXJhZ2VTZXR0aW5nc0VkaXRvcic7XG5pbXBvcnQgeyBTZXR0aW5nRmllbGQgfSBmcm9tICcuL1NldHRpbmdGaWVsZCc7XG5pbXBvcnQgeyBUb3BNZXRyaWNzU2V0dGluZ3NFZGl0b3IgfSBmcm9tICcuL1RvcE1ldHJpY3NTZXR0aW5nc0VkaXRvcic7XG5pbXBvcnQgeyB1c2VEZXNjcmlwdGlvbiB9IGZyb20gJy4vdXNlRGVzY3JpcHRpb24nO1xuXG4vLyBUT0RPOiBNb3ZlIHRoaXMgc29tZXdoZXJlIGFuZCBzaGFyZSBpdCB3aXRoIEJ1Y2tldHNBZ2dyZWdhdGlvbiBFZGl0b3JcbmNvbnN0IGlubGluZUZpZWxkUHJvcHM6IFBhcnRpYWw8Q29tcG9uZW50UHJvcHM8dHlwZW9mIElubGluZUZpZWxkPj4gPSB7XG4gIGxhYmVsV2lkdGg6IDE2LFxufTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbWV0cmljOiBNZXRyaWNBZ2dyZWdhdGlvbjtcbiAgcHJldmlvdXNNZXRyaWNzOiBNZXRyaWNBZ2dyZWdhdGlvbltdO1xufVxuXG5leHBvcnQgY29uc3QgU2V0dGluZ3NFZGl0b3IgPSAoeyBtZXRyaWMsIHByZXZpb3VzTWV0cmljcyB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGN1cnJlbnQ6IGJhc2VJZCB9ID0gdXNlUmVmKHVuaXF1ZUlkKCdlcy1zZXR0aW5nLScpKTtcblxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gdXNlRGVzY3JpcHRpb24obWV0cmljKTtcbiAgY29uc3QgcXVlcnkgPSB1c2VRdWVyeSgpO1xuXG4gIGNvbnN0IHJhdGVBZ2dVbml0T3B0aW9ucyA9IFtcbiAgICB7IHZhbHVlOiAnc2Vjb25kJywgbGFiZWw6ICdTZWNvbmQnIH0sXG4gICAgeyB2YWx1ZTogJ21pbnV0ZScsIGxhYmVsOiAnTWludXRlJyB9LFxuICAgIHsgdmFsdWU6ICdob3VyJywgbGFiZWw6ICdIb3VyJyB9LFxuICAgIHsgdmFsdWU6ICdkYXknLCBsYWJlbDogJ0RheScgfSxcbiAgICB7IHZhbHVlOiAnd2VlaycsIGxhYmVsOiAnV2VlaycgfSxcbiAgICB7IHZhbHVlOiAnbW9udGgnLCBsYWJlbDogJ01vbnRoJyB9LFxuICAgIHsgdmFsdWU6ICdxdWFydGVyJywgbGFiZWw6ICdRdWFydGVyJyB9LFxuICAgIHsgdmFsdWU6ICdZZWFyJywgbGFiZWw6ICdZZWFyJyB9LFxuICBdO1xuXG4gIGNvbnN0IHJhdGVBZ2dNb2RlT3B0aW9ucyA9IFtcbiAgICB7IHZhbHVlOiAnc3VtJywgbGFiZWw6ICdTdW0nIH0sXG4gICAgeyB2YWx1ZTogJ3ZhbHVlX2NvdW50JywgbGFiZWw6ICdWYWx1ZSBjb3VudCcgfSxcbiAgXTtcblxuICByZXR1cm4gKFxuICAgIDxTZXR0aW5nc0VkaXRvckNvbnRhaW5lciBsYWJlbD17ZGVzY3JpcHRpb259IGhpZGRlbj17bWV0cmljLmhpZGV9PlxuICAgICAge21ldHJpYy50eXBlID09PSAnZGVyaXZhdGl2ZScgJiYgPFNldHRpbmdGaWVsZCBsYWJlbD1cIlVuaXRcIiBtZXRyaWM9e21ldHJpY30gc2V0dGluZ05hbWU9XCJ1bml0XCIgLz59XG5cbiAgICAgIHttZXRyaWMudHlwZSA9PT0gJ3NlcmlhbF9kaWZmJyAmJiA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiTGFnXCIgbWV0cmljPXttZXRyaWN9IHNldHRpbmdOYW1lPVwibGFnXCIgcGxhY2Vob2xkZXI9XCIxXCIgLz59XG5cbiAgICAgIHttZXRyaWMudHlwZSA9PT0gJ2N1bXVsYXRpdmVfc3VtJyAmJiA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiRm9ybWF0XCIgbWV0cmljPXttZXRyaWN9IHNldHRpbmdOYW1lPVwiZm9ybWF0XCIgLz59XG5cbiAgICAgIHttZXRyaWMudHlwZSA9PT0gJ21vdmluZ19hdmcnICYmIDxNb3ZpbmdBdmVyYWdlU2V0dGluZ3NFZGl0b3IgbWV0cmljPXttZXRyaWN9IC8+fVxuXG4gICAgICB7bWV0cmljLnR5cGUgPT09ICdtb3ZpbmdfZm4nICYmIChcbiAgICAgICAgPD5cbiAgICAgICAgICA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiV2luZG93XCIgbWV0cmljPXttZXRyaWN9IHNldHRpbmdOYW1lPVwid2luZG93XCIgLz5cbiAgICAgICAgICA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiU2NyaXB0XCIgbWV0cmljPXttZXRyaWN9IHNldHRpbmdOYW1lPVwic2NyaXB0XCIgLz5cbiAgICAgICAgICA8U2V0dGluZ0ZpZWxkIGxhYmVsPVwiU2hpZnRcIiBtZXRyaWM9e21ldHJpY30gc2V0dGluZ05hbWU9XCJzaGlmdFwiIC8+XG4gICAgICAgIDwvPlxuICAgICAgKX1cblxuICAgICAge21ldHJpYy50eXBlID09PSAndG9wX21ldHJpY3MnICYmIDxUb3BNZXRyaWNzU2V0dGluZ3NFZGl0b3IgbWV0cmljPXttZXRyaWN9IC8+fVxuXG4gICAgICB7bWV0cmljLnR5cGUgPT09ICdidWNrZXRfc2NyaXB0JyAmJiAoXG4gICAgICAgIDxCdWNrZXRTY3JpcHRTZXR0aW5nc0VkaXRvciB2YWx1ZT17bWV0cmljfSBwcmV2aW91c01ldHJpY3M9e3ByZXZpb3VzTWV0cmljc30gLz5cbiAgICAgICl9XG5cbiAgICAgIHsobWV0cmljLnR5cGUgPT09ICdyYXdfZGF0YScgfHwgbWV0cmljLnR5cGUgPT09ICdyYXdfZG9jdW1lbnQnKSAmJiAoXG4gICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlNpemVcIiB7Li4uaW5saW5lRmllbGRQcm9wc30+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBpZD17YEVTLXF1ZXJ5LSR7cXVlcnkucmVmSWR9X21ldHJpYy0ke21ldHJpYy5pZH0tc2l6ZWB9XG4gICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VNZXRyaWNTZXR0aW5nKHsgbWV0cmljLCBzZXR0aW5nTmFtZTogJ3NpemUnLCBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXttZXRyaWMuc2V0dGluZ3M/LnNpemUgPz8gbWV0cmljQWdncmVnYXRpb25Db25maWdbJ3Jhd19kYXRhJ10uZGVmYXVsdHMuc2V0dGluZ3M/LnNpemV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICl9XG5cbiAgICAgIHttZXRyaWMudHlwZSA9PT0gJ2xvZ3MnICYmIDxTZXR0aW5nRmllbGQgbGFiZWw9XCJMaW1pdFwiIG1ldHJpYz17bWV0cmljfSBzZXR0aW5nTmFtZT1cImxpbWl0XCIgcGxhY2Vob2xkZXI9XCI1MDBcIiAvPn1cblxuICAgICAge21ldHJpYy50eXBlID09PSAnY2FyZGluYWxpdHknICYmIChcbiAgICAgICAgPFNldHRpbmdGaWVsZCBsYWJlbD1cIlByZWNpc2lvbiBUaHJlc2hvbGRcIiBtZXRyaWM9e21ldHJpY30gc2V0dGluZ05hbWU9XCJwcmVjaXNpb25fdGhyZXNob2xkXCIgLz5cbiAgICAgICl9XG5cbiAgICAgIHttZXRyaWMudHlwZSA9PT0gJ2V4dGVuZGVkX3N0YXRzJyAmJiAoXG4gICAgICAgIDw+XG4gICAgICAgICAge2V4dGVuZGVkU3RhdHMubWFwKChzdGF0KSA9PiAoXG4gICAgICAgICAgICA8RXh0ZW5kZWRTdGF0U2V0dGluZ1xuICAgICAgICAgICAgICBrZXk9e3N0YXQudmFsdWV9XG4gICAgICAgICAgICAgIHN0YXQ9e3N0YXR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsobmV3VmFsdWUpID0+IGRpc3BhdGNoKGNoYW5nZU1ldHJpY01ldGEoeyBtZXRyaWMsIG1ldGE6IHN0YXQudmFsdWUsIG5ld1ZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgdmFsdWU9e1xuICAgICAgICAgICAgICAgIG1ldHJpYy5tZXRhPy5bc3RhdC52YWx1ZV0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgPyAhIW1ldHJpYy5tZXRhPy5bc3RhdC52YWx1ZV1cbiAgICAgICAgICAgICAgICAgIDogISFtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZ1snZXh0ZW5kZWRfc3RhdHMnXS5kZWZhdWx0cy5tZXRhPy5bc3RhdC52YWx1ZV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApKX1cblxuICAgICAgICAgIDxTZXR0aW5nRmllbGQgbGFiZWw9XCJTaWdtYVwiIG1ldHJpYz17bWV0cmljfSBzZXR0aW5nTmFtZT1cInNpZ21hXCIgcGxhY2Vob2xkZXI9XCIzXCIgLz5cbiAgICAgICAgPC8+XG4gICAgICApfVxuXG4gICAgICB7bWV0cmljLnR5cGUgPT09ICdwZXJjZW50aWxlcycgJiYgKFxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJQZXJjZW50aWxlc1wiIHsuLi5pbmxpbmVGaWVsZFByb3BzfT5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGlkPXtgJHtiYXNlSWR9LXBlcmNlbnRpbGVzLXBlcmNlbnRzYH1cbiAgICAgICAgICAgIG9uQmx1cj17KGUpID0+XG4gICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGNoYW5nZU1ldHJpY1NldHRpbmcoe1xuICAgICAgICAgICAgICAgICAgbWV0cmljLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ05hbWU6ICdwZXJjZW50cycsXG4gICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogZS50YXJnZXQudmFsdWUuc3BsaXQoJywnKS5maWx0ZXIoQm9vbGVhbiksXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtcbiAgICAgICAgICAgICAgbWV0cmljLnNldHRpbmdzPy5wZXJjZW50cyB8fCBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZ1sncGVyY2VudGlsZXMnXS5kZWZhdWx0cy5zZXR0aW5ncz8ucGVyY2VudHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMSw1LDI1LDUwLDc1LDk1LDk5XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgKX1cblxuICAgICAge21ldHJpYy50eXBlID09PSAncmF0ZScgJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlVuaXRcIiB7Li4uaW5saW5lRmllbGRQcm9wc30gZGF0YS10ZXN0aWQ9XCJ1bml0LXNlbGVjdFwiPlxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICBpZD17YEVTLXF1ZXJ5LSR7cXVlcnkucmVmSWR9X21ldHJpYy0ke21ldHJpYy5pZH0tdW5pdGB9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZGlzcGF0Y2goY2hhbmdlTWV0cmljU2V0dGluZyh7IG1ldHJpYywgc2V0dGluZ05hbWU6ICd1bml0JywgbmV3VmFsdWU6IGUudmFsdWUgfSkpfVxuICAgICAgICAgICAgICBvcHRpb25zPXtyYXRlQWdnVW5pdE9wdGlvbnN9XG4gICAgICAgICAgICAgIHZhbHVlPXttZXRyaWMuc2V0dGluZ3M/LnVuaXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNb2RlXCIgey4uLmlubGluZUZpZWxkUHJvcHN9IGRhdGEtdGVzdGlkPVwibW9kZS1zZWxlY3RcIj5cbiAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgaWQ9e2BFUy1xdWVyeS0ke3F1ZXJ5LnJlZklkfV9tZXRyaWMtJHttZXRyaWMuaWR9LW1vZGVgfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGRpc3BhdGNoKGNoYW5nZU1ldHJpY1NldHRpbmcoeyBtZXRyaWMsIHNldHRpbmdOYW1lOiAnbW9kZScsIG5ld1ZhbHVlOiBlLnZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17cmF0ZUFnZ01vZGVPcHRpb25zfVxuICAgICAgICAgICAgICB2YWx1ZT17bWV0cmljLnNldHRpbmdzPy51bml0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8Lz5cbiAgICAgICl9XG5cbiAgICAgIHtpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdChtZXRyaWMpICYmIChcbiAgICAgICAgPFNldHRpbmdGaWVsZCBsYWJlbD1cIlNjcmlwdFwiIG1ldHJpYz17bWV0cmljfSBzZXR0aW5nTmFtZT1cInNjcmlwdFwiIHBsYWNlaG9sZGVyPVwiX3ZhbHVlICogMVwiIC8+XG4gICAgICApfVxuXG4gICAgICB7aXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhNaXNzaW5nU3VwcG9ydChtZXRyaWMpICYmIChcbiAgICAgICAgPFNldHRpbmdGaWVsZFxuICAgICAgICAgIGxhYmVsPVwiTWlzc2luZ1wiXG4gICAgICAgICAgbWV0cmljPXttZXRyaWN9XG4gICAgICAgICAgc2V0dGluZ05hbWU9XCJtaXNzaW5nXCJcbiAgICAgICAgICB0b29sdGlwPVwiVGhlIG1pc3NpbmcgcGFyYW1ldGVyIGRlZmluZXMgaG93IGRvY3VtZW50cyB0aGF0IGFyZSBtaXNzaW5nIGEgdmFsdWUgc2hvdWxkIGJlIHRyZWF0ZWQuIEJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHRoZXkgd2lsbCBiZSBpZ25vcmVkIGJ1dCBpdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHRyZWF0IHRoZW0gYXMgaWYgdGhleSBoYWQgYSB2YWx1ZVwiXG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvU2V0dGluZ3NFZGl0b3JDb250YWluZXI+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgRXh0ZW5kZWRTdGF0U2V0dGluZ1Byb3BzIHtcbiAgc3RhdDogRXh0ZW5kZWRTdGF0O1xuICBvbkNoYW5nZTogKGNoZWNrZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHZhbHVlOiBib29sZWFuO1xufVxuY29uc3QgRXh0ZW5kZWRTdGF0U2V0dGluZyA9ICh7IHN0YXQsIG9uQ2hhbmdlLCB2YWx1ZSB9OiBFeHRlbmRlZFN0YXRTZXR0aW5nUHJvcHMpID0+IHtcbiAgLy8gdGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBodG1sRm9yIHByb3AgaW4gdGhlIGxhYmVsIHNvIHRoYXQgY2xpY2tpbmcgdGhlIGxhYmVsIHdpbGwgdG9nZ2xlIHRoZSBzd2l0Y2ggc3RhdGUuXG4gIGNvbnN0IFtpZF0gPSB1c2VTdGF0ZSh1bmlxdWVJZChgZXMtZmllbGQtaWQtYCkpO1xuXG4gIHJldHVybiAoXG4gICAgPElubGluZUZpZWxkIGxhYmVsPXtzdGF0LmxhYmVsfSB7Li4uaW5saW5lRmllbGRQcm9wc30ga2V5PXtzdGF0LnZhbHVlfT5cbiAgICAgIDxJbmxpbmVTd2l0Y2hcbiAgICAgICAgaWQ9e2lkfVxuICAgICAgICBvbkNoYW5nZT17KGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiBvbkNoYW5nZShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgLz5cbiAgICA8L0lubGluZUZpZWxkPlxuICApO1xufTtcbiIsImltcG9ydCB7IGV4dGVuZGVkU3RhdHMgfSBmcm9tICcuLi8uLi8uLi8uLi9xdWVyeV9kZWYnO1xuaW1wb3J0IHsgTWV0cmljQWdncmVnYXRpb24gfSBmcm9tICcuLi9hZ2dyZWdhdGlvbnMnO1xuXG5jb25zdCBoYXNWYWx1ZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiAob2JqZWN0OiB7IHZhbHVlOiBzdHJpbmcgfSkgPT4gb2JqZWN0LnZhbHVlID09PSB2YWx1ZTtcblxuLy8gRklYTUU6IEFsbCB0aGUgZGVmYXVsdHMgYW5kIHZhbGlkYXRpb25zIGRvd24gaGVyZSBzaG91bGQgYmUgZGVmaW5lZCBzb21ld2hlcmUgZWxzZVxuLy8gYXMgdGhleSBhcmUgYWxzbyB0aGUgZGVmYXVsdHMgdGhhdCBhcmUgZ29ubmEgYmUgYXBwbGllZCB0byB0aGUgcXVlcnkuXG4vLyBJbiB0aGUgcHJldmlvdXMgdmVyc2lvbiwgdGhlIHNhbWUgbWV0aG9kIHdhcyB0YWtpbmcgY2FyZSBvZiBkZXNjcmliaW5nIHRoZSBzZXR0aW5ncyBhbmQgc2V0dGluZyBkZWZhdWx0cy5cbmV4cG9ydCBjb25zdCB1c2VEZXNjcmlwdGlvbiA9IChtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uKTogc3RyaW5nID0+IHtcbiAgc3dpdGNoIChtZXRyaWMudHlwZSkge1xuICAgIGNhc2UgJ2NhcmRpbmFsaXR5Jzoge1xuICAgICAgY29uc3QgcHJlY2lzaW9uVGhyZXNob2xkID0gbWV0cmljLnNldHRpbmdzPy5wcmVjaXNpb25fdGhyZXNob2xkIHx8ICcnO1xuICAgICAgcmV0dXJuIGBQcmVjaXNpb24gdGhyZXNob2xkOiAke3ByZWNpc2lvblRocmVzaG9sZH1gO1xuICAgIH1cblxuICAgIGNhc2UgJ3BlcmNlbnRpbGVzJzpcbiAgICAgIGlmIChtZXRyaWMuc2V0dGluZ3M/LnBlcmNlbnRzICYmIG1ldHJpYy5zZXR0aW5ncz8ucGVyY2VudHM/Lmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHJldHVybiBgVmFsdWVzOiAke21ldHJpYy5zZXR0aW5ncz8ucGVyY2VudHN9YDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICdQZXJjZW50czogRGVmYXVsdCc7XG5cbiAgICBjYXNlICdleHRlbmRlZF9zdGF0cyc6IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkU3RhdHMgPSBPYmplY3QuZW50cmllcyhtZXRyaWMubWV0YSB8fCB7fSlcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB2YWx1ZSAmJiBleHRlbmRlZFN0YXRzLmZpbmQoaGFzVmFsdWUoa2V5KSk/LmxhYmVsKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICByZXR1cm4gYFN0YXRzOiAke3NlbGVjdGVkU3RhdHMubGVuZ3RoID4gMCA/IHNlbGVjdGVkU3RhdHMuam9pbignLCAnKSA6ICdOb25lIHNlbGVjdGVkJ31gO1xuICAgIH1cblxuICAgIGNhc2UgJ3Jhd19kb2N1bWVudCc6XG4gICAgY2FzZSAncmF3X2RhdGEnOiB7XG4gICAgICBjb25zdCBzaXplID0gbWV0cmljLnNldHRpbmdzPy5zaXplIHx8IDUwMDtcbiAgICAgIHJldHVybiBgU2l6ZTogJHtzaXplfWA7XG4gICAgfVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnT3B0aW9ucyc7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZyB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uVHlwZSA9XG4gIHwgJ21vdmluZ19hdmcnXG4gIHwgJ21vdmluZ19mbidcbiAgfCAnZGVyaXZhdGl2ZSdcbiAgfCAnc2VyaWFsX2RpZmYnXG4gIHwgJ2N1bXVsYXRpdmVfc3VtJ1xuICB8ICdidWNrZXRfc2NyaXB0JztcblxuZXhwb3J0IHR5cGUgTWV0cmljQWdncmVnYXRpb25UeXBlID1cbiAgfCAnY291bnQnXG4gIHwgJ2F2ZydcbiAgfCAnc3VtJ1xuICB8ICdtaW4nXG4gIHwgJ21heCdcbiAgfCAnZXh0ZW5kZWRfc3RhdHMnXG4gIHwgJ3BlcmNlbnRpbGVzJ1xuICB8ICdjYXJkaW5hbGl0eSdcbiAgfCAncmF3X2RvY3VtZW50J1xuICB8ICdyYXdfZGF0YSdcbiAgfCAnbG9ncydcbiAgfCAncmF0ZSdcbiAgfCAndG9wX21ldHJpY3MnXG4gIHwgUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvblR5cGU7XG5cbmludGVyZmFjZSBCYXNlTWV0cmljQWdncmVnYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBNZXRyaWNBZ2dyZWdhdGlvblR5cGU7XG4gIGhpZGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBpcGVsaW5lVmFyaWFibGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIHBpcGVsaW5lQWdnOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQgZXh0ZW5kcyBCYXNlTWV0cmljQWdncmVnYXRpb24ge1xuICBmaWVsZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNBZ2dyZWdhdGlvbldpdGhNaXNzaW5nU3VwcG9ydCBleHRlbmRzIEJhc2VNZXRyaWNBZ2dyZWdhdGlvbiB7XG4gIHNldHRpbmdzPzoge1xuICAgIG1pc3Npbmc/OiBzdHJpbmc7XG4gIH07XG59XG5cbnR5cGUgSW5saW5lU2NyaXB0ID0gc3RyaW5nIHwgeyBpbmxpbmU/OiBzdHJpbmcgfTtcbmV4cG9ydCBpbnRlcmZhY2UgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0IGV4dGVuZHMgQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgc2V0dGluZ3M/OiB7XG4gICAgc2NyaXB0PzogSW5saW5lU2NyaXB0O1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvdW50IGV4dGVuZHMgQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgdHlwZTogJ2NvdW50Jztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdmVyYWdlXG4gIGV4dGVuZHMgTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsXG4gICAgTWV0cmljQWdncmVnYXRpb25XaXRoTWlzc2luZ1N1cHBvcnQsXG4gICAgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0IHtcbiAgdHlwZTogJ2F2Zyc7XG4gIHNldHRpbmdzPzoge1xuICAgIHNjcmlwdD86IElubGluZVNjcmlwdDtcbiAgICBtaXNzaW5nPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1bSBleHRlbmRzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkLCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhJbmxpbmVTY3JpcHQge1xuICB0eXBlOiAnc3VtJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgc2NyaXB0PzogSW5saW5lU2NyaXB0O1xuICAgIG1pc3Npbmc/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF4IGV4dGVuZHMgTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCB7XG4gIHR5cGU6ICdtYXgnO1xuICBzZXR0aW5ncz86IHtcbiAgICBzY3JpcHQ/OiBJbmxpbmVTY3JpcHQ7XG4gICAgbWlzc2luZz86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNaW4gZXh0ZW5kcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZCwgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0IHtcbiAgdHlwZTogJ21pbic7XG4gIHNldHRpbmdzPzoge1xuICAgIHNjcmlwdD86IElubGluZVNjcmlwdDtcbiAgICBtaXNzaW5nPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgdHlwZSBFeHRlbmRlZFN0YXRNZXRhVHlwZSA9XG4gIHwgJ2F2ZydcbiAgfCAnbWluJ1xuICB8ICdtYXgnXG4gIHwgJ3N1bSdcbiAgfCAnY291bnQnXG4gIHwgJ3N0ZF9kZXZpYXRpb24nXG4gIHwgJ3N0ZF9kZXZpYXRpb25fYm91bmRzX3VwcGVyJ1xuICB8ICdzdGRfZGV2aWF0aW9uX2JvdW5kc19sb3dlcic7XG5leHBvcnQgaW50ZXJmYWNlIEV4dGVuZGVkU3RhdCB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHZhbHVlOiBFeHRlbmRlZFN0YXRNZXRhVHlwZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeHRlbmRlZFN0YXRzIGV4dGVuZHMgTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCB7XG4gIHR5cGU6ICdleHRlbmRlZF9zdGF0cyc7XG4gIHNldHRpbmdzPzoge1xuICAgIHNjcmlwdD86IElubGluZVNjcmlwdDtcbiAgICBtaXNzaW5nPzogc3RyaW5nO1xuICAgIHNpZ21hPzogc3RyaW5nO1xuICB9O1xuICBtZXRhPzoge1xuICAgIFtQIGluIEV4dGVuZGVkU3RhdE1ldGFUeXBlXT86IGJvb2xlYW47XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyY2VudGlsZXMgZXh0ZW5kcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZCwgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0IHtcbiAgdHlwZTogJ3BlcmNlbnRpbGVzJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgcGVyY2VudHM/OiBzdHJpbmdbXTtcbiAgICBzY3JpcHQ/OiBJbmxpbmVTY3JpcHQ7XG4gICAgbWlzc2luZz86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbmlxdWVDb3VudCBleHRlbmRzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkIHtcbiAgdHlwZTogJ2NhcmRpbmFsaXR5JztcbiAgc2V0dGluZ3M/OiB7XG4gICAgcHJlY2lzaW9uX3RocmVzaG9sZD86IHN0cmluZztcbiAgICBtaXNzaW5nPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhd0RvY3VtZW50IGV4dGVuZHMgQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgdHlwZTogJ3Jhd19kb2N1bWVudCc7XG4gIHNldHRpbmdzPzoge1xuICAgIHNpemU/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF3RGF0YSBleHRlbmRzIEJhc2VNZXRyaWNBZ2dyZWdhdGlvbiB7XG4gIHR5cGU6ICdyYXdfZGF0YSc7XG4gIHNldHRpbmdzPzoge1xuICAgIHNpemU/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9ncyBleHRlbmRzIEJhc2VNZXRyaWNBZ2dyZWdhdGlvbiB7XG4gIHR5cGU6ICdsb2dzJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgbGltaXQ/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmF0ZSBleHRlbmRzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkIHtcbiAgdHlwZTogJ3JhdGUnO1xuICBzZXR0aW5ncz86IHtcbiAgICB1bml0Pzogc3RyaW5nO1xuICAgIG1vZGU/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVBpcGVsaW5lTWV0cmljQWdncmVnYXRpb24gZXh0ZW5kcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZCB7XG4gIHR5cGU6IFBpcGVsaW5lTWV0cmljQWdncmVnYXRpb25UeXBlO1xuICBwaXBlbGluZUFnZz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uV2l0aE11bHRpcGxlQnVja2V0UGF0aHMgZXh0ZW5kcyBCYXNlTWV0cmljQWdncmVnYXRpb24ge1xuICB0eXBlOiBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uVHlwZTtcbiAgcGlwZWxpbmVWYXJpYWJsZXM/OiBQaXBlbGluZVZhcmlhYmxlW107XG59XG5cbmV4cG9ydCB0eXBlIE1vdmluZ0F2ZXJhZ2VNb2RlbCA9ICdzaW1wbGUnIHwgJ2xpbmVhcicgfCAnZXdtYScgfCAnaG9sdCcgfCAnaG9sdF93aW50ZXJzJztcblxuZXhwb3J0IGludGVyZmFjZSBNb3ZpbmdBdmVyYWdlTW9kZWxPcHRpb24ge1xuICBsYWJlbDogc3RyaW5nO1xuICB2YWx1ZTogTW92aW5nQXZlcmFnZU1vZGVsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VNb3ZpbmdBdmVyYWdlTW9kZWxTZXR0aW5ncyB7XG4gIG1vZGVsOiBNb3ZpbmdBdmVyYWdlTW9kZWw7XG4gIHdpbmRvdzogc3RyaW5nO1xuICBwcmVkaWN0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW92aW5nQXZlcmFnZVNpbXBsZU1vZGVsU2V0dGluZ3MgZXh0ZW5kcyBCYXNlTW92aW5nQXZlcmFnZU1vZGVsU2V0dGluZ3Mge1xuICBtb2RlbDogJ3NpbXBsZSc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW92aW5nQXZlcmFnZUxpbmVhck1vZGVsU2V0dGluZ3MgZXh0ZW5kcyBCYXNlTW92aW5nQXZlcmFnZU1vZGVsU2V0dGluZ3Mge1xuICBtb2RlbDogJ2xpbmVhcic7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW92aW5nQXZlcmFnZUVXTUFNb2RlbFNldHRpbmdzIGV4dGVuZHMgQmFzZU1vdmluZ0F2ZXJhZ2VNb2RlbFNldHRpbmdzIHtcbiAgbW9kZWw6ICdld21hJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgYWxwaGE/OiBzdHJpbmc7XG4gIH07XG4gIG1pbmltaXplOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmluZ0F2ZXJhZ2VIb2x0TW9kZWxTZXR0aW5ncyBleHRlbmRzIEJhc2VNb3ZpbmdBdmVyYWdlTW9kZWxTZXR0aW5ncyB7XG4gIG1vZGVsOiAnaG9sdCc7XG4gIHNldHRpbmdzOiB7XG4gICAgYWxwaGE/OiBzdHJpbmc7XG4gICAgYmV0YT86IHN0cmluZztcbiAgfTtcbiAgbWluaW1pemU6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW92aW5nQXZlcmFnZUhvbHRXaW50ZXJzTW9kZWxTZXR0aW5ncyBleHRlbmRzIEJhc2VNb3ZpbmdBdmVyYWdlTW9kZWxTZXR0aW5ncyB7XG4gIG1vZGVsOiAnaG9sdF93aW50ZXJzJztcbiAgc2V0dGluZ3M6IHtcbiAgICBhbHBoYT86IHN0cmluZztcbiAgICBiZXRhPzogc3RyaW5nO1xuICAgIGdhbW1hPzogc3RyaW5nO1xuICAgIHBlcmlvZD86IHN0cmluZztcbiAgICBwYWQ/OiBib29sZWFuO1xuICB9O1xuICBtaW5pbWl6ZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IHR5cGUgTW92aW5nQXZlcmFnZU1vZGVsU2V0dGluZ3M8VCBleHRlbmRzIE1vdmluZ0F2ZXJhZ2VNb2RlbCA9IE1vdmluZ0F2ZXJhZ2VNb2RlbD4gPSBQYXJ0aWFsPFxuICBFeHRyYWN0PFxuICAgIHwgTW92aW5nQXZlcmFnZVNpbXBsZU1vZGVsU2V0dGluZ3NcbiAgICB8IE1vdmluZ0F2ZXJhZ2VMaW5lYXJNb2RlbFNldHRpbmdzXG4gICAgfCBNb3ZpbmdBdmVyYWdlRVdNQU1vZGVsU2V0dGluZ3NcbiAgICB8IE1vdmluZ0F2ZXJhZ2VIb2x0TW9kZWxTZXR0aW5nc1xuICAgIHwgTW92aW5nQXZlcmFnZUhvbHRXaW50ZXJzTW9kZWxTZXR0aW5ncyxcbiAgICB7IG1vZGVsOiBUIH1cbiAgPlxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBNb3ZpbmdBdmVyYWdlPFQgZXh0ZW5kcyBNb3ZpbmdBdmVyYWdlTW9kZWwgPSBNb3ZpbmdBdmVyYWdlTW9kZWw+XG4gIGV4dGVuZHMgQmFzZVBpcGVsaW5lTWV0cmljQWdncmVnYXRpb24ge1xuICB0eXBlOiAnbW92aW5nX2F2Zyc7XG4gIHNldHRpbmdzPzogTW92aW5nQXZlcmFnZU1vZGVsU2V0dGluZ3M8VD47XG59XG5cbmV4cG9ydCBjb25zdCBpc0VXTUFNb3ZpbmdBdmVyYWdlID0gKG1ldHJpYzogTW92aW5nQXZlcmFnZSB8IE1vdmluZ0F2ZXJhZ2U8J2V3bWEnPik6IG1ldHJpYyBpcyBNb3ZpbmdBdmVyYWdlPCdld21hJz4gPT5cbiAgbWV0cmljLnNldHRpbmdzPy5tb2RlbCA9PT0gJ2V3bWEnO1xuXG5leHBvcnQgY29uc3QgaXNIb2x0TW92aW5nQXZlcmFnZSA9IChtZXRyaWM6IE1vdmluZ0F2ZXJhZ2UgfCBNb3ZpbmdBdmVyYWdlPCdob2x0Jz4pOiBtZXRyaWMgaXMgTW92aW5nQXZlcmFnZTwnaG9sdCc+ID0+XG4gIG1ldHJpYy5zZXR0aW5ncz8ubW9kZWwgPT09ICdob2x0JztcblxuZXhwb3J0IGNvbnN0IGlzSG9sdFdpbnRlcnNNb3ZpbmdBdmVyYWdlID0gKFxuICBtZXRyaWM6IE1vdmluZ0F2ZXJhZ2UgfCBNb3ZpbmdBdmVyYWdlPCdob2x0X3dpbnRlcnMnPlxuKTogbWV0cmljIGlzIE1vdmluZ0F2ZXJhZ2U8J2hvbHRfd2ludGVycyc+ID0+IG1ldHJpYy5zZXR0aW5ncz8ubW9kZWwgPT09ICdob2x0X3dpbnRlcnMnO1xuXG5leHBvcnQgY29uc3QgaXNNb3ZpbmdBdmVyYWdlV2l0aE1vZGVsU2V0dGluZ3MgPSAoXG4gIG1ldHJpYzogTW92aW5nQXZlcmFnZVxuKTogbWV0cmljIGlzIE1vdmluZ0F2ZXJhZ2U8J2V3bWEnPiB8IE1vdmluZ0F2ZXJhZ2U8J2hvbHQnPiB8IE1vdmluZ0F2ZXJhZ2U8J2hvbHRfd2ludGVycyc+ID0+XG4gIFsnaG9sdCcsICdld21hJywgJ2hvbHRfd2ludGVycyddLmluY2x1ZGVzKG1ldHJpYy5zZXR0aW5ncz8ubW9kZWwgfHwgJycpO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1vdmluZ0Z1bmN0aW9uIGV4dGVuZHMgQmFzZVBpcGVsaW5lTWV0cmljQWdncmVnYXRpb24ge1xuICB0eXBlOiAnbW92aW5nX2ZuJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgd2luZG93Pzogc3RyaW5nO1xuICAgIHNjcmlwdD86IElubGluZVNjcmlwdDtcbiAgICBzaGlmdD86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZXJpdmF0aXZlIGV4dGVuZHMgQmFzZVBpcGVsaW5lTWV0cmljQWdncmVnYXRpb24ge1xuICB0eXBlOiAnZGVyaXZhdGl2ZSc7XG4gIHNldHRpbmdzPzoge1xuICAgIHVuaXQ/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsRGlmZiBleHRlbmRzIEJhc2VQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgdHlwZTogJ3NlcmlhbF9kaWZmJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgbGFnPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEN1bXVsYXRpdmVTdW0gZXh0ZW5kcyBCYXNlUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvbiB7XG4gIHR5cGU6ICdjdW11bGF0aXZlX3N1bSc7XG4gIHNldHRpbmdzPzoge1xuICAgIGZvcm1hdD86IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWNrZXRTY3JpcHQgZXh0ZW5kcyBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uV2l0aE11bHRpcGxlQnVja2V0UGF0aHMge1xuICB0eXBlOiAnYnVja2V0X3NjcmlwdCc7XG4gIHNldHRpbmdzPzoge1xuICAgIHNjcmlwdD86IElubGluZVNjcmlwdDtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb3BNZXRyaWNzIGV4dGVuZHMgQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgdHlwZTogJ3RvcF9tZXRyaWNzJztcbiAgc2V0dGluZ3M/OiB7XG4gICAgb3JkZXI/OiBzdHJpbmc7XG4gICAgb3JkZXJCeT86IHN0cmluZztcbiAgICBtZXRyaWNzPzogc3RyaW5nW107XG4gIH07XG59XG5cbnR5cGUgUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvbiA9IE1vdmluZ0F2ZXJhZ2UgfCBEZXJpdmF0aXZlIHwgQ3VtdWxhdGl2ZVN1bSB8IEJ1Y2tldFNjcmlwdDtcblxuZXhwb3J0IHR5cGUgTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3MgPVxuICB8IEJ1Y2tldFNjcmlwdFxuICB8IEN1bXVsYXRpdmVTdW1cbiAgfCBEZXJpdmF0aXZlXG4gIHwgU2VyaWFsRGlmZlxuICB8IFJhd0RhdGFcbiAgfCBSYXdEb2N1bWVudFxuICB8IFVuaXF1ZUNvdW50XG4gIHwgUGVyY2VudGlsZXNcbiAgfCBFeHRlbmRlZFN0YXRzXG4gIHwgTWluXG4gIHwgTWF4XG4gIHwgU3VtXG4gIHwgQXZlcmFnZVxuICB8IE1vdmluZ0F2ZXJhZ2VcbiAgfCBNb3ZpbmdGdW5jdGlvblxuICB8IExvZ3NcbiAgfCBSYXRlXG4gIHwgVG9wTWV0cmljcztcblxuZXhwb3J0IHR5cGUgTWV0cmljQWdncmVnYXRpb25XaXRoTWV0YSA9IEV4dGVuZGVkU3RhdHM7XG5cbmV4cG9ydCB0eXBlIE1ldHJpY0FnZ3JlZ2F0aW9uID0gQ291bnQgfCBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uIHwgTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3M7XG5cbi8vIEd1YXJkc1xuLy8gR2l2ZW4gdGhlIHN0cnVjdHVyZSBvZiB0aGUgYWdncmVnYXRpb25zIChpZS4gYHNldHRpbmdzYCBmaWVsZCBiZWluZyBhbHdheXMgb3B0aW9uYWwpIHdlIGNhbm5vdFxuLy8gZGV0ZXJtaW5lIHR5cGVzIGJhc2VkIHNvbGVseSBvbiBvYmplY3RzJyBwcm9wZXJ0aWVzLCB0aGVyZWZvcmUgd2UgdXNlIGBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZ2AgYXMgdGhlXG4vLyBzb3VyY2Ugb2YgdHJ1dGguXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBtZXRyaWNgIHJlcXVpcmVzIGEgZmllbGQgKGVpdGhlciByZWZlcnJpbmcgdG8gYSBkb2N1bWVudCBvciBhbm90aGVyIGFnZ3JlZ2F0aW9uKVxuICogQHBhcmFtIG1ldHJpY1xuICovXG5leHBvcnQgY29uc3QgaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZCA9IChcbiAgbWV0cmljOiBCYXNlTWV0cmljQWdncmVnYXRpb24gfCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZFxuKTogbWV0cmljIGlzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkID0+IG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5yZXF1aXJlc0ZpZWxkO1xuXG5leHBvcnQgY29uc3QgaXNQaXBlbGluZUFnZ3JlZ2F0aW9uID0gKFxuICBtZXRyaWM6IEJhc2VNZXRyaWNBZ2dyZWdhdGlvbiB8IFBpcGVsaW5lTWV0cmljQWdncmVnYXRpb25cbik6IG1ldHJpYyBpcyBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uID0+IG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5pc1BpcGVsaW5lQWdnO1xuXG5leHBvcnQgY29uc3QgaXNQaXBlbGluZUFnZ3JlZ2F0aW9uV2l0aE11bHRpcGxlQnVja2V0UGF0aHMgPSAoXG4gIG1ldHJpYzogQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHwgUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvbldpdGhNdWx0aXBsZUJ1Y2tldFBhdGhzXG4pOiBtZXRyaWMgaXMgUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvbldpdGhNdWx0aXBsZUJ1Y2tldFBhdGhzID0+XG4gIG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5zdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM7XG5cbmV4cG9ydCBjb25zdCBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1pc3NpbmdTdXBwb3J0ID0gKFxuICBtZXRyaWM6IEJhc2VNZXRyaWNBZ2dyZWdhdGlvbiB8IE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1pc3NpbmdTdXBwb3J0XG4pOiBtZXRyaWMgaXMgTWV0cmljQWdncmVnYXRpb25XaXRoTWlzc2luZ1N1cHBvcnQgPT4gbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdLnN1cHBvcnRzTWlzc2luZztcblxuZXhwb3J0IGNvbnN0IGlzTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3MgPSAoXG4gIG1ldHJpYzogQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHwgTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3Ncbik6IG1ldHJpYyBpcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhTZXR0aW5ncyA9PiBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZ1ttZXRyaWMudHlwZV0uaGFzU2V0dGluZ3M7XG5cbmV4cG9ydCBjb25zdCBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1ldGEgPSAoXG4gIG1ldHJpYzogQmFzZU1ldHJpY0FnZ3JlZ2F0aW9uIHwgTWV0cmljQWdncmVnYXRpb25XaXRoTWV0YVxuKTogbWV0cmljIGlzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1ldGEgPT4gbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdLmhhc01ldGE7XG5cbmV4cG9ydCBjb25zdCBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCA9IChcbiAgbWV0cmljOiBCYXNlTWV0cmljQWdncmVnYXRpb24gfCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhJbmxpbmVTY3JpcHRcbik6IG1ldHJpYyBpcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhJbmxpbmVTY3JpcHQgPT4gbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdLnN1cHBvcnRzSW5saW5lU2NyaXB0O1xuXG5leHBvcnQgY29uc3QgTUVUUklDX0FHR1JFR0FUSU9OX1RZUEVTOiBNZXRyaWNBZ2dyZWdhdGlvblR5cGVbXSA9IFtcbiAgJ2NvdW50JyxcbiAgJ2F2ZycsXG4gICdzdW0nLFxuICAnbWluJyxcbiAgJ21heCcsXG4gICdleHRlbmRlZF9zdGF0cycsXG4gICdwZXJjZW50aWxlcycsXG4gICdjYXJkaW5hbGl0eScsXG4gICdyYXdfZG9jdW1lbnQnLFxuICAncmF3X2RhdGEnLFxuICAnbG9ncycsXG4gICdtb3ZpbmdfYXZnJyxcbiAgJ21vdmluZ19mbicsXG4gICdkZXJpdmF0aXZlJyxcbiAgJ3NlcmlhbF9kaWZmJyxcbiAgJ2N1bXVsYXRpdmVfc3VtJyxcbiAgJ2J1Y2tldF9zY3JpcHQnLFxuICAncmF0ZScsXG4gICd0b3BfbWV0cmljcycsXG5dO1xuXG5leHBvcnQgY29uc3QgaXNNZXRyaWNBZ2dyZWdhdGlvblR5cGUgPSAoczogTWV0cmljQWdncmVnYXRpb25UeXBlIHwgc3RyaW5nKTogcyBpcyBNZXRyaWNBZ2dyZWdhdGlvblR5cGUgPT5cbiAgTUVUUklDX0FHR1JFR0FUSU9OX1RZUEVTLmluY2x1ZGVzKHMgYXMgTWV0cmljQWdncmVnYXRpb25UeXBlKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlU3RhdGVsZXNzUmVkdWNlcic7XG5pbXBvcnQgeyBJY29uQnV0dG9uIH0gZnJvbSAnLi4vLi4vSWNvbkJ1dHRvbic7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJy4uL0VsYXN0aWNzZWFyY2hRdWVyeUNvbnRleHQnO1xuaW1wb3J0IHsgUXVlcnlFZGl0b3JSb3cgfSBmcm9tICcuLi9RdWVyeUVkaXRvclJvdyc7XG5cbmltcG9ydCB7IE1ldHJpY0VkaXRvciB9IGZyb20gJy4vTWV0cmljRWRpdG9yJztcbmltcG9ydCB7IE1ldHJpY0FnZ3JlZ2F0aW9uIH0gZnJvbSAnLi9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgYWRkTWV0cmljLCByZW1vdmVNZXRyaWMsIHRvZ2dsZU1ldHJpY1Zpc2liaWxpdHkgfSBmcm9tICcuL3N0YXRlL2FjdGlvbnMnO1xuaW1wb3J0IHsgbWV0cmljQWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuL3V0aWxzJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbmV4dElkOiBNZXRyaWNBZ2dyZWdhdGlvblsnaWQnXTtcbn1cblxuZXhwb3J0IGNvbnN0IE1ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvciA9ICh7IG5leHRJZCB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHsgbWV0cmljcyB9ID0gdXNlUXVlcnkoKTtcbiAgY29uc3QgdG90YWxNZXRyaWNzID0gbWV0cmljcz8ubGVuZ3RoIHx8IDA7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge21ldHJpY3M/Lm1hcCgobWV0cmljLCBpbmRleCkgPT4gKFxuICAgICAgICA8UXVlcnlFZGl0b3JSb3dcbiAgICAgICAgICBrZXk9e2Ake21ldHJpYy50eXBlfS0ke21ldHJpYy5pZH1gfVxuICAgICAgICAgIGxhYmVsPXtgTWV0cmljICgke21ldHJpYy5pZH0pYH1cbiAgICAgICAgICBoaWRkZW49e21ldHJpYy5oaWRlfVxuICAgICAgICAgIG9uSGlkZUNsaWNrPXsoKSA9PiBkaXNwYXRjaCh0b2dnbGVNZXRyaWNWaXNpYmlsaXR5KG1ldHJpYy5pZCkpfVxuICAgICAgICAgIG9uUmVtb3ZlQ2xpY2s9e3RvdGFsTWV0cmljcyA+IDEgJiYgKCgpID0+IGRpc3BhdGNoKHJlbW92ZU1ldHJpYyhtZXRyaWMuaWQpKSl9XG4gICAgICAgID5cbiAgICAgICAgICA8TWV0cmljRWRpdG9yIHZhbHVlPXttZXRyaWN9IC8+XG5cbiAgICAgICAgICB7IW1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5pc1NpbmdsZU1ldHJpYyAmJiBpbmRleCA9PT0gMCAmJiAoXG4gICAgICAgICAgICA8SWNvbkJ1dHRvbiBpY29uTmFtZT1cInBsdXNcIiBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaChhZGRNZXRyaWMobmV4dElkKSl9IGxhYmVsPVwiYWRkXCIgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1F1ZXJ5RWRpdG9yUm93PlxuICAgICAgKSl9XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5cbmltcG9ydCB7IE1ldHJpY0FnZ3JlZ2F0aW9uLCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhNZXRhLCBNZXRyaWNBZ2dyZWdhdGlvbldpdGhTZXR0aW5ncyB9IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBhZGRNZXRyaWMgPSBjcmVhdGVBY3Rpb248TWV0cmljQWdncmVnYXRpb25bJ2lkJ10+KCdAbWV0cmljcy9hZGQnKTtcbmV4cG9ydCBjb25zdCByZW1vdmVNZXRyaWMgPSBjcmVhdGVBY3Rpb248TWV0cmljQWdncmVnYXRpb25bJ2lkJ10+KCdAbWV0cmljcy9yZW1vdmUnKTtcbmV4cG9ydCBjb25zdCB0b2dnbGVNZXRyaWNWaXNpYmlsaXR5ID0gY3JlYXRlQWN0aW9uPE1ldHJpY0FnZ3JlZ2F0aW9uWydpZCddPignQG1ldHJpY3MvdG9nZ2xlX3Zpc2liaWxpdHknKTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VNZXRyaWNGaWVsZCA9IGNyZWF0ZUFjdGlvbjx7IGlkOiBNZXRyaWNBZ2dyZWdhdGlvblsnaWQnXTsgZmllbGQ6IHN0cmluZyB9PignQG1ldHJpY3MvY2hhbmdlX2ZpZWxkJyk7XG5leHBvcnQgY29uc3QgY2hhbmdlTWV0cmljVHlwZSA9IGNyZWF0ZUFjdGlvbjx7IGlkOiBNZXRyaWNBZ2dyZWdhdGlvblsnaWQnXTsgdHlwZTogTWV0cmljQWdncmVnYXRpb25bJ3R5cGUnXSB9PihcbiAgJ0BtZXRyaWNzL2NoYW5nZV90eXBlJ1xuKTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VNZXRyaWNBdHRyaWJ1dGUgPSBjcmVhdGVBY3Rpb248eyBtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uOyBhdHRyaWJ1dGU6IHN0cmluZzsgbmV3VmFsdWU6IGFueSB9PihcbiAgJ0BtZXRyaWNzL2NoYW5nZV9hdHRyJ1xuKTtcbmV4cG9ydCBjb25zdCBjaGFuZ2VNZXRyaWNTZXR0aW5nID0gY3JlYXRlQWN0aW9uPHtcbiAgbWV0cmljOiBNZXRyaWNBZ2dyZWdhdGlvbldpdGhTZXR0aW5ncztcbiAgc2V0dGluZ05hbWU6IHN0cmluZztcbiAgbmV3VmFsdWU6IGFueTtcbn0+KCdAbWV0cmljcy9jaGFuZ2Vfc2V0dGluZycpO1xuZXhwb3J0IGNvbnN0IGNoYW5nZU1ldHJpY01ldGEgPSBjcmVhdGVBY3Rpb248e1xuICBtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1ldGE7XG4gIG1ldGE6IHN0cmluZztcbiAgbmV3VmFsdWU6IGFueTtcbn0+KCdAbWV0cmljcy9jaGFuZ2VfbWV0YScpO1xuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5cbmltcG9ydCB7IGRlZmF1bHRNZXRyaWNBZ2cgfSBmcm9tICcuLi8uLi8uLi8uLi9xdWVyeV9kZWYnO1xuaW1wb3J0IHsgRWxhc3RpY3NlYXJjaFF1ZXJ5IH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgcmVtb3ZlRW1wdHkgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscyc7XG5pbXBvcnQgeyBpbml0UXVlcnkgfSBmcm9tICcuLi8uLi9zdGF0ZSc7XG5pbXBvcnQge1xuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1ldGEsXG4gIGlzTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3MsXG4gIGlzUGlwZWxpbmVBZ2dyZWdhdGlvbixcbiAgTWV0cmljQWdncmVnYXRpb24sXG59IGZyb20gJy4uL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBnZXRDaGlsZHJlbiwgbWV0cmljQWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7XG4gIGFkZE1ldHJpYyxcbiAgY2hhbmdlTWV0cmljQXR0cmlidXRlLFxuICBjaGFuZ2VNZXRyaWNGaWVsZCxcbiAgY2hhbmdlTWV0cmljTWV0YSxcbiAgY2hhbmdlTWV0cmljU2V0dGluZyxcbiAgY2hhbmdlTWV0cmljVHlwZSxcbiAgcmVtb3ZlTWV0cmljLFxuICB0b2dnbGVNZXRyaWNWaXNpYmlsaXR5LFxufSBmcm9tICcuL2FjdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgcmVkdWNlciA9IChzdGF0ZTogRWxhc3RpY3NlYXJjaFF1ZXJ5WydtZXRyaWNzJ10sIGFjdGlvbjogQWN0aW9uKTogRWxhc3RpY3NlYXJjaFF1ZXJ5WydtZXRyaWNzJ10gPT4ge1xuICBpZiAoYWRkTWV0cmljLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gWy4uLnN0YXRlISwgZGVmYXVsdE1ldHJpY0FnZyhhY3Rpb24ucGF5bG9hZCldO1xuICB9XG5cbiAgaWYgKHJlbW92ZU1ldHJpYy5tYXRjaChhY3Rpb24pKSB7XG4gICAgY29uc3QgbWV0cmljVG9SZW1vdmUgPSBzdGF0ZSEuZmluZCgobSkgPT4gbS5pZCA9PT0gYWN0aW9uLnBheWxvYWQpITtcbiAgICBjb25zdCBtZXRyaWNzVG9SZW1vdmUgPSBbbWV0cmljVG9SZW1vdmUsIC4uLmdldENoaWxkcmVuKG1ldHJpY1RvUmVtb3ZlLCBzdGF0ZSEpXTtcbiAgICBjb25zdCByZXN1bHRpbmdNZXRyaWNzID0gc3RhdGUhLmZpbHRlcigobWV0cmljKSA9PiAhbWV0cmljc1RvUmVtb3ZlLnNvbWUoKHRvUmVtb3ZlKSA9PiB0b1JlbW92ZS5pZCA9PT0gbWV0cmljLmlkKSk7XG4gICAgaWYgKHJlc3VsdGluZ01ldHJpY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW2RlZmF1bHRNZXRyaWNBZ2coJzEnKV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRpbmdNZXRyaWNzO1xuICB9XG5cbiAgaWYgKGNoYW5nZU1ldHJpY1R5cGUubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBzdGF0ZSFcbiAgICAgIC5maWx0ZXIoKG1ldHJpYykgPT5cbiAgICAgICAgLy8gV2hlbiB0aGUgbmV3IG1ldHJpYyB0eXBlIGlzIGBpc1NpbmdsZU1ldHJpY2Agd2UgcmVtb3ZlIGFsbCBvdGhlciBtZXRyaWNzIGZyb20gdGhlIHF1ZXJ5XG4gICAgICAgIC8vIGxlYXZpbmcgb25seSB0aGUgY3VycmVudCBvbmUuXG4gICAgICAgICEhbWV0cmljQWdncmVnYXRpb25Db25maWdbYWN0aW9uLnBheWxvYWQudHlwZV0uaXNTaW5nbGVNZXRyaWMgPyBtZXRyaWMuaWQgPT09IGFjdGlvbi5wYXlsb2FkLmlkIDogdHJ1ZVxuICAgICAgKVxuICAgICAgLm1hcCgobWV0cmljKSA9PiB7XG4gICAgICAgIGlmIChtZXRyaWMuaWQgIT09IGFjdGlvbi5wYXlsb2FkLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIG1ldHJpYztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgIFRPRE86IFRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBxdWVyeSBlZGl0b3Igd2FzIGtlZXBpbmcgc29tZSBvZiB0aGUgb2xkIG1ldHJpYydzIGNvbmZpZ3VyYXRpb25zXG4gICAgICAgIGluIHRoZSBuZXcgc2VsZWN0ZWQgb25lIChzdWNoIGFzIGZpZWxkIG9yIHNvbWUgc2V0dGluZ3MpLlxuICAgICAgICBJdCB0aGUgZnV0dXJlIHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSB0aGUgc2FtZSBiZWhhdmlvciBidXQgaXQncyBoYXJkIHdpdGhvdXQgYSBwcm9wZXIgZGVmaW5pdGlvbixcbiAgICAgICAgYXMgRWxhc3RpY3NlYXJjaCB3aWxsIGVycm9yIHNvbWV0aW1lcyBpZiBzb21lIHNldHRpbmdzIGFyZSBub3QgY29tcGF0aWJsZS5cbiAgICAgICovXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IG1ldHJpYy5pZCxcbiAgICAgICAgICB0eXBlOiBhY3Rpb24ucGF5bG9hZC50eXBlLFxuICAgICAgICAgIC4uLm1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW2FjdGlvbi5wYXlsb2FkLnR5cGVdLmRlZmF1bHRzLFxuICAgICAgICB9IGFzIE1ldHJpY0FnZ3JlZ2F0aW9uO1xuICAgICAgfSk7XG4gIH1cblxuICBpZiAoY2hhbmdlTWV0cmljRmllbGQubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBzdGF0ZSEubWFwKChtZXRyaWMpID0+IHtcbiAgICAgIGlmIChtZXRyaWMuaWQgIT09IGFjdGlvbi5wYXlsb2FkLmlkKSB7XG4gICAgICAgIHJldHVybiBtZXRyaWM7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld01ldHJpYyA9IHtcbiAgICAgICAgLi4ubWV0cmljLFxuICAgICAgICBmaWVsZDogYWN0aW9uLnBheWxvYWQuZmllbGQsXG4gICAgICB9O1xuXG4gICAgICBpZiAoaXNQaXBlbGluZUFnZ3JlZ2F0aW9uKG1ldHJpYykpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubmV3TWV0cmljLCBwaXBlbGluZUFnZzogYWN0aW9uLnBheWxvYWQuZmllbGQgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld01ldHJpYztcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0b2dnbGVNZXRyaWNWaXNpYmlsaXR5Lm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gc3RhdGUhLm1hcCgobWV0cmljKSA9PiB7XG4gICAgICBpZiAobWV0cmljLmlkICE9PSBhY3Rpb24ucGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gbWV0cmljO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5tZXRyaWMsXG4gICAgICAgIGhpZGU6ICFtZXRyaWMuaGlkZSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2hhbmdlTWV0cmljU2V0dGluZy5tYXRjaChhY3Rpb24pKSB7XG4gICAgcmV0dXJuIHN0YXRlIS5tYXAoKG1ldHJpYykgPT4ge1xuICAgICAgaWYgKG1ldHJpYy5pZCAhPT0gYWN0aW9uLnBheWxvYWQubWV0cmljLmlkKSB7XG4gICAgICAgIHJldHVybiBtZXRyaWM7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IEhlcmUsIGluc3RlYWQgb2YgdGhpcyBpZiBzdGF0ZW1lbnQsIHdlIHNob3VsZCBhc3NlcnQgdGhhdCBtZXRyaWMgaXMgTWV0cmljQWdncmVnYXRpb25XaXRoU2V0dGluZ3NcbiAgICAgIGlmIChpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aFNldHRpbmdzKG1ldHJpYykpIHtcbiAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSByZW1vdmVFbXB0eSh7XG4gICAgICAgICAgLi4ubWV0cmljLnNldHRpbmdzLFxuICAgICAgICAgIFthY3Rpb24ucGF5bG9hZC5zZXR0aW5nTmFtZV06IGFjdGlvbi5wYXlsb2FkLm5ld1ZhbHVlLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLm1ldHJpYyxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgLi4ubmV3U2V0dGluZ3MsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuLlxuICAgICAgcmV0dXJuIG1ldHJpYztcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChjaGFuZ2VNZXRyaWNNZXRhLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gc3RhdGUhLm1hcCgobWV0cmljKSA9PiB7XG4gICAgICBpZiAobWV0cmljLmlkICE9PSBhY3Rpb24ucGF5bG9hZC5tZXRyaWMuaWQpIHtcbiAgICAgICAgcmV0dXJuIG1ldHJpYztcbiAgICAgIH1cblxuICAgICAgLy8gVE9ETzogSGVyZSwgaW5zdGVhZCBvZiB0aGlzIGlmIHN0YXRlbWVudCwgd2Ugc2hvdWxkIGFzc2VydCB0aGF0IG1ldHJpYyBpcyBNZXRyaWNBZ2dyZWdhdGlvbldpdGhNZXRhXG4gICAgICBpZiAoaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhNZXRhKG1ldHJpYykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5tZXRyaWMsXG4gICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgLi4ubWV0cmljLm1ldGEsXG4gICAgICAgICAgICBbYWN0aW9uLnBheWxvYWQubWV0YV06IGFjdGlvbi5wYXlsb2FkLm5ld1ZhbHVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbi5cbiAgICAgIHJldHVybiBtZXRyaWM7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoY2hhbmdlTWV0cmljQXR0cmlidXRlLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gc3RhdGUhLm1hcCgobWV0cmljKSA9PiB7XG4gICAgICBpZiAobWV0cmljLmlkICE9PSBhY3Rpb24ucGF5bG9hZC5tZXRyaWMuaWQpIHtcbiAgICAgICAgcmV0dXJuIG1ldHJpYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubWV0cmljLFxuICAgICAgICBbYWN0aW9uLnBheWxvYWQuYXR0cmlidXRlXTogYWN0aW9uLnBheWxvYWQubmV3VmFsdWUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGluaXRRdWVyeS5tYXRjaChhY3Rpb24pKSB7XG4gICAgaWYgKHN0YXRlPy5sZW5ndGggfHwgMCA+IDApIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFtkZWZhdWx0TWV0cmljQWdnKCcxJyldO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufTtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuZXhwb3J0IGNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMiwgaGlkZGVuOiBib29sZWFuKSA9PiB7XG4gIHJldHVybiB7XG4gICAgY29sb3I6XG4gICAgICBoaWRkZW4gJiZcbiAgICAgIGNzc2BcbiAgICAgICAgJixcbiAgICAgICAgJjpob3ZlcixcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGEge1xuICAgICAgICAgIGNvbG9yOiAke2hpZGRlbiA/IHRoZW1lLmNvbG9ycy50ZXh0LmRpc2FibGVkIDogdGhlbWUuY29sb3JzLnRleHQucHJpbWFyeX07XG4gICAgICAgIH1cbiAgICAgIGAsXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgTWV0cmljc0NvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi8uLi90eXBlcyc7XG5cbmltcG9ydCB7XG4gIGRlZmF1bHRQaXBlbGluZVZhcmlhYmxlLFxuICBnZW5lcmF0ZVBpcGVsaW5lVmFyaWFibGVOYW1lLFxufSBmcm9tICcuL1NldHRpbmdzRWRpdG9yL0J1Y2tldFNjcmlwdFNldHRpbmdzRWRpdG9yL3V0aWxzJztcbmltcG9ydCB7XG4gIGlzTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsXG4gIGlzUGlwZWxpbmVBZ2dyZWdhdGlvbldpdGhNdWx0aXBsZUJ1Y2tldFBhdGhzLFxuICBNZXRyaWNBZ2dyZWdhdGlvbixcbiAgUGlwZWxpbmVNZXRyaWNBZ2dyZWdhdGlvblR5cGUsXG59IGZyb20gJy4vYWdncmVnYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnOiBNZXRyaWNzQ29uZmlndXJhdGlvbiA9IHtcbiAgY291bnQ6IHtcbiAgICBsYWJlbDogJ0NvdW50JyxcbiAgICByZXF1aXJlc0ZpZWxkOiBmYWxzZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IGZhbHNlLFxuICAgIGhhc01ldGE6IGZhbHNlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiBmYWxzZSxcbiAgICBkZWZhdWx0czoge30sXG4gIH0sXG4gIGF2Zzoge1xuICAgIGxhYmVsOiAnQXZlcmFnZScsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogdHJ1ZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge30sXG4gIH0sXG4gIHN1bToge1xuICAgIGxhYmVsOiAnU3VtJyxcbiAgICByZXF1aXJlc0ZpZWxkOiB0cnVlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiB0cnVlLFxuICAgIHN1cHBvcnRzTWlzc2luZzogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIGhhc01ldGE6IGZhbHNlLFxuICAgIGRlZmF1bHRzOiB7fSxcbiAgfSxcbiAgbWF4OiB7XG4gICAgbGFiZWw6ICdNYXgnLFxuICAgIHJlcXVpcmVzRmllbGQ6IHRydWUsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IHRydWUsXG4gICAgc3VwcG9ydHNNaXNzaW5nOiB0cnVlLFxuICAgIGlzUGlwZWxpbmVBZ2c6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IHRydWUsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHt9LFxuICB9LFxuICBtaW46IHtcbiAgICBsYWJlbDogJ01pbicsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogdHJ1ZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge30sXG4gIH0sXG4gIGV4dGVuZGVkX3N0YXRzOiB7XG4gICAgbGFiZWw6ICdFeHRlbmRlZCBTdGF0cycsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IHRydWUsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBoYXNNZXRhOiB0cnVlLFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICBtZXRhOiB7XG4gICAgICAgIHN0ZF9kZXZpYXRpb25fYm91bmRzX2xvd2VyOiB0cnVlLFxuICAgICAgICBzdGRfZGV2aWF0aW9uX2JvdW5kc191cHBlcjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgcGVyY2VudGlsZXM6IHtcbiAgICBsYWJlbDogJ1BlcmNlbnRpbGVzJyxcbiAgICByZXF1aXJlc0ZpZWxkOiB0cnVlLFxuICAgIHN1cHBvcnRzTWlzc2luZzogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIGhhc01ldGE6IGZhbHNlLFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBwZXJjZW50czogWycyNScsICc1MCcsICc3NScsICc5NScsICc5OSddLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBjYXJkaW5hbGl0eToge1xuICAgIGxhYmVsOiAnVW5pcXVlIENvdW50JyxcbiAgICByZXF1aXJlc0ZpZWxkOiB0cnVlLFxuICAgIHN1cHBvcnRzTWlzc2luZzogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiBmYWxzZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge30sXG4gIH0sXG4gIG1vdmluZ19hdmc6IHtcbiAgICBsYWJlbDogJ01vdmluZyBBdmVyYWdlJyxcbiAgICByZXF1aXJlc0ZpZWxkOiB0cnVlLFxuICAgIGlzUGlwZWxpbmVBZ2c6IHRydWUsXG4gICAgdmVyc2lvblJhbmdlOiAnPj0yLjAuMCA8OC4wLjAnLFxuICAgIHN1cHBvcnRzTWlzc2luZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogZmFsc2UsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIG1vZGVsOiAnc2ltcGxlJyxcbiAgICAgICAgd2luZG93OiAnNScsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIG1vdmluZ19mbjoge1xuICAgIC8vIFRPRE86IENoZWNrIHRoaXNcbiAgICBsYWJlbDogJ01vdmluZyBGdW5jdGlvbicsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiB0cnVlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IGZhbHNlLFxuICAgIHN1cHBvcnRzTWlzc2luZzogZmFsc2UsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IHRydWUsXG4gICAgdmVyc2lvblJhbmdlOiAnPj03LjAuMCcsXG4gICAgZGVmYXVsdHM6IHt9LFxuICB9LFxuICBkZXJpdmF0aXZlOiB7XG4gICAgbGFiZWw6ICdEZXJpdmF0aXZlJyxcbiAgICByZXF1aXJlc0ZpZWxkOiB0cnVlLFxuICAgIGlzUGlwZWxpbmVBZ2c6IHRydWUsXG4gICAgdmVyc2lvblJhbmdlOiAnPj0yLjAuMCcsXG4gICAgc3VwcG9ydHNNaXNzaW5nOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiBmYWxzZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge30sXG4gIH0sXG4gIHNlcmlhbF9kaWZmOiB7XG4gICAgbGFiZWw6ICdTZXJpYWwgRGlmZmVyZW5jZScsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiB0cnVlLFxuICAgIHZlcnNpb25SYW5nZTogJz49Mi4wLjAnLFxuICAgIHN1cHBvcnRzTWlzc2luZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogZmFsc2UsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIGxhZzogJzEnLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICBjdW11bGF0aXZlX3N1bToge1xuICAgIGxhYmVsOiAnQ3VtdWxhdGl2ZSBTdW0nLFxuICAgIHJlcXVpcmVzRmllbGQ6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogdHJ1ZSxcbiAgICB2ZXJzaW9uUmFuZ2U6ICc+PTIuMC4wJyxcbiAgICBzdXBwb3J0c01pc3Npbmc6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IHRydWUsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IGZhbHNlLFxuICAgIGhhc01ldGE6IGZhbHNlLFxuICAgIGRlZmF1bHRzOiB7fSxcbiAgfSxcbiAgYnVja2V0X3NjcmlwdDoge1xuICAgIGxhYmVsOiAnQnVja2V0IFNjcmlwdCcsXG4gICAgcmVxdWlyZXNGaWVsZDogZmFsc2UsXG4gICAgaXNQaXBlbGluZUFnZzogdHJ1ZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogdHJ1ZSxcbiAgICB2ZXJzaW9uUmFuZ2U6ICc+PTIuMC4wJyxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogZmFsc2UsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgIHBpcGVsaW5lVmFyaWFibGVzOiBbZGVmYXVsdFBpcGVsaW5lVmFyaWFibGUoZ2VuZXJhdGVQaXBlbGluZVZhcmlhYmxlTmFtZShbXSkpXSxcbiAgICB9LFxuICB9LFxuICByYXdfZG9jdW1lbnQ6IHtcbiAgICBsYWJlbDogJ1JhdyBEb2N1bWVudCAobGVnYWN5KScsXG4gICAgcmVxdWlyZXNGaWVsZDogZmFsc2UsXG4gICAgaXNTaW5nbGVNZXRyaWM6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNaXNzaW5nOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiBmYWxzZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge1xuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgc2l6ZTogJzUwMCcsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHJhd19kYXRhOiB7XG4gICAgbGFiZWw6ICdSYXcgRGF0YScsXG4gICAgcmVxdWlyZXNGaWVsZDogZmFsc2UsXG4gICAgaXNTaW5nbGVNZXRyaWM6IHRydWUsXG4gICAgaXNQaXBlbGluZUFnZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNaXNzaW5nOiBmYWxzZSxcbiAgICBzdXBwb3J0c011bHRpcGxlQnVja2V0UGF0aHM6IGZhbHNlLFxuICAgIGhhc1NldHRpbmdzOiB0cnVlLFxuICAgIHN1cHBvcnRzSW5saW5lU2NyaXB0OiBmYWxzZSxcbiAgICBoYXNNZXRhOiBmYWxzZSxcbiAgICBkZWZhdWx0czoge1xuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgc2l6ZTogJzUwMCcsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIGxvZ3M6IHtcbiAgICBsYWJlbDogJ0xvZ3MnLFxuICAgIHJlcXVpcmVzRmllbGQ6IGZhbHNlLFxuICAgIGlzUGlwZWxpbmVBZ2c6IGZhbHNlLFxuICAgIHN1cHBvcnRzTWlzc2luZzogZmFsc2UsXG4gICAgc3VwcG9ydHNNdWx0aXBsZUJ1Y2tldFBhdGhzOiBmYWxzZSxcbiAgICBoYXNTZXR0aW5nczogdHJ1ZSxcbiAgICBpc1NpbmdsZU1ldHJpYzogdHJ1ZSxcbiAgICBzdXBwb3J0c0lubGluZVNjcmlwdDogZmFsc2UsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgIGxpbWl0OiAnNTAwJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSxcbiAgdG9wX21ldHJpY3M6IHtcbiAgICBsYWJlbDogJ1RvcCBNZXRyaWNzJyxcbiAgICB4cGFjazogdHJ1ZSxcbiAgICByZXF1aXJlc0ZpZWxkOiBmYWxzZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IHRydWUsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IGZhbHNlLFxuICAgIHZlcnNpb25SYW5nZTogJz49Ny43LjAnLFxuICAgIGhhc01ldGE6IGZhbHNlLFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBvcmRlcjogJ2Rlc2MnLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICByYXRlOiB7XG4gICAgbGFiZWw6ICdSYXRlJyxcbiAgICB4cGFjazogdHJ1ZSxcbiAgICB2ZXJzaW9uUmFuZ2U6ICc+PTcuMTAuMCcsXG4gICAgcmVxdWlyZXNGaWVsZDogdHJ1ZSxcbiAgICBpc1BpcGVsaW5lQWdnOiBmYWxzZSxcbiAgICBzdXBwb3J0c01pc3Npbmc6IGZhbHNlLFxuICAgIHN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRoczogZmFsc2UsXG4gICAgaGFzU2V0dGluZ3M6IHRydWUsXG4gICAgc3VwcG9ydHNJbmxpbmVTY3JpcHQ6IHRydWUsXG4gICAgaGFzTWV0YTogZmFsc2UsXG4gICAgZGVmYXVsdHM6IHt9LFxuICB9LFxufTtcblxuaW50ZXJmYWNlIFBpcGVsaW5lT3B0aW9uIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgZGVmYXVsdD86IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW47XG59XG5cbnR5cGUgUGlwZWxpbmVPcHRpb25zID0ge1xuICBbSyBpbiBQaXBlbGluZU1ldHJpY0FnZ3JlZ2F0aW9uVHlwZV06IFBpcGVsaW5lT3B0aW9uW107XG59O1xuXG5leHBvcnQgY29uc3QgcGlwZWxpbmVPcHRpb25zOiBQaXBlbGluZU9wdGlvbnMgPSB7XG4gIG1vdmluZ19hdmc6IFtcbiAgICB7IGxhYmVsOiAnd2luZG93JywgZGVmYXVsdDogNSB9LFxuICAgIHsgbGFiZWw6ICdtb2RlbCcsIGRlZmF1bHQ6ICdzaW1wbGUnIH0sXG4gICAgeyBsYWJlbDogJ3ByZWRpY3QnIH0sXG4gICAgeyBsYWJlbDogJ21pbmltaXplJywgZGVmYXVsdDogZmFsc2UgfSxcbiAgXSxcbiAgbW92aW5nX2ZuOiBbeyBsYWJlbDogJ3dpbmRvdycsIGRlZmF1bHQ6IDUgfSwgeyBsYWJlbDogJ3NjcmlwdCcgfV0sXG4gIGRlcml2YXRpdmU6IFt7IGxhYmVsOiAndW5pdCcgfV0sXG4gIHNlcmlhbF9kaWZmOiBbeyBsYWJlbDogJ2xhZycgfV0sXG4gIGN1bXVsYXRpdmVfc3VtOiBbeyBsYWJlbDogJ2Zvcm1hdCcgfV0sXG4gIGJ1Y2tldF9zY3JpcHQ6IFtdLFxufTtcblxuLyoqXG4gKiBHaXZlbiBhIG1ldHJpYyBgTWV0cmljQWAgYW5kIGFuIGFycmF5IG9mIG1ldHJpY3MsIHJldHVybnMgYWxsIGNoaWxkcmVuIG9mIGBNZXRyaWNBYC5cbiAqIGBNZXRyaWNCYCBpcyBjb25zaWRlcmVkIGEgY2hpbGQgb2YgYE1ldHJpY0FgIGlmIGBNZXRyaWNBYCBpcyByZWZlcmVuY2VkIGJ5IGBNZXRyaWNCYCBpbiBpdCdzIGBmaWVsZGAgYXR0cmlidXRlXG4gKiAoYE1ldHJpY0EuaWQgPT09IE1ldHJpY0IuZmllbGRgKSBvciBpbiBpdCdzIHBpcGVsaW5lIGFnZ3JlZ2F0aW9uIHZhcmlhYmxlcyAoZm9yIGJ1Y2tldF9zY3JpcHRzKS5cbiAqIEBwYXJhbSBtZXRyaWNcbiAqIEBwYXJhbSBtZXRyaWNzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDaGlsZHJlbiA9IChtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uLCBtZXRyaWNzOiBNZXRyaWNBZ2dyZWdhdGlvbltdKTogTWV0cmljQWdncmVnYXRpb25bXSA9PiB7XG4gIGNvbnN0IGNoaWxkcmVuID0gbWV0cmljcy5maWx0ZXIoKG0pID0+IHtcbiAgICAvLyBUT0RPOiBDaGVjayB0aGlzLlxuICAgIGlmIChpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyhtKSkge1xuICAgICAgcmV0dXJuIG0ucGlwZWxpbmVWYXJpYWJsZXM/LnNvbWUoKHB2KSA9PiBwdi5waXBlbGluZUFnZyA9PT0gbWV0cmljLmlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZChtKSAmJiBtZXRyaWMuaWQgPT09IG0uZmllbGQ7XG4gIH0pO1xuXG4gIHJldHVybiBbLi4uY2hpbGRyZW4sIC4uLmNoaWxkcmVuLmZsYXRNYXAoKGNoaWxkKSA9PiBnZXRDaGlsZHJlbihjaGlsZCwgbWV0cmljcykpXTtcbn07XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IEljb25CdXR0b24sIElubGluZUZpZWxkUm93LCBJbmxpbmVMYWJlbCwgSW5saW5lU2VnbWVudEdyb3VwLCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsYWJlbDogc3RyaW5nO1xuICBvblJlbW92ZUNsaWNrPzogZmFsc2UgfCAoKCkgPT4gdm9pZCk7XG4gIG9uSGlkZUNsaWNrPzogZmFsc2UgfCAoKCkgPT4gdm9pZCk7XG4gIGhpZGRlbj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBRdWVyeUVkaXRvclJvdyA9ICh7XG4gIGNoaWxkcmVuLFxuICBsYWJlbCxcbiAgb25SZW1vdmVDbGljayxcbiAgb25IaWRlQ2xpY2ssXG4gIGhpZGRlbiA9IGZhbHNlLFxufTogUHJvcHNXaXRoQ2hpbGRyZW48UHJvcHM+KSA9PiB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICByZXR1cm4gKFxuICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgIDxJbmxpbmVTZWdtZW50R3JvdXA+XG4gICAgICAgIDxJbmxpbmVMYWJlbCB3aWR0aD17MTd9IGFzPVwiZGl2XCI+XG4gICAgICAgICAgPHNwYW4+e2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5pY29uV3JhcHBlcn0+XG4gICAgICAgICAgICB7b25IaWRlQ2xpY2sgJiYgKFxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgIG5hbWU9e2hpZGRlbiA/ICdleWUtc2xhc2gnIDogJ2V5ZSd9XG4gICAgICAgICAgICAgICAgb25DbGljaz17b25IaWRlQ2xpY2t9XG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBhcmlhLXByZXNzZWQ9e2hpZGRlbn1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiaGlkZSBtZXRyaWNcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmljb259XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgbmFtZT1cInRyYXNoLWFsdFwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmljb259XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uUmVtb3ZlQ2xpY2sgfHwgbm9vcH1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFvblJlbW92ZUNsaWNrfVxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwicmVtb3ZlIG1ldHJpY1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9JbmxpbmVMYWJlbD5cbiAgICAgIDwvSW5saW5lU2VnbWVudEdyb3VwPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvSW5saW5lRmllbGRSb3c+XG4gICk7XG59O1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpY29uV3JhcHBlcjogY3NzYFxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICBgLFxuICAgIGljb246IGNzc2BcbiAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy50ZXh0LnNlY29uZGFyeX07XG4gICAgICBtYXJnaW4tbGVmdDogJHt0aGVtZS5zcGFjaW5nKDAuMjUpfTtcbiAgICBgLFxuICB9O1xufTtcbiIsImltcG9ydCB7IGNzcywgY3ggfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0LCB7IFByb3BzV2l0aENoaWxkcmVuLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgR3JhZmFuYVRoZW1lMiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgSWNvbiwgSW5saW5lU2VnbWVudEdyb3VwLCB1c2VUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IHNlZ21lbnRTdHlsZXMgfSBmcm9tICcuL3N0eWxlcyc7XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMiwgaGlkZGVuOiBib29sZWFuKSA9PiB7XG4gIHJldHVybiB7XG4gICAgd3JhcHBlcjogY3NzYFxuICAgICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGAsXG4gICAgc2V0dGluZ3NXcmFwcGVyOiBjc3NgXG4gICAgICBwYWRkaW5nLXRvcDogJHt0aGVtZS5zcGFjaW5nKDAuNSl9O1xuICAgIGAsXG4gICAgaWNvbjogY3NzYFxuICAgICAgbWFyZ2luLXJpZ2h0OiAke3RoZW1lLnNwYWNpbmcoMC41KX07XG4gICAgYCxcbiAgICBidXR0b246IGNzc2BcbiAgICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XG4gICAgICAke2hpZGRlbiAmJlxuICAgICAgY3NzYFxuICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dC5kaXNhYmxlZH07XG4gICAgICBgfVxuICAgIGAsXG4gIH07XG59O1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBsYWJlbDogc3RyaW5nO1xuICBoaWRkZW4/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgU2V0dGluZ3NFZGl0b3JDb250YWluZXIgPSAoeyBsYWJlbCwgY2hpbGRyZW4sIGhpZGRlbiA9IGZhbHNlIH06IFByb3BzV2l0aENoaWxkcmVuPFByb3BzPikgPT4ge1xuICBjb25zdCBbb3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZTIoKTtcbiAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzKHRoZW1lLCBoaWRkZW4pO1xuXG4gIHJldHVybiAoXG4gICAgPElubGluZVNlZ21lbnRHcm91cD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjeChzdHlsZXMud3JhcHBlcil9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPXtjeCgnZ2YtZm9ybS1sYWJlbCBxdWVyeS1wYXJ0Jywgc3R5bGVzLmJ1dHRvbiwgc2VnbWVudFN0eWxlcyl9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3Blbighb3Blbil9XG4gICAgICAgICAgYXJpYS1leHBhbmRlZD17b3Blbn1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIG5hbWU9e29wZW4gPyAnYW5nbGUtZG93bicgOiAnYW5nbGUtcmlnaHQnfSBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzc05hbWU9e3N0eWxlcy5pY29ufSAvPlxuICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAge29wZW4gJiYgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zZXR0aW5nc1dyYXBwZXJ9PntjaGlsZHJlbn08L2Rpdj59XG4gICAgICA8L2Rpdj5cbiAgICA8L0lubGluZVNlZ21lbnRHcm91cD5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgZ2V0RGVmYXVsdFRpbWVSYW5nZSwgR3JhZmFuYVRoZW1lMiwgUXVlcnlFZGl0b3JQcm9wcyB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgQWxlcnQsIElubGluZUZpZWxkLCBJbmxpbmVMYWJlbCwgSW5wdXQsIFF1ZXJ5RmllbGQsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IEVsYXN0aWNEYXRhc291cmNlIH0gZnJvbSAnLi4vLi4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyB1c2VOZXh0SWQgfSBmcm9tICcuLi8uLi9ob29rcy91c2VOZXh0SWQnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICcuLi8uLi9ob29rcy91c2VTdGF0ZWxlc3NSZWR1Y2VyJztcbmltcG9ydCB7IEVsYXN0aWNzZWFyY2hPcHRpb25zLCBFbGFzdGljc2VhcmNoUXVlcnkgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBpc1N1cHBvcnRlZFZlcnNpb24gfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvciB9IGZyb20gJy4vQnVja2V0QWdncmVnYXRpb25zRWRpdG9yJztcbmltcG9ydCB7IEVsYXN0aWNzZWFyY2hQcm92aWRlciB9IGZyb20gJy4vRWxhc3RpY3NlYXJjaFF1ZXJ5Q29udGV4dCc7XG5pbXBvcnQgeyBNZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IgfSBmcm9tICcuL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvcic7XG5pbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZyB9IGZyb20gJy4vTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL3V0aWxzJztcbmltcG9ydCB7IGNoYW5nZUFsaWFzUGF0dGVybiwgY2hhbmdlUXVlcnkgfSBmcm9tICcuL3N0YXRlJztcblxuZXhwb3J0IHR5cGUgRWxhc3RpY1F1ZXJ5RWRpdG9yUHJvcHMgPSBRdWVyeUVkaXRvclByb3BzPEVsYXN0aWNEYXRhc291cmNlLCBFbGFzdGljc2VhcmNoUXVlcnksIEVsYXN0aWNzZWFyY2hPcHRpb25zPjtcblxuZXhwb3J0IGNvbnN0IFF1ZXJ5RWRpdG9yID0gKHsgcXVlcnksIG9uQ2hhbmdlLCBvblJ1blF1ZXJ5LCBkYXRhc291cmNlLCByYW5nZSB9OiBFbGFzdGljUXVlcnlFZGl0b3JQcm9wcykgPT4ge1xuICBpZiAoIWlzU3VwcG9ydGVkVmVyc2lvbihkYXRhc291cmNlLmVzVmVyc2lvbikpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFsZXJ0XG4gICAgICAgIHRpdGxlPXtgU3VwcG9ydCBmb3IgRWxhc3RpY3NlYXJjaCB2ZXJzaW9ucyBhZnRlciB0aGVpciBlbmQtb2YtbGlmZSAoY3VycmVudGx5IHZlcnNpb25zIDwgNy4xMCkgd2FzIHJlbW92ZWRgfVxuICAgICAgPjwvQWxlcnQ+XG4gICAgKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxFbGFzdGljc2VhcmNoUHJvdmlkZXJcbiAgICAgIGRhdGFzb3VyY2U9e2RhdGFzb3VyY2V9XG4gICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICBvblJ1blF1ZXJ5PXtvblJ1blF1ZXJ5fVxuICAgICAgcXVlcnk9e3F1ZXJ5fVxuICAgICAgcmFuZ2U9e3JhbmdlIHx8IGdldERlZmF1bHRUaW1lUmFuZ2UoKX1cbiAgICA+XG4gICAgICA8UXVlcnlFZGl0b3JGb3JtIHZhbHVlPXtxdWVyeX0gLz5cbiAgICA8L0VsYXN0aWNzZWFyY2hQcm92aWRlcj5cbiAgKTtcbn07XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMikgPT4gKHtcbiAgcm9vdDogY3NzYFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gIGAsXG4gIHF1ZXJ5RmllbGRXcmFwcGVyOiBjc3NgXG4gICAgZmxleC1ncm93OiAxO1xuICAgIG1hcmdpbjogMCAke3RoZW1lLnNwYWNpbmcoMC41KX0gJHt0aGVtZS5zcGFjaW5nKDAuNSl9IDA7XG4gIGAsXG59KTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdmFsdWU6IEVsYXN0aWNzZWFyY2hRdWVyeTtcbn1cblxuZXhwb3J0IGNvbnN0IEVsYXN0aWNTZWFyY2hRdWVyeUZpZWxkID0gKHsgdmFsdWUsIG9uQ2hhbmdlIH06IHsgdmFsdWU/OiBzdHJpbmc7IG9uQ2hhbmdlOiAodjogc3RyaW5nKSA9PiB2b2lkIH0pID0+IHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5xdWVyeUZpZWxkV3JhcHBlcn0+XG4gICAgICA8UXVlcnlGaWVsZFxuICAgICAgICBxdWVyeT17dmFsdWV9XG4gICAgICAgIC8vIEJ5IGRlZmF1bHQgUXVlcnlGaWVsZCBjYWxscyBvbkNoYW5nZSBpZiBvbkJsdXIgaXMgbm90IGRlZmluZWQsIHRoaXMgd2lsbCB0cmlnZ2VyIGEgcmVyZW5kZXJcbiAgICAgICAgLy8gQW5kIHNsYXRlIHdpbGwgY2xhaW0gdGhlIGZvY3VzLCBtYWtpbmcgaXQgaW1wb3NzaWJsZSB0byBsZWF2ZSB0aGUgZmllbGQuXG4gICAgICAgIG9uQmx1cj17KCkgPT4ge319XG4gICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgcGxhY2Vob2xkZXI9XCJMdWNlbmUgUXVlcnlcIlxuICAgICAgICBwb3J0YWxPcmlnaW49XCJlbGFzdGljc2VhcmNoXCJcbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBRdWVyeUVkaXRvckZvcm0gPSAoeyB2YWx1ZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IG5leHRJZCA9IHVzZU5leHRJZCgpO1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG5cbiAgLy8gVG8gYmUgY29uc2lkZXJlZCBhIHRpbWUgc2VyaWVzIHF1ZXJ5LCB0aGUgbGFzdCBidWNrZWQgYWdncmVnYXRpb24gbXVzdCBiZSBhIERhdGUgSGlzdG9ncmFtXG4gIGNvbnN0IGlzVGltZVNlcmllc1F1ZXJ5ID0gdmFsdWU/LmJ1Y2tldEFnZ3M/LnNsaWNlKC0xKVswXT8udHlwZSA9PT0gJ2RhdGVfaGlzdG9ncmFtJztcblxuICBjb25zdCBzaG93QnVja2V0QWdncmVnYXRpb25zRWRpdG9yID0gdmFsdWUubWV0cmljcz8uZXZlcnkoXG4gICAgKG1ldHJpYykgPT4gIW1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5pc1NpbmdsZU1ldHJpY1xuICApO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucm9vdH0+XG4gICAgICAgIDxJbmxpbmVMYWJlbCB3aWR0aD17MTd9PlF1ZXJ5PC9JbmxpbmVMYWJlbD5cbiAgICAgICAgPEVsYXN0aWNTZWFyY2hRdWVyeUZpZWxkIG9uQ2hhbmdlPXsocXVlcnkpID0+IGRpc3BhdGNoKGNoYW5nZVF1ZXJ5KHF1ZXJ5KSl9IHZhbHVlPXt2YWx1ZT8ucXVlcnl9IC8+XG5cbiAgICAgICAgPElubGluZUZpZWxkXG4gICAgICAgICAgbGFiZWw9XCJBbGlhc1wiXG4gICAgICAgICAgbGFiZWxXaWR0aD17MTV9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFpc1RpbWVTZXJpZXNRdWVyeX1cbiAgICAgICAgICB0b29sdGlwPVwiQWxpYXNpbmcgb25seSB3b3JrcyBmb3IgdGltZXNlcmllcyBxdWVyaWVzICh3aGVuIHRoZSBsYXN0IGdyb3VwIGlzICdEYXRlIEhpc3RvZ3JhbScpLiBGb3IgYWxsIG90aGVyIHF1ZXJ5IHR5cGVzIHRoaXMgZmllbGQgaXMgaWdub3JlZC5cIlxuICAgICAgICA+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBpZD17YEVTLXF1ZXJ5LSR7dmFsdWUucmVmSWR9X2FsaWFzYH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWxpYXMgUGF0dGVyblwiXG4gICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBkaXNwYXRjaChjaGFuZ2VBbGlhc1BhdHRlcm4oZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3ZhbHVlLmFsaWFzfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPE1ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvciBuZXh0SWQ9e25leHRJZH0gLz5cbiAgICAgIHtzaG93QnVja2V0QWdncmVnYXRpb25zRWRpdG9yICYmIDxCdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IgbmV4dElkPXtuZXh0SWR9IC8+fVxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCB7IEFjdGlvbiwgY3JlYXRlQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5cbmltcG9ydCB7IEVsYXN0aWNzZWFyY2hRdWVyeSB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuLyoqXG4gKiBXaGVuIHRoZSBgaW5pdFF1ZXJ5YCBBY3Rpb24gaXMgZGlzcGF0Y2hlZCwgdGhlIHF1ZXJ5IGdldHMgcG9wdWxhdGVkIHdpdGggZGVmYXVsdCB2YWx1ZXMgd2hlcmUgdmFsdWVzIGFyZSBub3QgcHJlc2VudC5cbiAqIFRoaXMgbWVhbnMgaXQgd29uJ3Qgb3ZlcnJpZGUgYW55IGV4aXN0aW5nIHZhbHVlIGluIHBsYWNlLCBidXQganVzdCBlbnN1cmUgdGhlIHF1ZXJ5IGlzIGluIGEgXCJydW5uYWJsZVwiIHN0YXRlLlxuICovXG5leHBvcnQgY29uc3QgaW5pdFF1ZXJ5ID0gY3JlYXRlQWN0aW9uKCdpbml0Jyk7XG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VRdWVyeSA9IGNyZWF0ZUFjdGlvbjxFbGFzdGljc2VhcmNoUXVlcnlbJ3F1ZXJ5J10+KCdjaGFuZ2VfcXVlcnknKTtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZUFsaWFzUGF0dGVybiA9IGNyZWF0ZUFjdGlvbjxFbGFzdGljc2VhcmNoUXVlcnlbJ2FsaWFzJ10+KCdjaGFuZ2VfYWxpYXNfcGF0dGVybicpO1xuXG5leHBvcnQgY29uc3QgcXVlcnlSZWR1Y2VyID0gKHByZXZRdWVyeTogRWxhc3RpY3NlYXJjaFF1ZXJ5WydxdWVyeSddLCBhY3Rpb246IEFjdGlvbikgPT4ge1xuICBpZiAoY2hhbmdlUXVlcnkubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBhY3Rpb24ucGF5bG9hZDtcbiAgfVxuXG4gIGlmIChpbml0UXVlcnkubWF0Y2goYWN0aW9uKSkge1xuICAgIHJldHVybiBwcmV2UXVlcnkgfHwgJyc7XG4gIH1cblxuICByZXR1cm4gcHJldlF1ZXJ5O1xufTtcblxuZXhwb3J0IGNvbnN0IGFsaWFzUGF0dGVyblJlZHVjZXIgPSAocHJldkFsaWFzUGF0dGVybjogRWxhc3RpY3NlYXJjaFF1ZXJ5WydhbGlhcyddLCBhY3Rpb246IEFjdGlvbikgPT4ge1xuICBpZiAoY2hhbmdlQWxpYXNQYXR0ZXJuLm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gYWN0aW9uLnBheWxvYWQ7XG4gIH1cblxuICBpZiAoaW5pdFF1ZXJ5Lm1hdGNoKGFjdGlvbikpIHtcbiAgICByZXR1cm4gcHJldkFsaWFzUGF0dGVybiB8fCAnJztcbiAgfVxuXG4gIHJldHVybiBwcmV2QWxpYXNQYXR0ZXJuO1xufTtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5cbmV4cG9ydCBjb25zdCBzZWdtZW50U3R5bGVzID0gY3NzYFxuICBtaW4td2lkdGg6IDE1MHB4O1xuYDtcbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuY29uc3QgaGFzVmFsdWUgPVxuICA8VCBleHRlbmRzIFNlbGVjdGFibGVWYWx1ZT4oc2VhcmNoVmFsdWU6IFRbJ3ZhbHVlJ10pID0+XG4gICh7IHZhbHVlIH06IFQpID0+XG4gICAgdmFsdWUgPT09IHNlYXJjaFZhbHVlO1xuXG5jb25zdCBnZXRJbml0aWFsU3RhdGUgPSAoaW5pdGlhbE9wdGlvbnM6IFNlbGVjdGFibGVWYWx1ZVtdLCBpbml0aWFsVmFsdWU/OiBzdHJpbmcpOiBTZWxlY3RhYmxlVmFsdWVbXSA9PiB7XG4gIGlmIChpbml0aWFsVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBpbml0aWFsT3B0aW9ucy5zb21lKGhhc1ZhbHVlKGluaXRpYWxWYWx1ZSkpKSB7XG4gICAgcmV0dXJuIGluaXRpYWxPcHRpb25zO1xuICB9XG5cbiAgcmV0dXJuIFtcbiAgICAuLi5pbml0aWFsT3B0aW9ucyxcbiAgICB7XG4gICAgICB2YWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgICAgbGFiZWw6IGluaXRpYWxWYWx1ZSxcbiAgICB9LFxuICBdO1xufTtcblxuaW50ZXJmYWNlIFBhcmFtcyB7XG4gIG9wdGlvbnM6IFNlbGVjdGFibGVWYWx1ZVtdO1xuICB2YWx1ZT86IHN0cmluZztcbiAgb25DaGFuZ2U6IChzOiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPikgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBQcm9wcyBuZWVkZWQgYnkgU2VsZWN0IHRvIGhhbmRsZSBjdXN0b20gdmFsdWVzIGFuZCBoYW5kbGVzIGN1c3RvbSB2YWx1ZSBjcmVhdGlvblxuICogYW5kIHRoZSBpbml0aWFsIHZhbHVlIHdoZW4gaXQgaXMgbm90IHByZXNlbnQgaW4gdGhlIG9wdGlvbiBhcnJheS5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZUNyZWF0YWJsZVNlbGVjdFBlcnNpc3RlZEJlaGF2aW91ciA9ICh7IG9wdGlvbnM6IGluaXRpYWxPcHRpb25zLCB2YWx1ZSwgb25DaGFuZ2UgfTogUGFyYW1zKSA9PiB7XG4gIGNvbnN0IFtvcHRpb25zLCBzZXRPcHRpb25zXSA9IHVzZVN0YXRlKGdldEluaXRpYWxTdGF0ZShpbml0aWFsT3B0aW9ucywgdmFsdWUpKTtcblxuICBjb25zdCBhZGRPcHRpb24gPSAobmV3VmFsdWU6IHN0cmluZykgPT4gc2V0T3B0aW9ucyhbLi4ub3B0aW9ucywgeyB2YWx1ZTogbmV3VmFsdWUsIGxhYmVsOiBuZXdWYWx1ZSB9XSk7XG5cbiAgcmV0dXJuIHtcbiAgICBvbkNyZWF0ZU9wdGlvbjogKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICAgIGFkZE9wdGlvbih2YWx1ZSk7XG4gICAgICBvbkNoYW5nZSh7IHZhbHVlIH0pO1xuICAgIH0sXG4gICAgb25DaGFuZ2UsXG4gICAgYWxsb3dDdXN0b21WYWx1ZTogdHJ1ZSxcbiAgICBvcHRpb25zLFxuICAgIHZhbHVlLFxuICB9O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgU0lHVjRDb25uZWN0aW9uQ29uZmlnIH0gZnJvbSAnQGdyYWZhbmEvYXdzLXNkayc7XG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBBbGVydCwgRGF0YVNvdXJjZUh0dHBTZXR0aW5ncyB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2FwcC9jb3JlL2NvbmZpZyc7XG5cbmltcG9ydCB7IEVsYXN0aWNzZWFyY2hPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNTdXBwb3J0ZWRWZXJzaW9uIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBEYXRhTGlua3MgfSBmcm9tICcuL0RhdGFMaW5rcyc7XG5pbXBvcnQgeyBFbGFzdGljRGV0YWlscyB9IGZyb20gJy4vRWxhc3RpY0RldGFpbHMnO1xuaW1wb3J0IHsgTG9nc0NvbmZpZyB9IGZyb20gJy4vTG9nc0NvbmZpZyc7XG5pbXBvcnQgeyBjb2VyY2VPcHRpb25zLCBpc1ZhbGlkT3B0aW9ucyB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBQcm9wcyA9IERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHM8RWxhc3RpY3NlYXJjaE9wdGlvbnM+O1xuXG5leHBvcnQgY29uc3QgQ29uZmlnRWRpdG9yID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICAvLyB3ZSBkZWNpZGUgb24gd2hldGhlciB0byBzaG93IGFjY2VzcyBvcHRpb25zIG9yIG5vdCBhdCB0aGUgcG9pbnQgd2hlbiB0aGUgY29uZmlnIHBhZ2Ugb3BlbnMuXG4gIC8vIHdoYXRldmVyIGhhcHBlbnMgd2hpbGUgdGhlIHBhZ2UgaXMgb3BlbiwgdGhpcyBkZWNpc2lvbiBkb2VzIG5vdCBjaGFuZ2UuXG4gIC8vICh3ZSBkbyB0aGlzIHRvIGF2b2lkIHNpdHVhdGlvbnMgd2hlcmUgeW91IHN3aXRjaCBhY2Nlc3MtbW9kZSBhbmQgc3VkZGVubHlcbiAgLy8gdGhlIGFjY2Vzcy1tb2RlLXNlbGVjdC1ib3ggdmFuaXNoZXMpXG4gIGNvbnN0IHNob3dBY2Nlc3NPcHRpb25zID0gdXNlUmVmKHByb3BzLm9wdGlvbnMuYWNjZXNzID09PSAnZGlyZWN0Jyk7XG5cbiAgY29uc3QgeyBvcHRpb25zOiBvcmlnaW5hbE9wdGlvbnMsIG9uT3B0aW9uc0NoYW5nZSB9ID0gcHJvcHM7XG4gIGNvbnN0IG9wdGlvbnMgPSBjb2VyY2VPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzVmFsaWRPcHRpb25zKG9yaWdpbmFsT3B0aW9ucykpIHtcbiAgICAgIG9uT3B0aW9uc0NoYW5nZShjb2VyY2VPcHRpb25zKG9yaWdpbmFsT3B0aW9ucykpO1xuICAgIH1cblxuICAgIC8vIFdlIGNhbid0IGVuZm9yY2UgdGhlIGVzbGludCBydWxlIGhlcmUgYmVjYXVzZSB3ZSBvbmx5IHdhbnQgdG8gcnVuIHRoaXMgb25jZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICBjb25zdCBzdXBwb3J0ZWRWZXJzaW9uID0gaXNTdXBwb3J0ZWRWZXJzaW9uKG9wdGlvbnMuanNvbkRhdGEuZXNWZXJzaW9uKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7b3B0aW9ucy5hY2Nlc3MgPT09ICdkaXJlY3QnICYmIChcbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiRXJyb3JcIiBzZXZlcml0eT1cImVycm9yXCI+XG4gICAgICAgICAgQnJvd3NlciBhY2Nlc3MgbW9kZSBpbiB0aGUgRWxhc3RpY3NlYXJjaCBkYXRhc291cmNlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUuIFN3aXRjaCB0byBzZXJ2ZXIgYWNjZXNzIG1vZGUuXG4gICAgICAgIDwvQWxlcnQ+XG4gICAgICApfVxuICAgICAgeyFzdXBwb3J0ZWRWZXJzaW9uICYmIChcbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiRGVwcmVjYXRpb24gbm90aWNlXCIgc2V2ZXJpdHk9XCJlcnJvclwiPlxuICAgICAgICAgIHtgU3VwcG9ydCBmb3IgRWxhc3RpY3NlYXJjaCB2ZXJzaW9ucyBhZnRlciB0aGVpciBlbmQtb2YtbGlmZSAoY3VycmVudGx5IHZlcnNpb25zIDwgNy4xMCkgd2FzIHJlbW92ZWRgfVxuICAgICAgICA8L0FsZXJ0PlxuICAgICAgKX1cbiAgICAgIDxEYXRhU291cmNlSHR0cFNldHRpbmdzXG4gICAgICAgIGRlZmF1bHRVcmw9XCJodHRwOi8vbG9jYWxob3N0OjkyMDBcIlxuICAgICAgICBkYXRhU291cmNlQ29uZmlnPXtvcHRpb25zfVxuICAgICAgICBzaG93QWNjZXNzT3B0aW9ucz17c2hvd0FjY2Vzc09wdGlvbnMuY3VycmVudH1cbiAgICAgICAgb25DaGFuZ2U9e29uT3B0aW9uc0NoYW5nZX1cbiAgICAgICAgc2lnVjRBdXRoVG9nZ2xlRW5hYmxlZD17Y29uZmlnLnNpZ1Y0QXV0aEVuYWJsZWR9XG4gICAgICAgIHJlbmRlclNpZ1Y0RWRpdG9yPXs8U0lHVjRDb25uZWN0aW9uQ29uZmlnIHsuLi5wcm9wc30+PC9TSUdWNENvbm5lY3Rpb25Db25maWc+fVxuICAgICAgLz5cblxuICAgICAgPEVsYXN0aWNEZXRhaWxzIHZhbHVlPXtvcHRpb25zfSBvbkNoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuXG4gICAgICA8TG9nc0NvbmZpZ1xuICAgICAgICB2YWx1ZT17b3B0aW9ucy5qc29uRGF0YX1cbiAgICAgICAgb25DaGFuZ2U9eyhuZXdWYWx1ZSkgPT5cbiAgICAgICAgICBvbk9wdGlvbnNDaGFuZ2Uoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGpzb25EYXRhOiBuZXdWYWx1ZSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAvPlxuXG4gICAgICA8RGF0YUxpbmtzXG4gICAgICAgIHZhbHVlPXtvcHRpb25zLmpzb25EYXRhLmRhdGFMaW5rc31cbiAgICAgICAgb25DaGFuZ2U9eyhuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgIG9uT3B0aW9uc0NoYW5nZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAganNvbkRhdGE6IHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YSxcbiAgICAgICAgICAgICAgZGF0YUxpbmtzOiBuZXdWYWx1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgRGlzcGF0Y2gsIFNldFN0YXRlQWN0aW9uLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUHJldmlvdXMgfSBmcm9tICdyZWFjdC11c2UnO1xuXG5pbXBvcnQgeyBWYXJpYWJsZVN1Z2dlc3Rpb24gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IERhdGFTb3VyY2VQaWNrZXIgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IEJ1dHRvbiwgTGVnYWN5Rm9ybXMsIERhdGFMaW5rSW5wdXQsIHN0eWxlc0ZhY3RvcnkgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IERhdGFMaW5rQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCB7IEZvcm1GaWVsZCwgU3dpdGNoIH0gPSBMZWdhY3lGb3JtcztcblxuY29uc3QgZ2V0U3R5bGVzID0gc3R5bGVzRmFjdG9yeSgoKSA9PiAoe1xuICBmaXJzdFJvdzogY3NzYFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gIGAsXG4gIG5hbWVGaWVsZDogY3NzYFxuICAgIGZsZXg6IDI7XG4gIGAsXG4gIHJlZ2V4RmllbGQ6IGNzc2BcbiAgICBmbGV4OiAzO1xuICBgLFxuICByb3c6IGNzc2BcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgYCxcbiAgdXJsRmllbGQ6IGNzc2BcbiAgICBmbGV4OiAxO1xuICBgLFxuICB1cmxEaXNwbGF5TGFiZWxGaWVsZDogY3NzYFxuICAgIGZsZXg6IDE7XG4gIGAsXG59KSk7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHZhbHVlOiBEYXRhTGlua0NvbmZpZztcbiAgb25DaGFuZ2U6ICh2YWx1ZTogRGF0YUxpbmtDb25maWcpID0+IHZvaWQ7XG4gIG9uRGVsZXRlOiAoKSA9PiB2b2lkO1xuICBzdWdnZXN0aW9uczogVmFyaWFibGVTdWdnZXN0aW9uW107XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn07XG5leHBvcnQgY29uc3QgRGF0YUxpbmsgPSAocHJvcHM6IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlLCBvbkRlbGV0ZSwgc3VnZ2VzdGlvbnMsIGNsYXNzTmFtZSB9ID0gcHJvcHM7XG4gIGNvbnN0IHN0eWxlcyA9IGdldFN0eWxlcygpO1xuICBjb25zdCBbc2hvd0ludGVybmFsTGluaywgc2V0U2hvd0ludGVybmFsTGlua10gPSB1c2VJbnRlcm5hbExpbmsodmFsdWUuZGF0YXNvdXJjZVVpZCk7XG5cbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGZpZWxkOiBrZXlvZiB0eXBlb2YgdmFsdWUpID0+IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBvbkNoYW5nZSh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIFtmaWVsZF06IGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZmlyc3RSb3cgKyAnIGdmLWZvcm0nfT5cbiAgICAgICAgPEZvcm1GaWVsZFxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm5hbWVGaWVsZH1cbiAgICAgICAgICBsYWJlbFdpZHRoPXs2fVxuICAgICAgICAgIC8vIEEgYml0IG9mIGEgaGFjayB0byBwcmV2ZW50IHVzaW5nIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSB3aWR0aCBmcm9tIEZvcm1GaWVsZFxuICAgICAgICAgIGlucHV0V2lkdGg9e251bGx9XG4gICAgICAgICAgbGFiZWw9XCJGaWVsZFwiXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZS5maWVsZH1cbiAgICAgICAgICB0b29sdGlwPXsnQ2FuIGJlIGV4YWN0IGZpZWxkIG5hbWUgb3IgYSByZWdleCBwYXR0ZXJuIHRoYXQgd2lsbCBtYXRjaCBvbiB0aGUgZmllbGQgbmFtZS4nfVxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2UoJ2ZpZWxkJyl9XG4gICAgICAgIC8+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PXsnZGVzdHJ1Y3RpdmUnfVxuICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIGZpZWxkXCJcbiAgICAgICAgICBpY29uPVwidGltZXNcIlxuICAgICAgICAgIG9uQ2xpY2s9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG9uRGVsZXRlKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICBsYWJlbD17c2hvd0ludGVybmFsTGluayA/ICdRdWVyeScgOiAnVVJMJ31cbiAgICAgICAgICBsYWJlbFdpZHRoPXs2fVxuICAgICAgICAgIGlucHV0RWw9e1xuICAgICAgICAgICAgPERhdGFMaW5rSW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3Nob3dJbnRlcm5hbExpbmsgPyAnJHtfX3ZhbHVlLnJhd30nIDogJ2h0dHA6Ly9leGFtcGxlLmNvbS8ke19fdmFsdWUucmF3fSd9XG4gICAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS51cmwgfHwgJyd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsobmV3VmFsdWUpID0+XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgICB1cmw6IG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3VnZ2VzdGlvbnM9e3N1Z2dlc3Rpb25zfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMudXJsRmllbGR9XG4gICAgICAgIC8+XG4gICAgICAgIDxGb3JtRmllbGRcbiAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy51cmxEaXNwbGF5TGFiZWxGaWVsZH1cbiAgICAgICAgICBpbnB1dFdpZHRoPXtudWxsfVxuICAgICAgICAgIGxhYmVsPVwiVVJMIExhYmVsXCJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlLnVybERpc3BsYXlMYWJlbH1cbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlKCd1cmxEaXNwbGF5TGFiZWwnKX1cbiAgICAgICAgICB0b29sdGlwPXsnVXNlIHRvIG92ZXJyaWRlIHRoZSBidXR0b24gbGFiZWwuJ31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJvd30+XG4gICAgICAgIDxTd2l0Y2hcbiAgICAgICAgICBsYWJlbENsYXNzPXsnd2lkdGgtNid9XG4gICAgICAgICAgbGFiZWw9XCJJbnRlcm5hbCBsaW5rXCJcbiAgICAgICAgICBjaGVja2VkPXtzaG93SW50ZXJuYWxMaW5rfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvd0ludGVybmFsTGluaykge1xuICAgICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgZGF0YXNvdXJjZVVpZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFNob3dJbnRlcm5hbExpbmsoIXNob3dJbnRlcm5hbExpbmspO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG5cbiAgICAgICAge3Nob3dJbnRlcm5hbExpbmsgJiYgKFxuICAgICAgICAgIDxEYXRhU291cmNlUGlja2VyXG4gICAgICAgICAgICB0cmFjaW5nPXt0cnVlfVxuICAgICAgICAgICAgLy8gVWlkIGFuZCB2YWx1ZSBzaG91bGQgYmUgYWx3YXlzIHNldCBpbiB0aGUgZGIgYW5kIHNvIGluIHRoZSBpdGVtcy5cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZHMpID0+IHtcbiAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQ6IGRzLnVpZCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY3VycmVudD17dmFsdWUuZGF0YXNvdXJjZVVpZH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5mdW5jdGlvbiB1c2VJbnRlcm5hbExpbmsoZGF0YXNvdXJjZVVpZD86IHN0cmluZyk6IFtib29sZWFuLCBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj5dIHtcbiAgY29uc3QgW3Nob3dJbnRlcm5hbExpbmssIHNldFNob3dJbnRlcm5hbExpbmtdID0gdXNlU3RhdGU8Ym9vbGVhbj4oISFkYXRhc291cmNlVWlkKTtcbiAgY29uc3QgcHJldmlvdXNVaWQgPSB1c2VQcmV2aW91cyhkYXRhc291cmNlVWlkKTtcblxuICAvLyBGb3JjZSBpbnRlcm5hbCBsaW5rIHZpc2liaWxpdHkgY2hhbmdlIGlmIHVpZCBjaGFuZ2VkIG91dHNpZGUgb2YgdGhpcyBjb21wb25lbnQuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFwcmV2aW91c1VpZCAmJiBkYXRhc291cmNlVWlkICYmICFzaG93SW50ZXJuYWxMaW5rKSB7XG4gICAgICBzZXRTaG93SW50ZXJuYWxMaW5rKHRydWUpO1xuICAgIH1cbiAgICBpZiAocHJldmlvdXNVaWQgJiYgIWRhdGFzb3VyY2VVaWQgJiYgc2hvd0ludGVybmFsTGluaykge1xuICAgICAgc2V0U2hvd0ludGVybmFsTGluayhmYWxzZSk7XG4gICAgfVxuICB9LCBbcHJldmlvdXNVaWQsIGRhdGFzb3VyY2VVaWQsIHNob3dJbnRlcm5hbExpbmtdKTtcblxuICByZXR1cm4gW3Nob3dJbnRlcm5hbExpbmssIHNldFNob3dJbnRlcm5hbExpbmtdO1xufVxuIiwiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIsIFZhcmlhYmxlT3JpZ2luLCBEYXRhTGlua0J1aWx0SW5WYXJzIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBCdXR0b24sIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IERhdGFMaW5rQ29uZmlnIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBEYXRhTGluayB9IGZyb20gJy4vRGF0YUxpbmsnO1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpbmZvVGV4dDogY3NzYFxuICAgICAgcGFkZGluZy1ib3R0b206ICR7dGhlbWUuc3BhY2luZygyKX07XG4gICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnl9O1xuICAgIGAsXG4gICAgZGF0YUxpbms6IGNzc2BcbiAgICAgIG1hcmdpbi1ib3R0b206ICR7dGhlbWUuc3BhY2luZygxKX07XG4gICAgYCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICB2YWx1ZT86IERhdGFMaW5rQ29uZmlnW107XG4gIG9uQ2hhbmdlOiAodmFsdWU6IERhdGFMaW5rQ29uZmlnW10pID0+IHZvaWQ7XG59O1xuZXhwb3J0IGNvbnN0IERhdGFMaW5rcyA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGgzIGNsYXNzTmFtZT1cInBhZ2UtaGVhZGluZ1wiPkRhdGEgbGlua3M8L2gzPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmluZm9UZXh0fT5cbiAgICAgICAgQWRkIGxpbmtzIHRvIGV4aXN0aW5nIGZpZWxkcy4gTGlua3Mgd2lsbCBiZSBzaG93biBpbiBsb2cgcm93IGRldGFpbHMgbmV4dCB0byB0aGUgZmllbGQgdmFsdWUuXG4gICAgICA8L2Rpdj5cblxuICAgICAge3ZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICB7dmFsdWUubWFwKChmaWVsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxEYXRhTGlua1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmRhdGFMaW5rfVxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ZpZWxkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsobmV3RmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGFMaW5rcyA9IFsuLi52YWx1ZV07XG4gICAgICAgICAgICAgICAgICBuZXdEYXRhTGlua3Muc3BsaWNlKGluZGV4LCAxLCBuZXdGaWVsZCk7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdEYXRhTGlua3MpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25EZWxldGU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RhdGFMaW5rcyA9IFsuLi52YWx1ZV07XG4gICAgICAgICAgICAgICAgICBuZXdEYXRhTGlua3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG5ld0RhdGFMaW5rcyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucz17W1xuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogRGF0YUxpbmtCdWlsdEluVmFycy52YWx1ZVJhdyxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdSYXcgdmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudGF0aW9uOiAnUmF3IHZhbHVlIG9mIHRoZSBmaWVsZCcsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogVmFyaWFibGVPcmlnaW4uVmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIHZhcmlhbnQ9eydzZWNvbmRhcnknfVxuICAgICAgICBjbGFzc05hbWU9e2Nzc2BcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgIGB9XG4gICAgICAgIGljb249XCJwbHVzXCJcbiAgICAgICAgb25DbGljaz17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjb25zdCBuZXdEYXRhTGlua3MgPSBbLi4uKHZhbHVlIHx8IFtdKSwgeyBmaWVsZDogJycsIHVybDogJycgfV07XG4gICAgICAgICAgb25DaGFuZ2UobmV3RGF0YUxpbmtzKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgQWRkXG4gICAgICA8L0J1dHRvbj5cbiAgICA8Lz5cbiAgKTtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ3RlLCBsdCwgdmFsaWQgfSBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQgeyBEYXRhU291cmNlU2V0dGluZ3MsIFNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRmllbGRTZXQsIElubGluZUZpZWxkLCBJbnB1dCwgU2VsZWN0LCBJbmxpbmVTd2l0Y2ggfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IEVsYXN0aWNzZWFyY2hPcHRpb25zLCBJbnRlcnZhbCB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHsgaXNUcnV0aHkgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgaW5kZXhQYXR0ZXJuVHlwZXM6IEFycmF5PFNlbGVjdGFibGVWYWx1ZTwnbm9uZScgfCBJbnRlcnZhbD4+ID0gW1xuICB7IGxhYmVsOiAnTm8gcGF0dGVybicsIHZhbHVlOiAnbm9uZScgfSxcbiAgeyBsYWJlbDogJ0hvdXJseScsIHZhbHVlOiAnSG91cmx5JywgZXhhbXBsZTogJ1tsb2dzdGFzaC1dWVlZWS5NTS5ERC5ISCcgfSxcbiAgeyBsYWJlbDogJ0RhaWx5JywgdmFsdWU6ICdEYWlseScsIGV4YW1wbGU6ICdbbG9nc3Rhc2gtXVlZWVkuTU0uREQnIH0sXG4gIHsgbGFiZWw6ICdXZWVrbHknLCB2YWx1ZTogJ1dlZWtseScsIGV4YW1wbGU6ICdbbG9nc3Rhc2gtXUdHR0cuV1cnIH0sXG4gIHsgbGFiZWw6ICdNb250aGx5JywgdmFsdWU6ICdNb250aGx5JywgZXhhbXBsZTogJ1tsb2dzdGFzaC1dWVlZWS5NTScgfSxcbiAgeyBsYWJlbDogJ1llYXJseScsIHZhbHVlOiAnWWVhcmx5JywgZXhhbXBsZTogJ1tsb2dzdGFzaC1dWVlZWScgfSxcbl07XG5cbmNvbnN0IGVzVmVyc2lvbnM6IFNlbGVjdGFibGVWYWx1ZVtdID0gW1xuICB7IGxhYmVsOiAnNy4xMCsnLCB2YWx1ZTogJzcuMTAuMCcgfSxcbiAge1xuICAgIGxhYmVsOiAnOC4wKycsXG4gICAgdmFsdWU6ICc4LjAuMCcsXG4gICAgZGVzY3JpcHRpb246ICdzdXBwb3J0IGZvciBFbGFzdGljc2VhcmNoIDggaXMgY3VycmVudGx5IGV4cGVyaW1lbnRhbCcsXG4gIH0sXG5dO1xuXG50eXBlIFByb3BzID0ge1xuICB2YWx1ZTogRGF0YVNvdXJjZVNldHRpbmdzPEVsYXN0aWNzZWFyY2hPcHRpb25zPjtcbiAgb25DaGFuZ2U6ICh2YWx1ZTogRGF0YVNvdXJjZVNldHRpbmdzPEVsYXN0aWNzZWFyY2hPcHRpb25zPikgPT4gdm9pZDtcbn07XG5leHBvcnQgY29uc3QgRWxhc3RpY0RldGFpbHMgPSAoeyB2YWx1ZSwgb25DaGFuZ2UgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgY3VycmVudFZlcnNpb24gPSBlc1ZlcnNpb25zLmZpbmQoKHZlcnNpb24pID0+IHZlcnNpb24udmFsdWUgPT09IHZhbHVlLmpzb25EYXRhLmVzVmVyc2lvbik7XG4gIGNvbnN0IGN1c3RvbU9wdGlvbiA9XG4gICAgIWN1cnJlbnRWZXJzaW9uICYmIHZhbGlkKHZhbHVlLmpzb25EYXRhLmVzVmVyc2lvbilcbiAgICAgID8ge1xuICAgICAgICAgIGxhYmVsOiB2YWx1ZS5qc29uRGF0YS5lc1ZlcnNpb24sXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLmpzb25EYXRhLmVzVmVyc2lvbixcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQ7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxGaWVsZFNldCBsYWJlbD1cIkVsYXN0aWNzZWFyY2ggZGV0YWlsc1wiPlxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJJbmRleCBuYW1lXCIgbGFiZWxXaWR0aD17MjZ9PlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgaWQ9XCJlc19jb25maWdfaW5kZXhOYW1lXCJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS5kYXRhYmFzZSB8fCAnJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2VIYW5kbGVyKCdkYXRhYmFzZScsIHZhbHVlLCBvbkNoYW5nZSl9XG4gICAgICAgICAgICB3aWR0aD17MjR9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImVzLWluZGV4LW5hbWVcIlxuICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuXG4gICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlBhdHRlcm5cIiBsYWJlbFdpZHRoPXsyNn0+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaW5wdXRJZD1cImVzX2NvbmZpZ19pbmRleFBhdHRlcm5cIlxuICAgICAgICAgICAgdmFsdWU9e2luZGV4UGF0dGVyblR5cGVzLmZpbmQoXG4gICAgICAgICAgICAgIChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnZhbHVlID09PSAodmFsdWUuanNvbkRhdGEuaW50ZXJ2YWwgPT09IHVuZGVmaW5lZCA/ICdub25lJyA6IHZhbHVlLmpzb25EYXRhLmludGVydmFsKVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIG9wdGlvbnM9e2luZGV4UGF0dGVyblR5cGVzfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2ludGVydmFsSGFuZGxlcih2YWx1ZSwgb25DaGFuZ2UpfVxuICAgICAgICAgICAgd2lkdGg9ezI0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiVGltZSBmaWVsZCBuYW1lXCIgbGFiZWxXaWR0aD17MjZ9PlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgaWQ9XCJlc19jb25maWdfdGltZUZpZWxkXCJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS5qc29uRGF0YS50aW1lRmllbGQgfHwgJyd9XG4gICAgICAgICAgICBvbkNoYW5nZT17anNvbkRhdGFDaGFuZ2VIYW5kbGVyKCd0aW1lRmllbGQnLCB2YWx1ZSwgb25DaGFuZ2UpfVxuICAgICAgICAgICAgd2lkdGg9ezI0fVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJAdGltZXN0YW1wXCJcbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJFbGFzdGljU2VhcmNoIHZlcnNpb25cIiBsYWJlbFdpZHRoPXsyNn0+XG4gICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgaW5wdXRJZD1cImVzX2NvbmZpZ192ZXJzaW9uXCJcbiAgICAgICAgICAgIG9wdGlvbnM9e1tjdXN0b21PcHRpb24sIC4uLmVzVmVyc2lvbnNdLmZpbHRlcihpc1RydXRoeSl9XG4gICAgICAgICAgICBvbkNoYW5nZT17KG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyA9IGdldE1heENvbmN1cnJlblNoYXJkUmVxdWVzdE9yRGVmYXVsdChcbiAgICAgICAgICAgICAgICB2YWx1ZS5qc29uRGF0YS5tYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyxcbiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICBqc29uRGF0YToge1xuICAgICAgICAgICAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgICAgICAgICAgICBlc1ZlcnNpb246IG9wdGlvbi52YWx1ZSEsXG4gICAgICAgICAgICAgICAgICBtYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB2YWx1ZT17Y3VycmVudFZlcnNpb24gfHwgY3VzdG9tT3B0aW9ufVxuICAgICAgICAgICAgd2lkdGg9ezI0fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgICAge2d0ZSh2YWx1ZS5qc29uRGF0YS5lc1ZlcnNpb24sICc1LjYuMCcpICYmIChcbiAgICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNYXggY29uY3VycmVudCBTaGFyZCBSZXF1ZXN0c1wiIGxhYmVsV2lkdGg9ezI2fT5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBpZD1cImVzX2NvbmZpZ19zaGFyZFJlcXVlc3RzXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3ZhbHVlLmpzb25EYXRhLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzIHx8ICcnfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17anNvbkRhdGFDaGFuZ2VIYW5kbGVyKCdtYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cycsIHZhbHVlLCBvbkNoYW5nZSl9XG4gICAgICAgICAgICAgIHdpZHRoPXsyNH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgKX1cblxuICAgICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgICBsYWJlbD1cIk1pbiB0aW1lIGludGVydmFsXCJcbiAgICAgICAgICBsYWJlbFdpZHRoPXsyNn1cbiAgICAgICAgICB0b29sdGlwPXtcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIEEgbG93ZXIgbGltaXQgZm9yIHRoZSBhdXRvIGdyb3VwIGJ5IHRpbWUgaW50ZXJ2YWwuIFJlY29tbWVuZGVkIHRvIGJlIHNldCB0byB3cml0ZSBmcmVxdWVuY3ksIGZvciBleGFtcGxleycgJ31cbiAgICAgICAgICAgICAgPGNvZGU+MW08L2NvZGU+IGlmIHlvdXIgZGF0YSBpcyB3cml0dGVuIGV2ZXJ5IG1pbnV0ZS5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgIH1cbiAgICAgICAgICBlcnJvcj1cIlZhbHVlIGlzIG5vdCB2YWxpZCwgeW91IGNhbiB1c2UgbnVtYmVyIHdpdGggdGltZSB1bml0IHNwZWNpZmllcjogeSwgTSwgdywgZCwgaCwgbSwgc1wiXG4gICAgICAgICAgaW52YWxpZD17ISF2YWx1ZS5qc29uRGF0YS50aW1lSW50ZXJ2YWwgJiYgIS9eXFxkKyhtc3xbTXdkaG1zeV0pJC8udGVzdCh2YWx1ZS5qc29uRGF0YS50aW1lSW50ZXJ2YWwpfVxuICAgICAgICA+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBpZD1cImVzX2NvbmZpZ19taW5UaW1lSW50ZXJ2YWxcIlxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlLmpzb25EYXRhLnRpbWVJbnRlcnZhbCB8fCAnJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtqc29uRGF0YUNoYW5nZUhhbmRsZXIoJ3RpbWVJbnRlcnZhbCcsIHZhbHVlLCBvbkNoYW5nZSl9XG4gICAgICAgICAgICB3aWR0aD17MjR9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjEwc1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJYLVBhY2sgZW5hYmxlZFwiIGxhYmVsV2lkdGg9ezI2fT5cbiAgICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgICBpZD1cImVzX2NvbmZpZ194cGFja0VuYWJsZWRcIlxuICAgICAgICAgICAgY2hlY2tlZD17dmFsdWUuanNvbkRhdGEueHBhY2sgfHwgZmFsc2V9XG4gICAgICAgICAgICBvbkNoYW5nZT17anNvbkRhdGFTd2l0Y2hDaGFuZ2VIYW5kbGVyKCd4cGFjaycsIHZhbHVlLCBvbkNoYW5nZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgICB7Z3RlKHZhbHVlLmpzb25EYXRhLmVzVmVyc2lvbiwgJzYuNi4wJykgJiYgdmFsdWUuanNvbkRhdGEueHBhY2sgJiYgKFxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIkluY2x1ZGUgRnJvemVuIEluZGljZXNcIiBsYWJlbFdpZHRoPXsyNn0+XG4gICAgICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgICAgIGlkPVwiZXNfY29uZmlnX2Zyb3plbkluZGljZXNcIlxuICAgICAgICAgICAgICBjaGVja2VkPXt2YWx1ZS5qc29uRGF0YS5pbmNsdWRlRnJvemVuID8/IGZhbHNlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17anNvbkRhdGFTd2l0Y2hDaGFuZ2VIYW5kbGVyKCdpbmNsdWRlRnJvemVuJywgdmFsdWUsIG9uQ2hhbmdlKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgKX1cbiAgICAgIDwvRmllbGRTZXQ+XG4gICAgPC8+XG4gICk7XG59O1xuXG4vLyBUT0RPOiBVc2UgY2hhbmdlIGhhbmRsZXJzIGZyb20gQGdyYWZhbmEvZGF0YVxuY29uc3QgY2hhbmdlSGFuZGxlciA9XG4gIChrZXk6IGtleW9mIERhdGFTb3VyY2VTZXR0aW5nczxFbGFzdGljc2VhcmNoT3B0aW9ucz4sIHZhbHVlOiBQcm9wc1sndmFsdWUnXSwgb25DaGFuZ2U6IFByb3BzWydvbkNoYW5nZSddKSA9PlxuICAoZXZlbnQ6IFJlYWN0LlN5bnRoZXRpY0V2ZW50PEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudD4pID0+IHtcbiAgICBvbkNoYW5nZSh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIFtrZXldOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLFxuICAgIH0pO1xuICB9O1xuXG4vLyBUT0RPOiBVc2UgY2hhbmdlIGhhbmRsZXJzIGZyb20gQGdyYWZhbmEvZGF0YVxuY29uc3QganNvbkRhdGFDaGFuZ2VIYW5kbGVyID1cbiAgKGtleToga2V5b2YgRWxhc3RpY3NlYXJjaE9wdGlvbnMsIHZhbHVlOiBQcm9wc1sndmFsdWUnXSwgb25DaGFuZ2U6IFByb3BzWydvbkNoYW5nZSddKSA9PlxuICAoZXZlbnQ6IFJlYWN0LlN5bnRoZXRpY0V2ZW50PEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudD4pID0+IHtcbiAgICBvbkNoYW5nZSh7XG4gICAgICAuLi52YWx1ZSxcbiAgICAgIGpzb25EYXRhOiB7XG4gICAgICAgIC4uLnZhbHVlLmpzb25EYXRhLFxuICAgICAgICBba2V5XTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbmNvbnN0IGpzb25EYXRhU3dpdGNoQ2hhbmdlSGFuZGxlciA9XG4gIChrZXk6IGtleW9mIEVsYXN0aWNzZWFyY2hPcHRpb25zLCB2YWx1ZTogUHJvcHNbJ3ZhbHVlJ10sIG9uQ2hhbmdlOiBQcm9wc1snb25DaGFuZ2UnXSkgPT5cbiAgKGV2ZW50OiBSZWFjdC5TeW50aGV0aWNFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIG9uQ2hhbmdlKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAganNvbkRhdGE6IHtcbiAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgIFtrZXldOiBldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG5jb25zdCBpbnRlcnZhbEhhbmRsZXIgPVxuICAodmFsdWU6IFByb3BzWyd2YWx1ZSddLCBvbkNoYW5nZTogUHJvcHNbJ29uQ2hhbmdlJ10pID0+IChvcHRpb246IFNlbGVjdGFibGVWYWx1ZTxJbnRlcnZhbCB8ICdub25lJz4pID0+IHtcbiAgICBjb25zdCB7IGRhdGFiYXNlIH0gPSB2YWx1ZTtcbiAgICAvLyBJZiBvcHRpb24gdmFsdWUgaXMgdW5kZWZpbmVkIGl0IHdpbGwgc2VuZCBpdHMgbGFiZWwgaW5zdGVhZCBzbyB3ZSBoYXZlIHRvIGNvbnZlcnQgbWFkZSB1cCB2YWx1ZSB0byB1bmRlZmluZWQgaGVyZS5cbiAgICBjb25zdCBuZXdJbnRlcnZhbCA9IG9wdGlvbi52YWx1ZSA9PT0gJ25vbmUnID8gdW5kZWZpbmVkIDogb3B0aW9uLnZhbHVlO1xuXG4gICAgaWYgKCFkYXRhYmFzZSB8fCBkYXRhYmFzZS5sZW5ndGggPT09IDAgfHwgZGF0YWJhc2Uuc3RhcnRzV2l0aCgnW2xvZ3N0YXNoLV0nKSkge1xuICAgICAgbGV0IG5ld0RhdGFiYXNlID0gJyc7XG5cbiAgICAgIGlmIChuZXdJbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBpbmRleFBhdHRlcm5UeXBlcy5maW5kKChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnZhbHVlID09PSBuZXdJbnRlcnZhbCk7XG5cbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICBuZXdEYXRhYmFzZSA9IHBhdHRlcm4uZXhhbXBsZSA/PyAnJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBvbkNoYW5nZSh7XG4gICAgICAgIC4uLnZhbHVlLFxuICAgICAgICBkYXRhYmFzZTogbmV3RGF0YWJhc2UsXG4gICAgICAgIGpzb25EYXRhOiB7XG4gICAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgICAgaW50ZXJ2YWw6IG5ld0ludGVydmFsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgLi4udmFsdWUsXG4gICAgICAgIGpzb25EYXRhOiB7XG4gICAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgICAgaW50ZXJ2YWw6IG5ld0ludGVydmFsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG5mdW5jdGlvbiBnZXRNYXhDb25jdXJyZW5TaGFyZFJlcXVlc3RPckRlZmF1bHQobWF4Q29uY3VycmVudFNoYXJkUmVxdWVzdHM6IG51bWJlciB8IHVuZGVmaW5lZCwgdmVyc2lvbjogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKG1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzID09PSA1ICYmIGx0KHZlcnNpb24sICc3LjAuMCcpKSB7XG4gICAgcmV0dXJuIDI1NjtcbiAgfVxuXG4gIGlmIChtYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyA9PT0gMjU2ICYmIGd0ZSh2ZXJzaW9uLCAnNy4wLjAnKSkge1xuICAgIHJldHVybiA1O1xuICB9XG5cbiAgcmV0dXJuIG1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzIHx8IGRlZmF1bHRNYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyh2ZXJzaW9uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyh2ZXJzaW9uOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGd0ZSh2ZXJzaW9uLCAnNy4wLjAnKSA/IDUgOiAyNTY7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCwgSW5saW5lRmllbGQsIEZpZWxkU2V0IH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxudHlwZSBQcm9wcyA9IHtcbiAgdmFsdWU6IEVsYXN0aWNzZWFyY2hPcHRpb25zO1xuICBvbkNoYW5nZTogKHZhbHVlOiBFbGFzdGljc2VhcmNoT3B0aW9ucykgPT4gdm9pZDtcbn07XG5leHBvcnQgY29uc3QgTG9nc0NvbmZpZyA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgeyB2YWx1ZSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuICBjb25zdCBjaGFuZ2VIYW5kbGVyID1cbiAgICAoa2V5OiBrZXlvZiBFbGFzdGljc2VhcmNoT3B0aW9ucykgPT4gKGV2ZW50OiBSZWFjdC5TeW50aGV0aWNFdmVudDxIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFNlbGVjdEVsZW1lbnQ+KSA9PiB7XG4gICAgICBvbkNoYW5nZSh7XG4gICAgICAgIC4uLnZhbHVlLFxuICAgICAgICBba2V5XTogZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RmllbGRTZXQgbGFiZWw9XCJMb2dzXCI+XG4gICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJNZXNzYWdlIGZpZWxkIG5hbWVcIiBsYWJlbFdpZHRoPXsyMn0+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIGlkPVwiZXNfbG9ncy1jb25maWdfbG9nTWVzc2FnZUZpZWxkXCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWUubG9nTWVzc2FnZUZpZWxkfVxuICAgICAgICAgIG9uQ2hhbmdlPXtjaGFuZ2VIYW5kbGVyKCdsb2dNZXNzYWdlRmllbGQnKX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIl9zb3VyY2VcIlxuICAgICAgICAgIHdpZHRoPXsyNH1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIkxldmVsIGZpZWxkIG5hbWVcIiBsYWJlbFdpZHRoPXsyMn0+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIGlkPVwiZXNfbG9ncy1jb25maWdfbG9nTGV2ZWxGaWVsZFwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlLmxvZ0xldmVsRmllbGR9XG4gICAgICAgICAgb25DaGFuZ2U9e2NoYW5nZUhhbmRsZXIoJ2xvZ0xldmVsRmllbGQnKX1cbiAgICAgICAgICB3aWR0aD17MjR9XG4gICAgICAgIC8+XG4gICAgICA8L0lubGluZUZpZWxkPlxuICAgIDwvRmllbGRTZXQ+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgdmFsaWQgfSBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQgeyBEYXRhU291cmNlU2V0dGluZ3MgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuaW1wb3J0IHsgRWxhc3RpY3NlYXJjaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBjb2VyY2VFU1ZlcnNpb24gfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IGRlZmF1bHRNYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyB9IGZyb20gJy4vRWxhc3RpY0RldGFpbHMnO1xuXG5leHBvcnQgY29uc3QgY29lcmNlT3B0aW9ucyA9IChcbiAgb3B0aW9uczogRGF0YVNvdXJjZVNldHRpbmdzPEVsYXN0aWNzZWFyY2hPcHRpb25zLCB7fT5cbik6IERhdGFTb3VyY2VTZXR0aW5nczxFbGFzdGljc2VhcmNoT3B0aW9ucywge30+ID0+IHtcbiAgY29uc3QgZXNWZXJzaW9uID0gY29lcmNlRVNWZXJzaW9uKG9wdGlvbnMuanNvbkRhdGEuZXNWZXJzaW9uKTtcblxuICByZXR1cm4ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAganNvbkRhdGE6IHtcbiAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEsXG4gICAgICB0aW1lRmllbGQ6IG9wdGlvbnMuanNvbkRhdGEudGltZUZpZWxkIHx8ICdAdGltZXN0YW1wJyxcbiAgICAgIGVzVmVyc2lvbixcbiAgICAgIG1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzOlxuICAgICAgICBvcHRpb25zLmpzb25EYXRhLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzIHx8IGRlZmF1bHRNYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyhlc1ZlcnNpb24pLFxuICAgICAgbG9nTWVzc2FnZUZpZWxkOiBvcHRpb25zLmpzb25EYXRhLmxvZ01lc3NhZ2VGaWVsZCB8fCAnJyxcbiAgICAgIGxvZ0xldmVsRmllbGQ6IG9wdGlvbnMuanNvbkRhdGEubG9nTGV2ZWxGaWVsZCB8fCAnJyxcbiAgICAgIGluY2x1ZGVGcm96ZW46IG9wdGlvbnMuanNvbkRhdGEuaW5jbHVkZUZyb3plbiA/PyBmYWxzZSxcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVmFsaWRPcHRpb25zID0gKG9wdGlvbnM6IERhdGFTb3VyY2VTZXR0aW5nczxFbGFzdGljc2VhcmNoT3B0aW9ucywge30+KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAoXG4gICAgLy8gZXNWZXJzaW9uIHNob3VsZCBiZSBhIHZhbGlkIHNlbXZlciBzdHJpbmdcbiAgICAhIXZhbGlkKG9wdGlvbnMuanNvbkRhdGEuZXNWZXJzaW9uKSAmJlxuICAgIC8vIHRpbWVGaWVsZCBzaG91bGQgbm90IGJlIGVtcHR5IG9yIG51bGxpc2hcbiAgICAhIW9wdGlvbnMuanNvbkRhdGEudGltZUZpZWxkICYmXG4gICAgLy8gbWF4Q29uY3VycmVudFNoYXJkUmVxdWVzdHMgc2hvdWxkIGJlIGEgbnVtYmVyIEFORCBncmVhdGVyIHRoYW4gMFxuICAgICEhb3B0aW9ucy5qc29uRGF0YS5tYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cyAmJlxuICAgIC8vIG1lc3NhZ2UgJiBsZXZlbCBmaWVsZHMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICBvcHRpb25zLmpzb25EYXRhLmxvZ01lc3NhZ2VGaWVsZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgb3B0aW9ucy5qc29uRGF0YS5sb2dMZXZlbEZpZWxkICE9PSB1bmRlZmluZWRcbiAgKTtcbn07XG5cbnR5cGUgVHJ1dGh5PFQ+ID0gVCBleHRlbmRzIGZhbHNlIHwgJycgfCAwIHwgbnVsbCB8IHVuZGVmaW5lZCA/IG5ldmVyIDogVDtcblxuZXhwb3J0IGNvbnN0IGlzVHJ1dGh5ID0gPFQ+KHZhbHVlOiBUKTogdmFsdWUgaXMgVHJ1dGh5PFQ+ID0+IEJvb2xlYW4odmFsdWUpO1xuIiwiaW1wb3J0IHsgY2xvbmVEZWVwLCBmaW5kLCBmaXJzdCBhcyBfZmlyc3QsIGlzTnVtYmVyLCBpc09iamVjdCwgaXNTdHJpbmcsIG1hcCBhcyBfbWFwIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGdlbmVyYXRlLCBsYXN0VmFsdWVGcm9tLCBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciwgZmlyc3QsIG1hcCwgbWVyZ2VNYXAsIHNraXBXaGlsZSwgdGhyb3dJZkVtcHR5IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZ3RlLCBsdCwgc2F0aXNmaWVzIH0gZnJvbSAnc2VtdmVyJztcblxuaW1wb3J0IHtcbiAgRGF0YUZyYW1lLFxuICBEYXRhTGluayxcbiAgRGF0YVF1ZXJ5UmVxdWVzdCxcbiAgRGF0YVF1ZXJ5UmVzcG9uc2UsXG4gIERhdGFTb3VyY2VBcGksXG4gIERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzLFxuICBEYXRhU291cmNlV2l0aExvZ3NDb250ZXh0U3VwcG9ydCxcbiAgRGF0YVNvdXJjZVdpdGhRdWVyeUltcG9ydFN1cHBvcnQsXG4gIERhdGFTb3VyY2VXaXRoTG9nc1ZvbHVtZVN1cHBvcnQsXG4gIERhdGVUaW1lLFxuICBkYXRlVGltZSxcbiAgRmllbGQsXG4gIGdldERlZmF1bHRUaW1lUmFuZ2UsXG4gIEFic3RyYWN0UXVlcnksXG4gIGdldExvZ0xldmVsRnJvbUtleSxcbiAgTG9nTGV2ZWwsXG4gIExvZ1Jvd01vZGVsLFxuICBNZXRyaWNGaW5kVmFsdWUsXG4gIFNjb3BlZFZhcnMsXG4gIFRpbWVSYW5nZSxcbiAgdG9VdGMsXG59IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgQmFja2VuZFNydlJlcXVlc3QsIGdldEJhY2tlbmRTcnYsIGdldERhdGFTb3VyY2VTcnYgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IFJvd0NvbnRleHRPcHRpb25zIH0gZnJvbSAnQGdyYWZhbmEvdWkvc3JjL2NvbXBvbmVudHMvTG9ncy9Mb2dSb3dDb250ZXh0UHJvdmlkZXInO1xuaW1wb3J0IHsgcXVlcnlMb2dzVm9sdW1lIH0gZnJvbSAnYXBwL2NvcmUvbG9nc19tb2RlbCc7XG5pbXBvcnQgeyBnZXRUZW1wbGF0ZVNydiwgVGVtcGxhdGVTcnYgfSBmcm9tICdhcHAvZmVhdHVyZXMvdGVtcGxhdGluZy90ZW1wbGF0ZV9zcnYnO1xuXG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoQW5ub3RhdGlvbnNRdWVyeUVkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9Bbm5vdGF0aW9uUXVlcnlFZGl0b3InO1xuaW1wb3J0IHtcbiAgQnVja2V0QWdncmVnYXRpb24sXG4gIGlzQnVja2V0QWdncmVnYXRpb25XaXRoRmllbGQsXG59IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcbmltcG9ydCB7IGJ1Y2tldEFnZ3JlZ2F0aW9uQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci91dGlscyc7XG5pbXBvcnQge1xuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkLFxuICBpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyxcbiAgTG9ncyxcbn0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgbWV0cmljQWdncmVnYXRpb25Db25maWcgfSBmcm9tICcuL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL3V0aWxzJztcbmltcG9ydCB7IEVsYXN0aWNSZXNwb25zZSB9IGZyb20gJy4vZWxhc3RpY19yZXNwb25zZSc7XG5pbXBvcnQgeyBJbmRleFBhdHRlcm4gfSBmcm9tICcuL2luZGV4X3BhdHRlcm4nO1xuaW1wb3J0IExhbmd1YWdlUHJvdmlkZXIgZnJvbSAnLi9sYW5ndWFnZV9wcm92aWRlcic7XG5pbXBvcnQgeyBFbGFzdGljUXVlcnlCdWlsZGVyIH0gZnJvbSAnLi9xdWVyeV9idWlsZGVyJztcbmltcG9ydCB7IGRlZmF1bHRCdWNrZXRBZ2csIGhhc01ldHJpY09mVHlwZSB9IGZyb20gJy4vcXVlcnlfZGVmJztcbmltcG9ydCB7IERhdGFMaW5rQ29uZmlnLCBFbGFzdGljc2VhcmNoT3B0aW9ucywgRWxhc3RpY3NlYXJjaFF1ZXJ5LCBUZXJtc1F1ZXJ5IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBjb2VyY2VFU1ZlcnNpb24sIGdldFNjcmlwdFZhbHVlLCBpc1N1cHBvcnRlZFZlcnNpb24gfSBmcm9tICcuL3V0aWxzJztcblxuLy8gVGhvc2UgYXJlIG1ldGFkYXRhIGZpZWxkcyBhcyBkZWZpbmVkIGluIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvY3VycmVudC9tYXBwaW5nLWZpZWxkcy5odG1sI19pZGVudGl0eV9tZXRhZGF0YV9maWVsZHMuXG4vLyBjdXN0b20gZmllbGRzIGNhbiBzdGFydCB3aXRoIHVuZGVyc2NvcmVzLCB0aGVyZWZvcmUgaXMgbm90IHNhZmUgdG8gZXhjbHVkZSBhbnl0aGluZyB0aGF0IHN0YXJ0cyB3aXRoIG9uZS5cbmNvbnN0IEVMQVNUSUNfTUVUQV9GSUVMRFMgPSBbXG4gICdfaW5kZXgnLFxuICAnX3R5cGUnLFxuICAnX2lkJyxcbiAgJ19zb3VyY2UnLFxuICAnX3NpemUnLFxuICAnX2ZpZWxkX25hbWVzJyxcbiAgJ19pZ25vcmVkJyxcbiAgJ19yb3V0aW5nJyxcbiAgJ19tZXRhJyxcbl07XG5cbmV4cG9ydCBjbGFzcyBFbGFzdGljRGF0YXNvdXJjZVxuICBleHRlbmRzIERhdGFTb3VyY2VBcGk8RWxhc3RpY3NlYXJjaFF1ZXJ5LCBFbGFzdGljc2VhcmNoT3B0aW9ucz5cbiAgaW1wbGVtZW50c1xuICAgIERhdGFTb3VyY2VXaXRoTG9nc0NvbnRleHRTdXBwb3J0LFxuICAgIERhdGFTb3VyY2VXaXRoUXVlcnlJbXBvcnRTdXBwb3J0PEVsYXN0aWNzZWFyY2hRdWVyeT4sXG4gICAgRGF0YVNvdXJjZVdpdGhMb2dzVm9sdW1lU3VwcG9ydDxFbGFzdGljc2VhcmNoUXVlcnk+XG57XG4gIGJhc2ljQXV0aD86IHN0cmluZztcbiAgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcbiAgdXJsOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaW5kZXg6IHN0cmluZztcbiAgdGltZUZpZWxkOiBzdHJpbmc7XG4gIGVzVmVyc2lvbjogc3RyaW5nO1xuICB4cGFjazogYm9vbGVhbjtcbiAgaW50ZXJ2YWw6IHN0cmluZztcbiAgbWF4Q29uY3VycmVudFNoYXJkUmVxdWVzdHM/OiBudW1iZXI7XG4gIHF1ZXJ5QnVpbGRlcjogRWxhc3RpY1F1ZXJ5QnVpbGRlcjtcbiAgaW5kZXhQYXR0ZXJuOiBJbmRleFBhdHRlcm47XG4gIGxvZ01lc3NhZ2VGaWVsZD86IHN0cmluZztcbiAgbG9nTGV2ZWxGaWVsZD86IHN0cmluZztcbiAgZGF0YUxpbmtzOiBEYXRhTGlua0NvbmZpZ1tdO1xuICBsYW5ndWFnZVByb3ZpZGVyOiBMYW5ndWFnZVByb3ZpZGVyO1xuICBpbmNsdWRlRnJvemVuOiBib29sZWFuO1xuICBpc1Byb3h5QWNjZXNzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGluc3RhbmNlU2V0dGluZ3M6IERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzPEVsYXN0aWNzZWFyY2hPcHRpb25zPixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRlbXBsYXRlU3J2OiBUZW1wbGF0ZVNydiA9IGdldFRlbXBsYXRlU3J2KClcbiAgKSB7XG4gICAgc3VwZXIoaW5zdGFuY2VTZXR0aW5ncyk7XG4gICAgdGhpcy5iYXNpY0F1dGggPSBpbnN0YW5jZVNldHRpbmdzLmJhc2ljQXV0aDtcbiAgICB0aGlzLndpdGhDcmVkZW50aWFscyA9IGluc3RhbmNlU2V0dGluZ3Mud2l0aENyZWRlbnRpYWxzO1xuICAgIHRoaXMudXJsID0gaW5zdGFuY2VTZXR0aW5ncy51cmwhO1xuICAgIHRoaXMubmFtZSA9IGluc3RhbmNlU2V0dGluZ3MubmFtZTtcbiAgICB0aGlzLmluZGV4ID0gaW5zdGFuY2VTZXR0aW5ncy5kYXRhYmFzZSA/PyAnJztcbiAgICB0aGlzLmlzUHJveHlBY2Nlc3MgPSBpbnN0YW5jZVNldHRpbmdzLmFjY2VzcyA9PT0gJ3Byb3h5JztcbiAgICBjb25zdCBzZXR0aW5nc0RhdGEgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhIHx8ICh7fSBhcyBFbGFzdGljc2VhcmNoT3B0aW9ucyk7XG5cbiAgICB0aGlzLnRpbWVGaWVsZCA9IHNldHRpbmdzRGF0YS50aW1lRmllbGQ7XG4gICAgdGhpcy5lc1ZlcnNpb24gPSBjb2VyY2VFU1ZlcnNpb24oc2V0dGluZ3NEYXRhLmVzVmVyc2lvbik7XG4gICAgdGhpcy54cGFjayA9IEJvb2xlYW4oc2V0dGluZ3NEYXRhLnhwYWNrKTtcbiAgICB0aGlzLmluZGV4UGF0dGVybiA9IG5ldyBJbmRleFBhdHRlcm4odGhpcy5pbmRleCwgc2V0dGluZ3NEYXRhLmludGVydmFsKTtcbiAgICB0aGlzLmludGVydmFsID0gc2V0dGluZ3NEYXRhLnRpbWVJbnRlcnZhbDtcbiAgICB0aGlzLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzID0gc2V0dGluZ3NEYXRhLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzO1xuICAgIHRoaXMucXVlcnlCdWlsZGVyID0gbmV3IEVsYXN0aWNRdWVyeUJ1aWxkZXIoe1xuICAgICAgdGltZUZpZWxkOiB0aGlzLnRpbWVGaWVsZCxcbiAgICAgIGVzVmVyc2lvbjogdGhpcy5lc1ZlcnNpb24sXG4gICAgfSk7XG4gICAgdGhpcy5sb2dNZXNzYWdlRmllbGQgPSBzZXR0aW5nc0RhdGEubG9nTWVzc2FnZUZpZWxkIHx8ICcnO1xuICAgIHRoaXMubG9nTGV2ZWxGaWVsZCA9IHNldHRpbmdzRGF0YS5sb2dMZXZlbEZpZWxkIHx8ICcnO1xuICAgIHRoaXMuZGF0YUxpbmtzID0gc2V0dGluZ3NEYXRhLmRhdGFMaW5rcyB8fCBbXTtcbiAgICB0aGlzLmluY2x1ZGVGcm96ZW4gPSBzZXR0aW5nc0RhdGEuaW5jbHVkZUZyb3plbiA/PyBmYWxzZTtcbiAgICB0aGlzLmFubm90YXRpb25zID0ge1xuICAgICAgUXVlcnlFZGl0b3I6IEVsYXN0aWNzZWFyY2hBbm5vdGF0aW9uc1F1ZXJ5RWRpdG9yLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5sb2dNZXNzYWdlRmllbGQgPT09ICcnKSB7XG4gICAgICB0aGlzLmxvZ01lc3NhZ2VGaWVsZCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2dMZXZlbEZpZWxkID09PSAnJykge1xuICAgICAgdGhpcy5sb2dMZXZlbEZpZWxkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLmxhbmd1YWdlUHJvdmlkZXIgPSBuZXcgTGFuZ3VhZ2VQcm92aWRlcih0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVxdWVzdChcbiAgICBtZXRob2Q6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogdW5kZWZpbmVkLFxuICAgIGhlYWRlcnM/OiBCYWNrZW5kU3J2UmVxdWVzdFsnaGVhZGVycyddXG4gICk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgaWYgKCF0aGlzLmlzUHJveHlBY2Nlc3MpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnQnJvd3NlciBhY2Nlc3MgbW9kZSBpbiB0aGUgRWxhc3RpY3NlYXJjaCBkYXRhc291cmNlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUuIFN3aXRjaCB0byBzZXJ2ZXIgYWNjZXNzIG1vZGUuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzU3VwcG9ydGVkVmVyc2lvbih0aGlzLmVzVmVyc2lvbikpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnU3VwcG9ydCBmb3IgRWxhc3RpY3NlYXJjaCB2ZXJzaW9ucyBhZnRlciB0aGVpciBlbmQtb2YtbGlmZSAoY3VycmVudGx5IHZlcnNpb25zIDwgNy4xMCkgd2FzIHJlbW92ZWQuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IGVycm9yKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zOiBCYWNrZW5kU3J2UmVxdWVzdCA9IHtcbiAgICAgIHVybDogdGhpcy51cmwgKyAnLycgKyB1cmwsXG4gICAgICBtZXRob2QsXG4gICAgICBkYXRhLFxuICAgICAgaGVhZGVycyxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYmFzaWNBdXRoIHx8IHRoaXMud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICBvcHRpb25zLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmJhc2ljQXV0aCkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLmJhc2ljQXV0aCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldEJhY2tlbmRTcnYoKVxuICAgICAgLmZldGNoPGFueT4ob3B0aW9ucylcbiAgICAgIC5waXBlKFxuICAgICAgICBtYXAoKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICByZXN1bHRzLmRhdGEuJCRjb25maWcgPSByZXN1bHRzLmNvbmZpZztcbiAgICAgICAgICByZXR1cm4gcmVzdWx0cy5kYXRhO1xuICAgICAgICB9KSxcbiAgICAgICAgY2F0Y2hFcnJvcigoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVyci5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZXJyLmRhdGEuZXJyb3I/LnJlYXNvbiA/PyBlcnIuZGF0YS5tZXNzYWdlID8/ICdVbmtub3duIGVycm9yJztcblxuICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAnRWxhc3RpY3NlYXJjaCBlcnJvcjogJyArIG1lc3NhZ2UsXG4gICAgICAgICAgICAgIGVycm9yOiBlcnIuZGF0YS5lcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVycik7XG4gICAgICAgIH0pXG4gICAgICApO1xuICB9XG5cbiAgYXN5bmMgaW1wb3J0RnJvbUFic3RyYWN0UXVlcmllcyhhYnN0cmFjdFF1ZXJpZXM6IEFic3RyYWN0UXVlcnlbXSk6IFByb21pc2U8RWxhc3RpY3NlYXJjaFF1ZXJ5W10+IHtcbiAgICByZXR1cm4gYWJzdHJhY3RRdWVyaWVzLm1hcCgoYWJzdHJhY3RRdWVyeSkgPT4gdGhpcy5sYW5ndWFnZVByb3ZpZGVyLmltcG9ydEZyb21BYnN0cmFjdFF1ZXJ5KGFic3RyYWN0UXVlcnkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIEdFVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgdXJsIG9uIHRoZSBuZXdlc3QgbWF0Y2hpbmcgYW5kIGF2YWlsYWJsZSBpbmRleC5cbiAgICpcbiAgICogV2hlbiBtdWx0aXBsZSBpbmRpY2VzIHNwYW4gdGhlIHByb3ZpZGVkIHRpbWUgcmFuZ2UsIHRoZSByZXF1ZXN0IGlzIHNlbnQgc3RhcnRpbmcgZnJvbSB0aGUgbmV3ZXN0IGluZGV4LFxuICAgKiBhbmQgdGhlbiBnb2luZyBiYWNrd2FyZHMgdW50aWwgYW4gaW5kZXggaXMgZm91bmQuXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgdGhlIHVybCB0byBxdWVyeSB0aGUgaW5kZXggb24sIGZvciBleGFtcGxlIGAvX21hcHBpbmdgLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXQodXJsOiBzdHJpbmcsIHJhbmdlID0gZ2V0RGVmYXVsdFRpbWVSYW5nZSgpKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICBsZXQgaW5kZXhMaXN0ID0gdGhpcy5pbmRleFBhdHRlcm4uZ2V0SW5kZXhMaXN0KHJhbmdlLmZyb20sIHJhbmdlLnRvKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5kZXhMaXN0KSkge1xuICAgICAgaW5kZXhMaXN0ID0gW3RoaXMuaW5kZXhQYXR0ZXJuLmdldEluZGV4Rm9yVG9kYXkoKV07XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhVcmxMaXN0ID0gaW5kZXhMaXN0Lm1hcCgoaW5kZXgpID0+IGluZGV4ICsgdXJsKTtcblxuICAgIHJldHVybiB0aGlzLnJlcXVlc3RBbGxJbmRpY2VzKGluZGV4VXJsTGlzdCk7XG4gIH1cblxuICBwcml2YXRlIHJlcXVlc3RBbGxJbmRpY2VzKGluZGV4TGlzdDogc3RyaW5nW10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIGNvbnN0IG1heFRyYXZlcnNhbHMgPSA3OyAvLyBkbyBub3QgZ28gYmV5b25kIG9uZSB3ZWVrIChmb3IgYSBkYWlseSBwYXR0ZXJuKVxuICAgIGNvbnN0IGxpc3RMZW4gPSBpbmRleExpc3QubGVuZ3RoO1xuXG4gICAgcmV0dXJuIGdlbmVyYXRlKHtcbiAgICAgIGluaXRpYWxTdGF0ZTogMCxcbiAgICAgIGNvbmRpdGlvbjogKGkpID0+IGkgPCBNYXRoLm1pbihsaXN0TGVuLCBtYXhUcmF2ZXJzYWxzKSxcbiAgICAgIGl0ZXJhdGU6IChpKSA9PiBpICsgMSxcbiAgICB9KS5waXBlKFxuICAgICAgbWVyZ2VNYXAoKGluZGV4KSA9PiB7XG4gICAgICAgIC8vIGNhdGNoIGFsbCBlcnJvcnMgYW5kIGVtaXQgYW4gb2JqZWN0IHdpdGggYW4gZXJyIHByb3BlcnR5IHRvIHNpbXBsaWZ5IGNoZWNrcyBsYXRlciBpbiB0aGUgcGlwZWxpbmVcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnR0VUJywgaW5kZXhMaXN0W2xpc3RMZW4gLSBpbmRleCAtIDFdKS5waXBlKGNhdGNoRXJyb3IoKGVycikgPT4gb2YoeyBlcnIgfSkpKTtcbiAgICAgIH0pLFxuICAgICAgc2tpcFdoaWxlKChyZXNwKSA9PiByZXNwPy5lcnI/LnN0YXR1cyA9PT0gNDA0KSwgLy8gc2tpcCBhbGwgcmVxdWVzdHMgdGhhdCBmYWlsIGJlY2F1c2UgbWlzc2luZyBFbGFzdGljIGluZGV4XG4gICAgICB0aHJvd0lmRW1wdHkoKCkgPT4gJ0NvdWxkIG5vdCBmaW5kIGFuIGF2YWlsYWJsZSBpbmRleCBmb3IgdGhpcyB0aW1lIHJhbmdlLicpLCAvLyB3aGVuIGkgPT09IE1hdGgubWluKGxpc3RMZW4sIG1heFRyYXZlcnNhbHMpIGdlbmVyYXRlIHdpbGwgY29tcGxldGUgYnV0IHdpdGhvdXQgZW1pdHRpbmcgYW55IHZhbHVlcyB3aGljaCBtZWFucyB3ZSBkaWRuJ3QgZmluZCBhIHZhbGlkIGluZGV4XG4gICAgICBmaXJzdCgpLCAvLyB0YWtlIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzbid0IHNraXBwZWRcbiAgICAgIG1hcCgocmVzcCkgPT4ge1xuICAgICAgICBpZiAocmVzcC5lcnIpIHtcbiAgICAgICAgICB0aHJvdyByZXNwLmVycjsgLy8gaWYgdGhlcmUgaXMgc29tZSBvdGhlciBlcnJvciBleGNlcHQgNDA0IHRoZW4gd2UgbXVzdCB0aHJvdyBpdFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3A7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHBvc3QodXJsOiBzdHJpbmcsIGRhdGE6IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnUE9TVCcsIHVybCwgZGF0YSwgeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtbmRqc29uJyB9KTtcbiAgfVxuXG4gIGFubm90YXRpb25RdWVyeShvcHRpb25zOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IGFubm90YXRpb24gPSBvcHRpb25zLmFubm90YXRpb247XG4gICAgY29uc3QgdGltZUZpZWxkID0gYW5ub3RhdGlvbi50aW1lRmllbGQgfHwgJ0B0aW1lc3RhbXAnO1xuICAgIGNvbnN0IHRpbWVFbmRGaWVsZCA9IGFubm90YXRpb24udGltZUVuZEZpZWxkIHx8IG51bGw7XG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBhbm5vdGF0aW9uLnF1ZXJ5O1xuICAgIGNvbnN0IHRhZ3NGaWVsZCA9IGFubm90YXRpb24udGFnc0ZpZWxkIHx8ICd0YWdzJztcbiAgICBjb25zdCB0ZXh0RmllbGQgPSBhbm5vdGF0aW9uLnRleHRGaWVsZCB8fCBudWxsO1xuXG4gICAgY29uc3QgZGF0ZVJhbmdlcyA9IFtdO1xuICAgIGNvbnN0IHJhbmdlU3RhcnQ6IGFueSA9IHt9O1xuICAgIHJhbmdlU3RhcnRbdGltZUZpZWxkXSA9IHtcbiAgICAgIGZyb206IG9wdGlvbnMucmFuZ2UuZnJvbS52YWx1ZU9mKCksXG4gICAgICB0bzogb3B0aW9ucy5yYW5nZS50by52YWx1ZU9mKCksXG4gICAgICBmb3JtYXQ6ICdlcG9jaF9taWxsaXMnLFxuICAgIH07XG4gICAgZGF0ZVJhbmdlcy5wdXNoKHsgcmFuZ2U6IHJhbmdlU3RhcnQgfSk7XG5cbiAgICBpZiAodGltZUVuZEZpZWxkKSB7XG4gICAgICBjb25zdCByYW5nZUVuZDogYW55ID0ge307XG4gICAgICByYW5nZUVuZFt0aW1lRW5kRmllbGRdID0ge1xuICAgICAgICBmcm9tOiBvcHRpb25zLnJhbmdlLmZyb20udmFsdWVPZigpLFxuICAgICAgICB0bzogb3B0aW9ucy5yYW5nZS50by52YWx1ZU9mKCksXG4gICAgICAgIGZvcm1hdDogJ2Vwb2NoX21pbGxpcycsXG4gICAgICB9O1xuICAgICAgZGF0ZVJhbmdlcy5wdXNoKHsgcmFuZ2U6IHJhbmdlRW5kIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5SW50ZXJwb2xhdGVkID0gdGhpcy5pbnRlcnBvbGF0ZUx1Y2VuZVF1ZXJ5KHF1ZXJ5U3RyaW5nKTtcbiAgICBjb25zdCBxdWVyeTogYW55ID0ge1xuICAgICAgYm9vbDoge1xuICAgICAgICBmaWx0ZXI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBib29sOiB7XG4gICAgICAgICAgICAgIHNob3VsZDogZGF0ZVJhbmdlcyxcbiAgICAgICAgICAgICAgbWluaW11bV9zaG91bGRfbWF0Y2g6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBpZiAocXVlcnlJbnRlcnBvbGF0ZWQpIHtcbiAgICAgIHF1ZXJ5LmJvb2wuZmlsdGVyLnB1c2goe1xuICAgICAgICBxdWVyeV9zdHJpbmc6IHtcbiAgICAgICAgICBxdWVyeTogcXVlcnlJbnRlcnBvbGF0ZWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZGF0YTogYW55ID0ge1xuICAgICAgcXVlcnksXG4gICAgICBzaXplOiAxMDAwMCxcbiAgICB9O1xuXG4gICAgLy8gZmllbGRzIGZpZWxkIG5vdCBzdXBwb3J0ZWQgb24gRVMgNS54XG4gICAgaWYgKGx0KHRoaXMuZXNWZXJzaW9uLCAnNS4wLjAnKSkge1xuICAgICAgZGF0YVsnZmllbGRzJ10gPSBbdGltZUZpZWxkLCAnX3NvdXJjZSddO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlcjogYW55ID0ge1xuICAgICAgc2VhcmNoX3R5cGU6ICdxdWVyeV90aGVuX2ZldGNoJyxcbiAgICAgIGlnbm9yZV91bmF2YWlsYWJsZTogdHJ1ZSxcbiAgICB9O1xuXG4gICAgLy8gb2xkIGVsYXN0aWMgYW5ub3RhdGlvbnMgaGFkIGluZGV4IHNwZWNpZmllZCBvbiB0aGVtXG4gICAgaWYgKGFubm90YXRpb24uaW5kZXgpIHtcbiAgICAgIGhlYWRlci5pbmRleCA9IGFubm90YXRpb24uaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlci5pbmRleCA9IHRoaXMuaW5kZXhQYXR0ZXJuLmdldEluZGV4TGlzdChvcHRpb25zLnJhbmdlLmZyb20sIG9wdGlvbnMucmFuZ2UudG8pO1xuICAgIH1cblxuICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnN0cmluZ2lmeShoZWFkZXIpICsgJ1xcbicgKyBKU09OLnN0cmluZ2lmeShkYXRhKSArICdcXG4nO1xuXG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICB0aGlzLnBvc3QoJ19tc2VhcmNoJywgcGF5bG9hZCkucGlwZShcbiAgICAgICAgbWFwKChyZXMpID0+IHtcbiAgICAgICAgICBjb25zdCBsaXN0ID0gW107XG4gICAgICAgICAgY29uc3QgaGl0cyA9IHJlcy5yZXNwb25zZXNbMF0uaGl0cy5oaXRzO1xuXG4gICAgICAgICAgY29uc3QgZ2V0RmllbGRGcm9tU291cmNlID0gKHNvdXJjZTogYW55LCBmaWVsZE5hbWU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaWVsZE5hbWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gZmllbGROYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBsZXQgZmllbGRWYWx1ZSA9IHNvdXJjZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBmaWVsZFZhbHVlW2ZpZWxkTmFtZXNbaV1dO1xuICAgICAgICAgICAgICBpZiAoIWZpZWxkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY291bGQgbm90IGZpbmQgZmllbGQgaW4gYW5ub3RhdGlvbjogJywgZmllbGROYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGl0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gaGl0c1tpXS5fc291cmNlO1xuICAgICAgICAgICAgbGV0IHRpbWUgPSBnZXRGaWVsZEZyb21Tb3VyY2Uoc291cmNlLCB0aW1lRmllbGQpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBoaXRzW2ldLmZpZWxkcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgY29uc3QgZmllbGRzID0gaGl0c1tpXS5maWVsZHM7XG4gICAgICAgICAgICAgIGlmIChpc1N0cmluZyhmaWVsZHNbdGltZUZpZWxkXSkgfHwgaXNOdW1iZXIoZmllbGRzW3RpbWVGaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgdGltZSA9IGZpZWxkc1t0aW1lRmllbGRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50OiB7XG4gICAgICAgICAgICAgIGFubm90YXRpb246IGFueTtcbiAgICAgICAgICAgICAgdGltZTogbnVtYmVyO1xuICAgICAgICAgICAgICB0aW1lRW5kPzogbnVtYmVyO1xuICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICAgIHRhZ3M6IHN0cmluZyB8IHN0cmluZ1tdO1xuICAgICAgICAgICAgfSA9IHtcbiAgICAgICAgICAgICAgYW5ub3RhdGlvbjogYW5ub3RhdGlvbixcbiAgICAgICAgICAgICAgdGltZTogdG9VdGModGltZSkudmFsdWVPZigpLFxuICAgICAgICAgICAgICB0ZXh0OiBnZXRGaWVsZEZyb21Tb3VyY2Uoc291cmNlLCB0ZXh0RmllbGQpLFxuICAgICAgICAgICAgICB0YWdzOiBnZXRGaWVsZEZyb21Tb3VyY2Uoc291cmNlLCB0YWdzRmllbGQpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRpbWVFbmRGaWVsZCkge1xuICAgICAgICAgICAgICBjb25zdCB0aW1lRW5kID0gZ2V0RmllbGRGcm9tU291cmNlKHNvdXJjZSwgdGltZUVuZEZpZWxkKTtcbiAgICAgICAgICAgICAgaWYgKHRpbWVFbmQpIHtcbiAgICAgICAgICAgICAgICBldmVudC50aW1lRW5kID0gdG9VdGModGltZUVuZCkudmFsdWVPZigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxlZ2FjeSBzdXBwb3J0IGZvciB0aXRsZSB0aWVsZFxuICAgICAgICAgICAgaWYgKGFubm90YXRpb24udGl0bGVGaWVsZCkge1xuICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGdldEZpZWxkRnJvbVNvdXJjZShzb3VyY2UsIGFubm90YXRpb24udGl0bGVGaWVsZCk7XG4gICAgICAgICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnRleHQgPSB0aXRsZSArICdcXG4nICsgZXZlbnQudGV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRhZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGV2ZW50LnRhZ3MgPSBldmVudC50YWdzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpc3QucHVzaChldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGludGVycG9sYXRlTHVjZW5lUXVlcnkocXVlcnlTdHJpbmc6IHN0cmluZywgc2NvcGVkVmFycz86IFNjb3BlZFZhcnMpIHtcbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHF1ZXJ5U3RyaW5nLCBzY29wZWRWYXJzLCAnbHVjZW5lJyk7XG4gIH1cblxuICBpbnRlcnBvbGF0ZVZhcmlhYmxlc0luUXVlcmllcyhxdWVyaWVzOiBFbGFzdGljc2VhcmNoUXVlcnlbXSwgc2NvcGVkVmFyczogU2NvcGVkVmFycyk6IEVsYXN0aWNzZWFyY2hRdWVyeVtdIHtcbiAgICAvLyBXZSBuZWVkIGEgc2VwYXJhdGUgaW50ZXJwb2xhdGlvbiBmb3JtYXQgZm9yIGx1Y2VuZSBxdWVyaWVzLCB0aGVyZWZvcmUgd2UgZmlyc3QgaW50ZXJwb2xhdGUgYW55XG4gICAgLy8gbHVjZW5lIHF1ZXJ5IHN0cmluZyBhbmQgdGhlbiBldmVyeXRoaW5nIGVsc2VcbiAgICBjb25zdCBpbnRlcnBvbGF0ZUJ1Y2tldEFnZyA9IChidWNrZXRBZ2c6IEJ1Y2tldEFnZ3JlZ2F0aW9uKTogQnVja2V0QWdncmVnYXRpb24gPT4ge1xuICAgICAgaWYgKGJ1Y2tldEFnZy50eXBlID09PSAnZmlsdGVycycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5idWNrZXRBZ2csXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIC4uLmJ1Y2tldEFnZy5zZXR0aW5ncyxcbiAgICAgICAgICAgIGZpbHRlcnM6IGJ1Y2tldEFnZy5zZXR0aW5ncz8uZmlsdGVycz8ubWFwKChmaWx0ZXIpID0+ICh7XG4gICAgICAgICAgICAgIC4uLmZpbHRlcixcbiAgICAgICAgICAgICAgcXVlcnk6IHRoaXMuaW50ZXJwb2xhdGVMdWNlbmVRdWVyeShmaWx0ZXIucXVlcnksIHNjb3BlZFZhcnMpIHx8ICcqJyxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVja2V0QWdnO1xuICAgIH07XG5cbiAgICBjb25zdCBleHBhbmRlZFF1ZXJpZXMgPSBxdWVyaWVzLm1hcChcbiAgICAgIChxdWVyeSk6IEVsYXN0aWNzZWFyY2hRdWVyeSA9PiAoe1xuICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgZGF0YXNvdXJjZTogdGhpcy5nZXRSZWYoKSxcbiAgICAgICAgcXVlcnk6IHRoaXMuaW50ZXJwb2xhdGVMdWNlbmVRdWVyeShxdWVyeS5xdWVyeSB8fCAnJywgc2NvcGVkVmFycyksXG4gICAgICAgIGJ1Y2tldEFnZ3M6IHF1ZXJ5LmJ1Y2tldEFnZ3M/Lm1hcChpbnRlcnBvbGF0ZUJ1Y2tldEFnZyksXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBjb25zdCBmaW5hbFF1ZXJpZXM6IEVsYXN0aWNzZWFyY2hRdWVyeVtdID0gSlNPTi5wYXJzZShcbiAgICAgIHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShKU09OLnN0cmluZ2lmeShleHBhbmRlZFF1ZXJpZXMpLCBzY29wZWRWYXJzKVxuICAgICk7XG5cbiAgICByZXR1cm4gZmluYWxRdWVyaWVzO1xuICB9XG5cbiAgdGVzdERhdGFzb3VyY2UoKSB7XG4gICAgLy8gdmFsaWRhdGUgdGhhdCB0aGUgaW5kZXggZXhpc3QgYW5kIGhhcyBkYXRlIGZpZWxkXG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICB0aGlzLmdldEZpZWxkcyhbJ2RhdGUnXSkucGlwZShcbiAgICAgICAgbWVyZ2VNYXAoKGRhdGVGaWVsZHMpID0+IHtcbiAgICAgICAgICBjb25zdCB0aW1lRmllbGQ6IGFueSA9IGZpbmQoZGF0ZUZpZWxkcywgeyB0ZXh0OiB0aGlzLnRpbWVGaWVsZCB9KTtcbiAgICAgICAgICBpZiAoIXRpbWVGaWVsZCkge1xuICAgICAgICAgICAgcmV0dXJuIG9mKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAnTm8gZGF0ZSBmaWVsZCBuYW1lZCAnICsgdGhpcy50aW1lRmllbGQgKyAnIGZvdW5kJyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG9mKHsgc3RhdHVzOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICdJbmRleCBPSy4gVGltZSBmaWVsZCBuYW1lIE9LLicgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBjYXRjaEVycm9yKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgaWYgKGVyci5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2YoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2YoeyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6IGVyci5zdGF0dXMgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBnZXRRdWVyeUhlYWRlcihzZWFyY2hUeXBlOiBhbnksIHRpbWVGcm9tPzogRGF0ZVRpbWUsIHRpbWVUbz86IERhdGVUaW1lKTogc3RyaW5nIHtcbiAgICBjb25zdCBxdWVyeUhlYWRlcjogYW55ID0ge1xuICAgICAgc2VhcmNoX3R5cGU6IHNlYXJjaFR5cGUsXG4gICAgICBpZ25vcmVfdW5hdmFpbGFibGU6IHRydWUsXG4gICAgICBpbmRleDogdGhpcy5pbmRleFBhdHRlcm4uZ2V0SW5kZXhMaXN0KHRpbWVGcm9tLCB0aW1lVG8pLFxuICAgIH07XG5cbiAgICBpZiAoc2F0aXNmaWVzKHRoaXMuZXNWZXJzaW9uLCAnPj01LjYuMCA8Ny4wLjAnKSkge1xuICAgICAgcXVlcnlIZWFkZXJbJ21heF9jb25jdXJyZW50X3NoYXJkX3JlcXVlc3RzJ10gPSB0aGlzLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzO1xuICAgIH1cblxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShxdWVyeUhlYWRlcik7XG4gIH1cblxuICBnZXRRdWVyeURpc3BsYXlUZXh0KHF1ZXJ5OiBFbGFzdGljc2VhcmNoUXVlcnkpIHtcbiAgICAvLyBUT0RPOiBUaGlzIG1pZ2h0IGJlIHJlZmFjdG9yZWQgYSBiaXQuXG4gICAgY29uc3QgbWV0cmljQWdncyA9IHF1ZXJ5Lm1ldHJpY3M7XG4gICAgY29uc3QgYnVja2V0QWdncyA9IHF1ZXJ5LmJ1Y2tldEFnZ3M7XG4gICAgbGV0IHRleHQgPSAnJztcblxuICAgIGlmIChxdWVyeS5xdWVyeSkge1xuICAgICAgdGV4dCArPSAnUXVlcnk6ICcgKyBxdWVyeS5xdWVyeSArICcsICc7XG4gICAgfVxuXG4gICAgdGV4dCArPSAnTWV0cmljczogJztcblxuICAgIHRleHQgKz0gbWV0cmljQWdncz8ucmVkdWNlKChhY2MsIG1ldHJpYykgPT4ge1xuICAgICAgY29uc3QgbWV0cmljQ29uZmlnID0gbWV0cmljQWdncmVnYXRpb25Db25maWdbbWV0cmljLnR5cGVdO1xuXG4gICAgICBsZXQgdGV4dCA9IG1ldHJpY0NvbmZpZy5sYWJlbCArICcoJztcblxuICAgICAgaWYgKGlzTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQobWV0cmljKSkge1xuICAgICAgICB0ZXh0ICs9IG1ldHJpYy5maWVsZDtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyhtZXRyaWMpKSB7XG4gICAgICAgIHRleHQgKz0gZ2V0U2NyaXB0VmFsdWUobWV0cmljKS5yZXBsYWNlKG5ldyBSZWdFeHAoJ3BhcmFtcy4nLCAnZycpLCAnJyk7XG4gICAgICB9XG4gICAgICB0ZXh0ICs9ICcpLCAnO1xuXG4gICAgICByZXR1cm4gYCR7YWNjfSAke3RleHR9YDtcbiAgICB9LCAnJyk7XG5cbiAgICB0ZXh0ICs9IGJ1Y2tldEFnZ3M/LnJlZHVjZSgoYWNjLCBidWNrZXRBZ2csIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBidWNrZXRDb25maWcgPSBidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZ1tidWNrZXRBZ2cudHlwZV07XG5cbiAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgdGV4dCArPSAnIEdyb3VwIGJ5OiAnO1xuICAgICAgfVxuXG4gICAgICB0ZXh0ICs9IGJ1Y2tldENvbmZpZy5sYWJlbCArICcoJztcbiAgICAgIGlmIChpc0J1Y2tldEFnZ3JlZ2F0aW9uV2l0aEZpZWxkKGJ1Y2tldEFnZykpIHtcbiAgICAgICAgdGV4dCArPSBidWNrZXRBZ2cuZmllbGQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHthY2N9ICR7dGV4dH0pLCBgO1xuICAgIH0sICcnKTtcblxuICAgIGlmIChxdWVyeS5hbGlhcykge1xuICAgICAgdGV4dCArPSAnQWxpYXM6ICcgKyBxdWVyeS5hbGlhcztcbiAgICB9XG5cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBjaGVja3MgdG8gZW5zdXJlIHRoZSB1c2VyIGlzIHJ1bm5pbmcgYSA1LjArIGNsdXN0ZXIuIFRoaXMgaXNcbiAgICogbmVjZXNzYXJ5IGJhY2F1c2UgdGhlIHF1ZXJ5IGJlaW5nIHVzZWQgZm9yIHRoZSBnZXRMb2dSb3dDb250ZXh0IHJlbGllcyBvbiB0aGVcbiAgICogc2VhcmNoX2FmdGVyIGZlYXR1cmUuXG4gICAqL1xuICBzaG93Q29udGV4dFRvZ2dsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZ3RlKHRoaXMuZXNWZXJzaW9uLCAnNS4wLjAnKTtcbiAgfVxuXG4gIGdldExvZ1Jvd0NvbnRleHQgPSBhc3luYyAocm93OiBMb2dSb3dNb2RlbCwgb3B0aW9ucz86IFJvd0NvbnRleHRPcHRpb25zKTogUHJvbWlzZTx7IGRhdGE6IERhdGFGcmFtZVtdIH0+ID0+IHtcbiAgICBjb25zdCBzb3J0RmllbGQgPSByb3cuZGF0YUZyYW1lLmZpZWxkcy5maW5kKChmKSA9PiBmLm5hbWUgPT09ICdzb3J0Jyk7XG4gICAgY29uc3Qgc2VhcmNoQWZ0ZXIgPSBzb3J0RmllbGQ/LnZhbHVlcy5nZXQocm93LnJvd0luZGV4KSB8fCBbcm93LnRpbWVFcG9jaE1zXTtcbiAgICBjb25zdCBzb3J0ID0gb3B0aW9ucz8uZGlyZWN0aW9uID09PSAnRk9SV0FSRCcgPyAnYXNjJyA6ICdkZXNjJztcblxuICAgIGNvbnN0IGhlYWRlciA9XG4gICAgICBvcHRpb25zPy5kaXJlY3Rpb24gPT09ICdGT1JXQVJEJ1xuICAgICAgICA/IHRoaXMuZ2V0UXVlcnlIZWFkZXIoJ3F1ZXJ5X3RoZW5fZmV0Y2gnLCBkYXRlVGltZShyb3cudGltZUVwb2NoTXMpKVxuICAgICAgICA6IHRoaXMuZ2V0UXVlcnlIZWFkZXIoJ3F1ZXJ5X3RoZW5fZmV0Y2gnLCB1bmRlZmluZWQsIGRhdGVUaW1lKHJvdy50aW1lRXBvY2hNcykpO1xuXG4gICAgY29uc3QgbGltaXQgPSBvcHRpb25zPy5saW1pdCA/PyAxMDtcbiAgICBjb25zdCBlc1F1ZXJ5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgc2l6ZTogbGltaXQsXG4gICAgICBxdWVyeToge1xuICAgICAgICBib29sOiB7XG4gICAgICAgICAgZmlsdGVyOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgW3RoaXMudGltZUZpZWxkXToge1xuICAgICAgICAgICAgICAgICAgW29wdGlvbnM/LmRpcmVjdGlvbiA9PT0gJ0ZPUldBUkQnID8gJ2d0ZScgOiAnbHRlJ106IHJvdy50aW1lRXBvY2hNcyxcbiAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ2Vwb2NoX21pbGxpcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBzb3J0OiBbeyBbdGhpcy50aW1lRmllbGRdOiBzb3J0IH0sIHsgX2RvYzogc29ydCB9XSxcbiAgICAgIHNlYXJjaF9hZnRlcjogc2VhcmNoQWZ0ZXIsXG4gICAgfSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IFtoZWFkZXIsIGVzUXVlcnldLmpvaW4oJ1xcbicpICsgJ1xcbic7XG4gICAgY29uc3QgdXJsID0gdGhpcy5nZXRNdWx0aVNlYXJjaFVybCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGFzdFZhbHVlRnJvbSh0aGlzLnBvc3QodXJsLCBwYXlsb2FkKSk7XG4gICAgY29uc3QgdGFyZ2V0czogRWxhc3RpY3NlYXJjaFF1ZXJ5W10gPSBbeyByZWZJZDogYCR7cm93LmRhdGFGcmFtZS5yZWZJZH1gLCBtZXRyaWNzOiBbeyB0eXBlOiAnbG9ncycsIGlkOiAnMScgfV0gfV07XG4gICAgY29uc3QgZWxhc3RpY1Jlc3BvbnNlID0gbmV3IEVsYXN0aWNSZXNwb25zZSh0YXJnZXRzLCB0cmFuc2Zvcm1IaXRzQmFzZWRPbkRpcmVjdGlvbihyZXNwb25zZSwgc29ydCkpO1xuICAgIGNvbnN0IGxvZ1Jlc3BvbnNlID0gZWxhc3RpY1Jlc3BvbnNlLmdldExvZ3ModGhpcy5sb2dNZXNzYWdlRmllbGQsIHRoaXMubG9nTGV2ZWxGaWVsZCk7XG4gICAgY29uc3QgZGF0YUZyYW1lID0gX2ZpcnN0KGxvZ1Jlc3BvbnNlLmRhdGEpO1xuICAgIGlmICghZGF0YUZyYW1lKSB7XG4gICAgICByZXR1cm4geyBkYXRhOiBbXSB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgTG9nUm93Q29udGV4dFByb3ZpZGVyIHJlcXVpcmVzIHRoZXJlIGlzIGEgZmllbGQgaW4gdGhlIGRhdGFGcmFtZS5maWVsZHNcbiAgICAgKiBuYW1lZCBgdHNgIGZvciB0aW1lc3RhbXAgYW5kIGBsaW5lYCBmb3IgdGhlIGFjdHVhbCBsb2cgbGluZSB0byBkaXNwbGF5LlxuICAgICAqIFVuZm9ydHVuYXRseSB0aGVzZSBmaWVsZHMgYXJlIGhhcmRjb2RlZCBhbmQgYXJlIHJlcXVpcmVkIGZvciB0aGUgbGluZXMgdG9cbiAgICAgKiBiZSBwcm9wZXJseSBkaXNwbGF5ZWQuIFRoaXMgY29kZSBqdXN0IGNvcGllcyB0aGUgZmllbGRzIGJhc2VkIG9uIHRoaXMudGltZUZpZWxkXG4gICAgICogYW5kIHRoaXMubG9nTWVzc2FnZUZpZWxkIGFuZCByZWNyZWF0ZXMgdGhlIGRhdGFGcmFtZSBzbyBpdCB3b3Jrcy5cbiAgICAgKi9cbiAgICBjb25zdCB0aW1lc3RhbXBGaWVsZCA9IGRhdGFGcmFtZS5maWVsZHMuZmluZCgoZjogRmllbGQpID0+IGYubmFtZSA9PT0gdGhpcy50aW1lRmllbGQpO1xuICAgIGNvbnN0IGxpbmVGaWVsZCA9IGRhdGFGcmFtZS5maWVsZHMuZmluZCgoZjogRmllbGQpID0+IGYubmFtZSA9PT0gdGhpcy5sb2dNZXNzYWdlRmllbGQpO1xuICAgIGlmICh0aW1lc3RhbXBGaWVsZCAmJiBsaW5lRmllbGQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5kYXRhRnJhbWUsXG4gICAgICAgICAgICBmaWVsZHM6IFsuLi5kYXRhRnJhbWUuZmllbGRzLCB7IC4uLnRpbWVzdGFtcEZpZWxkLCBuYW1lOiAndHMnIH0sIHsgLi4ubGluZUZpZWxkLCBuYW1lOiAnbGluZScgfV0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBsb2dSZXNwb25zZTtcbiAgfTtcblxuICBnZXRMb2dzVm9sdW1lRGF0YVByb3ZpZGVyKHJlcXVlc3Q6IERhdGFRdWVyeVJlcXVlc3Q8RWxhc3RpY3NlYXJjaFF1ZXJ5Pik6IE9ic2VydmFibGU8RGF0YVF1ZXJ5UmVzcG9uc2U+IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBpc0xvZ3NWb2x1bWVBdmFpbGFibGUgPSByZXF1ZXN0LnRhcmdldHMuc29tZSgodGFyZ2V0KSA9PiB7XG4gICAgICByZXR1cm4gdGFyZ2V0Lm1ldHJpY3M/Lmxlbmd0aCA9PT0gMSAmJiB0YXJnZXQubWV0cmljc1swXS50eXBlID09PSAnbG9ncyc7XG4gICAgfSk7XG4gICAgaWYgKCFpc0xvZ3NWb2x1bWVBdmFpbGFibGUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxvZ3NWb2x1bWVSZXF1ZXN0ID0gY2xvbmVEZWVwKHJlcXVlc3QpO1xuICAgIGxvZ3NWb2x1bWVSZXF1ZXN0LnRhcmdldHMgPSBsb2dzVm9sdW1lUmVxdWVzdC50YXJnZXRzLm1hcCgodGFyZ2V0KSA9PiB7XG4gICAgICBjb25zdCBidWNrZXRBZ2dzOiBCdWNrZXRBZ2dyZWdhdGlvbltdID0gW107XG4gICAgICBjb25zdCB0aW1lRmllbGQgPSB0aGlzLnRpbWVGaWVsZCA/PyAnQHRpbWVzdGFtcCc7XG5cbiAgICAgIGlmICh0aGlzLmxvZ0xldmVsRmllbGQpIHtcbiAgICAgICAgYnVja2V0QWdncy5wdXNoKHtcbiAgICAgICAgICBpZDogJzInLFxuICAgICAgICAgIHR5cGU6ICd0ZXJtcycsXG4gICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIG1pbl9kb2NfY291bnQ6ICcwJyxcbiAgICAgICAgICAgIHNpemU6ICcwJyxcbiAgICAgICAgICAgIG9yZGVyOiAnZGVzYycsXG4gICAgICAgICAgICBvcmRlckJ5OiAnX2NvdW50JyxcbiAgICAgICAgICAgIG1pc3Npbmc6IExvZ0xldmVsLnVua25vd24sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaWVsZDogdGhpcy5sb2dMZXZlbEZpZWxkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGJ1Y2tldEFnZ3MucHVzaCh7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIHR5cGU6ICdkYXRlX2hpc3RvZ3JhbScsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgaW50ZXJ2YWw6ICdhdXRvJyxcbiAgICAgICAgICBtaW5fZG9jX2NvdW50OiAnMCcsXG4gICAgICAgICAgdHJpbUVkZ2VzOiAnMCcsXG4gICAgICAgIH0sXG4gICAgICAgIGZpZWxkOiB0aW1lRmllbGQsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9nc1ZvbHVtZVF1ZXJ5OiBFbGFzdGljc2VhcmNoUXVlcnkgPSB7XG4gICAgICAgIHJlZklkOiB0YXJnZXQucmVmSWQsXG4gICAgICAgIHF1ZXJ5OiB0YXJnZXQucXVlcnksXG4gICAgICAgIG1ldHJpY3M6IFt7IHR5cGU6ICdjb3VudCcsIGlkOiAnMScgfV0sXG4gICAgICAgIHRpbWVGaWVsZCxcbiAgICAgICAgYnVja2V0QWdncyxcbiAgICAgIH07XG4gICAgICByZXR1cm4gbG9nc1ZvbHVtZVF1ZXJ5O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHF1ZXJ5TG9nc1ZvbHVtZSh0aGlzLCBsb2dzVm9sdW1lUmVxdWVzdCwge1xuICAgICAgcmFuZ2U6IHJlcXVlc3QucmFuZ2UsXG4gICAgICB0YXJnZXRzOiByZXF1ZXN0LnRhcmdldHMsXG4gICAgICBleHRyYWN0TGV2ZWw6IChkYXRhRnJhbWUpID0+IGdldExvZ0xldmVsRnJvbUtleShkYXRhRnJhbWUubmFtZSB8fCAnJyksXG4gICAgfSk7XG4gIH1cblxuICBxdWVyeShvcHRpb25zOiBEYXRhUXVlcnlSZXF1ZXN0PEVsYXN0aWNzZWFyY2hRdWVyeT4pOiBPYnNlcnZhYmxlPERhdGFRdWVyeVJlc3BvbnNlPiB7XG4gICAgbGV0IHBheWxvYWQgPSAnJztcbiAgICBjb25zdCB0YXJnZXRzID0gdGhpcy5pbnRlcnBvbGF0ZVZhcmlhYmxlc0luUXVlcmllcyhjbG9uZURlZXAob3B0aW9ucy50YXJnZXRzKSwgb3B0aW9ucy5zY29wZWRWYXJzKTtcbiAgICBjb25zdCBzZW50VGFyZ2V0czogRWxhc3RpY3NlYXJjaFF1ZXJ5W10gPSBbXTtcbiAgICBsZXQgdGFyZ2V0c0NvbnRhaW5zTG9nc1F1ZXJ5ID0gdGFyZ2V0cy5zb21lKCh0YXJnZXQpID0+IGhhc01ldHJpY09mVHlwZSh0YXJnZXQsICdsb2dzJykpO1xuXG4gICAgLy8gYWRkIGdsb2JhbCBhZGhvYyBmaWx0ZXJzIHRvIHRpbWVGaWx0ZXJcbiAgICBjb25zdCBhZGhvY0ZpbHRlcnMgPSB0aGlzLnRlbXBsYXRlU3J2LmdldEFkaG9jRmlsdGVycyh0aGlzLm5hbWUpO1xuXG4gICAgY29uc3QgbG9nTGltaXRzOiBBcnJheTxudW1iZXIgfCB1bmRlZmluZWQ+ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgICBpZiAodGFyZ2V0LmhpZGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBxdWVyeU9iajtcbiAgICAgIGlmIChoYXNNZXRyaWNPZlR5cGUodGFyZ2V0LCAnbG9ncycpKSB7XG4gICAgICAgIC8vIEZJWE1FOiBBbGwgdGhpcyBsb2dpYyBoZXJlIHNob3VsZCBiZSBpbiB0aGUgcXVlcnkgYnVpbGRlci5cbiAgICAgICAgLy8gV2hlbiBtb3ZpbmcgdG8gdGhlIEJFLW9ubHkgaW1wbGVtZW50YXRpb24gd2Ugc2hvdWxkIHJlbW92ZSB0aGlzIGFuZCBsZXQgdGhlIEJFXG4gICAgICAgIC8vIEhhbmRsZSB0aGlzLlxuICAgICAgICAvLyBUT0RPOiBkZWZhdWx0QnVja2V0QWdnIGNyZWF0ZXMgYSBkZXRlX2hpc3RvZ3JhbSBhZ2dyZWdhdGlvbiB3aXRob3V0IGEgZmllbGQsIHNvIGl0IGZhbGxiYWNrcyB0b1xuICAgICAgICAvLyB0aGUgY29uZmlndXJlZCB0aW1lRmllbGQuIHdlIHNob3VsZCBhbGxvdyBwZW9wbGUgdG8gdXNlIGEgZGlmZmVyZW50IHRpbWUgZmllbGQgaGVyZS5cbiAgICAgICAgdGFyZ2V0LmJ1Y2tldEFnZ3MgPSBbZGVmYXVsdEJ1Y2tldEFnZygpXTtcblxuICAgICAgICBjb25zdCBsb2cgPSB0YXJnZXQubWV0cmljcz8uZmluZCgobSkgPT4gbS50eXBlID09PSAnbG9ncycpIGFzIExvZ3M7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gbG9nLnNldHRpbmdzPy5saW1pdCA/IHBhcnNlSW50KGxvZy5zZXR0aW5ncz8ubGltaXQsIDEwKSA6IDUwMDtcbiAgICAgICAgbG9nTGltaXRzLnB1c2gobGltaXQpO1xuXG4gICAgICAgIHRhcmdldC5tZXRyaWNzID0gW107XG4gICAgICAgIC8vIFNldHRpbmcgdGhpcyBmb3IgbWV0cmljcyBxdWVyaWVzIHRoYXQgYXJlIHR5cGVkIGFzIGxvZ3NcbiAgICAgICAgcXVlcnlPYmogPSB0aGlzLnF1ZXJ5QnVpbGRlci5nZXRMb2dzUXVlcnkodGFyZ2V0LCBsaW1pdCwgYWRob2NGaWx0ZXJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvZ0xpbWl0cy5wdXNoKCk7XG4gICAgICAgIGlmICh0YXJnZXQuYWxpYXMpIHtcbiAgICAgICAgICB0YXJnZXQuYWxpYXMgPSB0aGlzLmludGVycG9sYXRlTHVjZW5lUXVlcnkodGFyZ2V0LmFsaWFzLCBvcHRpb25zLnNjb3BlZFZhcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVlcnlPYmogPSB0aGlzLnF1ZXJ5QnVpbGRlci5idWlsZCh0YXJnZXQsIGFkaG9jRmlsdGVycyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVzUXVlcnkgPSBKU09OLnN0cmluZ2lmeShxdWVyeU9iaik7XG5cbiAgICAgIGNvbnN0IHNlYXJjaFR5cGUgPSBxdWVyeU9iai5zaXplID09PSAwICYmIGx0KHRoaXMuZXNWZXJzaW9uLCAnNS4wLjAnKSA/ICdjb3VudCcgOiAncXVlcnlfdGhlbl9mZXRjaCc7XG4gICAgICBjb25zdCBoZWFkZXIgPSB0aGlzLmdldFF1ZXJ5SGVhZGVyKHNlYXJjaFR5cGUsIG9wdGlvbnMucmFuZ2UuZnJvbSwgb3B0aW9ucy5yYW5nZS50byk7XG4gICAgICBwYXlsb2FkICs9IGhlYWRlciArICdcXG4nO1xuXG4gICAgICBwYXlsb2FkICs9IGVzUXVlcnkgKyAnXFxuJztcblxuICAgICAgc2VudFRhcmdldHMucHVzaCh0YXJnZXQpO1xuICAgIH1cblxuICAgIGlmIChzZW50VGFyZ2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBvZih7IGRhdGE6IFtdIH0pO1xuICAgIH1cblxuICAgIC8vIFdlIHJlcGxhY2UgdGhlIHJhbmdlIGhlcmUgZm9yIGFjdHVhbCB2YWx1ZXMuIFdlIG5lZWQgdG8gcmVwbGFjZSBpdCB0b2dldGhlciB3aXRoIGVuY2xvc2luZyBcIlwiIHNvIHRoYXQgd2UgcmVwbGFjZVxuICAgIC8vIGl0IGFzIGFuIGludGVnZXIgbm90IGFzIHN0cmluZyB3aXRoIGRpZ2l0cy4gVGhpcyBpcyBiZWNhdXNlIGVsYXN0aWMgd2lsbCBjb252ZXJ0IHRoZSBzdHJpbmcgb25seSBpZiB0aGUgdGltZVxuICAgIC8vIGZpZWxkIGlzIHNwZWNpZmllZCBhcyB0eXBlIGRhdGUgKHdoaWNoIHByb2JhYmx5IHNob3VsZCkgYnV0IGNhbiBhbHNvIGJlIHNwZWNpZmllZCBhcyBpbnRlZ2VyIChtaWxsaXNlY29uZCBlcG9jaClcbiAgICAvLyBhbmQgdGhlbiBzZW5kaW5nIHN0cmluZyB3aWxsIGVycm9yIG91dC5cbiAgICBwYXlsb2FkID0gcGF5bG9hZC5yZXBsYWNlKC9cIlxcJHRpbWVGcm9tXCIvZywgb3B0aW9ucy5yYW5nZS5mcm9tLnZhbHVlT2YoKS50b1N0cmluZygpKTtcbiAgICBwYXlsb2FkID0gcGF5bG9hZC5yZXBsYWNlKC9cIlxcJHRpbWVUb1wiL2csIG9wdGlvbnMucmFuZ2UudG8udmFsdWVPZigpLnRvU3RyaW5nKCkpO1xuICAgIHBheWxvYWQgPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UocGF5bG9hZCwgb3B0aW9ucy5zY29wZWRWYXJzKTtcblxuICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TXVsdGlTZWFyY2hVcmwoKTtcblxuICAgIHJldHVybiB0aGlzLnBvc3QodXJsLCBwYXlsb2FkKS5waXBlKFxuICAgICAgbWFwKChyZXMpID0+IHtcbiAgICAgICAgY29uc3QgZXIgPSBuZXcgRWxhc3RpY1Jlc3BvbnNlKHNlbnRUYXJnZXRzLCByZXMpO1xuXG4gICAgICAgIC8vIFRPRE86IFRoaXMgbmVlZHMgdG8gYmUgcmV2aXNpdGVkLCBpdCBzZWVtcyB3cm9uZyB0byBwcm9jZXNzIEFMTCB0aGUgc2VudCBxdWVyaWVzIGFzIGxvZ3MgaWYgb25seSBvbmUgb2YgdGhlbSB3YXMgYSBsb2cgcXVlcnlcbiAgICAgICAgaWYgKHRhcmdldHNDb250YWluc0xvZ3NRdWVyeSkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXIuZ2V0TG9ncyh0aGlzLmxvZ01lc3NhZ2VGaWVsZCwgdGhpcy5sb2dMZXZlbEZpZWxkKTtcblxuICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZGF0YUZyYW1lLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZW5oYW5jZURhdGFGcmFtZShkYXRhRnJhbWUsIHRoaXMuZGF0YUxpbmtzLCBsb2dMaW1pdHNbaW5kZXhdKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXIuZ2V0VGltZVNlcmllcygpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgaXNNZXRhZGF0YUZpZWxkKGZpZWxkTmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIEVMQVNUSUNfTUVUQV9GSUVMRFMuaW5jbHVkZXMoZmllbGROYW1lKTtcbiAgfVxuXG4gIC8vIFRPRE86IGluc3RlYWQgb2YgYmVpbmcgYSBzdHJpbmcsIHRoaXMgY291bGQgYmUgYSBjdXN0b20gdHlwZSByZXByZXNlbnRpbmcgYWxsIHRoZSBlbGFzdGljIHR5cGVzXG4gIC8vIEZJWE1FOiBUaGlzIGRvZXNuJ3Qgc2VlbSB0byByZXR1cm4gYWN0dWFsIE1ldHJpY0ZpbmRWYWx1ZXMsIHdlIHNob3VsZCBlaXRoZXIgY2hhbmdlIHRoZSByZXR1cm4gdHlwZVxuICAvLyBvciBmaXggdGhlIGltcGxlbWVudGF0aW9uLlxuICBnZXRGaWVsZHModHlwZT86IHN0cmluZ1tdLCByYW5nZT86IFRpbWVSYW5nZSk6IE9ic2VydmFibGU8TWV0cmljRmluZFZhbHVlW10+IHtcbiAgICBjb25zdCB0eXBlTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgZmxvYXQ6ICdudW1iZXInLFxuICAgICAgZG91YmxlOiAnbnVtYmVyJyxcbiAgICAgIGludGVnZXI6ICdudW1iZXInLFxuICAgICAgbG9uZzogJ251bWJlcicsXG4gICAgICBkYXRlOiAnZGF0ZScsXG4gICAgICBkYXRlX25hbm9zOiAnZGF0ZScsXG4gICAgICBzdHJpbmc6ICdzdHJpbmcnLFxuICAgICAgdGV4dDogJ3N0cmluZycsXG4gICAgICBzY2FsZWRfZmxvYXQ6ICdudW1iZXInLFxuICAgICAgbmVzdGVkOiAnbmVzdGVkJyxcbiAgICAgIGhpc3RvZ3JhbTogJ251bWJlcicsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5nZXQoJy9fbWFwcGluZycsIHJhbmdlKS5waXBlKFxuICAgICAgbWFwKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3Qgc2hvdWxkQWRkRmllbGQgPSAob2JqOiBhbnksIGtleTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNNZXRhZGF0YUZpZWxkKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXR5cGUgfHwgdHlwZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVxdWFsIHF1ZXJ5IHR5cGUgZmlsdGVyLCBvciB2aWEgdHlwZW1hcCB0cmFuc2xhdGlvblxuICAgICAgICAgIHJldHVybiB0eXBlLmluY2x1ZGVzKG9iai50eXBlKSB8fCB0eXBlLmluY2x1ZGVzKHR5cGVNYXBbb2JqLnR5cGVdKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdG9yZSBzdWJmaWVsZCBuYW1lczogW3N5c3RlbSwgcHJvY2VzcywgY3B1LCB0b3RhbF0gLT4gc3lzdGVtLnByb2Nlc3MuY3B1LnRvdGFsXG4gICAgICAgIGNvbnN0IGZpZWxkTmFtZVBhcnRzOiBhbnkgPSBbXTtcbiAgICAgICAgY29uc3QgZmllbGRzOiBhbnkgPSB7fTtcblxuICAgICAgICBmdW5jdGlvbiBnZXRGaWVsZHNSZWN1cnNpdmVseShvYmo6IGFueSkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAgICAgY29uc3Qgc3ViT2JqID0gb2JqW2tleV07XG5cbiAgICAgICAgICAgIC8vIENoZWNrIG1hcHBpbmcgZmllbGQgZm9yIG5lc3RlZCBmaWVsZHNcbiAgICAgICAgICAgIGlmIChpc09iamVjdChzdWJPYmoucHJvcGVydGllcykpIHtcbiAgICAgICAgICAgICAgZmllbGROYW1lUGFydHMucHVzaChrZXkpO1xuICAgICAgICAgICAgICBnZXRGaWVsZHNSZWN1cnNpdmVseShzdWJPYmoucHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChzdWJPYmouZmllbGRzKSkge1xuICAgICAgICAgICAgICBmaWVsZE5hbWVQYXJ0cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgIGdldEZpZWxkc1JlY3Vyc2l2ZWx5KHN1Yk9iai5maWVsZHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoc3ViT2JqLnR5cGUpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkTmFtZVBhcnRzLmNvbmNhdChrZXkpLmpvaW4oJy4nKTtcblxuICAgICAgICAgICAgICAvLyBIaWRlIG1ldGEtZmllbGRzIGFuZCBjaGVjayBmaWVsZCB0eXBlXG4gICAgICAgICAgICAgIGlmIChzaG91bGRBZGRGaWVsZChzdWJPYmosIGtleSkpIHtcbiAgICAgICAgICAgICAgICBmaWVsZHNbZmllbGROYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGZpZWxkTmFtZSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHN1Yk9iai50eXBlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGROYW1lUGFydHMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4TmFtZSBpbiByZXN1bHQpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3VsdFtpbmRleE5hbWVdO1xuICAgICAgICAgIGlmIChpbmRleCAmJiBpbmRleC5tYXBwaW5ncykge1xuICAgICAgICAgICAgY29uc3QgbWFwcGluZ3MgPSBpbmRleC5tYXBwaW5ncztcblxuICAgICAgICAgICAgaWYgKGx0KHRoaXMuZXNWZXJzaW9uLCAnNy4wLjAnKSkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IHR5cGVOYW1lIGluIG1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IG1hcHBpbmdzW3R5cGVOYW1lXS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIGdldEZpZWxkc1JlY3Vyc2l2ZWx5KHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gbWFwcGluZ3MucHJvcGVydGllcztcbiAgICAgICAgICAgICAgZ2V0RmllbGRzUmVjdXJzaXZlbHkocHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJhbnNmb3JtIHRvIGFycmF5XG4gICAgICAgIHJldHVybiBfbWFwKGZpZWxkcywgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGdldFRlcm1zKHF1ZXJ5RGVmOiBUZXJtc1F1ZXJ5LCByYW5nZSA9IGdldERlZmF1bHRUaW1lUmFuZ2UoKSk6IE9ic2VydmFibGU8TWV0cmljRmluZFZhbHVlW10+IHtcbiAgICBjb25zdCBzZWFyY2hUeXBlID0gZ3RlKHRoaXMuZXNWZXJzaW9uLCAnNS4wLjAnKSA/ICdxdWVyeV90aGVuX2ZldGNoJyA6ICdjb3VudCc7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5nZXRRdWVyeUhlYWRlcihzZWFyY2hUeXBlLCByYW5nZS5mcm9tLCByYW5nZS50byk7XG4gICAgbGV0IGVzUXVlcnkgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5QnVpbGRlci5nZXRUZXJtc1F1ZXJ5KHF1ZXJ5RGVmKSk7XG5cbiAgICBlc1F1ZXJ5ID0gZXNRdWVyeS5yZXBsYWNlKC9cXCR0aW1lRnJvbS9nLCByYW5nZS5mcm9tLnZhbHVlT2YoKS50b1N0cmluZygpKTtcbiAgICBlc1F1ZXJ5ID0gZXNRdWVyeS5yZXBsYWNlKC9cXCR0aW1lVG8vZywgcmFuZ2UudG8udmFsdWVPZigpLnRvU3RyaW5nKCkpO1xuICAgIGVzUXVlcnkgPSBoZWFkZXIgKyAnXFxuJyArIGVzUXVlcnkgKyAnXFxuJztcblxuICAgIGNvbnN0IHVybCA9IHRoaXMuZ2V0TXVsdGlTZWFyY2hVcmwoKTtcblxuICAgIHJldHVybiB0aGlzLnBvc3QodXJsLCBlc1F1ZXJ5KS5waXBlKFxuICAgICAgbWFwKChyZXMpID0+IHtcbiAgICAgICAgaWYgKCFyZXMucmVzcG9uc2VzWzBdLmFnZ3JlZ2F0aW9ucykge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1Y2tldHMgPSByZXMucmVzcG9uc2VzWzBdLmFnZ3JlZ2F0aW9uc1snMSddLmJ1Y2tldHM7XG4gICAgICAgIHJldHVybiBfbWFwKGJ1Y2tldHMsIChidWNrZXQpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogYnVja2V0LmtleV9hc19zdHJpbmcgfHwgYnVja2V0LmtleSxcbiAgICAgICAgICAgIHZhbHVlOiBidWNrZXQua2V5LFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZ2V0TXVsdGlTZWFyY2hVcmwoKSB7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgaWYgKGd0ZSh0aGlzLmVzVmVyc2lvbiwgJzcuMC4wJykgJiYgdGhpcy5tYXhDb25jdXJyZW50U2hhcmRSZXF1ZXN0cykge1xuICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZCgnbWF4X2NvbmN1cnJlbnRfc2hhcmRfcmVxdWVzdHMnLCBgJHt0aGlzLm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzfWApO1xuICAgIH1cblxuICAgIGlmIChndGUodGhpcy5lc1ZlcnNpb24sICc2LjYuMCcpICYmIHRoaXMueHBhY2sgJiYgdGhpcy5pbmNsdWRlRnJvemVuKSB7XG4gICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKCdpZ25vcmVfdGhyb3R0bGVkJywgJ2ZhbHNlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgnX21zZWFyY2g/JyArIHNlYXJjaFBhcmFtcy50b1N0cmluZygpKS5yZXBsYWNlKC9cXD8kLywgJycpO1xuICB9XG5cbiAgbWV0cmljRmluZFF1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPE1ldHJpY0ZpbmRWYWx1ZVtdPiB7XG4gICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zPy5yYW5nZTtcbiAgICBjb25zdCBwYXJzZWRRdWVyeSA9IEpTT04ucGFyc2UocXVlcnkpO1xuICAgIGlmIChxdWVyeSkge1xuICAgICAgaWYgKHBhcnNlZFF1ZXJ5LmZpbmQgPT09ICdmaWVsZHMnKSB7XG4gICAgICAgIHBhcnNlZFF1ZXJ5LnR5cGUgPSB0aGlzLmludGVycG9sYXRlTHVjZW5lUXVlcnkocGFyc2VkUXVlcnkudHlwZSk7XG4gICAgICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKHRoaXMuZ2V0RmllbGRzKHBhcnNlZFF1ZXJ5LnR5cGUsIHJhbmdlKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZWRRdWVyeS5maW5kID09PSAndGVybXMnKSB7XG4gICAgICAgIHBhcnNlZFF1ZXJ5LmZpZWxkID0gdGhpcy5pbnRlcnBvbGF0ZUx1Y2VuZVF1ZXJ5KHBhcnNlZFF1ZXJ5LmZpZWxkKTtcbiAgICAgICAgcGFyc2VkUXVlcnkucXVlcnkgPSB0aGlzLmludGVycG9sYXRlTHVjZW5lUXVlcnkocGFyc2VkUXVlcnkucXVlcnkpO1xuICAgICAgICByZXR1cm4gbGFzdFZhbHVlRnJvbSh0aGlzLmdldFRlcm1zKHBhcnNlZFF1ZXJ5LCByYW5nZSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICB9XG5cbiAgZ2V0VGFnS2V5cygpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbSh0aGlzLmdldEZpZWxkcygpKTtcbiAgfVxuXG4gIGdldFRhZ1ZhbHVlcyhvcHRpb25zOiBhbnkpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbSh0aGlzLmdldFRlcm1zKHsgZmllbGQ6IG9wdGlvbnMua2V5IH0pKTtcbiAgfVxuXG4gIHRhcmdldENvbnRhaW5zVGVtcGxhdGUodGFyZ2V0OiBhbnkpIHtcbiAgICBpZiAodGhpcy50ZW1wbGF0ZVNydi5jb250YWluc1RlbXBsYXRlKHRhcmdldC5xdWVyeSkgfHwgdGhpcy50ZW1wbGF0ZVNydi5jb250YWluc1RlbXBsYXRlKHRhcmdldC5hbGlhcykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYnVja2V0QWdnIG9mIHRhcmdldC5idWNrZXRBZ2dzKSB7XG4gICAgICBpZiAodGhpcy50ZW1wbGF0ZVNydi5jb250YWluc1RlbXBsYXRlKGJ1Y2tldEFnZy5maWVsZCkgfHwgdGhpcy5vYmplY3RDb250YWluc1RlbXBsYXRlKGJ1Y2tldEFnZy5zZXR0aW5ncykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBtZXRyaWMgb2YgdGFyZ2V0Lm1ldHJpY3MpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVNydi5jb250YWluc1RlbXBsYXRlKG1ldHJpYy5maWVsZCkgfHxcbiAgICAgICAgdGhpcy5vYmplY3RDb250YWluc1RlbXBsYXRlKG1ldHJpYy5zZXR0aW5ncykgfHxcbiAgICAgICAgdGhpcy5vYmplY3RDb250YWluc1RlbXBsYXRlKG1ldHJpYy5tZXRhKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgaXNQcmltaXRpdmUob2JqOiBhbnkpIHtcbiAgICBpZiAob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ10uc29tZSgodHlwZSkgPT4gdHlwZSA9PT0gdHlwZW9mIHRydWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIG9iamVjdENvbnRhaW5zVGVtcGxhdGUob2JqOiBhbnkpIHtcbiAgICBpZiAoIW9iaikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG9iaikpIHtcbiAgICAgIGlmICh0aGlzLmlzUHJpbWl0aXZlKG9ialtrZXldKSkge1xuICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZVNydi5jb250YWluc1RlbXBsYXRlKG9ialtrZXldKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBvYmpba2V5XSkge1xuICAgICAgICAgIGlmICh0aGlzLm9iamVjdENvbnRhaW5zVGVtcGxhdGUoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMub2JqZWN0Q29udGFpbnNUZW1wbGF0ZShvYmpba2V5XSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE1vZGlmaWVzIGRhdGFmcmFtZSBhbmQgYWRkcyBkYXRhTGlua3MgZnJvbSB0aGUgY29uZmlnLlxuICogRXhwb3J0ZWQgZm9yIHRlc3RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5oYW5jZURhdGFGcmFtZShkYXRhRnJhbWU6IERhdGFGcmFtZSwgZGF0YUxpbmtzOiBEYXRhTGlua0NvbmZpZ1tdLCBsaW1pdD86IG51bWJlcikge1xuICBpZiAobGltaXQpIHtcbiAgICBkYXRhRnJhbWUubWV0YSA9IHtcbiAgICAgIC4uLmRhdGFGcmFtZS5tZXRhLFxuICAgICAgbGltaXQsXG4gICAgfTtcbiAgfVxuXG4gIGlmICghZGF0YUxpbmtzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAoY29uc3QgZmllbGQgb2YgZGF0YUZyYW1lLmZpZWxkcykge1xuICAgIGNvbnN0IGxpbmtzVG9BcHBseSA9IGRhdGFMaW5rcy5maWx0ZXIoKGRhdGFMaW5rKSA9PiBuZXcgUmVnRXhwKGRhdGFMaW5rLmZpZWxkKS50ZXN0KGZpZWxkLm5hbWUpKTtcblxuICAgIGlmIChsaW5rc1RvQXBwbHkubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBmaWVsZC5jb25maWcgPSBmaWVsZC5jb25maWcgfHwge307XG4gICAgZmllbGQuY29uZmlnLmxpbmtzID0gWy4uLihmaWVsZC5jb25maWcubGlua3MgfHwgW10sIGxpbmtzVG9BcHBseS5tYXAoZ2VuZXJhdGVEYXRhTGluaykpXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZURhdGFMaW5rKGxpbmtDb25maWc6IERhdGFMaW5rQ29uZmlnKTogRGF0YUxpbmsge1xuICBjb25zdCBkYXRhU291cmNlU3J2ID0gZ2V0RGF0YVNvdXJjZVNydigpO1xuXG4gIGlmIChsaW5rQ29uZmlnLmRhdGFzb3VyY2VVaWQpIHtcbiAgICBjb25zdCBkc1NldHRpbmdzID0gZGF0YVNvdXJjZVNydi5nZXRJbnN0YW5jZVNldHRpbmdzKGxpbmtDb25maWcuZGF0YXNvdXJjZVVpZCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGl0bGU6IGxpbmtDb25maWcudXJsRGlzcGxheUxhYmVsIHx8ICcnLFxuICAgICAgdXJsOiAnJyxcbiAgICAgIGludGVybmFsOiB7XG4gICAgICAgIHF1ZXJ5OiB7IHF1ZXJ5OiBsaW5rQ29uZmlnLnVybCB9LFxuICAgICAgICBkYXRhc291cmNlVWlkOiBsaW5rQ29uZmlnLmRhdGFzb3VyY2VVaWQsXG4gICAgICAgIGRhdGFzb3VyY2VOYW1lOiBkc1NldHRpbmdzPy5uYW1lID8/ICdEYXRhIHNvdXJjZSBub3QgZm91bmQnLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0aXRsZTogbGlua0NvbmZpZy51cmxEaXNwbGF5TGFiZWwgfHwgJycsXG4gICAgICB1cmw6IGxpbmtDb25maWcudXJsLFxuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtSGl0c0Jhc2VkT25EaXJlY3Rpb24ocmVzcG9uc2U6IGFueSwgZGlyZWN0aW9uOiAnYXNjJyB8ICdkZXNjJykge1xuICBpZiAoZGlyZWN0aW9uID09PSAnZGVzYycpIHtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbiAgY29uc3QgYWN0dWFsUmVzcG9uc2UgPSByZXNwb25zZS5yZXNwb25zZXNbMF07XG4gIHJldHVybiB7XG4gICAgLi4ucmVzcG9uc2UsXG4gICAgcmVzcG9uc2VzOiBbXG4gICAgICB7XG4gICAgICAgIC4uLmFjdHVhbFJlc3BvbnNlLFxuICAgICAgICBoaXRzOiB7XG4gICAgICAgICAgLi4uYWN0dWFsUmVzcG9uc2UuaGl0cyxcbiAgICAgICAgICBoaXRzOiBhY3R1YWxSZXNwb25zZS5oaXRzLmhpdHMucmV2ZXJzZSgpLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xufVxuIiwiaW1wb3J0IHsgY2xvbmUsIGZpbHRlciwgZmluZCwgaWRlbnRpdHksIGlzQXJyYXksIGtleXMsIG1hcCwgdW5pcSwgdmFsdWVzIGFzIF92YWx1ZXMgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICBEYXRhUXVlcnlSZXNwb25zZSxcbiAgRGF0YUZyYW1lLFxuICB0b0RhdGFGcmFtZSxcbiAgRmllbGRUeXBlLFxuICBNdXRhYmxlRGF0YUZyYW1lLFxuICBQcmVmZXJyZWRWaXN1YWxpc2F0aW9uVHlwZSxcbn0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgVGFibGVNb2RlbCBmcm9tICdhcHAvY29yZS90YWJsZV9tb2RlbCc7XG5pbXBvcnQgZmxhdHRlbiBmcm9tICdhcHAvY29yZS91dGlscy9mbGF0dGVuJztcblxuaW1wb3J0IHtcbiAgRXh0ZW5kZWRTdGF0TWV0YVR5cGUsXG4gIGlzTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQsXG4gIFRvcE1ldHJpY3MsXG59IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcbmltcG9ydCB7IG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnIH0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci91dGlscyc7XG5pbXBvcnQgKiBhcyBxdWVyeURlZiBmcm9tICcuL3F1ZXJ5X2RlZic7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoQWdncmVnYXRpb24sIEVsYXN0aWNzZWFyY2hRdWVyeSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZGVzY3JpYmVNZXRyaWMsIGdldFNjcmlwdFZhbHVlIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IEhJR0hMSUdIVF9UQUdTX0VYUCA9IGAke3F1ZXJ5RGVmLmhpZ2hsaWdodFRhZ3MucHJlfShbXkBdKykke3F1ZXJ5RGVmLmhpZ2hsaWdodFRhZ3MucG9zdH1gO1xudHlwZSBUb3BNZXRyaWNNZXRyaWMgPSBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuaW50ZXJmYWNlIFRvcE1ldHJpY0J1Y2tldCB7XG4gIHRvcDogQXJyYXk8e1xuICAgIG1ldHJpY3M6IFRvcE1ldHJpY01ldHJpYztcbiAgfT47XG59XG5cbmV4cG9ydCBjbGFzcyBFbGFzdGljUmVzcG9uc2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRhcmdldHM6IEVsYXN0aWNzZWFyY2hRdWVyeVtdLCBwcml2YXRlIHJlc3BvbnNlOiBhbnkpIHtcbiAgICB0aGlzLnRhcmdldHMgPSB0YXJnZXRzO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgfVxuXG4gIHByb2Nlc3NNZXRyaWNzKGVzQWdnOiBhbnksIHRhcmdldDogRWxhc3RpY3NlYXJjaFF1ZXJ5LCBzZXJpZXNMaXN0OiBhbnksIHByb3BzOiBhbnkpIHtcbiAgICBsZXQgbmV3U2VyaWVzOiBhbnk7XG5cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRhcmdldC5tZXRyaWNzIS5sZW5ndGg7IHkrKykge1xuICAgICAgY29uc3QgbWV0cmljID0gdGFyZ2V0Lm1ldHJpY3MhW3ldO1xuICAgICAgaWYgKG1ldHJpYy5oaWRlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKG1ldHJpYy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2NvdW50Jzoge1xuICAgICAgICAgIG5ld1NlcmllcyA9IHsgZGF0YXBvaW50czogW10sIG1ldHJpYzogJ2NvdW50JywgcHJvcHMsIHJlZklkOiB0YXJnZXQucmVmSWQgfTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVzQWdnLmJ1Y2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IGVzQWdnLmJ1Y2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGJ1Y2tldC5kb2NfY291bnQ7XG4gICAgICAgICAgICBuZXdTZXJpZXMuZGF0YXBvaW50cy5wdXNoKFt2YWx1ZSwgYnVja2V0LmtleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXJpZXNMaXN0LnB1c2gobmV3U2VyaWVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdwZXJjZW50aWxlcyc6IHtcbiAgICAgICAgICBpZiAoZXNBZ2cuYnVja2V0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGZpcnN0QnVja2V0ID0gZXNBZ2cuYnVja2V0c1swXTtcbiAgICAgICAgICBjb25zdCBwZXJjZW50aWxlcyA9IGZpcnN0QnVja2V0W21ldHJpYy5pZF0udmFsdWVzO1xuXG4gICAgICAgICAgZm9yIChjb25zdCBwZXJjZW50aWxlTmFtZSBpbiBwZXJjZW50aWxlcykge1xuICAgICAgICAgICAgbmV3U2VyaWVzID0ge1xuICAgICAgICAgICAgICBkYXRhcG9pbnRzOiBbXSxcbiAgICAgICAgICAgICAgbWV0cmljOiAncCcgKyBwZXJjZW50aWxlTmFtZSxcbiAgICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgICBmaWVsZDogbWV0cmljLmZpZWxkLFxuICAgICAgICAgICAgICByZWZJZDogdGFyZ2V0LnJlZklkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlc0FnZy5idWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IGVzQWdnLmJ1Y2tldHNbaV07XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGJ1Y2tldFttZXRyaWMuaWRdLnZhbHVlcztcbiAgICAgICAgICAgICAgbmV3U2VyaWVzLmRhdGFwb2ludHMucHVzaChbdmFsdWVzW3BlcmNlbnRpbGVOYW1lXSwgYnVja2V0LmtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VyaWVzTGlzdC5wdXNoKG5ld1Nlcmllcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZXh0ZW5kZWRfc3RhdHMnOiB7XG4gICAgICAgICAgZm9yIChjb25zdCBzdGF0TmFtZSBpbiBtZXRyaWMubWV0YSkge1xuICAgICAgICAgICAgaWYgKCFtZXRyaWMubWV0YVtzdGF0TmFtZSBhcyBFeHRlbmRlZFN0YXRNZXRhVHlwZV0pIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld1NlcmllcyA9IHtcbiAgICAgICAgICAgICAgZGF0YXBvaW50czogW10sXG4gICAgICAgICAgICAgIG1ldHJpYzogc3RhdE5hbWUsXG4gICAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgZmllbGQ6IG1ldHJpYy5maWVsZCxcbiAgICAgICAgICAgICAgcmVmSWQ6IHRhcmdldC5yZWZJZCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXNBZ2cuYnVja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBjb25zdCBidWNrZXQgPSBlc0FnZy5idWNrZXRzW2ldO1xuICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IGJ1Y2tldFttZXRyaWMuaWRdO1xuXG4gICAgICAgICAgICAgIC8vIGFkZCBzdGF0cyB0aGF0IGFyZSBpbiBuZXN0ZWQgb2JqIHRvIHRvcCBsZXZlbCBvYmpcbiAgICAgICAgICAgICAgc3RhdHMuc3RkX2RldmlhdGlvbl9ib3VuZHNfdXBwZXIgPSBzdGF0cy5zdGRfZGV2aWF0aW9uX2JvdW5kcy51cHBlcjtcbiAgICAgICAgICAgICAgc3RhdHMuc3RkX2RldmlhdGlvbl9ib3VuZHNfbG93ZXIgPSBzdGF0cy5zdGRfZGV2aWF0aW9uX2JvdW5kcy5sb3dlcjtcblxuICAgICAgICAgICAgICBuZXdTZXJpZXMuZGF0YXBvaW50cy5wdXNoKFtzdGF0c1tzdGF0TmFtZV0sIGJ1Y2tldC5rZXldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VyaWVzTGlzdC5wdXNoKG5ld1Nlcmllcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAndG9wX21ldHJpY3MnOiB7XG4gICAgICAgICAgaWYgKG1ldHJpYy5zZXR0aW5ncz8ubWV0cmljcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1ldHJpY0ZpZWxkIG9mIG1ldHJpYy5zZXR0aW5ncz8ubWV0cmljcykge1xuICAgICAgICAgICAgICBuZXdTZXJpZXMgPSB7XG4gICAgICAgICAgICAgICAgZGF0YXBvaW50czogW10sXG4gICAgICAgICAgICAgICAgbWV0cmljOiBtZXRyaWMudHlwZSxcbiAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgcmVmSWQ6IHRhcmdldC5yZWZJZCxcbiAgICAgICAgICAgICAgICBmaWVsZDogbWV0cmljRmllbGQsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXNBZ2cuYnVja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldCA9IGVzQWdnLmJ1Y2tldHNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBidWNrZXRbbWV0cmljLmlkXSBhcyBUb3BNZXRyaWNCdWNrZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gc3RhdHMudG9wLm1hcCgoaGl0KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoaGl0Lm1ldHJpY3NbbWV0cmljRmllbGRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoaXQubWV0cmljc1ttZXRyaWNGaWVsZF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IFt2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdLCBidWNrZXQua2V5XTtcbiAgICAgICAgICAgICAgICBuZXdTZXJpZXMuZGF0YXBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXJpZXNMaXN0LnB1c2gobmV3U2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIG5ld1NlcmllcyA9IHtcbiAgICAgICAgICAgIGRhdGFwb2ludHM6IFtdLFxuICAgICAgICAgICAgbWV0cmljOiBtZXRyaWMudHlwZSxcbiAgICAgICAgICAgIG1ldHJpY0lkOiBtZXRyaWMuaWQsXG4gICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICByZWZJZDogdGFyZ2V0LnJlZklkLFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZChtZXRyaWMpKSB7XG4gICAgICAgICAgICBuZXdTZXJpZXMuZmllbGQgPSBtZXRyaWMuZmllbGQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlc0FnZy5idWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBidWNrZXQgPSBlc0FnZy5idWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBidWNrZXRbbWV0cmljLmlkXTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLm5vcm1hbGl6ZWRfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBuZXdTZXJpZXMuZGF0YXBvaW50cy5wdXNoKFt2YWx1ZS5ub3JtYWxpemVkX3ZhbHVlLCBidWNrZXQua2V5XSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2VyaWVzLmRhdGFwb2ludHMucHVzaChbdmFsdWUudmFsdWUsIGJ1Y2tldC5rZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzZXJpZXNMaXN0LnB1c2gobmV3U2VyaWVzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NBZ2dyZWdhdGlvbkRvY3MoXG4gICAgZXNBZ2c6IGFueSxcbiAgICBhZ2dEZWY6IEVsYXN0aWNzZWFyY2hBZ2dyZWdhdGlvbixcbiAgICB0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSxcbiAgICB0YWJsZTogYW55LFxuICAgIHByb3BzOiBhbnlcbiAgKSB7XG4gICAgLy8gYWRkIGNvbHVtbnNcbiAgICBpZiAodGFibGUuY29sdW1ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIGZvciAoY29uc3QgcHJvcEtleSBvZiBrZXlzKHByb3BzKSkge1xuICAgICAgICB0YWJsZS5hZGRDb2x1bW4oeyB0ZXh0OiBwcm9wS2V5LCBmaWx0ZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgdGFibGUuYWRkQ29sdW1uKHsgdGV4dDogYWdnRGVmLmZpZWxkLCBmaWx0ZXJhYmxlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8vIGhlbHBlciBmdW5jIHRvIGFkZCB2YWx1ZXMgdG8gdmFsdWUgYXJyYXlcbiAgICBjb25zdCBhZGRNZXRyaWNWYWx1ZSA9ICh2YWx1ZXM6IGFueVtdLCBtZXRyaWNOYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgICAgIHRhYmxlLmFkZENvbHVtbih7IHRleHQ6IG1ldHJpY05hbWUgfSk7XG4gICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBidWNrZXRzID0gaXNBcnJheShlc0FnZy5idWNrZXRzKSA/IGVzQWdnLmJ1Y2tldHMgOiBbZXNBZ2cuYnVja2V0c107XG4gICAgZm9yIChjb25zdCBidWNrZXQgb2YgYnVja2V0cykge1xuICAgICAgY29uc3QgdmFsdWVzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgcHJvcFZhbHVlcyBvZiBfdmFsdWVzKHByb3BzKSkge1xuICAgICAgICB2YWx1ZXMucHVzaChwcm9wVmFsdWVzKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGJ1Y2tldCBrZXkgKHZhbHVlKVxuICAgICAgdmFsdWVzLnB1c2goYnVja2V0LmtleSk7XG5cbiAgICAgIGZvciAoY29uc3QgbWV0cmljIG9mIHRhcmdldC5tZXRyaWNzIHx8IFtdKSB7XG4gICAgICAgIHN3aXRjaCAobWV0cmljLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjb3VudCc6IHtcbiAgICAgICAgICAgIGFkZE1ldHJpY1ZhbHVlKHZhbHVlcywgdGhpcy5nZXRNZXRyaWNOYW1lKG1ldHJpYy50eXBlKSwgYnVja2V0LmRvY19jb3VudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnZXh0ZW5kZWRfc3RhdHMnOiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXROYW1lIGluIG1ldHJpYy5tZXRhKSB7XG4gICAgICAgICAgICAgIGlmICghbWV0cmljLm1ldGFbc3RhdE5hbWUgYXMgRXh0ZW5kZWRTdGF0TWV0YVR5cGVdKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IGJ1Y2tldFttZXRyaWMuaWRdO1xuICAgICAgICAgICAgICAvLyBhZGQgc3RhdHMgdGhhdCBhcmUgaW4gbmVzdGVkIG9iaiB0byB0b3AgbGV2ZWwgb2JqXG4gICAgICAgICAgICAgIHN0YXRzLnN0ZF9kZXZpYXRpb25fYm91bmRzX3VwcGVyID0gc3RhdHMuc3RkX2RldmlhdGlvbl9ib3VuZHMudXBwZXI7XG4gICAgICAgICAgICAgIHN0YXRzLnN0ZF9kZXZpYXRpb25fYm91bmRzX2xvd2VyID0gc3RhdHMuc3RkX2RldmlhdGlvbl9ib3VuZHMubG93ZXI7XG5cbiAgICAgICAgICAgICAgYWRkTWV0cmljVmFsdWUodmFsdWVzLCB0aGlzLmdldE1ldHJpY05hbWUoc3RhdE5hbWUgYXMgRXh0ZW5kZWRTdGF0TWV0YVR5cGUpLCBzdGF0c1tzdGF0TmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3BlcmNlbnRpbGVzJzoge1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGlsZXMgPSBidWNrZXRbbWV0cmljLmlkXS52YWx1ZXM7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcGVyY2VudGlsZU5hbWUgaW4gcGVyY2VudGlsZXMpIHtcbiAgICAgICAgICAgICAgYWRkTWV0cmljVmFsdWUodmFsdWVzLCBgcCR7cGVyY2VudGlsZU5hbWV9ICR7bWV0cmljLmZpZWxkfWAsIHBlcmNlbnRpbGVzW3BlcmNlbnRpbGVOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAndG9wX21ldHJpY3MnOiB7XG4gICAgICAgICAgICBjb25zdCBiYXNlTmFtZSA9IHRoaXMuZ2V0TWV0cmljTmFtZShtZXRyaWMudHlwZSk7XG5cbiAgICAgICAgICAgIGlmIChtZXRyaWMuc2V0dGluZ3M/Lm1ldHJpY3MpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBtZXRyaWNGaWVsZCBvZiBtZXRyaWMuc2V0dGluZ3MubWV0cmljcykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIHNlbGVjdGVkIG1vcmUgdGhhbiBvbmUgbWV0cmljIHdlIGFsc28gYWRkIGVhY2ggbWV0cmljIG5hbWVcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRyaWNOYW1lID0gbWV0cmljLnNldHRpbmdzLm1ldHJpY3MubGVuZ3RoID4gMSA/IGAke2Jhc2VOYW1lfSAke21ldHJpY0ZpZWxkfWAgOiBiYXNlTmFtZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gYnVja2V0W21ldHJpYy5pZF0gYXMgVG9wTWV0cmljQnVja2V0O1xuXG4gICAgICAgICAgICAgICAgLy8gU2l6ZSBvZiB0b3BfbWV0cmljcyBpcyBmaXhlZCB0byAxLlxuICAgICAgICAgICAgICAgIGFkZE1ldHJpY1ZhbHVlKHZhbHVlcywgbWV0cmljTmFtZSwgc3RhdHMudG9wWzBdLm1ldHJpY3NbbWV0cmljRmllbGRdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbGV0IG1ldHJpY05hbWUgPSB0aGlzLmdldE1ldHJpY05hbWUobWV0cmljLnR5cGUpO1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJNZXRyaWNzID0gZmlsdGVyKHRhcmdldC5tZXRyaWNzLCB7IHR5cGU6IG1ldHJpYy50eXBlIH0pO1xuXG4gICAgICAgICAgICAvLyBpZiBtb3JlIG9mIHRoZSBzYW1lIG1ldHJpYyB0eXBlIGluY2x1ZGUgZmllbGQgZmllbGQgbmFtZSBpbiBwcm9wZXJ0eVxuICAgICAgICAgICAgaWYgKG90aGVyTWV0cmljcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIGlmIChpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkKG1ldHJpYykpIHtcbiAgICAgICAgICAgICAgICBtZXRyaWNOYW1lICs9ICcgJyArIG1ldHJpYy5maWVsZDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChtZXRyaWMudHlwZSA9PT0gJ2J1Y2tldF9zY3JpcHQnKSB7XG4gICAgICAgICAgICAgICAgLy9Vc2UgdGhlIGZvcm11bGEgaW4gdGhlIGNvbHVtbiBuYW1lXG4gICAgICAgICAgICAgICAgbWV0cmljTmFtZSA9IGdldFNjcmlwdFZhbHVlKG1ldHJpYyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkTWV0cmljVmFsdWUodmFsdWVzLCBtZXRyaWNOYW1lLCBidWNrZXRbbWV0cmljLmlkXS52YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGFibGUucm93cy5wdXNoKHZhbHVlcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBpcyBxdWl0ZSBjb21wbGV4XG4gIC8vIG5lZWQgdG8gcmVjdXJzZSBkb3duIHRoZSBuZXN0ZWQgYnVja2V0cyB0byBidWlsZCBzZXJpZXNcbiAgcHJvY2Vzc0J1Y2tldHMoYWdnczogYW55LCB0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSwgc2VyaWVzTGlzdDogYW55LCB0YWJsZTogVGFibGVNb2RlbCwgcHJvcHM6IGFueSwgZGVwdGg6IG51bWJlcikge1xuICAgIGxldCBidWNrZXQsIGFnZ0RlZjogYW55LCBlc0FnZywgYWdnSWQ7XG4gICAgY29uc3QgbWF4RGVwdGggPSB0YXJnZXQuYnVja2V0QWdncyEubGVuZ3RoIC0gMTtcblxuICAgIGZvciAoYWdnSWQgaW4gYWdncykge1xuICAgICAgYWdnRGVmID0gZmluZCh0YXJnZXQuYnVja2V0QWdncywgeyBpZDogYWdnSWQgfSk7XG4gICAgICBlc0FnZyA9IGFnZ3NbYWdnSWRdO1xuXG4gICAgICBpZiAoIWFnZ0RlZikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlcHRoID09PSBtYXhEZXB0aCkge1xuICAgICAgICBpZiAoYWdnRGVmLnR5cGUgPT09ICdkYXRlX2hpc3RvZ3JhbScpIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NNZXRyaWNzKGVzQWdnLCB0YXJnZXQsIHNlcmllc0xpc3QsIHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnByb2Nlc3NBZ2dyZWdhdGlvbkRvY3MoZXNBZ2csIGFnZ0RlZiwgdGFyZ2V0LCB0YWJsZSwgcHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWVJbmRleCBpbiBlc0FnZy5idWNrZXRzKSB7XG4gICAgICAgICAgYnVja2V0ID0gZXNBZ2cuYnVja2V0c1tuYW1lSW5kZXhdO1xuICAgICAgICAgIHByb3BzID0gY2xvbmUocHJvcHMpO1xuICAgICAgICAgIGlmIChidWNrZXQua2V5ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHByb3BzW2FnZ0RlZi5maWVsZF0gPSBidWNrZXQua2V5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9wc1snZmlsdGVyJ10gPSBuYW1lSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChidWNrZXQua2V5X2FzX3N0cmluZykge1xuICAgICAgICAgICAgcHJvcHNbYWdnRGVmLmZpZWxkXSA9IGJ1Y2tldC5rZXlfYXNfc3RyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb2Nlc3NCdWNrZXRzKGJ1Y2tldCwgdGFyZ2V0LCBzZXJpZXNMaXN0LCB0YWJsZSwgcHJvcHMsIGRlcHRoICsgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldE1ldHJpY05hbWUobWV0cmljOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IG1ldHJpY0RlZiA9IE9iamVjdC5lbnRyaWVzKG1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnKVxuICAgICAgLmZpbHRlcigoW2tleV0pID0+IGtleSA9PT0gbWV0cmljKVxuICAgICAgLm1hcCgoW18sIHZhbHVlXSkgPT4gdmFsdWUpWzBdO1xuXG4gICAgaWYgKG1ldHJpY0RlZikge1xuICAgICAgcmV0dXJuIG1ldHJpY0RlZi5sYWJlbDtcbiAgICB9XG5cbiAgICBjb25zdCBleHRlbmRlZFN0YXQgPSBxdWVyeURlZi5leHRlbmRlZFN0YXRzLmZpbmQoKGUpID0+IGUudmFsdWUgPT09IG1ldHJpYyk7XG4gICAgaWYgKGV4dGVuZGVkU3RhdCkge1xuICAgICAgcmV0dXJuIGV4dGVuZGVkU3RhdC5sYWJlbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0cmljO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZXJpZXNOYW1lKHNlcmllczogYW55LCB0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSwgZGVkdXA6IGJvb2xlYW4pIHtcbiAgICBsZXQgbWV0cmljTmFtZSA9IHRoaXMuZ2V0TWV0cmljTmFtZShzZXJpZXMubWV0cmljKTtcblxuICAgIGlmICh0YXJnZXQuYWxpYXMpIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gL1xce1xceyhbXFxzXFxTXSs/KVxcfVxcfS9nO1xuXG4gICAgICByZXR1cm4gdGFyZ2V0LmFsaWFzLnJlcGxhY2UocmVnZXgsIChtYXRjaDogYW55LCBnMTogYW55LCBnMjogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZzEgfHwgZzI7XG5cbiAgICAgICAgaWYgKGdyb3VwLmluZGV4T2YoJ3Rlcm0gJykgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gc2VyaWVzLnByb3BzW2dyb3VwLnN1YnN0cmluZyg1KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlcmllcy5wcm9wc1tncm91cF0gIT09IHZvaWQgMCkge1xuICAgICAgICAgIHJldHVybiBzZXJpZXMucHJvcHNbZ3JvdXBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncm91cCA9PT0gJ21ldHJpYycpIHtcbiAgICAgICAgICByZXR1cm4gbWV0cmljTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JvdXAgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICByZXR1cm4gc2VyaWVzLmZpZWxkIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5RGVmLmlzUGlwZWxpbmVBZ2coc2VyaWVzLm1ldHJpYykpIHtcbiAgICAgIGlmIChzZXJpZXMubWV0cmljICYmIHF1ZXJ5RGVmLmlzUGlwZWxpbmVBZ2dXaXRoTXVsdGlwbGVCdWNrZXRQYXRocyhzZXJpZXMubWV0cmljKSkge1xuICAgICAgICBjb25zdCBhZ2c6IGFueSA9IGZpbmQodGFyZ2V0Lm1ldHJpY3MsIHsgaWQ6IHNlcmllcy5tZXRyaWNJZCB9KTtcbiAgICAgICAgaWYgKGFnZyAmJiBhZ2cuc2V0dGluZ3Muc2NyaXB0KSB7XG4gICAgICAgICAgbWV0cmljTmFtZSA9IGdldFNjcmlwdFZhbHVlKGFnZyk7XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IHB2IG9mIGFnZy5waXBlbGluZVZhcmlhYmxlcykge1xuICAgICAgICAgICAgY29uc3QgYXBwbGllZEFnZzogYW55ID0gZmluZCh0YXJnZXQubWV0cmljcywgeyBpZDogcHYucGlwZWxpbmVBZ2cgfSk7XG4gICAgICAgICAgICBpZiAoYXBwbGllZEFnZykge1xuICAgICAgICAgICAgICBtZXRyaWNOYW1lID0gbWV0cmljTmFtZS5yZXBsYWNlKCdwYXJhbXMuJyArIHB2Lm5hbWUsIGRlc2NyaWJlTWV0cmljKGFwcGxpZWRBZ2cpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWV0cmljTmFtZSA9ICdVbnNldCc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGFwcGxpZWRBZ2c6IGFueSA9IGZpbmQodGFyZ2V0Lm1ldHJpY3MsIHsgaWQ6IHNlcmllcy5maWVsZCB9KTtcbiAgICAgICAgaWYgKGFwcGxpZWRBZ2cpIHtcbiAgICAgICAgICBtZXRyaWNOYW1lICs9ICcgJyArIGRlc2NyaWJlTWV0cmljKGFwcGxpZWRBZ2cpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1ldHJpY05hbWUgPSAnVW5zZXQnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZXJpZXMuZmllbGQpIHtcbiAgICAgIG1ldHJpY05hbWUgKz0gJyAnICsgc2VyaWVzLmZpZWxkO1xuICAgIH1cblxuICAgIGNvbnN0IHByb3BLZXlzID0ga2V5cyhzZXJpZXMucHJvcHMpO1xuICAgIGlmIChwcm9wS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBtZXRyaWNOYW1lO1xuICAgIH1cblxuICAgIGxldCBuYW1lID0gJyc7XG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBzZXJpZXMucHJvcHMpIHtcbiAgICAgIG5hbWUgKz0gc2VyaWVzLnByb3BzW3Byb3BOYW1lXSArICcgJztcbiAgICB9XG5cbiAgICBpZiAoZGVkdXApIHtcbiAgICAgIHJldHVybiBuYW1lLnRyaW0oKSArICcgJyArIG1ldHJpY05hbWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWUudHJpbSgpO1xuICB9XG5cbiAgbmFtZVNlcmllcyhzZXJpZXNMaXN0OiBhbnksIHRhcmdldDogRWxhc3RpY3NlYXJjaFF1ZXJ5KSB7XG4gICAgY29uc3QgbWV0cmljVHlwZUNvdW50ID0gdW5pcShtYXAoc2VyaWVzTGlzdCwgJ21ldHJpYycpKS5sZW5ndGg7XG4gICAgY29uc3QgaGFzVG9wTWV0cmljV2l0aE11bHRpcGxlTWV0cmljcyA9IChcbiAgICAgIHRhcmdldC5tZXRyaWNzPy5maWx0ZXIoKG0pID0+IG0udHlwZSA9PT0gJ3RvcF9tZXRyaWNzJykgYXMgVG9wTWV0cmljc1tdXG4gICAgKS5zb21lKChtKSA9PiAobT8uc2V0dGluZ3M/Lm1ldHJpY3M/Lmxlbmd0aCB8fCAwKSA+IDEpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzZXJpZXMgPSBzZXJpZXNMaXN0W2ldO1xuICAgICAgc2VyaWVzLnRhcmdldCA9IHRoaXMuZ2V0U2VyaWVzTmFtZShzZXJpZXMsIHRhcmdldCwgbWV0cmljVHlwZUNvdW50ID4gMSB8fCBoYXNUb3BNZXRyaWNXaXRoTXVsdGlwbGVNZXRyaWNzKTtcbiAgICB9XG4gIH1cblxuICBwcm9jZXNzSGl0cyhoaXRzOiB7IHRvdGFsOiB7IHZhbHVlOiBhbnkgfTsgaGl0czogYW55W10gfSwgc2VyaWVzTGlzdDogYW55W10sIHRhcmdldDogRWxhc3RpY3NlYXJjaFF1ZXJ5KSB7XG4gICAgY29uc3QgaGl0c1RvdGFsID0gdHlwZW9mIGhpdHMudG90YWwgPT09ICdudW1iZXInID8gaGl0cy50b3RhbCA6IGhpdHMudG90YWwudmFsdWU7IC8vIDwtIFdvcmtzIHdpdGggRWxhc3RpY3NlYXJjaCA3LjArXG5cbiAgICBjb25zdCBzZXJpZXM6IGFueSA9IHtcbiAgICAgIHRhcmdldDogdGFyZ2V0LnJlZklkLFxuICAgICAgdHlwZTogJ2RvY3MnLFxuICAgICAgcmVmSWQ6IHRhcmdldC5yZWZJZCxcbiAgICAgIGRhdGFwb2ludHM6IFtdLFxuICAgICAgdG90YWw6IGhpdHNUb3RhbCxcbiAgICAgIGZpbHRlcmFibGU6IHRydWUsXG4gICAgfTtcbiAgICBsZXQgcHJvcE5hbWUsIGhpdCwgZG9jOiBhbnksIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgaGl0cy5oaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBoaXQgPSBoaXRzLmhpdHNbaV07XG4gICAgICBkb2MgPSB7XG4gICAgICAgIF9pZDogaGl0Ll9pZCxcbiAgICAgICAgX3R5cGU6IGhpdC5fdHlwZSxcbiAgICAgICAgX2luZGV4OiBoaXQuX2luZGV4LFxuICAgICAgICBzb3J0OiBoaXQuc29ydCxcbiAgICAgICAgaGlnaGxpZ2h0OiBoaXQuaGlnaGxpZ2h0LFxuICAgICAgfTtcblxuICAgICAgaWYgKGhpdC5fc291cmNlKSB7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gaGl0Ll9zb3VyY2UpIHtcbiAgICAgICAgICBkb2NbcHJvcE5hbWVdID0gaGl0Ll9zb3VyY2VbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gaGl0LmZpZWxkcykge1xuICAgICAgICBkb2NbcHJvcE5hbWVdID0gaGl0LmZpZWxkc1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgICBzZXJpZXMuZGF0YXBvaW50cy5wdXNoKGRvYyk7XG4gICAgfVxuXG4gICAgc2VyaWVzTGlzdC5wdXNoKHNlcmllcyk7XG4gIH1cblxuICB0cmltRGF0YXBvaW50cyhhZ2dyZWdhdGlvbnM6IGFueSwgdGFyZ2V0OiBFbGFzdGljc2VhcmNoUXVlcnkpIHtcbiAgICBjb25zdCBoaXN0b2dyYW06IGFueSA9IGZpbmQodGFyZ2V0LmJ1Y2tldEFnZ3MsIHsgdHlwZTogJ2RhdGVfaGlzdG9ncmFtJyB9KTtcblxuICAgIGNvbnN0IHNob3VsZERyb3BGaXJzdEFuZExhc3QgPSBoaXN0b2dyYW0gJiYgaGlzdG9ncmFtLnNldHRpbmdzICYmIGhpc3RvZ3JhbS5zZXR0aW5ncy50cmltRWRnZXM7XG4gICAgaWYgKHNob3VsZERyb3BGaXJzdEFuZExhc3QpIHtcbiAgICAgIGNvbnN0IHRyaW0gPSBoaXN0b2dyYW0uc2V0dGluZ3MudHJpbUVkZ2VzO1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIGFnZ3JlZ2F0aW9ucykge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBhZ2dyZWdhdGlvbnNbcHJvcF07XG4gICAgICAgIGlmIChwb2ludHMuZGF0YXBvaW50cy5sZW5ndGggPiB0cmltICogMikge1xuICAgICAgICAgIHBvaW50cy5kYXRhcG9pbnRzID0gcG9pbnRzLmRhdGFwb2ludHMuc2xpY2UodHJpbSwgcG9pbnRzLmRhdGFwb2ludHMubGVuZ3RoIC0gdHJpbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRFcnJvckZyb21FbGFzdGljUmVzcG9uc2UocmVzcG9uc2U6IGFueSwgZXJyOiBhbnkpIHtcbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICAgIHJlc3VsdC5kYXRhID0gSlNPTi5zdHJpbmdpZnkoZXJyLCBudWxsLCA0KTtcbiAgICBpZiAoZXJyLnJvb3RfY2F1c2UgJiYgZXJyLnJvb3RfY2F1c2UubGVuZ3RoID4gMCAmJiBlcnIucm9vdF9jYXVzZVswXS5yZWFzb24pIHtcbiAgICAgIHJlc3VsdC5tZXNzYWdlID0gZXJyLnJvb3RfY2F1c2VbMF0ucmVhc29uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQubWVzc2FnZSA9IGVyci5yZWFzb24gfHwgJ1Vua25vd24gZWxhc3RpYyBlcnJvciByZXNwb25zZSc7XG4gICAgfVxuXG4gICAgaWYgKHJlc3BvbnNlLiQkY29uZmlnKSB7XG4gICAgICByZXN1bHQuY29uZmlnID0gcmVzcG9uc2UuJCRjb25maWc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGdldFRpbWVTZXJpZXMoKSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0cy5zb21lKCh0YXJnZXQpID0+IHF1ZXJ5RGVmLmhhc01ldHJpY09mVHlwZSh0YXJnZXQsICdyYXdfZGF0YScpKSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3BvbnNlVG9EYXRhRnJhbWVzKGZhbHNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc1Jlc3BvbnNlVG9TZXJpZXMoKTtcbiAgfVxuXG4gIGdldExvZ3MobG9nTWVzc2FnZUZpZWxkPzogc3RyaW5nLCBsb2dMZXZlbEZpZWxkPzogc3RyaW5nKTogRGF0YVF1ZXJ5UmVzcG9uc2Uge1xuICAgIHJldHVybiB0aGlzLnByb2Nlc3NSZXNwb25zZVRvRGF0YUZyYW1lcyh0cnVlLCBsb2dNZXNzYWdlRmllbGQsIGxvZ0xldmVsRmllbGQpO1xuICB9XG5cbiAgcHJpdmF0ZSBwcm9jZXNzUmVzcG9uc2VUb0RhdGFGcmFtZXMoXG4gICAgaXNMb2dzUmVxdWVzdDogYm9vbGVhbixcbiAgICBsb2dNZXNzYWdlRmllbGQ/OiBzdHJpbmcsXG4gICAgbG9nTGV2ZWxGaWVsZD86IHN0cmluZ1xuICApOiBEYXRhUXVlcnlSZXNwb25zZSB7XG4gICAgY29uc3QgZGF0YUZyYW1lOiBEYXRhRnJhbWVbXSA9IFtdO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgdGhpcy5yZXNwb25zZS5yZXNwb25zZXMubGVuZ3RoOyBuKyspIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gdGhpcy5yZXNwb25zZS5yZXNwb25zZXNbbl07XG4gICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5nZXRFcnJvckZyb21FbGFzdGljUmVzcG9uc2UodGhpcy5yZXNwb25zZSwgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2UuaGl0cykge1xuICAgICAgICBjb25zdCB7IHByb3BOYW1lcywgZG9jcyB9ID0gZmxhdHRlbkhpdHMocmVzcG9uc2UuaGl0cy5oaXRzKTtcblxuICAgICAgICBjb25zdCBzZXJpZXMgPSBkb2NzLmxlbmd0aFxuICAgICAgICAgID8gY3JlYXRlRW1wdHlEYXRhRnJhbWUoXG4gICAgICAgICAgICAgIHByb3BOYW1lcy5tYXAodG9OYW1lVHlwZVBhaXIoZG9jcykpLFxuICAgICAgICAgICAgICBpc0xvZ3NSZXF1ZXN0LFxuICAgICAgICAgICAgICB0aGlzLnRhcmdldHNbMF0udGltZUZpZWxkLFxuICAgICAgICAgICAgICBsb2dNZXNzYWdlRmllbGQsXG4gICAgICAgICAgICAgIGxvZ0xldmVsRmllbGRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNyZWF0ZUVtcHR5RGF0YUZyYW1lKFtdLCBpc0xvZ3NSZXF1ZXN0KTtcblxuICAgICAgICBpZiAoaXNMb2dzUmVxdWVzdCkge1xuICAgICAgICAgIGFkZFByZWZlcnJlZFZpc3VhbGlzYXRpb25UeXBlKHNlcmllcywgJ2xvZ3MnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBhIHJvdyBmb3IgZWFjaCBkb2N1bWVudFxuICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2NzKSB7XG4gICAgICAgICAgaWYgKGxvZ0xldmVsRmllbGQpIHtcbiAgICAgICAgICAgIC8vIFJlbWFwIGxldmVsIGZpZWxkIGJhc2VkIG9uIHRoZSBkYXRhc291cmNlIGNvbmZpZy4gVGhpcyBmaWVsZCBpc1xuICAgICAgICAgICAgLy8gdGhlbiB1c2VkIGluIGV4cGxvcmUgdG8gZmlndXJlIG91dCB0aGUgbG9nIGxldmVsLiBXZSBtYXkgcmV3cml0ZVxuICAgICAgICAgICAgLy8gc29tZSBhY3R1YWwgZGF0YSBpbiB0aGUgbGV2ZWwgZmllbGQgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICAgICAgZG9jWydsZXZlbCddID0gZG9jW2xvZ0xldmVsRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBXaGVuIGhpZ2hsaWdodGluZyBleGlzdHMsIHdlIG5lZWQgdG8gY29sbGVjdCBhbGwgdGhlIGhpZ2hsaWdodGVkXG4gICAgICAgICAgLy8gcGhyYXNlcyBhbmQgYWRkIHRoZW0gdG8gdGhlIERhdGFGcmFtZSdzIG1ldGEuc2VhcmNoV29yZHMgYXJyYXkuXG4gICAgICAgICAgaWYgKGRvYy5oaWdobGlnaHQpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIHdvcmRzIHNvIHdlIG5lZWQgdHdvIHZlcnNpb25zIG9mIHRoZVxuICAgICAgICAgICAgLy8gcmVndWxhciBleHByZXNzaW9uLiBPbmUgdG8gbWF0Y2ggZ29iYWxseSwgd2hlbiB1c2VkIHdpdGggcGFydC5tYXRjaCxcbiAgICAgICAgICAgIC8vIGl0IHJldHVybnMgYW5kIGFycmF5IG9mIG1hdGNoZXMuIFRoZSBzZWNvbmQgb25lIGlzIHVzZWQgdG8gY2FwdHVyZSB0aGVcbiAgICAgICAgICAgIC8vIHZhbHVlcyBiZXR3ZWVuIHRoZSB0YWdzLlxuICAgICAgICAgICAgY29uc3QgZ2xvYmFsSGlnaGxpZ2h0V29yZFJlZ2V4ID0gbmV3IFJlZ0V4cChISUdITElHSFRfVEFHU19FWFAsICdnJyk7XG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHRXb3JkUmVnZXggPSBuZXcgUmVnRXhwKEhJR0hMSUdIVF9UQUdTX0VYUCk7XG4gICAgICAgICAgICBjb25zdCBuZXdTZWFyY2hXb3JkcyA9IE9iamVjdC5rZXlzKGRvYy5oaWdobGlnaHQpXG4gICAgICAgICAgICAgIC5mbGF0TWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jLmhpZ2hsaWdodFtrZXldLmZsYXRNYXAoKGxpbmU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFBocmFzZXMgPSBsaW5lLm1hdGNoKGdsb2JhbEhpZ2hsaWdodFdvcmRSZWdleCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRQaHJhc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVkUGhyYXNlcy5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHBhcnQubWF0Y2goaGlnaGxpZ2h0V29yZFJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtYXRjaGVzICYmIG1hdGNoZXNbMV0pIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmZpbHRlcihpZGVudGl0eSk7XG4gICAgICAgICAgICAvLyBJZiBtZXRhIGFuZCBzZWFyY2hXb3JkcyBhbHJlYWR5IGV4aXN0cywgYWRkIHRoZSB3b3JkcyBhbmRcbiAgICAgICAgICAgIC8vIGRlZHVwbGljYXRlIG90aGVyd2lzZSBjcmVhdGUgYSBuZXcgc2V0IG9mIHNlYXJjaCB3b3Jkcy5cbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFdvcmRzID0gc2VyaWVzLm1ldGE/LnNlYXJjaFdvcmRzXG4gICAgICAgICAgICAgID8gdW5pcShbLi4uc2VyaWVzLm1ldGEuc2VhcmNoV29yZHMsIC4uLm5ld1NlYXJjaFdvcmRzXSlcbiAgICAgICAgICAgICAgOiBbLi4ubmV3U2VhcmNoV29yZHNdO1xuICAgICAgICAgICAgc2VyaWVzLm1ldGEgPSBzZXJpZXMubWV0YSA/IHsgLi4uc2VyaWVzLm1ldGEsIHNlYXJjaFdvcmRzIH0gOiB7IHNlYXJjaFdvcmRzIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcmllcy5hZGQoZG9jKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0c1tuXTtcbiAgICAgICAgc2VyaWVzLnJlZklkID0gdGFyZ2V0LnJlZklkO1xuICAgICAgICBkYXRhRnJhbWUucHVzaChzZXJpZXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2UuYWdncmVnYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFnZ3JlZ2F0aW9ucyA9IHJlc3BvbnNlLmFnZ3JlZ2F0aW9ucztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXRzW25dO1xuICAgICAgICBjb25zdCB0bXBTZXJpZXNMaXN0OiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCB0YWJsZSA9IG5ldyBUYWJsZU1vZGVsKCk7XG5cbiAgICAgICAgdGhpcy5wcm9jZXNzQnVja2V0cyhhZ2dyZWdhdGlvbnMsIHRhcmdldCwgdG1wU2VyaWVzTGlzdCwgdGFibGUsIHt9LCAwKTtcbiAgICAgICAgdGhpcy50cmltRGF0YXBvaW50cyh0bXBTZXJpZXNMaXN0LCB0YXJnZXQpO1xuICAgICAgICB0aGlzLm5hbWVTZXJpZXModG1wU2VyaWVzTGlzdCwgdGFyZ2V0KTtcblxuICAgICAgICBpZiAodGFibGUucm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3Qgc2VyaWVzID0gdG9EYXRhRnJhbWUodGFibGUpO1xuICAgICAgICAgIHNlcmllcy5yZWZJZCA9IHRhcmdldC5yZWZJZDtcbiAgICAgICAgICBkYXRhRnJhbWUucHVzaChzZXJpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0bXBTZXJpZXNMaXN0Lmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgbGV0IHNlcmllcyA9IHRvRGF0YUZyYW1lKHRtcFNlcmllc0xpc3RbeV0pO1xuXG4gICAgICAgICAgLy8gV2hlbiBsb2cgcmVzdWx0cywgc2hvdyBhZ2dyZWdhdGlvbnMgb25seSBpbiBncmFwaC4gTG9nIGZpZWxkcyBhcmUgdGhlbiBnb2luZyB0byBiZSBzaG93biBpbiB0YWJsZS5cbiAgICAgICAgICBpZiAoaXNMb2dzUmVxdWVzdCkge1xuICAgICAgICAgICAgYWRkUHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGUoc2VyaWVzLCAnZ3JhcGgnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXJpZXMucmVmSWQgPSB0YXJnZXQucmVmSWQ7XG4gICAgICAgICAgZGF0YUZyYW1lLnB1c2goc2VyaWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGRhdGE6IGRhdGFGcmFtZSB9O1xuICB9XG5cbiAgcHJvY2Vzc1Jlc3BvbnNlVG9TZXJpZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2VyaWVzTGlzdCA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlLnJlc3BvbnNlc1tpXTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0c1tpXTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgIHRocm93IHRoaXMuZ2V0RXJyb3JGcm9tRWxhc3RpY1Jlc3BvbnNlKHRoaXMucmVzcG9uc2UsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLmhpdHMgJiYgcmVzcG9uc2UuaGl0cy5oaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzSGl0cyhyZXNwb25zZS5oaXRzLCBzZXJpZXNMaXN0LCB0YXJnZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2UuYWdncmVnYXRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFnZ3JlZ2F0aW9ucyA9IHJlc3BvbnNlLmFnZ3JlZ2F0aW9ucztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXRzW2ldO1xuICAgICAgICBjb25zdCB0bXBTZXJpZXNMaXN0OiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCB0YWJsZSA9IG5ldyBUYWJsZU1vZGVsKCk7XG4gICAgICAgIHRhYmxlLnJlZklkID0gdGFyZ2V0LnJlZklkO1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0J1Y2tldHMoYWdncmVnYXRpb25zLCB0YXJnZXQsIHRtcFNlcmllc0xpc3QsIHRhYmxlLCB7fSwgMCk7XG4gICAgICAgIHRoaXMudHJpbURhdGFwb2ludHModG1wU2VyaWVzTGlzdCwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5uYW1lU2VyaWVzKHRtcFNlcmllc0xpc3QsIHRhcmdldCk7XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0bXBTZXJpZXNMaXN0Lmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgc2VyaWVzTGlzdC5wdXNoKHRtcFNlcmllc0xpc3RbeV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhYmxlLnJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNlcmllc0xpc3QucHVzaCh0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBkYXRhOiBzZXJpZXNMaXN0IH07XG4gIH07XG59XG5cbnR5cGUgRG9jID0ge1xuICBfaWQ6IHN0cmluZztcbiAgX3R5cGU6IHN0cmluZztcbiAgX2luZGV4OiBzdHJpbmc7XG4gIF9zb3VyY2U/OiBhbnk7XG4gIHNvcnQ/OiBBcnJheTxzdHJpbmcgfCBudW1iZXI+O1xuICBoaWdobGlnaHQ/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT47XG59O1xuXG4vKipcbiAqIEZsYXR0ZW4gdGhlIGRvY3MgZnJvbSByZXNwb25zZSBtYWlubHkgdGhlIF9zb3VyY2UgcGFydCB3aGljaCBjYW4gYmUgbmVzdGVkLiBUaGlzIGZsYXR0ZW5zIGl0IHNvIHRoYXQgaXQgaXMgb25lIGxldmVsXG4gKiBkZWVwIGFuZCB0aGUga2V5cyBhcmU6IGBsZXZlbDFOYW1lLmxldmVsMk5hbWUuLi5gLiBBbHNvIHJldHVybnMgbGlzdCBvZiBhbGwgcHJvcGVydGllcyBmcm9tIGFsbCB0aGUgZG9jcyAobm90IGFsbFxuICogZG9jcyBoYXZlIHRvIGhhdmUgdGhlIHNhbWUga2V5cykuXG4gKiBAcGFyYW0gaGl0c1xuICovXG5jb25zdCBmbGF0dGVuSGl0cyA9IChoaXRzOiBEb2NbXSk6IHsgZG9jczogQXJyYXk8UmVjb3JkPHN0cmluZywgYW55Pj47IHByb3BOYW1lczogc3RyaW5nW10gfSA9PiB7XG4gIGNvbnN0IGRvY3M6IGFueVtdID0gW107XG4gIC8vIFdlIGtlZXAgYSBsaXN0IG9mIGFsbCBwcm9wcyBzbyB0aGF0IHdlIGNhbiBjcmVhdGUgYWxsIHRoZSBmaWVsZHMgaW4gdGhlIGRhdGFGcmFtZSwgdGhpcyBjYW4gbGVhZFxuICAvLyB0byB3aWRlIHNwYXJzZSBkYXRhZnJhbWVzIGluIGNhc2UgdGhlIHNjaGVtZSBpcyBkaWZmZXJlbnQgcGVyIGRvY3VtZW50LlxuICBsZXQgcHJvcE5hbWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgaGl0IG9mIGhpdHMpIHtcbiAgICBjb25zdCBmbGF0dGVuZWQgPSBoaXQuX3NvdXJjZSA/IGZsYXR0ZW4oaGl0Ll9zb3VyY2UpIDoge307XG4gICAgY29uc3QgZG9jID0ge1xuICAgICAgX2lkOiBoaXQuX2lkLFxuICAgICAgX3R5cGU6IGhpdC5fdHlwZSxcbiAgICAgIF9pbmRleDogaGl0Ll9pbmRleCxcbiAgICAgIHNvcnQ6IGhpdC5zb3J0LFxuICAgICAgaGlnaGxpZ2h0OiBoaXQuaGlnaGxpZ2h0LFxuICAgICAgX3NvdXJjZTogeyAuLi5mbGF0dGVuZWQgfSxcbiAgICAgIC4uLmZsYXR0ZW5lZCxcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBvZiBPYmplY3Qua2V5cyhkb2MpKSB7XG4gICAgICBpZiAocHJvcE5hbWVzLmluZGV4T2YocHJvcE5hbWUpID09PSAtMSkge1xuICAgICAgICBwcm9wTmFtZXMucHVzaChwcm9wTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jcy5wdXNoKGRvYyk7XG4gIH1cblxuICBwcm9wTmFtZXMuc29ydCgpO1xuICByZXR1cm4geyBkb2NzLCBwcm9wTmFtZXMgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGVtcHR5IGRhdGFmcmFtZSBidXQgd2l0aCBjcmVhdGVkIGZpZWxkcy4gRmllbGRzIGFyZSBiYXNlZCBmcm9tIHByb3BOYW1lcyAoc2hvdWxkIGJlIGZyb20gdGhlIHJlc3BvbnNlKSBhbmRcbiAqIGFsc28gZnJvbSBjb25maWd1cmF0aW9uIHNwZWNpZmllZCBmaWVsZHMgZm9yIG1lc3NhZ2UsIHRpbWUsIGFuZCBsZXZlbC5cbiAqIEBwYXJhbSBwcm9wTmFtZXNcbiAqIEBwYXJhbSB0aW1lRmllbGRcbiAqIEBwYXJhbSBsb2dNZXNzYWdlRmllbGRcbiAqIEBwYXJhbSBsb2dMZXZlbEZpZWxkXG4gKi9cbmNvbnN0IGNyZWF0ZUVtcHR5RGF0YUZyYW1lID0gKFxuICBwcm9wczogQXJyYXk8W3N0cmluZywgRmllbGRUeXBlXT4sXG4gIGlzTG9nc1JlcXVlc3Q6IGJvb2xlYW4sXG4gIHRpbWVGaWVsZD86IHN0cmluZyxcbiAgbG9nTWVzc2FnZUZpZWxkPzogc3RyaW5nLFxuICBsb2dMZXZlbEZpZWxkPzogc3RyaW5nXG4pOiBNdXRhYmxlRGF0YUZyYW1lID0+IHtcbiAgY29uc3Qgc2VyaWVzID0gbmV3IE11dGFibGVEYXRhRnJhbWUoeyBmaWVsZHM6IFtdIH0pO1xuXG4gIGlmICh0aW1lRmllbGQpIHtcbiAgICBzZXJpZXMuYWRkRmllbGQoe1xuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGZpbHRlcmFibGU6IHRydWUsXG4gICAgICB9LFxuICAgICAgbmFtZTogdGltZUZpZWxkLFxuICAgICAgdHlwZTogRmllbGRUeXBlLnRpbWUsXG4gICAgfSk7XG4gIH1cblxuICBpZiAobG9nTWVzc2FnZUZpZWxkKSB7XG4gICAgY29uc3QgZiA9IHNlcmllcy5hZGRGaWVsZCh7XG4gICAgICBuYW1lOiBsb2dNZXNzYWdlRmllbGQsXG4gICAgICB0eXBlOiBGaWVsZFR5cGUuc3RyaW5nLFxuICAgIH0pO1xuICAgIHNlcmllcy5zZXRQYXJzZXIoZiwgKHY6IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIHYgfHwgJyc7XG4gICAgfSk7XG4gIH1cblxuICBpZiAobG9nTGV2ZWxGaWVsZCkge1xuICAgIGNvbnN0IGYgPSBzZXJpZXMuYWRkRmllbGQoe1xuICAgICAgbmFtZTogJ2xldmVsJyxcbiAgICAgIHR5cGU6IEZpZWxkVHlwZS5zdHJpbmcsXG4gICAgfSk7XG4gICAgc2VyaWVzLnNldFBhcnNlcihmLCAodjogYW55KSA9PiB7XG4gICAgICByZXR1cm4gdiB8fCAnJztcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGZpZWxkTmFtZXMgPSBzZXJpZXMuZmllbGRzLm1hcCgoZmllbGQpID0+IGZpZWxkLm5hbWUpO1xuXG4gIGZvciAoY29uc3QgW25hbWUsIHR5cGVdIG9mIHByb3BzKSB7XG4gICAgLy8gRG8gbm90IGR1cGxpY2F0ZSBmaWVsZHMuIFRoaXMgY2FuIG1lYW4gdGhhdCB3ZSB3aWxsIHNoYWRvdyBzb21lIGZpZWxkcy5cbiAgICBpZiAoZmllbGROYW1lcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIERvIG5vdCBhZGQgX3NvdXJjZSBmaWVsZCAoYmVzaWRlcyBsb2dzKSBhcyB3ZSBhcmUgc2hvd2luZyBlYWNoIF9zb3VyY2UgZmllbGQgaW4gdGFibGUgaW5zdGVhZC5cbiAgICBpZiAoIWlzTG9nc1JlcXVlc3QgJiYgbmFtZSA9PT0gJ19zb3VyY2UnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBmID0gc2VyaWVzLmFkZEZpZWxkKHtcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBmaWx0ZXJhYmxlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIG5hbWUsXG4gICAgICB0eXBlLFxuICAgIH0pO1xuICAgIHNlcmllcy5zZXRQYXJzZXIoZiwgKHY6IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIHYgfHwgJyc7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VyaWVzO1xufTtcblxuY29uc3QgYWRkUHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGUgPSAoc2VyaWVzOiBhbnksIHR5cGU6IFByZWZlcnJlZFZpc3VhbGlzYXRpb25UeXBlKSA9PiB7XG4gIGxldCBzID0gc2VyaWVzO1xuICBzLm1ldGFcbiAgICA/IChzLm1ldGEucHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGUgPSB0eXBlKVxuICAgIDogKHMubWV0YSA9IHtcbiAgICAgICAgcHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGU6IHR5cGUsXG4gICAgICB9KTtcbn07XG5cbmNvbnN0IHRvTmFtZVR5cGVQYWlyID1cbiAgKGRvY3M6IEFycmF5PFJlY29yZDxzdHJpbmcsIGFueT4+KSA9PlxuICAocHJvcE5hbWU6IHN0cmluZyk6IFtzdHJpbmcsIEZpZWxkVHlwZV0gPT5cbiAgICBbcHJvcE5hbWUsIGd1ZXNzVHlwZShkb2NzLmZpbmQoKGRvYykgPT4gZG9jW3Byb3BOYW1lXSAhPT0gdW5kZWZpbmVkKT8uW3Byb3BOYW1lXSldO1xuXG4vKipcbiAqIFRyeWluZyB0byBndWVzcyBkYXRhIHR5cGUgZnJvbSBpdHMgdmFsdWUuIFRoaXMgaXMgZmFyIGZyb20gcGVyZmVjdCwgYXMgaW4gb3JkZXIgdG8gaGF2ZSBhY2N1cmF0ZSBndWVzc1xuICogd2Ugc2hvdWxkIGhhdmUgYWNjZXNzIHRvIHRoZSBlbGFzdGljc2VhcmNoIG1hcHBpbmcsIGJ1dCBpdCBjb3ZlcnMgdGhlIG1vc3QgY29tbW9uIHVzZSBjYXNlcyBmb3IgbnVtYmVycywgc3RyaW5ncyAmIGFycmF5cy5cbiAqL1xuY29uc3QgZ3Vlc3NUeXBlID0gKHZhbHVlOiB1bmtub3duKTogRmllbGRUeXBlID0+IHtcbiAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIEZpZWxkVHlwZS5udW1iZXI7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBGaWVsZFR5cGUuc3RyaW5nO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gRmllbGRUeXBlLm90aGVyO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgbGFzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBNZXRyaWNGaW5kVmFsdWUsIFNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuXG5pbXBvcnQge1xuICBCdWNrZXRBZ2dyZWdhdGlvblR5cGUsXG4gIGlzQnVja2V0QWdncmVnYXRpb25UeXBlLFxufSBmcm9tICcuLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvci9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgdXNlRGF0YXNvdXJjZSwgdXNlUmFuZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL0VsYXN0aWNzZWFyY2hRdWVyeUNvbnRleHQnO1xuaW1wb3J0IHtcbiAgaXNNZXRyaWNBZ2dyZWdhdGlvblR5cGUsXG4gIE1ldHJpY0FnZ3JlZ2F0aW9uVHlwZSxcbn0gZnJvbSAnLi4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcblxudHlwZSBBZ2dyZWdhdGlvblR5cGUgPSBCdWNrZXRBZ2dyZWdhdGlvblR5cGUgfCBNZXRyaWNBZ2dyZWdhdGlvblR5cGU7XG5cbmNvbnN0IGdldEZpbHRlciA9ICh0eXBlOiBBZ2dyZWdhdGlvblR5cGUpID0+IHtcbiAgaWYgKGlzTWV0cmljQWdncmVnYXRpb25UeXBlKHR5cGUpKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdjYXJkaW5hbGl0eSc6XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIGNhc2UgJ3RvcF9tZXRyaWNzJzpcbiAgICAgICAgLy8gdG9wX21ldHJpY3Mgd2FzIGludHJvZHVjZWQgaW4gNy43IHdoZXJlIGBtZXRyaWNzYCBvbmx5IHN1cHBvcnRlZCBudW1iZXI6XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvNy43L3NlYXJjaC1hZ2dyZWdhdGlvbnMtbWV0cmljcy10b3AtbWV0cmljcy5odG1sI19tZXRyaWNzXG4gICAgICAgIC8vIFRPRE86IHN0YXJ0aW5nIGZyb20gNy4xMSBpdCBzdXBwb3J0cyBpcHMgYW5kIGtleXdvcmRzIGFzIHdlbGw6XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LmVsYXN0aWMuY28vZ3VpZGUvZW4vZWxhc3RpY3NlYXJjaC9yZWZlcmVuY2UvNy4xMS9zZWFyY2gtYWdncmVnYXRpb25zLW1ldHJpY3MtdG9wLW1ldHJpY3MuaHRtbCNfbWV0cmljc1xuICAgICAgICByZXR1cm4gWydudW1iZXInXTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbJ251bWJlciddO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0J1Y2tldEFnZ3JlZ2F0aW9uVHlwZSh0eXBlKSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnZGF0ZV9oaXN0b2dyYW0nOlxuICAgICAgICByZXR1cm4gWydkYXRlJ107XG4gICAgICBjYXNlICdnZW9oYXNoX2dyaWQnOlxuICAgICAgICByZXR1cm4gWydnZW9fcG9pbnQnXTtcbiAgICAgIGNhc2UgJ2hpc3RvZ3JhbSc6XG4gICAgICAgIHJldHVybiBbJ251bWJlciddO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBbXTtcbn07XG5cbmNvbnN0IHRvU2VsZWN0YWJsZVZhbHVlID0gKHsgdGV4dCB9OiBNZXRyaWNGaW5kVmFsdWUpOiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPiA9PiAoe1xuICBsYWJlbDogdGV4dCxcbiAgdmFsdWU6IHRleHQsXG59KTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gcXVlcnkgdGhlIGNvbmZpZ3VyZWQgZGF0YXNvdXJjZSBmb3IgYXV0b2NvbXBsZXRlIHZhbHVlcyBmb3IgdGhlIHNwZWNpZmllZCBhZ2dyZWdhdGlvbiB0eXBlIG9yIGRhdGEgdHlwZXMuXG4gKiBFYWNoIGFnZ3JlZ2F0aW9uIGNhbiBiZSBydW4gb24gZGlmZmVyZW50IHR5cGVzLCBmb3IgZXhhbXBsZSBhdmcgb25seSBvcGVyYXRlcyBvbiBudW1lcmljIGZpZWxkcywgZ2VvaGFzaF9ncmlkIG9ubHkgb24gZ2VvX3BvaW50IGZpZWxkcy5cbiAqIElmIGFuIGFnZ3JlZ2F0aW9uIHR5cGUgaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIHdpbGwgcmVzb2x2ZSB3aXRoIGFsbCBmaWVsZHMgc3VpdGFibGUgdG8gYmUgdXNlZCBhcyBhIGZpZWxkIGZvciB0aGUgZ2l2ZW4gYWdncmVnYXRpb24uXG4gKiBJZiBhbiBhcnJheSBvZiB0eXBlcyBpcyBwcm92aWRlbSB0aGUgcHJvbWlzZSB3aWxsIHJlc29sdmUgd2l0aCBhbGwgdGhlIGZpZWxkcyBtYXRjaGluZyB0aGUgcHJvdmlkZWQgdHlwZXMuXG4gKiBAcGFyYW0gYWdncmVnYXRpb25UeXBlIHRoZSB0eXBlIG9mIGFnZ3JlZ2F0aW9uIHRvIGdldCBmaWVsZHMgZm9yXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VGaWVsZHMgPSAodHlwZTogQWdncmVnYXRpb25UeXBlIHwgc3RyaW5nW10pID0+IHtcbiAgY29uc3QgZGF0YXNvdXJjZSA9IHVzZURhdGFzb3VyY2UoKTtcbiAgY29uc3QgcmFuZ2UgPSB1c2VSYW5nZSgpO1xuICBjb25zdCBmaWx0ZXIgPSBBcnJheS5pc0FycmF5KHR5cGUpID8gdHlwZSA6IGdldEZpbHRlcih0eXBlKTtcbiAgbGV0IHJhd0ZpZWxkczogTWV0cmljRmluZFZhbHVlW107XG5cbiAgcmV0dXJuIGFzeW5jIChxPzogc3RyaW5nKSA9PiB7XG4gICAgLy8gX21hcHBpbmcgZG9lc24ndCBzdXBwb3J0IGZpbHRlcmluZywgd2UgYXZvaWQgc2VuZGluZyBhIHJlcXVlc3QgZXZlcnl0aW1lIHEgY2hhbmdlc1xuICAgIGlmICghcmF3RmllbGRzKSB7XG4gICAgICByYXdGaWVsZHMgPSBhd2FpdCBsYXN0VmFsdWVGcm9tKGRhdGFzb3VyY2UuZ2V0RmllbGRzKGZpbHRlciwgcmFuZ2UpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmF3RmllbGRzLmZpbHRlcigoeyB0ZXh0IH0pID0+IHEgPT09IHVuZGVmaW5lZCB8fCB0ZXh0LmluY2x1ZGVzKHEpKS5tYXAodG9TZWxlY3RhYmxlVmFsdWUpO1xuICB9O1xufTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEJ1Y2tldEFnZ3JlZ2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnLi4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9FbGFzdGljc2VhcmNoUXVlcnlDb250ZXh0JztcbmltcG9ydCB7IE1ldHJpY0FnZ3JlZ2F0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcblxuY29uc3QgdG9JZCA9IDxUIGV4dGVuZHMgeyBpZDogdW5rbm93biB9PihlOiBUKTogVFsnaWQnXSA9PiBlLmlkO1xuXG5jb25zdCB0b0ludCA9IChpZFN0cmluZzogc3RyaW5nKSA9PiBwYXJzZUludChpZFN0cmluZywgMTApO1xuXG5leHBvcnQgY29uc3QgdXNlTmV4dElkID0gKCk6IE1ldHJpY0FnZ3JlZ2F0aW9uWydpZCddIHwgQnVja2V0QWdncmVnYXRpb25bJ2lkJ10gPT4ge1xuICBjb25zdCB7IG1ldHJpY3MsIGJ1Y2tldEFnZ3MgfSA9IHVzZVF1ZXJ5KCk7XG5cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIChNYXRoLm1heCguLi5bLi4uKG1ldHJpY3M/Lm1hcCh0b0lkKSB8fCBbJzAnXSksIC4uLihidWNrZXRBZ2dzPy5tYXAodG9JZCkgfHwgWycwJ10pXS5tYXAodG9JbnQpKSArIDEpLnRvU3RyaW5nKCksXG4gICAgW21ldHJpY3MsIGJ1Y2tldEFnZ3NdXG4gICk7XG59O1xuIiwiaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IHR5cGUgUmVkdWNlcjxTLCBBIGV4dGVuZHMgQWN0aW9uPiA9IChzdGF0ZTogUywgYWN0aW9uOiBBKSA9PiBTO1xuXG5leHBvcnQgY29uc3QgY29tYmluZVJlZHVjZXJzID1cbiAgPFMsIEEgZXh0ZW5kcyBBY3Rpb24gPSBBY3Rpb24+KHJlZHVjZXJzOiB7IFtQIGluIGtleW9mIFNdOiBSZWR1Y2VyPFNbUF0sIEE+IH0pID0+XG4gIChzdGF0ZTogUywgYWN0aW9uOiBBKTogUGFydGlhbDxTPiA9PiB7XG4gICAgY29uc3QgbmV3U3RhdGUgPSB7fSBhcyBTO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJlZHVjZXJzKSB7XG4gICAgICBuZXdTdGF0ZVtrZXldID0gcmVkdWNlcnNba2V5XShzdGF0ZVtrZXldLCBhY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG4gIH07XG5cbmV4cG9ydCBjb25zdCB1c2VTdGF0ZWxlc3NSZWR1Y2VyID0gPFN0YXRlLCBBID0gQWN0aW9uPihcbiAgb25DaGFuZ2U6ICh2YWx1ZTogU3RhdGUpID0+IHZvaWQsXG4gIHN0YXRlOiBTdGF0ZSxcbiAgcmVkdWNlcjogKHN0YXRlOiBTdGF0ZSwgYWN0aW9uOiBBKSA9PiBTdGF0ZVxuKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQ2FsbGJhY2soXG4gICAgKGFjdGlvbjogQSkgPT4ge1xuICAgICAgb25DaGFuZ2UocmVkdWNlcihzdGF0ZSwgYWN0aW9uKSk7XG4gICAgfSxcbiAgICBbb25DaGFuZ2UsIHN0YXRlLCByZWR1Y2VyXVxuICApO1xuXG4gIHJldHVybiBkaXNwYXRjaDtcbn07XG5cbmV4cG9ydCBjb25zdCBEaXNwYXRjaENvbnRleHQgPSBjcmVhdGVDb250ZXh0PCgoYWN0aW9uOiBBY3Rpb24pID0+IHZvaWQpIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgY29uc3QgdXNlRGlzcGF0Y2ggPSA8VCBleHRlbmRzIEFjdGlvbiA9IEFjdGlvbj4oKTogKChhY3Rpb246IFQpID0+IHZvaWQpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VDb250ZXh0KERpc3BhdGNoQ29udGV4dCk7XG5cbiAgaWYgKCFkaXNwYXRjaCkge1xuICAgIHRocm93IG5ldyBFcnJvcignVXNlIERpc3BhdGNoQ29udGV4dCBmaXJzdC4nKTtcbiAgfVxuXG4gIHJldHVybiBkaXNwYXRjaDtcbn07XG4iLCJpbXBvcnQgeyB0b1V0YywgZGF0ZVRpbWUsIERhdGVUaW1lLCBEdXJhdGlvblVuaXQgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuaW1wb3J0IHsgSW50ZXJ2YWwgfSBmcm9tICcuL3R5cGVzJztcblxudHlwZSBJbnRlcnZhbE1hcCA9IFJlY29yZDxcbiAgSW50ZXJ2YWwsXG4gIHtcbiAgICBzdGFydE9mOiBEdXJhdGlvblVuaXQ7XG4gICAgYW1vdW50OiBEdXJhdGlvblVuaXQ7XG4gIH1cbj47XG5cbmNvbnN0IGludGVydmFsTWFwOiBJbnRlcnZhbE1hcCA9IHtcbiAgSG91cmx5OiB7IHN0YXJ0T2Y6ICdob3VyJywgYW1vdW50OiAnaG91cnMnIH0sXG4gIERhaWx5OiB7IHN0YXJ0T2Y6ICdkYXknLCBhbW91bnQ6ICdkYXlzJyB9LFxuICBXZWVrbHk6IHsgc3RhcnRPZjogJ2lzb1dlZWsnLCBhbW91bnQ6ICd3ZWVrcycgfSxcbiAgTW9udGhseTogeyBzdGFydE9mOiAnbW9udGgnLCBhbW91bnQ6ICdtb250aHMnIH0sXG4gIFllYXJseTogeyBzdGFydE9mOiAneWVhcicsIGFtb3VudDogJ3llYXJzJyB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEluZGV4UGF0dGVybiB7XG4gIHByaXZhdGUgZGF0ZUxvY2FsZSA9ICdlbic7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXR0ZXJuOiBzdHJpbmcsIHByaXZhdGUgaW50ZXJ2YWw/OiBrZXlvZiB0eXBlb2YgaW50ZXJ2YWxNYXApIHt9XG5cbiAgZ2V0SW5kZXhGb3JUb2RheSgpIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbCkge1xuICAgICAgcmV0dXJuIHRvVXRjKCkubG9jYWxlKHRoaXMuZGF0ZUxvY2FsZSkuZm9ybWF0KHRoaXMucGF0dGVybik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnBhdHRlcm47XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5kZXhMaXN0KGZyb20/OiBEYXRlVGltZSwgdG8/OiBEYXRlVGltZSkge1xuICAgIC8vIFdoZW4gbm8gYGZyb21gIG9yIGB0b2AgaXMgcHJvdmlkZWQsIHdlIHJlcXVlc3QgZGF0YSBmcm9tIDcgc3Vic2VxdWVudC9wcmV2aW91cyBpbmRpY2VzXG4gICAgLy8gZm9yIHRoZSBwcm92aWRlZCBpbmRleCBwYXR0ZXJuLlxuICAgIC8vIFRoaXMgaXMgdXNlZnVsIHdoZW4gcmVxdWVzdGluZyBsb2cgY29udGV4dCB3aGVyZSB0aGUgb25seSB0aW1lIGRhdGEgd2UgaGF2ZSBpcyB0aGUgbG9nXG4gICAgLy8gdGltZXN0YW1wLlxuICAgIGNvbnN0IGluZGV4T2Zmc2V0ID0gNztcbiAgICBpZiAoIXRoaXMuaW50ZXJ2YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhdHRlcm47XG4gICAgfVxuXG4gICAgY29uc3QgaW50ZXJ2YWxJbmZvID0gaW50ZXJ2YWxNYXBbdGhpcy5pbnRlcnZhbF07XG4gICAgY29uc3Qgc3RhcnQgPSBkYXRlVGltZShmcm9tIHx8IGRhdGVUaW1lKHRvKS5hZGQoLWluZGV4T2Zmc2V0LCBpbnRlcnZhbEluZm8uYW1vdW50KSlcbiAgICAgIC51dGMoKVxuICAgICAgLnN0YXJ0T2YoaW50ZXJ2YWxJbmZvLnN0YXJ0T2YpO1xuICAgIGNvbnN0IGVuZEVwb2NoID0gZGF0ZVRpbWUodG8gfHwgZGF0ZVRpbWUoZnJvbSkuYWRkKGluZGV4T2Zmc2V0LCBpbnRlcnZhbEluZm8uYW1vdW50KSlcbiAgICAgIC51dGMoKVxuICAgICAgLnN0YXJ0T2YoaW50ZXJ2YWxJbmZvLnN0YXJ0T2YpXG4gICAgICAudmFsdWVPZigpO1xuICAgIGNvbnN0IGluZGV4TGlzdCA9IFtdO1xuXG4gICAgd2hpbGUgKHN0YXJ0LnZhbHVlT2YoKSA8PSBlbmRFcG9jaCkge1xuICAgICAgaW5kZXhMaXN0LnB1c2goc3RhcnQubG9jYWxlKHRoaXMuZGF0ZUxvY2FsZSkuZm9ybWF0KHRoaXMucGF0dGVybikpO1xuICAgICAgc3RhcnQuYWRkKDEsIGludGVydmFsSW5mby5hbW91bnQpO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleExpc3Q7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFic3RyYWN0TGFiZWxPcGVyYXRvciwgQWJzdHJhY3RMYWJlbE1hdGNoZXIsIExhbmd1YWdlUHJvdmlkZXIsIEFic3RyYWN0UXVlcnkgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuaW1wb3J0IHsgRWxhc3RpY0RhdGFzb3VyY2UgfSBmcm9tICcuL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgRWxhc3RpY3NlYXJjaFF1ZXJ5IH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsYXN0aWNzZWFyY2hMYW5ndWFnZVByb3ZpZGVyIGV4dGVuZHMgTGFuZ3VhZ2VQcm92aWRlciB7XG4gIGRlY2xhcmUgcmVxdWVzdDogKHVybDogc3RyaW5nLCBwYXJhbXM/OiBhbnkpID0+IFByb21pc2U8YW55PjtcbiAgZGVjbGFyZSBzdGFydDogKCkgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGRhdGFzb3VyY2U6IEVsYXN0aWNEYXRhc291cmNlO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGFzb3VyY2U6IEVsYXN0aWNEYXRhc291cmNlLCBpbml0aWFsVmFsdWVzPzogYW55KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRhdGFzb3VyY2UgPSBkYXRhc291cmNlO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbml0aWFsVmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWVyaWVzIGFyZSB0cmFuc2Zvcm1lZCB0byBhbiBFUyBMb2dzIHF1ZXJ5IHNpbmNlIGl0J3MgdGhlIGJlaGF2aW91ciBtb3N0IHVzZXJzIGV4cGVjdC5cbiAgICoqL1xuICBpbXBvcnRGcm9tQWJzdHJhY3RRdWVyeShhYnN0cmFjdFF1ZXJ5OiBBYnN0cmFjdFF1ZXJ5KTogRWxhc3RpY3NlYXJjaFF1ZXJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0cmljczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICB0eXBlOiAnbG9ncycsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgcXVlcnk6IHRoaXMuZ2V0RWxhc3RpY3NlYXJjaFF1ZXJ5KGFic3RyYWN0UXVlcnkubGFiZWxNYXRjaGVycyksXG4gICAgICByZWZJZDogYWJzdHJhY3RRdWVyeS5yZWZJZCxcbiAgICB9O1xuICB9XG5cbiAgZ2V0RWxhc3RpY3NlYXJjaFF1ZXJ5KGxhYmVsczogQWJzdHJhY3RMYWJlbE1hdGNoZXJbXSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGxhYmVsc1xuICAgICAgLm1hcCgobGFiZWwpID0+IHtcbiAgICAgICAgc3dpdGNoIChsYWJlbC5vcGVyYXRvcikge1xuICAgICAgICAgIGNhc2UgQWJzdHJhY3RMYWJlbE9wZXJhdG9yLkVxdWFsOiB7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWwubmFtZSArICc6XCInICsgbGFiZWwudmFsdWUgKyAnXCInO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFic3RyYWN0TGFiZWxPcGVyYXRvci5Ob3RFcXVhbDoge1xuICAgICAgICAgICAgcmV0dXJuICdOT1QgJyArIGxhYmVsLm5hbWUgKyAnOlwiJyArIGxhYmVsLnZhbHVlICsgJ1wiJztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBYnN0cmFjdExhYmVsT3BlcmF0b3IuRXF1YWxSZWdFeDoge1xuICAgICAgICAgICAgcmV0dXJuIGxhYmVsLm5hbWUgKyAnOi8nICsgbGFiZWwudmFsdWUgKyAnLyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWJzdHJhY3RMYWJlbE9wZXJhdG9yLk5vdEVxdWFsUmVnRXg6IHtcbiAgICAgICAgICAgIHJldHVybiAnTk9UICcgKyBsYWJlbC5uYW1lICsgJzovJyArIGxhYmVsLnZhbHVlICsgJy8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5qb2luKCcgQU5EICcpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5cbmltcG9ydCB7IFF1ZXJ5RWRpdG9yIH0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yJztcbmltcG9ydCB7IENvbmZpZ0VkaXRvciB9IGZyb20gJy4vY29uZmlndXJhdGlvbi9Db25maWdFZGl0b3InO1xuaW1wb3J0IHsgRWxhc3RpY0RhdGFzb3VyY2UgfSBmcm9tICcuL2RhdGFzb3VyY2UnO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luID0gbmV3IERhdGFTb3VyY2VQbHVnaW4oRWxhc3RpY0RhdGFzb3VyY2UpLnNldFF1ZXJ5RWRpdG9yKFF1ZXJ5RWRpdG9yKS5zZXRDb25maWdFZGl0b3IoQ29uZmlnRWRpdG9yKTtcbiIsImltcG9ydCB7IGd0ZSwgbHQgfSBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQgeyBJbnRlcm5hbFRpbWVab25lcyB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuXG5pbXBvcnQge1xuICBGaWx0ZXJzLFxuICBIaXN0b2dyYW0sXG4gIERhdGVIaXN0b2dyYW0sXG4gIFRlcm1zLFxufSBmcm9tICcuL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvQnVja2V0QWdncmVnYXRpb25zRWRpdG9yL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQge1xuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkLFxuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aFNldHRpbmdzLFxuICBpc01vdmluZ0F2ZXJhZ2VXaXRoTW9kZWxTZXR0aW5ncyxcbiAgaXNQaXBlbGluZUFnZ3JlZ2F0aW9uLFxuICBpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyxcbiAgTWV0cmljQWdncmVnYXRpb24sXG4gIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCxcbn0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci9hZ2dyZWdhdGlvbnMnO1xuaW1wb3J0IHsgZGVmYXVsdEJ1Y2tldEFnZywgZGVmYXVsdE1ldHJpY0FnZywgZmluZE1ldHJpY0J5SWQsIGhpZ2hsaWdodFRhZ3MgfSBmcm9tICcuL3F1ZXJ5X2RlZic7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoUXVlcnksIFRlcm1zUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGNvbnZlcnRPcmRlckJ5VG9NZXRyaWNJZCwgZ2V0U2NyaXB0VmFsdWUgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEVsYXN0aWNRdWVyeUJ1aWxkZXIge1xuICB0aW1lRmllbGQ6IHN0cmluZztcbiAgZXNWZXJzaW9uOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogeyB0aW1lRmllbGQ6IHN0cmluZzsgZXNWZXJzaW9uOiBzdHJpbmcgfSkge1xuICAgIHRoaXMudGltZUZpZWxkID0gb3B0aW9ucy50aW1lRmllbGQ7XG4gICAgdGhpcy5lc1ZlcnNpb24gPSBvcHRpb25zLmVzVmVyc2lvbjtcbiAgfVxuXG4gIGdldFJhbmdlRmlsdGVyKCkge1xuICAgIGNvbnN0IGZpbHRlcjogYW55ID0ge307XG4gICAgZmlsdGVyW3RoaXMudGltZUZpZWxkXSA9IHtcbiAgICAgIGd0ZTogJyR0aW1lRnJvbScsXG4gICAgICBsdGU6ICckdGltZVRvJyxcbiAgICAgIGZvcm1hdDogJ2Vwb2NoX21pbGxpcycsXG4gICAgfTtcblxuICAgIHJldHVybiBmaWx0ZXI7XG4gIH1cblxuICBidWlsZFRlcm1zQWdnKGFnZ0RlZjogVGVybXMsIHF1ZXJ5Tm9kZTogeyB0ZXJtcz86IGFueTsgYWdncz86IGFueSB9LCB0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSkge1xuICAgIHF1ZXJ5Tm9kZS50ZXJtcyA9IHsgZmllbGQ6IGFnZ0RlZi5maWVsZCB9O1xuXG4gICAgaWYgKCFhZ2dEZWYuc2V0dGluZ3MpIHtcbiAgICAgIHJldHVybiBxdWVyeU5vZGU7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVGhpcyBkZWZhdWx0IHNob3VsZCBiZSBzb21ld2hlcmUgZWxzZSB0b2dldGhlciB3aXRoIHRoZSBvbmUgdXNlZCBpbiB0aGUgVUlcbiAgICBjb25zdCBzaXplID0gYWdnRGVmLnNldHRpbmdzPy5zaXplID8gcGFyc2VJbnQoYWdnRGVmLnNldHRpbmdzLnNpemUsIDEwKSA6IDUwMDtcbiAgICBxdWVyeU5vZGUudGVybXMuc2l6ZSA9IHNpemUgPT09IDAgPyA1MDAgOiBzaXplO1xuXG4gICAgaWYgKGFnZ0RlZi5zZXR0aW5ncy5vcmRlckJ5ICE9PSB2b2lkIDApIHtcbiAgICAgIHF1ZXJ5Tm9kZS50ZXJtcy5vcmRlciA9IHt9O1xuICAgICAgaWYgKGFnZ0RlZi5zZXR0aW5ncy5vcmRlckJ5ID09PSAnX3Rlcm0nICYmIGd0ZSh0aGlzLmVzVmVyc2lvbiwgJzYuMC4wJykpIHtcbiAgICAgICAgcXVlcnlOb2RlLnRlcm1zLm9yZGVyWydfa2V5J10gPSBhZ2dEZWYuc2V0dGluZ3Mub3JkZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeU5vZGUudGVybXMub3JkZXJbYWdnRGVmLnNldHRpbmdzLm9yZGVyQnldID0gYWdnRGVmLnNldHRpbmdzLm9yZGVyO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBtZXRyaWMgcmVmLCBsb29rIGl0IHVwIGFuZCBhZGQgaXQgdG8gdGhpcyBhZ2cgbGV2ZWxcbiAgICAgIGNvbnN0IG1ldHJpY0lkID0gY29udmVydE9yZGVyQnlUb01ldHJpY0lkKGFnZ0RlZi5zZXR0aW5ncy5vcmRlckJ5KTtcbiAgICAgIGlmIChtZXRyaWNJZCkge1xuICAgICAgICBmb3IgKGxldCBtZXRyaWMgb2YgdGFyZ2V0Lm1ldHJpY3MgfHwgW10pIHtcbiAgICAgICAgICBpZiAobWV0cmljLmlkID09PSBtZXRyaWNJZCkge1xuICAgICAgICAgICAgaWYgKG1ldHJpYy50eXBlID09PSAnY291bnQnKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5Tm9kZS50ZXJtcy5vcmRlciA9IHsgX2NvdW50OiBhZ2dEZWYuc2V0dGluZ3Mub3JkZXIgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhGaWVsZChtZXRyaWMpKSB7XG4gICAgICAgICAgICAgIHF1ZXJ5Tm9kZS5hZ2dzID0ge307XG4gICAgICAgICAgICAgIHF1ZXJ5Tm9kZS5hZ2dzW21ldHJpYy5pZF0gPSB7XG4gICAgICAgICAgICAgICAgW21ldHJpYy50eXBlXTogeyBmaWVsZDogbWV0cmljLmZpZWxkIH0sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWdnRGVmLnNldHRpbmdzLm1pbl9kb2NfY291bnQgIT09IHZvaWQgMCkge1xuICAgICAgcXVlcnlOb2RlLnRlcm1zLm1pbl9kb2NfY291bnQgPSBwYXJzZUludChhZ2dEZWYuc2V0dGluZ3MubWluX2RvY19jb3VudCwgMTApO1xuXG4gICAgICBpZiAoaXNOYU4ocXVlcnlOb2RlLnRlcm1zLm1pbl9kb2NfY291bnQpKSB7XG4gICAgICAgIHF1ZXJ5Tm9kZS50ZXJtcy5taW5fZG9jX2NvdW50ID0gYWdnRGVmLnNldHRpbmdzLm1pbl9kb2NfY291bnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFnZ0RlZi5zZXR0aW5ncy5taXNzaW5nKSB7XG4gICAgICBxdWVyeU5vZGUudGVybXMubWlzc2luZyA9IGFnZ0RlZi5zZXR0aW5ncy5taXNzaW5nO1xuICAgIH1cblxuICAgIHJldHVybiBxdWVyeU5vZGU7XG4gIH1cblxuICBnZXREYXRlSGlzdG9ncmFtQWdnKGFnZ0RlZjogRGF0ZUhpc3RvZ3JhbSkge1xuICAgIGNvbnN0IGVzQWdnOiBhbnkgPSB7fTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGFnZ0RlZi5zZXR0aW5ncyB8fCB7fTtcblxuICAgIGVzQWdnLmZpZWxkID0gYWdnRGVmLmZpZWxkIHx8IHRoaXMudGltZUZpZWxkO1xuICAgIGVzQWdnLm1pbl9kb2NfY291bnQgPSBzZXR0aW5ncy5taW5fZG9jX2NvdW50IHx8IDA7XG4gICAgZXNBZ2cuZXh0ZW5kZWRfYm91bmRzID0geyBtaW46ICckdGltZUZyb20nLCBtYXg6ICckdGltZVRvJyB9O1xuICAgIGVzQWdnLmZvcm1hdCA9ICdlcG9jaF9taWxsaXMnO1xuICAgIGlmIChzZXR0aW5ncy50aW1lWm9uZSAmJiBzZXR0aW5ncy50aW1lWm9uZSAhPT0gSW50ZXJuYWxUaW1lWm9uZXMudXRjKSB7XG4gICAgICBlc0FnZy50aW1lX3pvbmUgPSBzZXR0aW5ncy50aW1lWm9uZTtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ3Mub2Zmc2V0ICE9PSAnJykge1xuICAgICAgZXNBZ2cub2Zmc2V0ID0gc2V0dGluZ3Mub2Zmc2V0O1xuICAgIH1cblxuICAgIGNvbnN0IGludGVydmFsID0gc2V0dGluZ3MuaW50ZXJ2YWwgPT09ICdhdXRvJyA/ICckX19pbnRlcnZhbCcgOiBzZXR0aW5ncy5pbnRlcnZhbDtcblxuICAgIGVzQWdnLmZpeGVkX2ludGVydmFsID0gaW50ZXJ2YWw7XG5cbiAgICByZXR1cm4gZXNBZ2c7XG4gIH1cblxuICBnZXRIaXN0b2dyYW1BZ2coYWdnRGVmOiBIaXN0b2dyYW0pIHtcbiAgICBjb25zdCBlc0FnZzogYW55ID0ge307XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBhZ2dEZWYuc2V0dGluZ3MgfHwge307XG4gICAgZXNBZ2cuaW50ZXJ2YWwgPSBzZXR0aW5ncy5pbnRlcnZhbDtcbiAgICBlc0FnZy5maWVsZCA9IGFnZ0RlZi5maWVsZDtcbiAgICBlc0FnZy5taW5fZG9jX2NvdW50ID0gc2V0dGluZ3MubWluX2RvY19jb3VudCB8fCAwO1xuXG4gICAgcmV0dXJuIGVzQWdnO1xuICB9XG5cbiAgZ2V0RmlsdGVyc0FnZyhhZ2dEZWY6IEZpbHRlcnMpIHtcbiAgICBjb25zdCBmaWx0ZXJPYmo6IFJlY29yZDxzdHJpbmcsIHsgcXVlcnlfc3RyaW5nOiB7IHF1ZXJ5OiBzdHJpbmc7IGFuYWx5emVfd2lsZGNhcmQ6IGJvb2xlYW4gfSB9PiA9IHt9O1xuXG4gICAgZm9yIChsZXQgeyBxdWVyeSwgbGFiZWwgfSBvZiBhZ2dEZWYuc2V0dGluZ3M/LmZpbHRlcnMgfHwgW10pIHtcbiAgICAgIGZpbHRlck9ialtsYWJlbCB8fCBxdWVyeV0gPSB7XG4gICAgICAgIHF1ZXJ5X3N0cmluZzoge1xuICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICBhbmFseXplX3dpbGRjYXJkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmlsdGVyT2JqO1xuICB9XG5cbiAgZG9jdW1lbnRRdWVyeShxdWVyeTogYW55LCBzaXplOiBudW1iZXIpIHtcbiAgICBxdWVyeS5zaXplID0gc2l6ZTtcbiAgICBxdWVyeS5zb3J0ID0gW1xuICAgICAge1xuICAgICAgICBbdGhpcy50aW1lRmllbGRdOiB7IG9yZGVyOiAnZGVzYycsIHVubWFwcGVkX3R5cGU6ICdib29sZWFuJyB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgX2RvYzogeyBvcmRlcjogJ2Rlc2MnIH0sXG4gICAgICB9LFxuICAgIF07XG5cbiAgICAvLyBmaWVsZHMgZmllbGQgbm90IHN1cHBvcnRlZCBvbiBFUyA1LnhcbiAgICBpZiAobHQodGhpcy5lc1ZlcnNpb24sICc1LjAuMCcpKSB7XG4gICAgICBxdWVyeS5maWVsZHMgPSBbJyonLCAnX3NvdXJjZSddO1xuICAgIH1cblxuICAgIHF1ZXJ5LnNjcmlwdF9maWVsZHMgPSB7fTtcbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBhZGRBZGhvY0ZpbHRlcnMocXVlcnk6IGFueSwgYWRob2NGaWx0ZXJzOiBhbnkpIHtcbiAgICBpZiAoIWFkaG9jRmlsdGVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBpLCBmaWx0ZXIsIGNvbmRpdGlvbjogYW55LCBxdWVyeUNvbmRpdGlvbjogYW55O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGFkaG9jRmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZmlsdGVyID0gYWRob2NGaWx0ZXJzW2ldO1xuICAgICAgY29uZGl0aW9uID0ge307XG4gICAgICBjb25kaXRpb25bZmlsdGVyLmtleV0gPSBmaWx0ZXIudmFsdWU7XG4gICAgICBxdWVyeUNvbmRpdGlvbiA9IHt9O1xuICAgICAgcXVlcnlDb25kaXRpb25bZmlsdGVyLmtleV0gPSB7IHF1ZXJ5OiBmaWx0ZXIudmFsdWUgfTtcblxuICAgICAgc3dpdGNoIChmaWx0ZXIub3BlcmF0b3IpIHtcbiAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgaWYgKCFxdWVyeS5xdWVyeS5ib29sLm11c3QpIHtcbiAgICAgICAgICAgIHF1ZXJ5LnF1ZXJ5LmJvb2wubXVzdCA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBxdWVyeS5xdWVyeS5ib29sLm11c3QucHVzaCh7IG1hdGNoX3BocmFzZTogcXVlcnlDb25kaXRpb24gfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgICBpZiAoIXF1ZXJ5LnF1ZXJ5LmJvb2wubXVzdF9ub3QpIHtcbiAgICAgICAgICAgIHF1ZXJ5LnF1ZXJ5LmJvb2wubXVzdF9ub3QgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcXVlcnkucXVlcnkuYm9vbC5tdXN0X25vdC5wdXNoKHsgbWF0Y2hfcGhyYXNlOiBxdWVyeUNvbmRpdGlvbiB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgY29uZGl0aW9uW2ZpbHRlci5rZXldID0geyBsdDogZmlsdGVyLnZhbHVlIH07XG4gICAgICAgICAgcXVlcnkucXVlcnkuYm9vbC5maWx0ZXIucHVzaCh7IHJhbmdlOiBjb25kaXRpb24gfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgIGNvbmRpdGlvbltmaWx0ZXIua2V5XSA9IHsgZ3Q6IGZpbHRlci52YWx1ZSB9O1xuICAgICAgICAgIHF1ZXJ5LnF1ZXJ5LmJvb2wuZmlsdGVyLnB1c2goeyByYW5nZTogY29uZGl0aW9uIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICc9fic6XG4gICAgICAgICAgcXVlcnkucXVlcnkuYm9vbC5maWx0ZXIucHVzaCh7IHJlZ2V4cDogY29uZGl0aW9uIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICchfic6XG4gICAgICAgICAgcXVlcnkucXVlcnkuYm9vbC5maWx0ZXIucHVzaCh7XG4gICAgICAgICAgICBib29sOiB7IG11c3Rfbm90OiB7IHJlZ2V4cDogY29uZGl0aW9uIH0gfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBidWlsZCh0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSwgYWRob2NGaWx0ZXJzPzogYW55KSB7XG4gICAgLy8gbWFrZSBzdXJlIHF1ZXJ5IGhhcyBkZWZhdWx0cztcbiAgICB0YXJnZXQubWV0cmljcyA9IHRhcmdldC5tZXRyaWNzIHx8IFtkZWZhdWx0TWV0cmljQWdnKCldO1xuICAgIHRhcmdldC5idWNrZXRBZ2dzID0gdGFyZ2V0LmJ1Y2tldEFnZ3MgfHwgW2RlZmF1bHRCdWNrZXRBZ2coKV07XG4gICAgdGFyZ2V0LnRpbWVGaWVsZCA9IHRoaXMudGltZUZpZWxkO1xuICAgIGxldCBtZXRyaWM6IE1ldHJpY0FnZ3JlZ2F0aW9uO1xuXG4gICAgbGV0IGksIGosIHB2LCBuZXN0ZWRBZ2dzO1xuICAgIGNvbnN0IHF1ZXJ5OiBhbnkgPSB7XG4gICAgICBzaXplOiAwLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgYm9vbDoge1xuICAgICAgICAgIGZpbHRlcjogW3sgcmFuZ2U6IHRoaXMuZ2V0UmFuZ2VGaWx0ZXIoKSB9XSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmICh0YXJnZXQucXVlcnkgJiYgdGFyZ2V0LnF1ZXJ5ICE9PSAnJykge1xuICAgICAgcXVlcnkucXVlcnkuYm9vbC5maWx0ZXIgPSBbXG4gICAgICAgIC4uLnF1ZXJ5LnF1ZXJ5LmJvb2wuZmlsdGVyLFxuICAgICAgICB7XG4gICAgICAgICAgcXVlcnlfc3RyaW5nOiB7XG4gICAgICAgICAgICBhbmFseXplX3dpbGRjYXJkOiB0cnVlLFxuICAgICAgICAgICAgcXVlcnk6IHRhcmdldC5xdWVyeSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG5cbiAgICB0aGlzLmFkZEFkaG9jRmlsdGVycyhxdWVyeSwgYWRob2NGaWx0ZXJzKTtcblxuICAgIC8vIElmIHRhcmdldCBkb2Vzbid0IGhhdmUgYnVja2V0QWdncyBhbmQgdHlwZSBpcyBub3QgcmF3X2RvY3VtZW50LCBpdCBpcyBpbnZhbGlkIHF1ZXJ5LlxuICAgIGlmICh0YXJnZXQuYnVja2V0QWdncy5sZW5ndGggPT09IDApIHtcbiAgICAgIG1ldHJpYyA9IHRhcmdldC5tZXRyaWNzWzBdO1xuXG4gICAgICBpZiAoIW1ldHJpYyB8fCAhKG1ldHJpYy50eXBlID09PSAncmF3X2RvY3VtZW50JyB8fCBtZXRyaWMudHlwZSA9PT0gJ3Jhd19kYXRhJykpIHtcbiAgICAgICAgdGhyb3cgeyBtZXNzYWdlOiAnSW52YWxpZCBxdWVyeScgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBIYW5kbGUgZG9jdW1lbnQgcXVlcnk6XG4gICAgICogQ2hlY2sgaWYgbWV0cmljIHR5cGUgaXMgcmF3X2RvY3VtZW50LiBJZiBtZXRyaWMgZG9lc24ndCBoYXZlIHNpemUgKG9yIHNpemUgaXMgMCksIHVwZGF0ZSBzaXplIHRvIDUwMC5cbiAgICAgKiBPdGhlcndpc2UgaXQgd2lsbCBub3QgYmUgYSB2YWxpZCBxdWVyeSBhbmQgZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICovXG4gICAgaWYgKHRhcmdldC5tZXRyaWNzPy5bMF0/LnR5cGUgPT09ICdyYXdfZG9jdW1lbnQnIHx8IHRhcmdldC5tZXRyaWNzPy5bMF0/LnR5cGUgPT09ICdyYXdfZGF0YScpIHtcbiAgICAgIG1ldHJpYyA9IHRhcmdldC5tZXRyaWNzWzBdO1xuXG4gICAgICAvLyBUT0RPOiBUaGlzIGRlZmF1bHQgc2hvdWxkIGJlIHNvbWV3aGVyZSBlbHNlIHRvZ2V0aGVyIHdpdGggdGhlIG9uZSB1c2VkIGluIHRoZSBVSVxuICAgICAgY29uc3Qgc2l6ZSA9IG1ldHJpYy5zZXR0aW5ncz8uc2l6ZSA/IHBhcnNlSW50KG1ldHJpYy5zZXR0aW5ncy5zaXplLCAxMCkgOiA1MDA7XG5cbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50UXVlcnkocXVlcnksIHNpemUgfHwgNTAwKTtcbiAgICB9XG5cbiAgICBuZXN0ZWRBZ2dzID0gcXVlcnk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0LmJ1Y2tldEFnZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFnZ0RlZiA9IHRhcmdldC5idWNrZXRBZ2dzW2ldO1xuICAgICAgY29uc3QgZXNBZ2c6IGFueSA9IHt9O1xuXG4gICAgICBzd2l0Y2ggKGFnZ0RlZi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2RhdGVfaGlzdG9ncmFtJzoge1xuICAgICAgICAgIGVzQWdnWydkYXRlX2hpc3RvZ3JhbSddID0gdGhpcy5nZXREYXRlSGlzdG9ncmFtQWdnKGFnZ0RlZik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnaGlzdG9ncmFtJzoge1xuICAgICAgICAgIGVzQWdnWydoaXN0b2dyYW0nXSA9IHRoaXMuZ2V0SGlzdG9ncmFtQWdnKGFnZ0RlZik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnZmlsdGVycyc6IHtcbiAgICAgICAgICBlc0FnZ1snZmlsdGVycyddID0geyBmaWx0ZXJzOiB0aGlzLmdldEZpbHRlcnNBZ2coYWdnRGVmKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Rlcm1zJzoge1xuICAgICAgICAgIHRoaXMuYnVpbGRUZXJtc0FnZyhhZ2dEZWYsIGVzQWdnLCB0YXJnZXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2dlb2hhc2hfZ3JpZCc6IHtcbiAgICAgICAgICBlc0FnZ1snZ2VvaGFzaF9ncmlkJ10gPSB7XG4gICAgICAgICAgICBmaWVsZDogYWdnRGVmLmZpZWxkLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiBhZ2dEZWYuc2V0dGluZ3M/LnByZWNpc2lvbixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5lc3RlZEFnZ3MuYWdncyA9IG5lc3RlZEFnZ3MuYWdncyB8fCB7fTtcbiAgICAgIG5lc3RlZEFnZ3MuYWdnc1thZ2dEZWYuaWRdID0gZXNBZ2c7XG4gICAgICBuZXN0ZWRBZ2dzID0gZXNBZ2c7XG4gICAgfVxuXG4gICAgbmVzdGVkQWdncy5hZ2dzID0ge307XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0Lm1ldHJpY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1ldHJpYyA9IHRhcmdldC5tZXRyaWNzW2ldO1xuICAgICAgaWYgKG1ldHJpYy50eXBlID09PSAnY291bnQnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhZ2dGaWVsZDogYW55ID0ge307XG4gICAgICBsZXQgbWV0cmljQWdnOiBhbnkgPSB7fTtcblxuICAgICAgaWYgKGlzUGlwZWxpbmVBZ2dyZWdhdGlvbihtZXRyaWMpKSB7XG4gICAgICAgIGlmIChpc1BpcGVsaW5lQWdncmVnYXRpb25XaXRoTXVsdGlwbGVCdWNrZXRQYXRocyhtZXRyaWMpKSB7XG4gICAgICAgICAgaWYgKG1ldHJpYy5waXBlbGluZVZhcmlhYmxlcykge1xuICAgICAgICAgICAgbWV0cmljQWdnID0ge1xuICAgICAgICAgICAgICBidWNrZXRzX3BhdGg6IHt9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG1ldHJpYy5waXBlbGluZVZhcmlhYmxlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBwdiA9IG1ldHJpYy5waXBlbGluZVZhcmlhYmxlc1tqXTtcblxuICAgICAgICAgICAgICBpZiAocHYubmFtZSAmJiBwdi5waXBlbGluZUFnZyAmJiAvXlxcZCokLy50ZXN0KHB2LnBpcGVsaW5lQWdnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFwcGxpZWRBZ2cgPSBmaW5kTWV0cmljQnlJZCh0YXJnZXQubWV0cmljcywgcHYucGlwZWxpbmVBZ2cpO1xuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVkQWdnKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYXBwbGllZEFnZy50eXBlID09PSAnY291bnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldHJpY0FnZy5idWNrZXRzX3BhdGhbcHYubmFtZV0gPSAnX2NvdW50JztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldHJpY0FnZy5idWNrZXRzX3BhdGhbcHYubmFtZV0gPSBwdi5waXBlbGluZUFnZztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChtZXRyaWMuZmllbGQgJiYgL15cXGQqJC8udGVzdChtZXRyaWMuZmllbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBsaWVkQWdnID0gZmluZE1ldHJpY0J5SWQodGFyZ2V0Lm1ldHJpY3MsIG1ldHJpYy5maWVsZCk7XG4gICAgICAgICAgICBpZiAoYXBwbGllZEFnZykge1xuICAgICAgICAgICAgICBpZiAoYXBwbGllZEFnZy50eXBlID09PSAnY291bnQnKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljQWdnID0geyBidWNrZXRzX3BhdGg6ICdfY291bnQnIH07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWV0cmljQWdnID0geyBidWNrZXRzX3BhdGg6IG1ldHJpYy5maWVsZCB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkKG1ldHJpYykpIHtcbiAgICAgICAgbWV0cmljQWdnID0geyBmaWVsZDogbWV0cmljLmZpZWxkIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aFNldHRpbmdzKG1ldHJpYykpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobWV0cmljLnNldHRpbmdzIHx8IHt9KVxuICAgICAgICAgIC5maWx0ZXIoKFtfLCB2XSkgPT4gdiAhPT0gbnVsbClcbiAgICAgICAgICAuZm9yRWFjaCgoW2ssIHZdKSA9PiB7XG4gICAgICAgICAgICBtZXRyaWNBZ2dba10gPVxuICAgICAgICAgICAgICBrID09PSAnc2NyaXB0JyA/IHRoaXMuYnVpbGRTY3JpcHQoZ2V0U2NyaXB0VmFsdWUobWV0cmljIGFzIE1ldHJpY0FnZ3JlZ2F0aW9uV2l0aElubGluZVNjcmlwdCkpIDogdjtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBFbGFzdGljc2VhcmNoIGlzbid0IGdlbmVyYWxseSB0b28gcGlja3kgYWJvdXQgdGhlIGRhdGEgdHlwZXMgaW4gdGhlIHJlcXVlc3QgYm9keSxcbiAgICAgICAgLy8gaG93ZXZlciBzb21lIGZpZWxkcyBhcmUgcmVxdWlyZWQgdG8gYmUgbnVtZXJpYy5cbiAgICAgICAgLy8gVXNlcnMgbWlnaHQgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgc29tZSBvZiB0aG9zZSB3aXRoIGJlZm9yZSwgd2hlcmUgdGhlIHZhbHVlcyB3ZXJlIG51bWJlcnMuXG4gICAgICAgIHN3aXRjaCAobWV0cmljLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdtb3ZpbmdfYXZnJzpcbiAgICAgICAgICAgIG1ldHJpY0FnZyA9IHtcbiAgICAgICAgICAgICAgLi4ubWV0cmljQWdnLFxuICAgICAgICAgICAgICAuLi4obWV0cmljQWdnPy53aW5kb3cgIT09IHVuZGVmaW5lZCAmJiB7IHdpbmRvdzogdGhpcy50b051bWJlcihtZXRyaWNBZ2cud2luZG93KSB9KSxcbiAgICAgICAgICAgICAgLi4uKG1ldHJpY0FnZz8ucHJlZGljdCAhPT0gdW5kZWZpbmVkICYmIHsgcHJlZGljdDogdGhpcy50b051bWJlcihtZXRyaWNBZ2cucHJlZGljdCkgfSksXG4gICAgICAgICAgICAgIC4uLihpc01vdmluZ0F2ZXJhZ2VXaXRoTW9kZWxTZXR0aW5ncyhtZXRyaWMpICYmIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgLi4ubWV0cmljQWdnLnNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhtZXRyaWNBZ2cuc2V0dGluZ3MgfHwge30pXG4gICAgICAgICAgICAgICAgICAgICAgLy8gT25seSBmb3JtYXQgcHJvcGVydGllcyB0aGF0IGFyZSByZXF1aXJlZCB0byBiZSBudW1iZXJzXG4gICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoW3NldHRpbmdOYW1lXSkgPT4gWydhbHBoYScsICdiZXRhJywgJ2dhbW1hJywgJ3BlcmlvZCddLmluY2x1ZGVzKHNldHRpbmdOYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAvLyBvbWl0dGluZyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChbXywgc3RyaW5nVmFsdWVdKSA9PiBzdHJpbmdWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKFtfLCBzdHJpbmdWYWx1ZV0pID0+IFtfLCB0aGlzLnRvTnVtYmVyKHN0cmluZ1ZhbHVlKV0pXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc2VyaWFsX2RpZmYnOlxuICAgICAgICAgICAgbWV0cmljQWdnID0ge1xuICAgICAgICAgICAgICAuLi5tZXRyaWNBZ2csXG4gICAgICAgICAgICAgIC4uLihtZXRyaWNBZ2cubGFnICE9PSB1bmRlZmluZWQgJiYge1xuICAgICAgICAgICAgICAgIGxhZzogdGhpcy50b051bWJlcihtZXRyaWNBZ2cubGFnKSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd0b3BfbWV0cmljcyc6XG4gICAgICAgICAgICBtZXRyaWNBZ2cgPSB7XG4gICAgICAgICAgICAgIG1ldHJpY3M6IG1ldHJpYy5zZXR0aW5ncz8ubWV0cmljcz8ubWFwKChmaWVsZCkgPT4gKHsgZmllbGQgfSkpLFxuICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG1ldHJpYy5zZXR0aW5ncz8ub3JkZXJCeSkge1xuICAgICAgICAgICAgICBtZXRyaWNBZ2cuc29ydCA9IFt7IFttZXRyaWMuc2V0dGluZ3M/Lm9yZGVyQnldOiBtZXRyaWMuc2V0dGluZ3M/Lm9yZGVyIH1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWdnRmllbGRbbWV0cmljLnR5cGVdID0gbWV0cmljQWdnO1xuICAgICAgbmVzdGVkQWdncy5hZ2dzW21ldHJpYy5pZF0gPSBhZ2dGaWVsZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkU2NyaXB0KHNjcmlwdDogc3RyaW5nKSB7XG4gICAgaWYgKGd0ZSh0aGlzLmVzVmVyc2lvbiwgJzUuNi4wJykpIHtcbiAgICAgIHJldHVybiBzY3JpcHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlubGluZTogc2NyaXB0LFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHRvTnVtYmVyKHN0cmluZ1ZhbHVlOiB1bmtub3duKTogdW5rbm93biB8IG51bWJlciB7XG4gICAgY29uc3QgcGFyc2VkVmFsdWUgPSBwYXJzZUZsb2F0KGAke3N0cmluZ1ZhbHVlfWApO1xuICAgIGlmIChpc05hTihwYXJzZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBzdHJpbmdWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VkVmFsdWU7XG4gIH1cblxuICBnZXRUZXJtc1F1ZXJ5KHF1ZXJ5RGVmOiBUZXJtc1F1ZXJ5KSB7XG4gICAgY29uc3QgcXVlcnk6IGFueSA9IHtcbiAgICAgIHNpemU6IDAsXG4gICAgICBxdWVyeToge1xuICAgICAgICBib29sOiB7XG4gICAgICAgICAgZmlsdGVyOiBbeyByYW5nZTogdGhpcy5nZXRSYW5nZUZpbHRlcigpIH1dLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaWYgKHF1ZXJ5RGVmLnF1ZXJ5KSB7XG4gICAgICBxdWVyeS5xdWVyeS5ib29sLmZpbHRlci5wdXNoKHtcbiAgICAgICAgcXVlcnlfc3RyaW5nOiB7XG4gICAgICAgICAgYW5hbHl6ZV93aWxkY2FyZDogdHJ1ZSxcbiAgICAgICAgICBxdWVyeTogcXVlcnlEZWYucXVlcnksXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgc2l6ZSA9IDUwMDtcbiAgICBpZiAocXVlcnlEZWYuc2l6ZSkge1xuICAgICAgc2l6ZSA9IHF1ZXJ5RGVmLnNpemU7XG4gICAgfVxuXG4gICAgcXVlcnkuYWdncyA9IHtcbiAgICAgICcxJzoge1xuICAgICAgICB0ZXJtczoge1xuICAgICAgICAgIGZpZWxkOiBxdWVyeURlZi5maWVsZCxcbiAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgIG9yZGVyOiB7fSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIG9yZGVyIHJlc3VsdHMgYnkgeyBfa2V5OiBhc2MgfVxuICAgIC8vIHF1ZXJ5RGVmLm9yZGVyIGFsbG93cyBzZWxlY3Rpb24gb2YgYXNjL2Rlc2NcbiAgICAvLyBxdWVyeURlZi5vcmRlckJ5IGFsbG93cyBzZWxlY3Rpb24gb2YgZG9jX2NvdW50IG9yZGVyaW5nIChkZWZhdWx0cyBkZXNjKVxuXG4gICAgY29uc3QgeyBvcmRlckJ5ID0gJ2tleScsIG9yZGVyID0gb3JkZXJCeSA9PT0gJ2RvY19jb3VudCcgPyAnZGVzYycgOiAnYXNjJyB9ID0gcXVlcnlEZWY7XG5cbiAgICBpZiAoWydhc2MnLCAnZGVzYyddLmluZGV4T2Yob3JkZXIpIDwgMCkge1xuICAgICAgdGhyb3cgeyBtZXNzYWdlOiBgSW52YWxpZCBxdWVyeSBzb3J0IG9yZGVyICR7b3JkZXJ9YCB9O1xuICAgIH1cblxuICAgIHN3aXRjaCAob3JkZXJCeSkge1xuICAgICAgY2FzZSAna2V5JzpcbiAgICAgIGNhc2UgJ3Rlcm0nOlxuICAgICAgICBjb25zdCBrZXluYW1lID0gZ3RlKHRoaXMuZXNWZXJzaW9uLCAnNi4wLjAnKSA/ICdfa2V5JyA6ICdfdGVybSc7XG4gICAgICAgIHF1ZXJ5LmFnZ3NbJzEnXS50ZXJtcy5vcmRlcltrZXluYW1lXSA9IG9yZGVyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RvY19jb3VudCc6XG4gICAgICAgIHF1ZXJ5LmFnZ3NbJzEnXS50ZXJtcy5vcmRlclsnX2NvdW50J10gPSBvcmRlcjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyB7IG1lc3NhZ2U6IGBJbnZhbGlkIHF1ZXJ5IHNvcnQgdHlwZSAke29yZGVyQnl9YCB9O1xuICAgIH1cblxuICAgIHJldHVybiBxdWVyeTtcbiAgfVxuXG4gIGdldExvZ3NRdWVyeSh0YXJnZXQ6IEVsYXN0aWNzZWFyY2hRdWVyeSwgbGltaXQ6IG51bWJlciwgYWRob2NGaWx0ZXJzPzogYW55KSB7XG4gICAgbGV0IHF1ZXJ5OiBhbnkgPSB7XG4gICAgICBzaXplOiAwLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgYm9vbDoge1xuICAgICAgICAgIGZpbHRlcjogW3sgcmFuZ2U6IHRoaXMuZ2V0UmFuZ2VGaWx0ZXIoKSB9XSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuYWRkQWRob2NGaWx0ZXJzKHF1ZXJ5LCBhZGhvY0ZpbHRlcnMpO1xuXG4gICAgaWYgKHRhcmdldC5xdWVyeSkge1xuICAgICAgcXVlcnkucXVlcnkuYm9vbC5maWx0ZXIucHVzaCh7XG4gICAgICAgIHF1ZXJ5X3N0cmluZzoge1xuICAgICAgICAgIGFuYWx5emVfd2lsZGNhcmQ6IHRydWUsXG4gICAgICAgICAgcXVlcnk6IHRhcmdldC5xdWVyeSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHF1ZXJ5ID0gdGhpcy5kb2N1bWVudFF1ZXJ5KHF1ZXJ5LCBsaW1pdCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4ucXVlcnksXG4gICAgICBhZ2dzOiB0aGlzLmJ1aWxkKHRhcmdldCwgbnVsbCkuYWdncyxcbiAgICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAnKic6IHt9LFxuICAgICAgICB9LFxuICAgICAgICBwcmVfdGFnczogW2hpZ2hsaWdodFRhZ3MucHJlXSxcbiAgICAgICAgcG9zdF90YWdzOiBbaGlnaGxpZ2h0VGFncy5wb3N0XSxcbiAgICAgICAgZnJhZ21lbnRfc2l6ZTogMjE0NzQ4MzY0NyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0ZUhpc3RvZ3JhbSB9IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9CdWNrZXRBZ2dyZWdhdGlvbnNFZGl0b3IvYWdncmVnYXRpb25zJztcbmltcG9ydCB7XG4gIEV4dGVuZGVkU3RhdCxcbiAgTWV0cmljQWdncmVnYXRpb24sXG4gIE1vdmluZ0F2ZXJhZ2VNb2RlbE9wdGlvbixcbiAgTWV0cmljQWdncmVnYXRpb25UeXBlLFxufSBmcm9tICcuL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZywgcGlwZWxpbmVPcHRpb25zIH0gZnJvbSAnLi9jb21wb25lbnRzL1F1ZXJ5RWRpdG9yL01ldHJpY0FnZ3JlZ2F0aW9uc0VkaXRvci91dGlscyc7XG5pbXBvcnQgeyBFbGFzdGljc2VhcmNoUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IGV4dGVuZGVkU3RhdHM6IEV4dGVuZGVkU3RhdFtdID0gW1xuICB7IGxhYmVsOiAnQXZnJywgdmFsdWU6ICdhdmcnIH0sXG4gIHsgbGFiZWw6ICdNaW4nLCB2YWx1ZTogJ21pbicgfSxcbiAgeyBsYWJlbDogJ01heCcsIHZhbHVlOiAnbWF4JyB9LFxuICB7IGxhYmVsOiAnU3VtJywgdmFsdWU6ICdzdW0nIH0sXG4gIHsgbGFiZWw6ICdDb3VudCcsIHZhbHVlOiAnY291bnQnIH0sXG4gIHsgbGFiZWw6ICdTdGQgRGV2JywgdmFsdWU6ICdzdGRfZGV2aWF0aW9uJyB9LFxuICB7IGxhYmVsOiAnU3RkIERldiBVcHBlcicsIHZhbHVlOiAnc3RkX2RldmlhdGlvbl9ib3VuZHNfdXBwZXInIH0sXG4gIHsgbGFiZWw6ICdTdGQgRGV2IExvd2VyJywgdmFsdWU6ICdzdGRfZGV2aWF0aW9uX2JvdW5kc19sb3dlcicgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBtb3ZpbmdBdmdNb2RlbE9wdGlvbnM6IE1vdmluZ0F2ZXJhZ2VNb2RlbE9wdGlvbltdID0gW1xuICB7IGxhYmVsOiAnU2ltcGxlJywgdmFsdWU6ICdzaW1wbGUnIH0sXG4gIHsgbGFiZWw6ICdMaW5lYXInLCB2YWx1ZTogJ2xpbmVhcicgfSxcbiAgeyBsYWJlbDogJ0V4cG9uZW50aWFsbHkgV2VpZ2h0ZWQnLCB2YWx1ZTogJ2V3bWEnIH0sXG4gIHsgbGFiZWw6ICdIb2x0IExpbmVhcicsIHZhbHVlOiAnaG9sdCcgfSxcbiAgeyBsYWJlbDogJ0hvbHQgV2ludGVycycsIHZhbHVlOiAnaG9sdF93aW50ZXJzJyB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGhpZ2hsaWdodFRhZ3MgPSB7XG4gIHByZTogJ0BISUdITElHSFRAJyxcbiAgcG9zdDogJ0AvSElHSExJR0hUQCcsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE1ldHJpY0FnZyhpZCA9ICcxJyk6IE1ldHJpY0FnZ3JlZ2F0aW9uIHtcbiAgcmV0dXJuIHsgdHlwZTogJ2NvdW50JywgaWQgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRCdWNrZXRBZ2coaWQgPSAnMScpOiBEYXRlSGlzdG9ncmFtIHtcbiAgcmV0dXJuIHsgdHlwZTogJ2RhdGVfaGlzdG9ncmFtJywgaWQsIHNldHRpbmdzOiB7IGludGVydmFsOiAnYXV0bycgfSB9O1xufVxuXG5leHBvcnQgY29uc3QgZmluZE1ldHJpY0J5SWQgPSAobWV0cmljczogTWV0cmljQWdncmVnYXRpb25bXSwgaWQ6IE1ldHJpY0FnZ3JlZ2F0aW9uWydpZCddKSA9PlxuICBtZXRyaWNzLmZpbmQoKG1ldHJpYykgPT4gbWV0cmljLmlkID09PSBpZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNNZXRyaWNPZlR5cGUodGFyZ2V0OiBFbGFzdGljc2VhcmNoUXVlcnksIHR5cGU6IE1ldHJpY0FnZ3JlZ2F0aW9uVHlwZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gISF0YXJnZXQ/Lm1ldHJpY3M/LnNvbWUoKG0pID0+IG0udHlwZSA9PT0gdHlwZSk7XG59XG5cbi8vIEV2ZW4gaWYgd2UgaGF2ZSB0eXBlIGd1YXJkcyB3aGVuIGJ1aWxkaW5nIGEgcXVlcnksIHdlIGN1cnJlbnRseSBoYXZlIG5vIHdheSBvZiBnZXR0aW5nIHRoaXMgaW5mb3JtYXRpb24gZnJvbSB0aGUgcmVzcG9uc2UuXG4vLyBXZSBzaG91bGQgdHJ5IHRvIGZpbmQgYSBiZXR0ZXIgKHR5cGUgc2FmZSkgd2F5IG9mIGRvaW5nIHRoZSBmb2xsb3dpbmcgMi5cbmV4cG9ydCBmdW5jdGlvbiBpc1BpcGVsaW5lQWdnKG1ldHJpY1R5cGU6IE1ldHJpY0FnZ3JlZ2F0aW9uVHlwZSkge1xuICByZXR1cm4gbWV0cmljVHlwZSBpbiBwaXBlbGluZU9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BpcGVsaW5lQWdnV2l0aE11bHRpcGxlQnVja2V0UGF0aHMobWV0cmljVHlwZTogTWV0cmljQWdncmVnYXRpb25UeXBlKSB7XG4gIHJldHVybiAhIW1ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpY1R5cGVdLnN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRocztcbn1cbiIsImltcG9ydCB7IHZhbGlkLCBndGUgfSBmcm9tICdzZW12ZXInO1xuXG5pbXBvcnQge1xuICBpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkLFxuICBNZXRyaWNBZ2dyZWdhdGlvbixcbiAgTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0LFxufSBmcm9tICcuL2NvbXBvbmVudHMvUXVlcnlFZGl0b3IvTWV0cmljQWdncmVnYXRpb25zRWRpdG9yL2FnZ3JlZ2F0aW9ucyc7XG5pbXBvcnQgeyBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZyB9IGZyb20gJy4vY29tcG9uZW50cy9RdWVyeUVkaXRvci9NZXRyaWNBZ2dyZWdhdGlvbnNFZGl0b3IvdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgZGVzY3JpYmVNZXRyaWMgPSAobWV0cmljOiBNZXRyaWNBZ2dyZWdhdGlvbikgPT4ge1xuICBpZiAoIWlzTWV0cmljQWdncmVnYXRpb25XaXRoRmllbGQobWV0cmljKSkge1xuICAgIHJldHVybiBtZXRyaWNBZ2dyZWdhdGlvbkNvbmZpZ1ttZXRyaWMudHlwZV0ubGFiZWw7XG4gIH1cblxuICAvLyBUT0RPOiBmaWVsZCBtaWdodCBiZSB1bmRlZmluZWRcbiAgcmV0dXJuIGAke21ldHJpY0FnZ3JlZ2F0aW9uQ29uZmlnW21ldHJpYy50eXBlXS5sYWJlbH0gJHttZXRyaWMuZmllbGR9YDtcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjbGVhbiB1cCBhZ2dyZWdhdGlvbnMgc2V0dGluZ3Mgb2JqZWN0cy5cbiAqIEl0IHJlbW92ZXMgbnVsbGlzaCB2YWx1ZXMgYW5kIGVtcHR5IHN0cmluZ3MsIGFycmF5IGFuZCBvYmplY3RzXG4gKiByZWN1cnNpbmcgb3ZlciBuZXN0ZWQgb2JqZWN0cyAobm90IGFycmF5cykuXG4gKiBAcGFyYW0gb2JqXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVFbXB0eSA9IDxUPihvYmo6IFQpOiBQYXJ0aWFsPFQ+ID0+XG4gIE9iamVjdC5lbnRyaWVzKG9iaikucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIC8vIFJlbW92aW5nIG51bGxpc2ggdmFsdWVzIChudWxsICYgdW5kZWZpbmVkKVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyAuLi5hY2MgfTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmluZyBlbXB0eSBhcnJheXMgKFRoaXMgd29uJ3QgcmVjdXJzZSB0aGUgYXJyYXkpXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgLi4uYWNjIH07XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZpbmcgZW1wdHkgc3RyaW5nc1xuICAgIGlmICh2YWx1ZT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyAuLi5hY2MgfTtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNpbmcgb3ZlciBuZXN0ZWQgb2JqZWN0c1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgY29uc3QgY2xlYW5PYmogPSByZW1vdmVFbXB0eSh2YWx1ZSk7XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhjbGVhbk9iaikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IC4uLmFjYyB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyAuLi5hY2MsIFtrZXldOiBjbGVhbk9iaiB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5hY2MsXG4gICAgICBba2V5XTogdmFsdWUsXG4gICAgfTtcbiAgfSwge30pO1xuXG4vKipcbiAqICBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGFuIG9yZGVyIGJ5IHN0cmluZyB0byB0aGUgY29ycmVjdCBtZXRyaWMgaWQgRm9yIGV4YW1wbGUsXG4gKiAgaWYgdGhlIHVzZXIgdXNlcyB0aGUgc3RhbmRhcmQgZGV2aWF0aW9uIGV4dGVuZGVkIHN0YXQgZm9yIHRoZSBvcmRlciBieSxcbiAqICB0aGUgdmFsdWUgd291bGQgYmUgXCIxW3N0ZF9kZXZpYXRpb25dXCIgYW5kIHRoaXMgd291bGQgcmV0dXJuIFwiMVwiXG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0T3JkZXJCeVRvTWV0cmljSWQgPSAob3JkZXJCeTogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgbWV0cmljSWRNYXRjaGVzID0gb3JkZXJCeS5tYXRjaCgvXihcXGQrKS8pO1xuICByZXR1cm4gbWV0cmljSWRNYXRjaGVzID8gbWV0cmljSWRNYXRjaGVzWzFdIDogdm9pZCAwO1xufTtcblxuLyoqIEdldHMgdGhlIGFjdHVhbCBzY3JpcHQgdmFsdWUgZm9yIG1ldHJpY3MgdGhhdCBzdXBwb3J0IGlubGluZSBzY3JpcHRzLlxuICpcbiAqICBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBgc2NyaXB0YCBpcyBhIGJpdCBwb2x5bW9ycGhpYy5cbiAqICB3aGVuIGNyZWF0aW5nIGEgcXVlcnkgd2l0aCBHcmFmYW5hIDwgNy40IGl0IHdhcyBzdG9yZWQgYXM6XG4gKiBgYGBqc29uXG4gKiB7XG4gKiAgICBcInNldHRpbmdzXCI6IHtcbiAqICAgICAgXCJzY3JpcHRcIjoge1xuICogICAgICAgIFwiaW5saW5lXCI6IFwidmFsdWVcIlxuICogICAgICB9XG4gKiAgICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB3aGlsZSBmcm9tIDcuNCBpdCdzIHN0b3JlZCBhc1xuICogYGBganNvblxuICoge1xuICogICAgXCJzZXR0aW5nc1wiOiB7XG4gKiAgICAgIFwic2NyaXB0XCI6IFwidmFsdWVcIlxuICogICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhpcyBhbGxvd3MgdXMgdG8gYWNjZXNzIGJvdGggZm9ybWF0cyBhbmQgc3VwcG9ydCBib3RoIHF1ZXJpZXMgY3JlYXRlZCBiZWZvcmUgNy40IGFuZCBhZnRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFNjcmlwdFZhbHVlID0gKG1ldHJpYzogTWV0cmljQWdncmVnYXRpb25XaXRoSW5saW5lU2NyaXB0KSA9PlxuICAodHlwZW9mIG1ldHJpYy5zZXR0aW5ncz8uc2NyaXB0ID09PSAnb2JqZWN0JyA/IG1ldHJpYy5zZXR0aW5ncz8uc2NyaXB0Py5pbmxpbmUgOiBtZXRyaWMuc2V0dGluZ3M/LnNjcmlwdCkgfHwgJyc7XG5cbi8qKlxuICogQ29lcmNlcyB0aGUgYSB2ZXJzaW9uIHN0cmluZy9udW1iZXIgdG8gYSB2YWxpZCBzZW12ZXIgc3RyaW5nLlxuICogSXQgdGFrZXMgY2FyZSBvZiBhbHNvIGNvbnZlcnRpbmcgZnJvbSB0aGUgbGVnYWN5IGZvcm1hdCAobnVtZXJpYykgdG8gdGhlIG5ldyBvbmUuXG4gKiBAcGFyYW0gdmVyc2lvblxuICovXG5leHBvcnQgY29uc3QgY29lcmNlRVNWZXJzaW9uID0gKHZlcnNpb246IHN0cmluZyB8IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsaWQodmVyc2lvbikgfHwgJzUuMC4wJztcbiAgfVxuXG4gIHN3aXRjaCAodmVyc2lvbikge1xuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiAnMi4wLjAnO1xuICAgIGNhc2UgNTY6XG4gICAgICByZXR1cm4gJzUuNi4wJztcbiAgICBjYXNlIDYwOlxuICAgICAgcmV0dXJuICc2LjAuMCc7XG4gICAgY2FzZSA3MDpcbiAgICAgIHJldHVybiAnNy4wLjAnO1xuICAgIGNhc2UgNTpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICc1LjAuMCc7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc1N1cHBvcnRlZFZlcnNpb24gPSAodmVyc2lvbjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGlmIChndGUodmVyc2lvbiwgJzcuMTAuMCcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VQcmV2aW91cyhzdGF0ZSkge1xuICAgIHZhciByZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZWYuY3VycmVudCA9IHN0YXRlO1xuICAgIH0pO1xuICAgIHJldHVybiByZWYuY3VycmVudDtcbn1cbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdCAoZXgpIHsgcmV0dXJuIChleCAmJiAodHlwZW9mIGV4ID09PSAnb2JqZWN0JykgJiYgJ2RlZmF1bHQnIGluIGV4KSA/IGV4WydkZWZhdWx0J10gOiBleDsgfVxuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIFJlYWN0X19kZWZhdWx0ID0gX2ludGVyb3BEZWZhdWx0KFJlYWN0KTtcbnZhciB1aSA9IHJlcXVpcmUoJ0BncmFmYW5hL3VpJyk7XG52YXIgZGF0YSA9IHJlcXVpcmUoJ0BncmFmYW5hL2RhdGEnKTtcbnZhciBsb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxuXG52YXIgc3RhbmRhcmRSZWdpb25zID0gW1xyXG4gICAgJ2FmLXNvdXRoLTEnLFxyXG4gICAgJ2FwLWVhc3QtMScsXHJcbiAgICAnYXAtbm9ydGhlYXN0LTEnLFxyXG4gICAgJ2FwLW5vcnRoZWFzdC0yJyxcclxuICAgICdhcC1ub3J0aGVhc3QtMycsXHJcbiAgICAnYXAtc291dGgtMScsXHJcbiAgICAnYXAtc291dGhlYXN0LTEnLFxyXG4gICAgJ2FwLXNvdXRoZWFzdC0yJyxcclxuICAgICdjYS1jZW50cmFsLTEnLFxyXG4gICAgJ2NuLW5vcnRoLTEnLFxyXG4gICAgJ2NuLW5vcnRod2VzdC0xJyxcclxuICAgICdldS1jZW50cmFsLTEnLFxyXG4gICAgJ2V1LW5vcnRoLTEnLFxyXG4gICAgJ2V1LXdlc3QtMScsXHJcbiAgICAnZXUtd2VzdC0yJyxcclxuICAgICdldS13ZXN0LTMnLFxyXG4gICAgJ21lLXNvdXRoLTEnLFxyXG4gICAgJ3NhLWVhc3QtMScsXHJcbiAgICAndXMtZWFzdC0xJyxcclxuICAgICd1cy1lYXN0LTInLFxyXG4gICAgJ3VzLWdvdi1lYXN0LTEnLFxyXG4gICAgJ3VzLWdvdi13ZXN0LTEnLFxyXG4gICAgJ3VzLWlzby1lYXN0LTEnLFxyXG4gICAgJ3VzLWlzb2ItZWFzdC0xJyxcclxuICAgICd1cy13ZXN0LTEnLFxyXG4gICAgJ3VzLXdlc3QtMicsXHJcbl07XG5cbihmdW5jdGlvbiAoQXdzQXV0aFR5cGUpIHtcclxuICAgIEF3c0F1dGhUeXBlW1wiS2V5c1wiXSA9IFwia2V5c1wiO1xyXG4gICAgQXdzQXV0aFR5cGVbXCJDcmVkZW50aWFsc1wiXSA9IFwiY3JlZGVudGlhbHNcIjtcclxuICAgIEF3c0F1dGhUeXBlW1wiRGVmYXVsdFwiXSA9IFwiZGVmYXVsdFwiO1xyXG4gICAgQXdzQXV0aFR5cGVbXCJFQzJJQU1Sb2xlXCJdID0gXCJlYzJfaWFtX3JvbGVcIjtcclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGRlZmF1bHRcclxuICAgICAqL1xyXG4gICAgQXdzQXV0aFR5cGVbXCJBUk5cIl0gPSBcImFyblwiO1xyXG59KShleHBvcnRzLkF3c0F1dGhUeXBlIHx8IChleHBvcnRzLkF3c0F1dGhUeXBlID0ge30pKTtcblxudmFyIGF3c0F1dGhQcm92aWRlck9wdGlvbnMgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdXb3Jrc3BhY2UgSUFNIFJvbGUnLFxyXG4gICAgICAgIHZhbHVlOiBleHBvcnRzLkF3c0F1dGhUeXBlLkVDMklBTVJvbGUsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGxhYmVsOiAnQVdTIFNESyBEZWZhdWx0JyxcclxuICAgICAgICB2YWx1ZTogZXhwb3J0cy5Bd3NBdXRoVHlwZS5EZWZhdWx0LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBsYWJlbDogJ0FjY2VzcyAmIHNlY3JldCBrZXknLFxyXG4gICAgICAgIHZhbHVlOiBleHBvcnRzLkF3c0F1dGhUeXBlLktleXMsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGxhYmVsOiAnQ3JlZGVudGlhbHMgZmlsZScsXHJcbiAgICAgICAgdmFsdWU6IGV4cG9ydHMuQXdzQXV0aFR5cGUuQ3JlZGVudGlhbHMsXHJcbiAgICB9LFxyXG5dO1xuXG52YXIgdG9PcHRpb24gPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuICh7IHZhbHVlOiB2YWx1ZSwgbGFiZWw6IHZhbHVlIH0pOyB9O1xyXG52YXIgQ29ubmVjdGlvbkNvbmZpZyA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2o7XHJcbiAgICB2YXIgX2sgPSBfX3JlYWQoUmVhY3QudXNlU3RhdGUoKHByb3BzLnN0YW5kYXJkUmVnaW9ucyB8fCBzdGFuZGFyZFJlZ2lvbnMpLm1hcCh0b09wdGlvbikpLCAyKSwgcmVnaW9ucyA9IF9rWzBdLCBzZXRSZWdpb25zID0gX2tbMV07XHJcbiAgICB2YXIgbG9hZFJlZ2lvbnMgPSBwcm9wcy5sb2FkUmVnaW9ucywgb25PcHRpb25zQ2hhbmdlID0gcHJvcHMub25PcHRpb25zQ2hhbmdlLCBfbCA9IHByb3BzLnNraXBIZWFkZXIsIHNraXBIZWFkZXIgPSBfbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfbCwgX20gPSBwcm9wcy5za2lwRW5kcG9pbnQsIHNraXBFbmRwb2ludCA9IF9tID09PSB2b2lkIDAgPyBmYWxzZSA6IF9tO1xyXG4gICAgdmFyIG9wdGlvbnMgPSBwcm9wcy5vcHRpb25zO1xyXG4gICAgdmFyIHByb2ZpbGUgPSBvcHRpb25zLmpzb25EYXRhLnByb2ZpbGU7XHJcbiAgICBpZiAocHJvZmlsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcHJvZmlsZSA9IG9wdGlvbnMuZGF0YWJhc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgc2V0dGluZ3MgPSB3aW5kb3cuZ3JhZmFuYUJvb3REYXRhLnNldHRpbmdzO1xyXG4gICAgdmFyIGF3c0FsbG93ZWRBdXRoUHJvdmlkZXJzID0gKF9hID0gc2V0dGluZ3MuYXdzQWxsb3dlZEF1dGhQcm92aWRlcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtcclxuICAgICAgICBleHBvcnRzLkF3c0F1dGhUeXBlLkRlZmF1bHQsXHJcbiAgICAgICAgZXhwb3J0cy5Bd3NBdXRoVHlwZS5LZXlzLFxyXG4gICAgICAgIGV4cG9ydHMuQXdzQXV0aFR5cGUuQ3JlZGVudGlhbHMsXHJcbiAgICBdO1xyXG4gICAgdmFyIGF3c0Fzc3VtZVJvbGVFbmFibGVkID0gKF9iID0gc2V0dGluZ3MuYXdzQXNzdW1lUm9sZUVuYWJsZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XHJcbiAgICB2YXIgY3VycmVudFByb3ZpZGVyID0gYXdzQXV0aFByb3ZpZGVyT3B0aW9ucy5maW5kKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnZhbHVlID09PSBvcHRpb25zLmpzb25EYXRhLmF1dGhUeXBlOyB9KTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIGEgYXV0aFR5cGUgZXhpc3RzIGluIHRoZSBjdXJyZW50IG1vZGVsXHJcbiAgICAgICAgaWYgKCFjdXJyZW50UHJvdmlkZXIgJiYgYXdzQWxsb3dlZEF1dGhQcm92aWRlcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG9uT3B0aW9uc0NoYW5nZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsganNvbkRhdGE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zLmpzb25EYXRhKSwgeyBhdXRoVHlwZTogYXdzQWxsb3dlZEF1dGhQcm92aWRlcnNbMF0gfSkgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtjdXJyZW50UHJvdmlkZXIsIG9wdGlvbnMsIG9uT3B0aW9uc0NoYW5nZV0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWxvYWRSZWdpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9hZFJlZ2lvbnMoKS50aGVuKGZ1bmN0aW9uIChyZWdpb25zKSB7IHJldHVybiBzZXRSZWdpb25zKHJlZ2lvbnMubWFwKHRvT3B0aW9uKSk7IH0pO1xyXG4gICAgfSwgW2xvYWRSZWdpb25zXSk7XHJcbiAgICByZXR1cm4gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuRmllbGRTZXQsIHsgbGFiZWw6IHNraXBIZWFkZXIgPyAnJyA6ICdDb25uZWN0aW9uIERldGFpbHMnLCBcImRhdGEtdGVzdGlkXCI6IFwiY29ubmVjdGlvbi1jb25maWdcIiB9LFxyXG4gICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5saW5lRmllbGQsIHsgbGFiZWw6IFwiQXV0aGVudGljYXRpb24gUHJvdmlkZXJcIiwgbGFiZWxXaWR0aDogMjgsIHRvb2x0aXA6IFwiU3BlY2lmeSB3aGljaCBBV1MgY3JlZGVudGlhbHMgY2hhaW4gdG8gdXNlLlwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuU2VsZWN0LCB7IFwiYXJpYS1sYWJlbFwiOiBcIkF1dGhlbnRpY2F0aW9uIFByb3ZpZGVyXCIsIGNsYXNzTmFtZTogXCJ3aWR0aC0zMFwiLCB2YWx1ZTogY3VycmVudFByb3ZpZGVyLCBvcHRpb25zOiBhd3NBdXRoUHJvdmlkZXJPcHRpb25zLmZpbHRlcihmdW5jdGlvbiAob3B0KSB7IHJldHVybiBhd3NBbGxvd2VkQXV0aFByb3ZpZGVycy5pbmNsdWRlcyhvcHQudmFsdWUpOyB9KSwgZGVmYXVsdFZhbHVlOiBvcHRpb25zLmpzb25EYXRhLmF1dGhUeXBlLCBvbkNoYW5nZTogZnVuY3Rpb24gKG9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEub25VcGRhdGVEYXRhc291cmNlSnNvbkRhdGFPcHRpb25TZWxlY3QocHJvcHMsICdhdXRoVHlwZScpKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9LCBtZW51U2hvdWxkUG9ydGFsOiB0cnVlIH0pKSxcclxuICAgICAgICBvcHRpb25zLmpzb25EYXRhLmF1dGhUeXBlID09PSAnY3JlZGVudGlhbHMnICYmIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklubGluZUZpZWxkLCB7IGxhYmVsOiBcIkNyZWRlbnRpYWxzIFByb2ZpbGUgTmFtZVwiLCBsYWJlbFdpZHRoOiAyOCwgdG9vbHRpcDogXCJDcmVkZW50aWFscyBwcm9maWxlIG5hbWUsIGFzIHNwZWNpZmllZCBpbiB+Ly5hd3MvY3JlZGVudGlhbHMsIGxlYXZlIGJsYW5rIGZvciBkZWZhdWx0LlwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5wdXQsIHsgXCJhcmlhLWxhYmVsXCI6IFwiQ3JlZGVudGlhbHMgUHJvZmlsZSBOYW1lXCIsIGNsYXNzTmFtZTogXCJ3aWR0aC0zMFwiLCBwbGFjZWhvbGRlcjogXCJkZWZhdWx0XCIsIHZhbHVlOiBwcm9maWxlLCBvbkNoYW5nZTogZGF0YS5vblVwZGF0ZURhdGFzb3VyY2VKc29uRGF0YU9wdGlvbihwcm9wcywgJ3Byb2ZpbGUnKSB9KSkpLFxyXG4gICAgICAgIG9wdGlvbnMuanNvbkRhdGEuYXV0aFR5cGUgPT09ICdrZXlzJyAmJiAoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbmxpbmVGaWVsZCwgeyBsYWJlbDogXCJBY2Nlc3MgS2V5IElEXCIsIGxhYmVsV2lkdGg6IDI4IH0sICgoX2MgPSBwcm9wcy5vcHRpb25zLnNlY3VyZUpzb25GaWVsZHMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5hY2Nlc3NLZXkpID8gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuQnV0dG9uR3JvdXAsIHsgY2xhc3NOYW1lOiBcIndpZHRoLTMwXCIgfSxcclxuICAgICAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5wdXQsIHsgZGlzYWJsZWQ6IHRydWUsIHBsYWNlaG9sZGVyOiBcIkNvbmZpZ3VyZWRcIiB9KSxcclxuICAgICAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuVG9vbGJhckJ1dHRvbiwgeyBpY29uOiBcImVkaXRcIiwgdG9vbHRpcDogXCJFZGl0IEFjY2VzcyBLZXkgSURcIiwgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogZGF0YS5vblVwZGF0ZURhdGFzb3VyY2VSZXNldE9wdGlvbihwcm9wcywgJ2FjY2Vzc0tleScpIH0pKSkgOiAoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbnB1dCwgeyBcImFyaWEtbGFiZWxcIjogXCJBY2Nlc3MgS2V5IElEXCIsIGNsYXNzTmFtZTogXCJ3aWR0aC0zMFwiLCB2YWx1ZTogKF9lID0gKF9kID0gb3B0aW9ucy5zZWN1cmVKc29uRGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmFjY2Vzc0tleSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJycsIG9uQ2hhbmdlOiBkYXRhLm9uVXBkYXRlRGF0YXNvdXJjZVNlY3VyZUpzb25EYXRhT3B0aW9uKHByb3BzLCAnYWNjZXNzS2V5JykgfSkpKSxcclxuICAgICAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbmxpbmVGaWVsZCwgeyBsYWJlbDogXCJTZWNyZXQgQWNjZXNzIEtleVwiLCBsYWJlbFdpZHRoOiAyOCB9LCAoKF9mID0gcHJvcHMub3B0aW9ucy5zZWN1cmVKc29uRmllbGRzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yuc2VjcmV0S2V5KSA/IChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLkJ1dHRvbkdyb3VwLCB7IGNsYXNzTmFtZTogXCJ3aWR0aC0zMFwiIH0sXHJcbiAgICAgICAgICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklucHV0LCB7IGRpc2FibGVkOiB0cnVlLCBwbGFjZWhvbGRlcjogXCJDb25maWd1cmVkXCIgfSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLlRvb2xiYXJCdXR0b24sIHsgaWNvbjogXCJlZGl0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIHRvb2x0aXA6IFwiRWRpdCBTZWNyZXQgQWNjZXNzIEtleVwiLCBvbkNsaWNrOiBkYXRhLm9uVXBkYXRlRGF0YXNvdXJjZVJlc2V0T3B0aW9uKHByb3BzLCAnc2VjcmV0S2V5JykgfSkpKSA6IChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklucHV0LCB7IFwiYXJpYS1sYWJlbFwiOiBcIlNlY3JldCBBY2Nlc3MgS2V5XCIsIGNsYXNzTmFtZTogXCJ3aWR0aC0zMFwiLCB2YWx1ZTogKF9oID0gKF9nID0gb3B0aW9ucy5zZWN1cmVKc29uRGF0YSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLnNlY3JldEtleSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogJycsIG9uQ2hhbmdlOiBkYXRhLm9uVXBkYXRlRGF0YXNvdXJjZVNlY3VyZUpzb25EYXRhT3B0aW9uKHByb3BzLCAnc2VjcmV0S2V5JykgfSkpKSkpLFxyXG4gICAgICAgIGF3c0Fzc3VtZVJvbGVFbmFibGVkICYmIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklubGluZUZpZWxkLCB7IGxhYmVsOiBcIkFzc3VtZSBSb2xlIEFSTlwiLCBsYWJlbFdpZHRoOiAyOCwgdG9vbHRpcDogXCJPcHRpb25hbGx5LCBzcGVjaWZ5IHRoZSBBUk4gb2YgYSByb2xlIHRvIGFzc3VtZS4gU3BlY2lmeWluZyBhIHJvbGUgaGVyZSB3aWxsIGVuc3VyZSB0aGF0IHRoZSBzZWxlY3RlZCBhdXRoZW50aWNhdGlvbiBwcm92aWRlciBpcyB1c2VkIHRvIGFzc3VtZSB0aGUgc3BlY2lmaWVkIHJvbGUgcmF0aGVyIHRoYW4gdXNpbmcgdGhlIGNyZWRlbnRpYWxzIGRpcmVjdGx5LiBMZWF2ZSBibGFuayBpZiB5b3UgZG9uJ3QgbmVlZCB0byBhc3N1bWUgYSByb2xlIGF0IGFsbFwiIH0sXHJcbiAgICAgICAgICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklucHV0LCB7IFwiYXJpYS1sYWJlbFwiOiBcIkFzc3VtZSBSb2xlIEFSTlwiLCBjbGFzc05hbWU6IFwid2lkdGgtMzBcIiwgcGxhY2Vob2xkZXI6IFwiYXJuOmF3czppYW06KlwiLCB2YWx1ZTogb3B0aW9ucy5qc29uRGF0YS5hc3N1bWVSb2xlQXJuIHx8ICcnLCBvbkNoYW5nZTogZGF0YS5vblVwZGF0ZURhdGFzb3VyY2VKc29uRGF0YU9wdGlvbihwcm9wcywgJ2Fzc3VtZVJvbGVBcm4nKSB9KSksXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5saW5lRmllbGQsIHsgbGFiZWw6IFwiRXh0ZXJuYWwgSURcIiwgbGFiZWxXaWR0aDogMjgsIHRvb2x0aXA6IFwiSWYgeW91IGFyZSBhc3N1bWluZyBhIHJvbGUgaW4gYW5vdGhlciBhY2NvdW50LCB0aGF0IGhhcyBiZWVuIGNyZWF0ZWQgd2l0aCBhbiBleHRlcm5hbCBJRCwgc3BlY2lmeSB0aGUgZXh0ZXJuYWwgSUQgaGVyZS5cIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbnB1dCwgeyBcImFyaWEtbGFiZWxcIjogXCJFeHRlcm5hbCBJRFwiLCBjbGFzc05hbWU6IFwid2lkdGgtMzBcIiwgcGxhY2Vob2xkZXI6IFwiRXh0ZXJuYWwgSURcIiwgdmFsdWU6IG9wdGlvbnMuanNvbkRhdGEuZXh0ZXJuYWxJZCB8fCAnJywgb25DaGFuZ2U6IGRhdGEub25VcGRhdGVEYXRhc291cmNlSnNvbkRhdGFPcHRpb24ocHJvcHMsICdleHRlcm5hbElkJykgfSkpKSksXHJcbiAgICAgICAgIXNraXBFbmRwb2ludCAmJiAoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbmxpbmVGaWVsZCwgeyBsYWJlbDogXCJFbmRwb2ludFwiLCBsYWJlbFdpZHRoOiAyOCwgdG9vbHRpcDogXCJPcHRpb25hbGx5LCBzcGVjaWZ5IGEgY3VzdG9tIGVuZHBvaW50IGZvciB0aGUgc2VydmljZVwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5wdXQsIHsgXCJhcmlhLWxhYmVsXCI6IFwiRW5kcG9pbnRcIiwgY2xhc3NOYW1lOiBcIndpZHRoLTMwXCIsIHBsYWNlaG9sZGVyOiAoX2ogPSBwcm9wcy5kZWZhdWx0RW5kcG9pbnQpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6ICdodHRwczovL3tzZXJ2aWNlfS57cmVnaW9ufS5hbWF6b25hd3MuY29tJywgdmFsdWU6IG9wdGlvbnMuanNvbkRhdGEuZW5kcG9pbnQgfHwgJycsIG9uQ2hhbmdlOiBkYXRhLm9uVXBkYXRlRGF0YXNvdXJjZUpzb25EYXRhT3B0aW9uKHByb3BzLCAnZW5kcG9pbnQnKSB9KSkpLFxyXG4gICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5saW5lRmllbGQsIHsgbGFiZWw6IFwiRGVmYXVsdCBSZWdpb25cIiwgbGFiZWxXaWR0aDogMjgsIHRvb2x0aXA6IFwiU3BlY2lmeSB0aGUgcmVnaW9uLCBzdWNoIGFzIGZvciBVUyBXZXN0IChPcmVnb24pIHVzZSBgIHVzLXdlc3QtMiBgIGFzIHRoZSByZWdpb24uXCIgfSxcclxuICAgICAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5TZWxlY3QsIHsgXCJhcmlhLWxhYmVsXCI6IFwiRGVmYXVsdCBSZWdpb25cIiwgY2xhc3NOYW1lOiBcIndpZHRoLTMwXCIsIHZhbHVlOiByZWdpb25zLmZpbmQoZnVuY3Rpb24gKHJlZ2lvbikgeyByZXR1cm4gcmVnaW9uLnZhbHVlID09PSBvcHRpb25zLmpzb25EYXRhLmRlZmF1bHRSZWdpb247IH0pLCBvcHRpb25zOiByZWdpb25zLCBkZWZhdWx0VmFsdWU6IG9wdGlvbnMuanNvbkRhdGEuZGVmYXVsdFJlZ2lvbiwgYWxsb3dDdXN0b21WYWx1ZTogdHJ1ZSwgb25DaGFuZ2U6IGRhdGEub25VcGRhdGVEYXRhc291cmNlSnNvbkRhdGFPcHRpb25TZWxlY3QocHJvcHMsICdkZWZhdWx0UmVnaW9uJyksIGZvcm1hdENyZWF0ZUxhYmVsOiBmdW5jdGlvbiAocikgeyByZXR1cm4gXCJVc2UgcmVnaW9uOiBcIiArIHI7IH0sIG1lbnVTaG91bGRQb3J0YWw6IHRydWUgfSkpLFxyXG4gICAgICAgIHByb3BzLmNoaWxkcmVuKSk7XHJcbn07XG5cbnZhciBTSUdWNENvbm5lY3Rpb25Db25maWcgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcclxuICAgIHZhciBvbk9wdGlvbnNDaGFuZ2UgPSBwcm9wcy5vbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgPSBwcm9wcy5vcHRpb25zO1xyXG4gICAgLy8gTWFwIEh0dHBTZXR0aW5ncyBwcm9wcyB0byBDb25uZWN0aW9uQ29uZmlnUHJvcHNcclxuICAgIHZhciBjb25uZWN0aW9uQ29uZmlnUHJvcHMgPSB7XHJcbiAgICAgICAgb25PcHRpb25zQ2hhbmdlOiBmdW5jdGlvbiAoYXdzRGF0YVNvdXJjZVNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcclxuICAgICAgICAgICAgdmFyIGRhdGFTb3VyY2VTZXR0aW5ncyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBqc29uRGF0YTogX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMuanNvbkRhdGEpLCB7IHNpZ1Y0QXV0aFR5cGU6IGF3c0RhdGFTb3VyY2VTZXR0aW5ncy5qc29uRGF0YS5hdXRoVHlwZSwgc2lnVjRQcm9maWxlOiBhd3NEYXRhU291cmNlU2V0dGluZ3MuanNvbkRhdGEucHJvZmlsZSwgc2lnVjRBc3N1bWVSb2xlQXJuOiBhd3NEYXRhU291cmNlU2V0dGluZ3MuanNvbkRhdGEuYXNzdW1lUm9sZUFybiwgc2lnVjRFeHRlcm5hbElkOiBhd3NEYXRhU291cmNlU2V0dGluZ3MuanNvbkRhdGEuZXh0ZXJuYWxJZCwgc2lnVjRSZWdpb246IGF3c0RhdGFTb3VyY2VTZXR0aW5ncy5qc29uRGF0YS5kZWZhdWx0UmVnaW9uLCBzaWdWNEVuZHBvaW50OiBhd3NEYXRhU291cmNlU2V0dGluZ3MuanNvbkRhdGEuZW5kcG9pbnQgfSksIHNlY3VyZUpzb25GaWVsZHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBzaWdWNEFjY2Vzc0tleTogKF9hID0gYXdzRGF0YVNvdXJjZVNldHRpbmdzLnNlY3VyZUpzb25GaWVsZHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgc2lnVjRTZWNyZXRLZXk6IChfYiA9IGF3c0RhdGFTb3VyY2VTZXR0aW5ncy5zZWN1cmVKc29uRmllbGRzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2VjcmV0S2V5LFxyXG4gICAgICAgICAgICAgICAgfSwgc2VjdXJlSnNvbkRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBzaWdWNEFjY2Vzc0tleTogKF9jID0gYXdzRGF0YVNvdXJjZVNldHRpbmdzLnNlY3VyZUpzb25EYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWNjZXNzS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZ1Y0U2VjcmV0S2V5OiAoX2QgPSBhd3NEYXRhU291cmNlU2V0dGluZ3Muc2VjdXJlSnNvbkRhdGEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zZWNyZXRLZXksXHJcbiAgICAgICAgICAgICAgICB9IH0pO1xyXG4gICAgICAgICAgICBvbk9wdGlvbnNDaGFuZ2UoZGF0YVNvdXJjZVNldHRpbmdzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbnM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBqc29uRGF0YTogX19hc3NpZ24oX19hc3NpZ24oe30sIG9wdGlvbnMuanNvbkRhdGEpLCB7IGF1dGhUeXBlOiBvcHRpb25zLmpzb25EYXRhLnNpZ1Y0QXV0aFR5cGUsIHByb2ZpbGU6IG9wdGlvbnMuanNvbkRhdGEuc2lnVjRQcm9maWxlLCBhc3N1bWVSb2xlQXJuOiBvcHRpb25zLmpzb25EYXRhLnNpZ1Y0QXNzdW1lUm9sZUFybiwgZXh0ZXJuYWxJZDogb3B0aW9ucy5qc29uRGF0YS5zaWdWNEV4dGVybmFsSWQsIGRlZmF1bHRSZWdpb246IG9wdGlvbnMuanNvbkRhdGEuc2lnVjRSZWdpb24sIGVuZHBvaW50OiBvcHRpb25zLmpzb25EYXRhLnNpZ1Y0RW5kcG9pbnQgfSksIHNlY3VyZUpzb25GaWVsZHM6IHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc0tleTogKF9hID0gb3B0aW9ucy5zZWN1cmVKc29uRmllbGRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2lnVjRBY2Nlc3NLZXksXHJcbiAgICAgICAgICAgICAgICBzZWNyZXRLZXk6IChfYiA9IG9wdGlvbnMuc2VjdXJlSnNvbkZpZWxkcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNpZ1Y0U2VjcmV0S2V5LFxyXG4gICAgICAgICAgICB9LCBzZWN1cmVKc29uRGF0YToge1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzS2V5OiAoX2MgPSBvcHRpb25zLnNlY3VyZUpzb25EYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2lnVjRBY2Nlc3NLZXksXHJcbiAgICAgICAgICAgICAgICBzZWNyZXRLZXk6IChfZCA9IG9wdGlvbnMuc2VjdXJlSnNvbkRhdGEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zaWdWNFNlY3JldEtleSxcclxuICAgICAgICAgICAgfSB9KSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnZi1mb3JtXCIgfSxcclxuICAgICAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImg2XCIsIG51bGwsIFwiU2lnVjQgQXV0aCBEZXRhaWxzXCIpKSxcclxuICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbm5lY3Rpb25Db25maWcsIF9fYXNzaWduKHt9LCBjb25uZWN0aW9uQ29uZmlnUHJvcHMsIHsgc2tpcEhlYWRlcjogdHJ1ZSwgc2tpcEVuZHBvaW50OiB0cnVlIH0pKSkpO1xyXG59O1xuXG52YXIgZGVmYXVsdEtleSA9ICdfX2RlZmF1bHQnO1xuXG5mdW5jdGlvbiBSZXNvdXJjZVNlbGVjdG9yKHByb3BzKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIF9hID0gX19yZWFkKFJlYWN0LnVzZVN0YXRlKHByb3BzLnZhbHVlIHx8IHByb3BzLmRlZmF1bHQgfHwgbnVsbCksIDIpLCByZXNvdXJjZSA9IF9hWzBdLCBzZXRSZXNvdXJjZSA9IF9hWzFdO1xyXG4gICAgdmFyIF9iID0gX19yZWFkKFJlYWN0LnVzZVN0YXRlKHJlc291cmNlID8gW3Jlc291cmNlXSA6IFtdKSwgMiksIHJlc291cmNlcyA9IF9iWzBdLCBzZXRSZXNvdXJjZXMgPSBfYlsxXTtcclxuICAgIHZhciBfYyA9IF9fcmVhZChSZWFjdC51c2VTdGF0ZShwcm9wcy5kZXBlbmRlbmNpZXMpLCAyKSwgZGVwZW5kZW5jaWVzID0gX2NbMF0sIHNldERlcGVuZGVuY2llcyA9IF9jWzFdO1xyXG4gICAgdmFyIF9kID0gX19yZWFkKFJlYWN0LnVzZVN0YXRlKGZhbHNlKSwgMiksIGlzTG9hZGluZyA9IF9kWzBdLCBzZXRJc0xvYWRpbmcgPSBfZFsxXTtcclxuICAgIHZhciBfZSA9IF9fcmVhZChSZWFjdC51c2VTdGF0ZShmYWxzZSksIDIpLCBmZXRjaGVkID0gX2VbMF0sIHNldEZldGNoZWQgPSBfZVsxXTtcclxuICAgIHZhciBkZWZhdWx0T3B0cyA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBvcHRzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJkZWZhdWx0IChcIiArIHByb3BzLmRlZmF1bHQgKyBcIilcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGVmYXVsdCB2YWx1ZSBzZXQgaW4gdGhlIGRhdGEgc291cmNlXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXTtcclxuICAgICAgICBpZiAocHJvcHMudmFsdWUgJiYgcHJvcHMudmFsdWUgIT09IGRlZmF1bHRLZXkpIHtcclxuICAgICAgICAgICAgb3B0cy5wdXNoKHsgbGFiZWw6IHByb3BzLnZhbHVlLCB2YWx1ZTogcHJvcHMudmFsdWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcHRzO1xyXG4gICAgfSwgW3Byb3BzLmRlZmF1bHQsIHByb3BzLnZhbHVlXSk7XHJcbiAgICB2YXIgX2YgPSBfX3JlYWQoUmVhY3QudXNlU3RhdGUocHJvcHMuZGVmYXVsdCA/IGRlZmF1bHRPcHRzIDogW10pLCAyKSwgb3B0aW9ucyA9IF9mWzBdLCBzZXRPcHRpb25zID0gX2ZbMV07XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwcm9wcy5yZXNvdXJjZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzZXRSZXNvdXJjZXMocHJvcHMucmVzb3VyY2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcHJvcHMucmVzb3VyY2VzXSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBuZXdPcHRpb25zID0gcHJvcHMuZGVmYXVsdCA/IGRlZmF1bHRPcHRzIDogW107XHJcbiAgICAgICAgaWYgKHJlc291cmNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiByID09PSAnc3RyaW5nJyA/IHIgOiByLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuZXdPcHRpb25zLmZpbmQoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8udmFsdWUgPT09IHZhbHVlOyB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiByID09PSAnc3RyaW5nJyA/IG5ld09wdGlvbnMucHVzaCh7IGxhYmVsOiByLCB2YWx1ZTogciB9KSA6IG5ld09wdGlvbnMucHVzaChyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldE9wdGlvbnMobmV3T3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRPcHRpb25zKFtdKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcmVzb3VyY2VzLCBkZWZhdWx0T3B0cywgcHJvcHMuZGVmYXVsdF0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBBIGNoYW5nZSBpbiB0aGUgZGVwZW5kZW5jaWVzIGNhdXNlIGEgc3RhdGUgY2xlYW4tdXBcclxuICAgICAgICBpZiAoIWxvZGFzaC5pc0VxdWFsKHByb3BzLmRlcGVuZGVuY2llcywgZGVwZW5kZW5jaWVzKSkge1xyXG4gICAgICAgICAgICBzZXRGZXRjaGVkKGZhbHNlKTtcclxuICAgICAgICAgICAgc2V0UmVzb3VyY2UobnVsbCk7XHJcbiAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKG51bGwpO1xyXG4gICAgICAgICAgICBzZXREZXBlbmRlbmNpZXMocHJvcHMuZGVwZW5kZW5jaWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcHJvcHMsIGRlcGVuZGVuY2llc10pO1xyXG4gICAgdmFyIGZldGNoID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZXNvdXJjZXNfMTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmV0Y2hlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvcHMuc2F2ZU9wdGlvbnMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHByb3BzLnNhdmVPcHRpb25zKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCAsIDQsIDVdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwcm9wcy5mZXRjaCgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXNfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNvdXJjZXMocmVzb3VyY2VzXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIHNldEZldGNoZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgcHJvcHMub25DaGFuZ2UoZSk7XHJcbiAgICAgICAgaWYgKGUudmFsdWUpIHtcclxuICAgICAgICAgICAgc2V0UmVzb3VyY2UoZS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAsIDMsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaCgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pOyB9O1xyXG4gICAgcmV0dXJuIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklubGluZUZpZWxkLCB7IGxhYmVsOiBwcm9wcy5sYWJlbCwgbGFiZWxXaWR0aDogcHJvcHMubGFiZWxXaWR0aCwgdG9vbHRpcDogcHJvcHMudG9vbHRpcCwgaGlkZGVuOiBwcm9wcy5oaWRkZW4gfSxcclxuICAgICAgICBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBwcm9wc1snZGF0YS10ZXN0aWQnXSwgdGl0bGU6IHByb3BzLnRpdGxlIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuU2VsZWN0LCBfX2Fzc2lnbih7fSwgcHJvcHMsIHsgXCJhcmlhLWxhYmVsXCI6IHByb3BzLmxhYmVsLCBvcHRpb25zOiBvcHRpb25zLCBvbkNoYW5nZTogb25DaGFuZ2UsIGlzTG9hZGluZzogaXNMb2FkaW5nLCBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZSB8fCAnbWluLXdpZHRoLTYnLCBvbk9wZW5NZW51OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wcy5mZXRjaCAmJiBvbkNsaWNrKCk7IH0sIG1lbnVTaG91bGRQb3J0YWw6IHRydWUgfSkpKSkpO1xyXG59XG5cbmZ1bmN0aW9uIENvbmZpZ1NlbGVjdChwcm9wcykge1xyXG4gICAgdmFyIGpzb25EYXRhID0gcHJvcHMub3B0aW9ucy5qc29uRGF0YTtcclxuICAgIHZhciBjb21tb25Qcm9wcyA9IHtcclxuICAgICAgICB0aXRsZToganNvbkRhdGEuZGVmYXVsdFJlZ2lvbiA/ICcnIDogJ3NlbGVjdCBhIGRlZmF1bHQgcmVnaW9uJyxcclxuICAgICAgICBsYWJlbFdpZHRoOiAyOCxcclxuICAgICAgICBjbGFzc05hbWU6ICd3aWR0aC0zMCcsXHJcbiAgICB9O1xyXG4gICAgLy8gQW55IGNoYW5nZSBpbiB0aGUgQVdTIGNvbm5lY3Rpb24gZGV0YWlscyB3aWxsIGFmZmVjdCBzZWxlY3RvcnNcclxuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXHJcbiAgICAgICAgcHJvcHMub3B0aW9ucy5qc29uRGF0YS5hc3N1bWVSb2xlQXJuLFxyXG4gICAgICAgIHByb3BzLm9wdGlvbnMuanNvbkRhdGEuYXV0aFR5cGUsXHJcbiAgICAgICAgcHJvcHMub3B0aW9ucy5qc29uRGF0YS5kZWZhdWx0UmVnaW9uLFxyXG4gICAgICAgIHByb3BzLm9wdGlvbnMuanNvbkRhdGEuZW5kcG9pbnQsXHJcbiAgICAgICAgcHJvcHMub3B0aW9ucy5qc29uRGF0YS5leHRlcm5hbElkLFxyXG4gICAgICAgIHByb3BzLm9wdGlvbnMuanNvbkRhdGEucHJvZmlsZSxcclxuICAgIF0uY29uY2F0KHByb3BzLmRlcGVuZGVuY2llcyk7XHJcbiAgICByZXR1cm4gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVzb3VyY2VTZWxlY3RvciwgX19hc3NpZ24oeyBsYWJlbDogcHJvcHMubGFiZWwsIFwiZGF0YS10ZXN0aWRcIjogcHJvcHNbJ2RhdGEtdGVzdGlkJ10sIG9uQ2hhbmdlOiBwcm9wcy5vbkNoYW5nZSwgZmV0Y2g6IHByb3BzLmZldGNoLCB2YWx1ZTogcHJvcHMudmFsdWUsIHNhdmVPcHRpb25zOiBwcm9wcy5zYXZlT3B0aW9ucywgZGVwZW5kZW5jaWVzOiBkZXBlbmRlbmNpZXMsIGhpZGRlbjogcHJvcHMuaGlkZGVuLCBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQgfHwgIWpzb25EYXRhLmRlZmF1bHRSZWdpb24sIGFsbG93Q3VzdG9tVmFsdWU6IHByb3BzLmFsbG93Q3VzdG9tVmFsdWUsIGF1dG9Gb2N1czogcHJvcHMuYXV0b0ZvY3VzLCBiYWNrc3BhY2VSZW1vdmVzVmFsdWU6IHByb3BzLmJhY2tzcGFjZVJlbW92ZXNWYWx1ZSwgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsIGludmFsaWQ6IHByb3BzLmludmFsaWQsIGlzQ2xlYXJhYmxlOiBwcm9wcy5pc0NsZWFyYWJsZSwgaXNNdWx0aTogcHJvcHMuaXNNdWx0aSwgaW5wdXRJZDogcHJvcHMuaW5wdXRJZCwgc2hvd0FsbFNlbGVjdGVkV2hlbk9wZW46IHByb3BzLnNob3dBbGxTZWxlY3RlZFdoZW5PcGVuLCBtYXhNZW51SGVpZ2h0OiBwcm9wcy5tYXhNZW51SGVpZ2h0LCBtaW5NZW51SGVpZ2h0OiBwcm9wcy5taW5NZW51SGVpZ2h0LCBtYXhWaXNpYmxlVmFsdWVzOiBwcm9wcy5tYXhWaXNpYmxlVmFsdWVzLCBtZW51UGxhY2VtZW50OiBwcm9wcy5tZW51UGxhY2VtZW50LCBtZW51UG9zaXRpb246IHByb3BzLm1lbnVQb3NpdGlvbiwgbm9PcHRpb25zTWVzc2FnZTogcHJvcHMubm9PcHRpb25zTWVzc2FnZSwgb25CbHVyOiBwcm9wcy5vbkJsdXIsIG9uQ3JlYXRlT3B0aW9uOiBwcm9wcy5vbkNyZWF0ZU9wdGlvbiwgb25JbnB1dENoYW5nZTogcHJvcHMub25JbnB1dENoYW5nZSwgcGxhY2Vob2xkZXI6IHByb3BzLnBsYWNlaG9sZGVyLCB3aWR0aDogcHJvcHMud2lkdGgsIGlzT3B0aW9uRGlzYWJsZWQ6IHByb3BzLmlzT3B0aW9uRGlzYWJsZWQgfSwgY29tbW9uUHJvcHMpKSk7XHJcbn1cblxuZnVuY3Rpb24gSW5saW5lSW5wdXQocHJvcHMpIHtcclxuICAgIHJldHVybiAoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbmxpbmVGaWVsZCwgeyBsYWJlbDogcHJvcHMubGFiZWwsIGxhYmVsV2lkdGg6IDI4LCB0b29sdGlwOiBwcm9wcy50b29sdGlwLCBoaWRkZW46IHByb3BzLmhpZGRlbiwgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIH0sXHJcbiAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbnB1dCwgeyBcImRhdGEtdGVzdGlkXCI6IHByb3BzWydkYXRhLXRlc3RpZCddLCBjbGFzc05hbWU6IFwid2lkdGgtMzBcIiwgdmFsdWU6IHByb3BzLnZhbHVlLCBvbkNoYW5nZTogcHJvcHMub25DaGFuZ2UsIHBsYWNlaG9sZGVyOiBwcm9wcy5wbGFjZWhvbGRlciwgZGlzYWJsZWQ6IHByb3BzLmRpc2FibGVkIH0pKSk7XHJcbn1cblxuZnVuY3Rpb24gUXVlcnlDb2RlRWRpdG9yKHByb3BzKSB7XHJcbiAgICB2YXIgZ2V0U3VnZ2VzdGlvbnMgPSBwcm9wcy5nZXRTdWdnZXN0aW9ucywgcXVlcnkgPSBwcm9wcy5xdWVyeTtcclxuICAgIHZhciByYXdTUUwgPSBsb2Rhc2guZGVmYXVsdHMocHJvcHMucXVlcnksIHsgcmF3U1FMOiAnJyB9KS5yYXdTUUw7XHJcbiAgICB2YXIgb25SYXdTcWxDaGFuZ2UgPSBmdW5jdGlvbiAocmF3U1FMKSB7XHJcbiAgICAgICAgdmFyIHF1ZXJ5ID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHByb3BzLnF1ZXJ5KSwgeyByYXdTUUw6IHJhd1NRTCB9KTtcclxuICAgICAgICBwcm9wcy5vbkNoYW5nZShxdWVyeSk7XHJcbiAgICAgICAgcHJvcHMub25SdW5RdWVyeSgpO1xyXG4gICAgfTtcclxuICAgIC8vIFVzZSBhIHJlZmVyZW5jZSBmb3Igc3VnZ2VzdGlvbnMgYmVjYXVzZSBhIGJ1ZyBpbiBDb2RlRWRpdG9yIGdldFN1Z2dlc3Rpb25zXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3JhZmFuYS9ncmFmYW5hL2lzc3Vlcy80MDEyMVxyXG4gICAgLy8gSXQgd2FzIGJlZW4gZml4ZWQgaW4gOC4zIGJ1dCBrZWVwaW5nIHRoZSB3b3JrYXJvdW5kIGhlcmUgdG8gc3VwcG9ydCBvbGRlclxyXG4gICAgLy8gdmVyc2lvbnMuXHJcbiAgICB2YXIgc3VnZ2VzdGlvbnNSZWYgPSBSZWFjdC51c2VSZWYoW10pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdWdnZXN0aW9uc1JlZi5jdXJyZW50ID0gZ2V0U3VnZ2VzdGlvbnMocXVlcnkpO1xyXG4gICAgfSwgW2dldFN1Z2dlc3Rpb25zLCBxdWVyeV0pO1xyXG4gICAgcmV0dXJuIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLkNvZGVFZGl0b3IsIF9fYXNzaWduKHsgbGFuZ3VhZ2U6IHByb3BzLmxhbmd1YWdlLCB2YWx1ZTogcmF3U1FMLCBvbkJsdXI6IG9uUmF3U3FsQ2hhbmdlLCBzaG93TWluaU1hcDogZmFsc2UsIHNob3dMaW5lTnVtYmVyczogdHJ1ZSwgZ2V0U3VnZ2VzdGlvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1Z2dlc3Rpb25zUmVmLmN1cnJlbnQ7IH0sIGhlaWdodDogXCIyNDBweFwiIH0sIHByb3BzLmVkaXRvclByb3BzKSkpO1xyXG59XG5cbmZ1bmN0aW9uIEZvcm1hdFNlbGVjdChwcm9wcykge1xyXG4gICAgdmFyIG9uQ2hhbmdlRm9ybWF0ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBwcm9wcy5vbkNoYW5nZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJvcHMucXVlcnkpLCB7IGZvcm1hdDogZS52YWx1ZSB8fCAwIH0pKTtcclxuICAgICAgICBwcm9wcy5vblJ1blF1ZXJ5KCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklubGluZUZpZWxkLCB7IGxhYmVsOiBcIkZvcm1hdCBhc1wiLCBsYWJlbFdpZHRoOiAxMSB9LFxyXG4gICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuU2VsZWN0LCB7IFwiYXJpYS1sYWJlbFwiOiBcIkZvcm1hdCBhc1wiLCBvcHRpb25zOiBwcm9wcy5vcHRpb25zLCB2YWx1ZTogcHJvcHMucXVlcnkuZm9ybWF0LCBvbkNoYW5nZTogb25DaGFuZ2VGb3JtYXQsIGNsYXNzTmFtZTogXCJ3aWR0aC0xMlwiLCBtZW51U2hvdWxkUG9ydGFsOiB0cnVlIH0pKSk7XHJcbn1cblxuKGZ1bmN0aW9uIChGaWxsVmFsdWVPcHRpb25zKSB7XHJcbiAgICBGaWxsVmFsdWVPcHRpb25zW0ZpbGxWYWx1ZU9wdGlvbnNbXCJQcmV2aW91c1wiXSA9IDBdID0gXCJQcmV2aW91c1wiO1xyXG4gICAgRmlsbFZhbHVlT3B0aW9uc1tGaWxsVmFsdWVPcHRpb25zW1wiTnVsbFwiXSA9IDFdID0gXCJOdWxsXCI7XHJcbiAgICBGaWxsVmFsdWVPcHRpb25zW0ZpbGxWYWx1ZU9wdGlvbnNbXCJWYWx1ZVwiXSA9IDJdID0gXCJWYWx1ZVwiO1xyXG59KShleHBvcnRzLkZpbGxWYWx1ZU9wdGlvbnMgfHwgKGV4cG9ydHMuRmlsbFZhbHVlT3B0aW9ucyA9IHt9KSk7XHJcbnZhciBTZWxlY3RhYmxlRmlsbFZhbHVlT3B0aW9ucyA9IFtcclxuICAgIHtcclxuICAgICAgICBsYWJlbDogJ1ByZXZpb3VzIFZhbHVlJyxcclxuICAgICAgICB2YWx1ZTogZXhwb3J0cy5GaWxsVmFsdWVPcHRpb25zLlByZXZpb3VzLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBsYWJlbDogJ05VTEwnLFxyXG4gICAgICAgIHZhbHVlOiBleHBvcnRzLkZpbGxWYWx1ZU9wdGlvbnMuTnVsbCxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdWYWx1ZScsXHJcbiAgICAgICAgdmFsdWU6IGV4cG9ydHMuRmlsbFZhbHVlT3B0aW9ucy5WYWx1ZSxcclxuICAgIH0sXHJcbl07XHJcbmZ1bmN0aW9uIEZpbGxWYWx1ZVNlbGVjdChwcm9wcykge1xyXG4gICAgdmFyIF9hLCBfYiwgX2M7XHJcbiAgICByZXR1cm4gKFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudCh1aS5JbmxpbmVGaWVsZCwgeyBsYWJlbDogXCJGaWxsIHZhbHVlXCIsIHRvb2x0aXA6IFwidmFsdWUgdG8gZmlsbCBtaXNzaW5nIHBvaW50c1wiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuU2VsZWN0LCB7IFwiYXJpYS1sYWJlbFwiOiBcIkZpbGwgdmFsdWVcIiwgb3B0aW9uczogU2VsZWN0YWJsZUZpbGxWYWx1ZU9wdGlvbnMsIHZhbHVlOiAoX2IgPSAoX2EgPSBwcm9wcy5xdWVyeS5maWxsTW9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1vZGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGV4cG9ydHMuRmlsbFZhbHVlT3B0aW9ucy5QcmV2aW91cywgb25DaGFuZ2U6IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9hLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcm9wcy5xdWVyeSksIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgdGhlIGZpbGxNb2RlLnZhbHVlIGluIGNhc2UgRmlsbFZhbHVlT3B0aW9ucy5WYWx1ZSBtb2RlIGlzIHNlbGVjdGVkIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE1vZGU6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcm9wcy5xdWVyeS5maWxsTW9kZSksIHsgbW9kZTogdmFsdWUgfSkgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLm9uUnVuUXVlcnkoKTtcclxuICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogXCJ3aWR0aC0xMlwiLCBtZW51U2hvdWxkUG9ydGFsOiB0cnVlIH0pKSxcclxuICAgICAgICAoKF9jID0gcHJvcHMucXVlcnkuZmlsbE1vZGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5tb2RlKSA9PT0gZXhwb3J0cy5GaWxsVmFsdWVPcHRpb25zLlZhbHVlICYmIChSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KHVpLklubGluZUZpZWxkLCB7IGxhYmVsOiBcIlZhbHVlXCIsIGxhYmVsV2lkdGg6IDExIH0sXHJcbiAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodWkuSW5wdXQsIHsgdHlwZTogXCJudW1iZXJcIiwgXCJhcmlhLWxhYmVsXCI6IFwiVmFsdWVcIiwgdmFsdWU6IHByb3BzLnF1ZXJ5LmZpbGxNb2RlLnZhbHVlLCBvbkNoYW5nZTogZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBfYS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5vbkNoYW5nZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJvcHMucXVlcnkpLCB7IGZpbGxNb2RlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBleHBvcnRzLkZpbGxWYWx1ZU9wdGlvbnMuVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudFRhcmdldC52YWx1ZUFzTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0pKTtcclxuICAgICAgICAgICAgICAgIH0sIG9uQmx1cjogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvcHMub25SdW5RdWVyeSgpOyB9IH0pKSkpKTtcclxufVxuXG4vKipcclxuICogRG8gbm90IGV4ZWN1dGUgcXVlcmllcyB0aGF0IGRvIG5vdCBleGlzdCB5ZXRcclxuICovXHJcbmZ1bmN0aW9uIGZpbHRlclNRTFF1ZXJ5KHF1ZXJ5KSB7XHJcbiAgICByZXR1cm4gISFxdWVyeS5yYXdTUUw7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlTUUxUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeSwgc2NvcGVkVmFycywgZ2V0VGVtcGxhdGVTcnYpIHtcclxuICAgIHZhciB0ZW1wbGF0ZVNydiA9IGdldFRlbXBsYXRlU3J2KCk7XHJcbiAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHF1ZXJ5KSwgeyByYXdTUUw6IHRlbXBsYXRlU3J2LnJlcGxhY2UocXVlcnkucmF3U1FMLCBzY29wZWRWYXJzLCBpbnRlcnBvbGF0ZVZhcmlhYmxlKSB9KTtcclxufVxyXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVZhcmlhYmxlKHZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHZhciBxdW90ZWRWYWx1ZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICByZXR1cm4gcXVvdGVMaXRlcmFsKHYpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcXVvdGVkVmFsdWVzLmpvaW4oJywnKTtcclxufVxyXG5mdW5jdGlvbiBxdW90ZUxpdGVyYWwodmFsdWUpIHtcclxuICAgIHJldHVybiBcIidcIiArIFN0cmluZyh2YWx1ZSkucmVwbGFjZSgvJy9nLCBcIicnXCIpICsgXCInXCI7XHJcbn1cclxudmFyIGFwcGVuZFRlbXBsYXRlVmFyaWFibGVzQXNTdWdnZXN0aW9ucyA9IGZ1bmN0aW9uIChnZXRUZW1wbGF0ZVNydiwgc3Vncykge1xyXG4gICAgdmFyIHRlbXBsYXRlU3J2ID0gZ2V0VGVtcGxhdGVTcnYoKTtcclxuICAgIHZhciB0ZW1wbGF0ZVN1Z3MgPSBbXTtcclxuICAgIHRlbXBsYXRlU3J2LmdldFZhcmlhYmxlcygpLmZvckVhY2goZnVuY3Rpb24gKHZhcmlhYmxlKSB7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gJyQnICsgdmFyaWFibGUubmFtZTtcclxuICAgICAgICB2YXIgdmFsID0gdGVtcGxhdGVTcnYucmVwbGFjZShsYWJlbCk7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gbGFiZWwpIHtcclxuICAgICAgICAgICAgdmFsID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbXBsYXRlU3Vncy5wdXNoKHtcclxuICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxyXG4gICAgICAgICAgICBraW5kOiB1aS5Db2RlRWRpdG9yU3VnZ2VzdGlvbkl0ZW1LaW5kLlRleHQsXHJcbiAgICAgICAgICAgIGRldGFpbDogXCIoVGVtcGxhdGUgVmFyaWFibGUpIFwiICsgdmFsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc3Vncy5jb25jYXQodGVtcGxhdGVTdWdzKTtcclxufTtcblxuZXhwb3J0cy5Db25maWdTZWxlY3QgPSBDb25maWdTZWxlY3Q7XG5leHBvcnRzLkNvbm5lY3Rpb25Db25maWcgPSBDb25uZWN0aW9uQ29uZmlnO1xuZXhwb3J0cy5GaWxsVmFsdWVTZWxlY3QgPSBGaWxsVmFsdWVTZWxlY3Q7XG5leHBvcnRzLkZvcm1hdFNlbGVjdCA9IEZvcm1hdFNlbGVjdDtcbmV4cG9ydHMuSW5saW5lSW5wdXQgPSBJbmxpbmVJbnB1dDtcbmV4cG9ydHMuUXVlcnlDb2RlRWRpdG9yID0gUXVlcnlDb2RlRWRpdG9yO1xuZXhwb3J0cy5SZXNvdXJjZVNlbGVjdG9yID0gUmVzb3VyY2VTZWxlY3RvcjtcbmV4cG9ydHMuU0lHVjRDb25uZWN0aW9uQ29uZmlnID0gU0lHVjRDb25uZWN0aW9uQ29uZmlnO1xuZXhwb3J0cy5hcHBlbmRUZW1wbGF0ZVZhcmlhYmxlc0FzU3VnZ2VzdGlvbnMgPSBhcHBlbmRUZW1wbGF0ZVZhcmlhYmxlc0FzU3VnZ2VzdGlvbnM7XG5leHBvcnRzLmFwcGx5U1FMVGVtcGxhdGVWYXJpYWJsZXMgPSBhcHBseVNRTFRlbXBsYXRlVmFyaWFibGVzO1xuZXhwb3J0cy5hd3NBdXRoUHJvdmlkZXJPcHRpb25zID0gYXdzQXV0aFByb3ZpZGVyT3B0aW9ucztcbmV4cG9ydHMuZmlsdGVyU1FMUXVlcnkgPSBmaWx0ZXJTUUxRdWVyeTtcbmV4cG9ydHMuc3RhbmRhcmRSZWdpb25zID0gc3RhbmRhcmRSZWdpb25zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZGV2ZWxvcG1lbnQuanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2luZGV4LnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2luZGV4LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIndXNlIHN0cmljdCdcblxuLy8gQSBsaW5rZWQgbGlzdCB0byBrZWVwIHRyYWNrIG9mIHJlY2VudGx5LXVzZWQtbmVzc1xuY29uc3QgWWFsbGlzdCA9IHJlcXVpcmUoJ3lhbGxpc3QnKVxuXG5jb25zdCBNQVggPSBTeW1ib2woJ21heCcpXG5jb25zdCBMRU5HVEggPSBTeW1ib2woJ2xlbmd0aCcpXG5jb25zdCBMRU5HVEhfQ0FMQ1VMQVRPUiA9IFN5bWJvbCgnbGVuZ3RoQ2FsY3VsYXRvcicpXG5jb25zdCBBTExPV19TVEFMRSA9IFN5bWJvbCgnYWxsb3dTdGFsZScpXG5jb25zdCBNQVhfQUdFID0gU3ltYm9sKCdtYXhBZ2UnKVxuY29uc3QgRElTUE9TRSA9IFN5bWJvbCgnZGlzcG9zZScpXG5jb25zdCBOT19ESVNQT1NFX09OX1NFVCA9IFN5bWJvbCgnbm9EaXNwb3NlT25TZXQnKVxuY29uc3QgTFJVX0xJU1QgPSBTeW1ib2woJ2xydUxpc3QnKVxuY29uc3QgQ0FDSEUgPSBTeW1ib2woJ2NhY2hlJylcbmNvbnN0IFVQREFURV9BR0VfT05fR0VUID0gU3ltYm9sKCd1cGRhdGVBZ2VPbkdldCcpXG5cbmNvbnN0IG5haXZlTGVuZ3RoID0gKCkgPT4gMVxuXG4vLyBscnVMaXN0IGlzIGEgeWFsbGlzdCB3aGVyZSB0aGUgaGVhZCBpcyB0aGUgeW91bmdlc3Rcbi8vIGl0ZW0sIGFuZCB0aGUgdGFpbCBpcyB0aGUgb2xkZXN0LiAgdGhlIGxpc3QgY29udGFpbnMgdGhlIEhpdFxuLy8gb2JqZWN0cyBhcyB0aGUgZW50cmllcy5cbi8vIEVhY2ggSGl0IG9iamVjdCBoYXMgYSByZWZlcmVuY2UgdG8gaXRzIFlhbGxpc3QuTm9kZS4gIFRoaXNcbi8vIG5ldmVyIGNoYW5nZXMuXG4vL1xuLy8gY2FjaGUgaXMgYSBNYXAgKG9yIFBzZXVkb01hcCkgdGhhdCBtYXRjaGVzIHRoZSBrZXlzIHRvXG4vLyB0aGUgWWFsbGlzdC5Ob2RlIG9iamVjdC5cbmNsYXNzIExSVUNhY2hlIHtcbiAgY29uc3RydWN0b3IgKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgb3B0aW9ucyA9IHsgbWF4OiBvcHRpb25zIH1cblxuICAgIGlmICghb3B0aW9ucylcbiAgICAgIG9wdGlvbnMgPSB7fVxuXG4gICAgaWYgKG9wdGlvbnMubWF4ICYmICh0eXBlb2Ygb3B0aW9ucy5tYXggIT09ICdudW1iZXInIHx8IG9wdGlvbnMubWF4IDwgMCkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXggbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKVxuICAgIC8vIEtpbmQgb2Ygd2VpcmQgdG8gaGF2ZSBhIGRlZmF1bHQgbWF4IG9mIEluZmluaXR5LCBidXQgb2ggd2VsbC5cbiAgICBjb25zdCBtYXggPSB0aGlzW01BWF0gPSBvcHRpb25zLm1heCB8fCBJbmZpbml0eVxuXG4gICAgY29uc3QgbGMgPSBvcHRpb25zLmxlbmd0aCB8fCBuYWl2ZUxlbmd0aFxuICAgIHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdID0gKHR5cGVvZiBsYyAhPT0gJ2Z1bmN0aW9uJykgPyBuYWl2ZUxlbmd0aCA6IGxjXG4gICAgdGhpc1tBTExPV19TVEFMRV0gPSBvcHRpb25zLnN0YWxlIHx8IGZhbHNlXG4gICAgaWYgKG9wdGlvbnMubWF4QWdlICYmIHR5cGVvZiBvcHRpb25zLm1heEFnZSAhPT0gJ251bWJlcicpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXhBZ2UgbXVzdCBiZSBhIG51bWJlcicpXG4gICAgdGhpc1tNQVhfQUdFXSA9IG9wdGlvbnMubWF4QWdlIHx8IDBcbiAgICB0aGlzW0RJU1BPU0VdID0gb3B0aW9ucy5kaXNwb3NlXG4gICAgdGhpc1tOT19ESVNQT1NFX09OX1NFVF0gPSBvcHRpb25zLm5vRGlzcG9zZU9uU2V0IHx8IGZhbHNlXG4gICAgdGhpc1tVUERBVEVfQUdFX09OX0dFVF0gPSBvcHRpb25zLnVwZGF0ZUFnZU9uR2V0IHx8IGZhbHNlXG4gICAgdGhpcy5yZXNldCgpXG4gIH1cblxuICAvLyByZXNpemUgdGhlIGNhY2hlIHdoZW4gdGhlIG1heCBjaGFuZ2VzLlxuICBzZXQgbWF4IChtTCkge1xuICAgIGlmICh0eXBlb2YgbUwgIT09ICdudW1iZXInIHx8IG1MIDwgMClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpXG5cbiAgICB0aGlzW01BWF0gPSBtTCB8fCBJbmZpbml0eVxuICAgIHRyaW0odGhpcylcbiAgfVxuICBnZXQgbWF4ICgpIHtcbiAgICByZXR1cm4gdGhpc1tNQVhdXG4gIH1cblxuICBzZXQgYWxsb3dTdGFsZSAoYWxsb3dTdGFsZSkge1xuICAgIHRoaXNbQUxMT1dfU1RBTEVdID0gISFhbGxvd1N0YWxlXG4gIH1cbiAgZ2V0IGFsbG93U3RhbGUgKCkge1xuICAgIHJldHVybiB0aGlzW0FMTE9XX1NUQUxFXVxuICB9XG5cbiAgc2V0IG1heEFnZSAobUEpIHtcbiAgICBpZiAodHlwZW9mIG1BICE9PSAnbnVtYmVyJylcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heEFnZSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpXG5cbiAgICB0aGlzW01BWF9BR0VdID0gbUFcbiAgICB0cmltKHRoaXMpXG4gIH1cbiAgZ2V0IG1heEFnZSAoKSB7XG4gICAgcmV0dXJuIHRoaXNbTUFYX0FHRV1cbiAgfVxuXG4gIC8vIHJlc2l6ZSB0aGUgY2FjaGUgd2hlbiB0aGUgbGVuZ3RoQ2FsY3VsYXRvciBjaGFuZ2VzLlxuICBzZXQgbGVuZ3RoQ2FsY3VsYXRvciAobEMpIHtcbiAgICBpZiAodHlwZW9mIGxDICE9PSAnZnVuY3Rpb24nKVxuICAgICAgbEMgPSBuYWl2ZUxlbmd0aFxuXG4gICAgaWYgKGxDICE9PSB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSkge1xuICAgICAgdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0gPSBsQ1xuICAgICAgdGhpc1tMRU5HVEhdID0gMFxuICAgICAgdGhpc1tMUlVfTElTVF0uZm9yRWFjaChoaXQgPT4ge1xuICAgICAgICBoaXQubGVuZ3RoID0gdGhpc1tMRU5HVEhfQ0FMQ1VMQVRPUl0oaGl0LnZhbHVlLCBoaXQua2V5KVxuICAgICAgICB0aGlzW0xFTkdUSF0gKz0gaGl0Lmxlbmd0aFxuICAgICAgfSlcbiAgICB9XG4gICAgdHJpbSh0aGlzKVxuICB9XG4gIGdldCBsZW5ndGhDYWxjdWxhdG9yICgpIHsgcmV0dXJuIHRoaXNbTEVOR1RIX0NBTENVTEFUT1JdIH1cblxuICBnZXQgbGVuZ3RoICgpIHsgcmV0dXJuIHRoaXNbTEVOR1RIXSB9XG4gIGdldCBpdGVtQ291bnQgKCkgeyByZXR1cm4gdGhpc1tMUlVfTElTVF0ubGVuZ3RoIH1cblxuICByZm9yRWFjaCAoZm4sIHRoaXNwKSB7XG4gICAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gICAgZm9yIChsZXQgd2Fsa2VyID0gdGhpc1tMUlVfTElTVF0udGFpbDsgd2Fsa2VyICE9PSBudWxsOykge1xuICAgICAgY29uc3QgcHJldiA9IHdhbGtlci5wcmV2XG4gICAgICBmb3JFYWNoU3RlcCh0aGlzLCBmbiwgd2Fsa2VyLCB0aGlzcClcbiAgICAgIHdhbGtlciA9IHByZXZcbiAgICB9XG4gIH1cblxuICBmb3JFYWNoIChmbiwgdGhpc3ApIHtcbiAgICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgICBmb3IgKGxldCB3YWxrZXIgPSB0aGlzW0xSVV9MSVNUXS5oZWFkOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgICBjb25zdCBuZXh0ID0gd2Fsa2VyLm5leHRcbiAgICAgIGZvckVhY2hTdGVwKHRoaXMsIGZuLCB3YWxrZXIsIHRoaXNwKVxuICAgICAgd2Fsa2VyID0gbmV4dFxuICAgIH1cbiAgfVxuXG4gIGtleXMgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXS50b0FycmF5KCkubWFwKGsgPT4gay5rZXkpXG4gIH1cblxuICB2YWx1ZXMgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXS50b0FycmF5KCkubWFwKGsgPT4gay52YWx1ZSlcbiAgfVxuXG4gIHJlc2V0ICgpIHtcbiAgICBpZiAodGhpc1tESVNQT1NFXSAmJlxuICAgICAgICB0aGlzW0xSVV9MSVNUXSAmJlxuICAgICAgICB0aGlzW0xSVV9MSVNUXS5sZW5ndGgpIHtcbiAgICAgIHRoaXNbTFJVX0xJU1RdLmZvckVhY2goaGl0ID0+IHRoaXNbRElTUE9TRV0oaGl0LmtleSwgaGl0LnZhbHVlKSlcbiAgICB9XG5cbiAgICB0aGlzW0NBQ0hFXSA9IG5ldyBNYXAoKSAvLyBoYXNoIG9mIGl0ZW1zIGJ5IGtleVxuICAgIHRoaXNbTFJVX0xJU1RdID0gbmV3IFlhbGxpc3QoKSAvLyBsaXN0IG9mIGl0ZW1zIGluIG9yZGVyIG9mIHVzZSByZWNlbmN5XG4gICAgdGhpc1tMRU5HVEhdID0gMCAvLyBsZW5ndGggb2YgaXRlbXMgaW4gdGhlIGxpc3RcbiAgfVxuXG4gIGR1bXAgKCkge1xuICAgIHJldHVybiB0aGlzW0xSVV9MSVNUXS5tYXAoaGl0ID0+XG4gICAgICBpc1N0YWxlKHRoaXMsIGhpdCkgPyBmYWxzZSA6IHtcbiAgICAgICAgazogaGl0LmtleSxcbiAgICAgICAgdjogaGl0LnZhbHVlLFxuICAgICAgICBlOiBoaXQubm93ICsgKGhpdC5tYXhBZ2UgfHwgMClcbiAgICAgIH0pLnRvQXJyYXkoKS5maWx0ZXIoaCA9PiBoKVxuICB9XG5cbiAgZHVtcExydSAoKSB7XG4gICAgcmV0dXJuIHRoaXNbTFJVX0xJU1RdXG4gIH1cblxuICBzZXQgKGtleSwgdmFsdWUsIG1heEFnZSkge1xuICAgIG1heEFnZSA9IG1heEFnZSB8fCB0aGlzW01BWF9BR0VdXG5cbiAgICBpZiAobWF4QWdlICYmIHR5cGVvZiBtYXhBZ2UgIT09ICdudW1iZXInKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWF4QWdlIG11c3QgYmUgYSBudW1iZXInKVxuXG4gICAgY29uc3Qgbm93ID0gbWF4QWdlID8gRGF0ZS5ub3coKSA6IDBcbiAgICBjb25zdCBsZW4gPSB0aGlzW0xFTkdUSF9DQUxDVUxBVE9SXSh2YWx1ZSwga2V5KVxuXG4gICAgaWYgKHRoaXNbQ0FDSEVdLmhhcyhrZXkpKSB7XG4gICAgICBpZiAobGVuID4gdGhpc1tNQVhdKSB7XG4gICAgICAgIGRlbCh0aGlzLCB0aGlzW0NBQ0hFXS5nZXQoa2V5KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzW0NBQ0hFXS5nZXQoa2V5KVxuICAgICAgY29uc3QgaXRlbSA9IG5vZGUudmFsdWVcblxuICAgICAgLy8gZGlzcG9zZSBvZiB0aGUgb2xkIG9uZSBiZWZvcmUgb3ZlcndyaXRpbmdcbiAgICAgIC8vIHNwbGl0IG91dCBpbnRvIDIgaWZzIGZvciBiZXR0ZXIgY292ZXJhZ2UgdHJhY2tpbmdcbiAgICAgIGlmICh0aGlzW0RJU1BPU0VdKSB7XG4gICAgICAgIGlmICghdGhpc1tOT19ESVNQT1NFX09OX1NFVF0pXG4gICAgICAgICAgdGhpc1tESVNQT1NFXShrZXksIGl0ZW0udmFsdWUpXG4gICAgICB9XG5cbiAgICAgIGl0ZW0ubm93ID0gbm93XG4gICAgICBpdGVtLm1heEFnZSA9IG1heEFnZVxuICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlXG4gICAgICB0aGlzW0xFTkdUSF0gKz0gbGVuIC0gaXRlbS5sZW5ndGhcbiAgICAgIGl0ZW0ubGVuZ3RoID0gbGVuXG4gICAgICB0aGlzLmdldChrZXkpXG4gICAgICB0cmltKHRoaXMpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IGhpdCA9IG5ldyBFbnRyeShrZXksIHZhbHVlLCBsZW4sIG5vdywgbWF4QWdlKVxuXG4gICAgLy8gb3ZlcnNpemVkIG9iamVjdHMgZmFsbCBvdXQgb2YgY2FjaGUgYXV0b21hdGljYWxseS5cbiAgICBpZiAoaGl0Lmxlbmd0aCA+IHRoaXNbTUFYXSkge1xuICAgICAgaWYgKHRoaXNbRElTUE9TRV0pXG4gICAgICAgIHRoaXNbRElTUE9TRV0oa2V5LCB2YWx1ZSlcblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpc1tMRU5HVEhdICs9IGhpdC5sZW5ndGhcbiAgICB0aGlzW0xSVV9MSVNUXS51bnNoaWZ0KGhpdClcbiAgICB0aGlzW0NBQ0hFXS5zZXQoa2V5LCB0aGlzW0xSVV9MSVNUXS5oZWFkKVxuICAgIHRyaW0odGhpcylcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgaGFzIChrZXkpIHtcbiAgICBpZiAoIXRoaXNbQ0FDSEVdLmhhcyhrZXkpKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBoaXQgPSB0aGlzW0NBQ0hFXS5nZXQoa2V5KS52YWx1ZVxuICAgIHJldHVybiAhaXNTdGFsZSh0aGlzLCBoaXQpXG4gIH1cblxuICBnZXQgKGtleSkge1xuICAgIHJldHVybiBnZXQodGhpcywga2V5LCB0cnVlKVxuICB9XG5cbiAgcGVlayAoa2V5KSB7XG4gICAgcmV0dXJuIGdldCh0aGlzLCBrZXksIGZhbHNlKVxuICB9XG5cbiAgcG9wICgpIHtcbiAgICBjb25zdCBub2RlID0gdGhpc1tMUlVfTElTVF0udGFpbFxuICAgIGlmICghbm9kZSlcbiAgICAgIHJldHVybiBudWxsXG5cbiAgICBkZWwodGhpcywgbm9kZSlcbiAgICByZXR1cm4gbm9kZS52YWx1ZVxuICB9XG5cbiAgZGVsIChrZXkpIHtcbiAgICBkZWwodGhpcywgdGhpc1tDQUNIRV0uZ2V0KGtleSkpXG4gIH1cblxuICBsb2FkIChhcnIpIHtcbiAgICAvLyByZXNldCB0aGUgY2FjaGVcbiAgICB0aGlzLnJlc2V0KClcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KClcbiAgICAvLyBBIHByZXZpb3VzIHNlcmlhbGl6ZWQgY2FjaGUgaGFzIHRoZSBtb3N0IHJlY2VudCBpdGVtcyBmaXJzdFxuICAgIGZvciAobGV0IGwgPSBhcnIubGVuZ3RoIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICAgIGNvbnN0IGhpdCA9IGFycltsXVxuICAgICAgY29uc3QgZXhwaXJlc0F0ID0gaGl0LmUgfHwgMFxuICAgICAgaWYgKGV4cGlyZXNBdCA9PT0gMClcbiAgICAgICAgLy8gdGhlIGl0ZW0gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBpcmF0aW9uIGluIGEgbm9uIGFnZWQgY2FjaGVcbiAgICAgICAgdGhpcy5zZXQoaGl0LmssIGhpdC52KVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1heEFnZSA9IGV4cGlyZXNBdCAtIG5vd1xuICAgICAgICAvLyBkb250IGFkZCBhbHJlYWR5IGV4cGlyZWQgaXRlbXNcbiAgICAgICAgaWYgKG1heEFnZSA+IDApIHtcbiAgICAgICAgICB0aGlzLnNldChoaXQuaywgaGl0LnYsIG1heEFnZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHBydW5lICgpIHtcbiAgICB0aGlzW0NBQ0hFXS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiBnZXQodGhpcywga2V5LCBmYWxzZSkpXG4gIH1cbn1cblxuY29uc3QgZ2V0ID0gKHNlbGYsIGtleSwgZG9Vc2UpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHNlbGZbQ0FDSEVdLmdldChrZXkpXG4gIGlmIChub2RlKSB7XG4gICAgY29uc3QgaGl0ID0gbm9kZS52YWx1ZVxuICAgIGlmIChpc1N0YWxlKHNlbGYsIGhpdCkpIHtcbiAgICAgIGRlbChzZWxmLCBub2RlKVxuICAgICAgaWYgKCFzZWxmW0FMTE9XX1NUQUxFXSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9Vc2UpIHtcbiAgICAgICAgaWYgKHNlbGZbVVBEQVRFX0FHRV9PTl9HRVRdKVxuICAgICAgICAgIG5vZGUudmFsdWUubm93ID0gRGF0ZS5ub3coKVxuICAgICAgICBzZWxmW0xSVV9MSVNUXS51bnNoaWZ0Tm9kZShub2RlKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGl0LnZhbHVlXG4gIH1cbn1cblxuY29uc3QgaXNTdGFsZSA9IChzZWxmLCBoaXQpID0+IHtcbiAgaWYgKCFoaXQgfHwgKCFoaXQubWF4QWdlICYmICFzZWxmW01BWF9BR0VdKSlcbiAgICByZXR1cm4gZmFsc2VcblxuICBjb25zdCBkaWZmID0gRGF0ZS5ub3coKSAtIGhpdC5ub3dcbiAgcmV0dXJuIGhpdC5tYXhBZ2UgPyBkaWZmID4gaGl0Lm1heEFnZVxuICAgIDogc2VsZltNQVhfQUdFXSAmJiAoZGlmZiA+IHNlbGZbTUFYX0FHRV0pXG59XG5cbmNvbnN0IHRyaW0gPSBzZWxmID0+IHtcbiAgaWYgKHNlbGZbTEVOR1RIXSA+IHNlbGZbTUFYXSkge1xuICAgIGZvciAobGV0IHdhbGtlciA9IHNlbGZbTFJVX0xJU1RdLnRhaWw7XG4gICAgICBzZWxmW0xFTkdUSF0gPiBzZWxmW01BWF0gJiYgd2Fsa2VyICE9PSBudWxsOykge1xuICAgICAgLy8gV2Uga25vdyB0aGF0IHdlJ3JlIGFib3V0IHRvIGRlbGV0ZSB0aGlzIG9uZSwgYW5kIGFsc29cbiAgICAgIC8vIHdoYXQgdGhlIG5leHQgbGVhc3QgcmVjZW50bHkgdXNlZCBrZXkgd2lsbCBiZSwgc28ganVzdFxuICAgICAgLy8gZ28gYWhlYWQgYW5kIHNldCBpdCBub3cuXG4gICAgICBjb25zdCBwcmV2ID0gd2Fsa2VyLnByZXZcbiAgICAgIGRlbChzZWxmLCB3YWxrZXIpXG4gICAgICB3YWxrZXIgPSBwcmV2XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGRlbCA9IChzZWxmLCBub2RlKSA9PiB7XG4gIGlmIChub2RlKSB7XG4gICAgY29uc3QgaGl0ID0gbm9kZS52YWx1ZVxuICAgIGlmIChzZWxmW0RJU1BPU0VdKVxuICAgICAgc2VsZltESVNQT1NFXShoaXQua2V5LCBoaXQudmFsdWUpXG5cbiAgICBzZWxmW0xFTkdUSF0gLT0gaGl0Lmxlbmd0aFxuICAgIHNlbGZbQ0FDSEVdLmRlbGV0ZShoaXQua2V5KVxuICAgIHNlbGZbTFJVX0xJU1RdLnJlbW92ZU5vZGUobm9kZSlcbiAgfVxufVxuXG5jbGFzcyBFbnRyeSB7XG4gIGNvbnN0cnVjdG9yIChrZXksIHZhbHVlLCBsZW5ndGgsIG5vdywgbWF4QWdlKSB7XG4gICAgdGhpcy5rZXkgPSBrZXlcbiAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aFxuICAgIHRoaXMubm93ID0gbm93XG4gICAgdGhpcy5tYXhBZ2UgPSBtYXhBZ2UgfHwgMFxuICB9XG59XG5cbmNvbnN0IGZvckVhY2hTdGVwID0gKHNlbGYsIGZuLCBub2RlLCB0aGlzcCkgPT4ge1xuICBsZXQgaGl0ID0gbm9kZS52YWx1ZVxuICBpZiAoaXNTdGFsZShzZWxmLCBoaXQpKSB7XG4gICAgZGVsKHNlbGYsIG5vZGUpXG4gICAgaWYgKCFzZWxmW0FMTE9XX1NUQUxFXSlcbiAgICAgIGhpdCA9IHVuZGVmaW5lZFxuICB9XG4gIGlmIChoaXQpXG4gICAgZm4uY2FsbCh0aGlzcCwgaGl0LnZhbHVlLCBoaXQua2V5LCBzZWxmKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExSVUNhY2hlXG4iLCJjb25zdCBBTlkgPSBTeW1ib2woJ1NlbVZlciBBTlknKVxuLy8gaG9pc3RlZCBjbGFzcyBmb3IgY3ljbGljIGRlcGVuZGVuY3lcbmNsYXNzIENvbXBhcmF0b3Ige1xuICBzdGF0aWMgZ2V0IEFOWSAoKSB7XG4gICAgcmV0dXJuIEFOWVxuICB9XG5cbiAgY29uc3RydWN0b3IgKGNvbXAsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gcGFyc2VPcHRpb25zKG9wdGlvbnMpXG5cbiAgICBpZiAoY29tcCBpbnN0YW5jZW9mIENvbXBhcmF0b3IpIHtcbiAgICAgIGlmIChjb21wLmxvb3NlID09PSAhIW9wdGlvbnMubG9vc2UpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXAgPSBjb21wLnZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZGVidWcoJ2NvbXBhcmF0b3InLCBjb21wLCBvcHRpb25zKVxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgICB0aGlzLmxvb3NlID0gISFvcHRpb25zLmxvb3NlXG4gICAgdGhpcy5wYXJzZShjb21wKVxuXG4gICAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkpIHtcbiAgICAgIHRoaXMudmFsdWUgPSAnJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5vcGVyYXRvciArIHRoaXMuc2VtdmVyLnZlcnNpb25cbiAgICB9XG5cbiAgICBkZWJ1ZygnY29tcCcsIHRoaXMpXG4gIH1cblxuICBwYXJzZSAoY29tcCkge1xuICAgIGNvbnN0IHIgPSB0aGlzLm9wdGlvbnMubG9vc2UgPyByZVt0LkNPTVBBUkFUT1JMT09TRV0gOiByZVt0LkNPTVBBUkFUT1JdXG4gICAgY29uc3QgbSA9IGNvbXAubWF0Y2gocilcblxuICAgIGlmICghbSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBjb21wYXJhdG9yOiAke2NvbXB9YClcbiAgICB9XG5cbiAgICB0aGlzLm9wZXJhdG9yID0gbVsxXSAhPT0gdW5kZWZpbmVkID8gbVsxXSA6ICcnXG4gICAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICc9Jykge1xuICAgICAgdGhpcy5vcGVyYXRvciA9ICcnXG4gICAgfVxuXG4gICAgLy8gaWYgaXQgbGl0ZXJhbGx5IGlzIGp1c3QgJz4nIG9yICcnIHRoZW4gYWxsb3cgYW55dGhpbmcuXG4gICAgaWYgKCFtWzJdKSB7XG4gICAgICB0aGlzLnNlbXZlciA9IEFOWVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbXZlciA9IG5ldyBTZW1WZXIobVsyXSwgdGhpcy5vcHRpb25zLmxvb3NlKVxuICAgIH1cbiAgfVxuXG4gIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZVxuICB9XG5cbiAgdGVzdCAodmVyc2lvbikge1xuICAgIGRlYnVnKCdDb21wYXJhdG9yLnRlc3QnLCB2ZXJzaW9uLCB0aGlzLm9wdGlvbnMubG9vc2UpXG5cbiAgICBpZiAodGhpcy5zZW12ZXIgPT09IEFOWSB8fCB2ZXJzaW9uID09PSBBTlkpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgdGhpcy5vcHRpb25zKVxuICAgICAgfSBjYXRjaCAoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNtcCh2ZXJzaW9uLCB0aGlzLm9wZXJhdG9yLCB0aGlzLnNlbXZlciwgdGhpcy5vcHRpb25zKVxuICB9XG5cbiAgaW50ZXJzZWN0cyAoY29tcCwgb3B0aW9ucykge1xuICAgIGlmICghKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYSBDb21wYXJhdG9yIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBsb29zZTogISFvcHRpb25zLFxuICAgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogZmFsc2UsXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3BlcmF0b3IgPT09ICcnKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoY29tcC52YWx1ZSwgb3B0aW9ucykudGVzdCh0aGlzLnZhbHVlKVxuICAgIH0gZWxzZSBpZiAoY29tcC5vcGVyYXRvciA9PT0gJycpIHtcbiAgICAgIGlmIChjb21wLnZhbHVlID09PSAnJykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnZhbHVlLCBvcHRpb25zKS50ZXN0KGNvbXAuc2VtdmVyKVxuICAgIH1cblxuICAgIGNvbnN0IHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nID1cbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAgIChjb21wLm9wZXJhdG9yID09PSAnPj0nIHx8IGNvbXAub3BlcmF0b3IgPT09ICc+JylcbiAgICBjb25zdCBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyA9XG4gICAgICAodGhpcy5vcGVyYXRvciA9PT0gJzw9JyB8fCB0aGlzLm9wZXJhdG9yID09PSAnPCcpICYmXG4gICAgICAoY29tcC5vcGVyYXRvciA9PT0gJzw9JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPCcpXG4gICAgY29uc3Qgc2FtZVNlbVZlciA9IHRoaXMuc2VtdmVyLnZlcnNpb24gPT09IGNvbXAuc2VtdmVyLnZlcnNpb25cbiAgICBjb25zdCBkaWZmZXJlbnREaXJlY3Rpb25zSW5jbHVzaXZlID1cbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8PScpICYmXG4gICAgICAoY29tcC5vcGVyYXRvciA9PT0gJz49JyB8fCBjb21wLm9wZXJhdG9yID09PSAnPD0nKVxuICAgIGNvbnN0IG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuID1cbiAgICAgIGNtcCh0aGlzLnNlbXZlciwgJzwnLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPj0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc+JykgJiZcbiAgICAgICAgKGNvbXAub3BlcmF0b3IgPT09ICc8PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJzwnKVxuICAgIGNvbnN0IG9wcG9zaXRlRGlyZWN0aW9uc0dyZWF0ZXJUaGFuID1cbiAgICAgIGNtcCh0aGlzLnNlbXZlciwgJz4nLCBjb21wLnNlbXZlciwgb3B0aW9ucykgJiZcbiAgICAgICh0aGlzLm9wZXJhdG9yID09PSAnPD0nIHx8IHRoaXMub3BlcmF0b3IgPT09ICc8JykgJiZcbiAgICAgICAgKGNvbXAub3BlcmF0b3IgPT09ICc+PScgfHwgY29tcC5vcGVyYXRvciA9PT0gJz4nKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIHNhbWVEaXJlY3Rpb25JbmNyZWFzaW5nIHx8XG4gICAgICBzYW1lRGlyZWN0aW9uRGVjcmVhc2luZyB8fFxuICAgICAgKHNhbWVTZW1WZXIgJiYgZGlmZmVyZW50RGlyZWN0aW9uc0luY2x1c2l2ZSkgfHxcbiAgICAgIG9wcG9zaXRlRGlyZWN0aW9uc0xlc3NUaGFuIHx8XG4gICAgICBvcHBvc2l0ZURpcmVjdGlvbnNHcmVhdGVyVGhhblxuICAgIClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBhcmF0b3JcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCB7IHJlLCB0IH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9yZScpXG5jb25zdCBjbXAgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvY21wJylcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvZGVidWcnKVxuY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi9zZW12ZXInKVxuY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuL3JhbmdlJylcbiIsIi8vIGhvaXN0ZWQgY2xhc3MgZm9yIGN5Y2xpYyBkZXBlbmRlbmN5XG5jbGFzcyBSYW5nZSB7XG4gIGNvbnN0cnVjdG9yIChyYW5nZSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBwYXJzZU9wdGlvbnMob3B0aW9ucylcblxuICAgIGlmIChyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJhbmdlLmxvb3NlID09PSAhIW9wdGlvbnMubG9vc2UgJiZcbiAgICAgICAgcmFuZ2UuaW5jbHVkZVByZXJlbGVhc2UgPT09ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiByYW5nZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5yYXcsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJhbmdlIGluc3RhbmNlb2YgQ29tcGFyYXRvcikge1xuICAgICAgLy8ganVzdCBwdXQgaXQgaW4gdGhlIHNldCBhbmQgcmV0dXJuXG4gICAgICB0aGlzLnJhdyA9IHJhbmdlLnZhbHVlXG4gICAgICB0aGlzLnNldCA9IFtbcmFuZ2VdXVxuICAgICAgdGhpcy5mb3JtYXQoKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZVxuICAgIHRoaXMuaW5jbHVkZVByZXJlbGVhc2UgPSAhIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2VcblxuICAgIC8vIEZpcnN0LCBzcGxpdCBiYXNlZCBvbiBib29sZWFuIG9yIHx8XG4gICAgdGhpcy5yYXcgPSByYW5nZVxuICAgIHRoaXMuc2V0ID0gcmFuZ2VcbiAgICAgIC5zcGxpdCgnfHwnKVxuICAgICAgLy8gbWFwIHRoZSByYW5nZSB0byBhIDJkIGFycmF5IG9mIGNvbXBhcmF0b3JzXG4gICAgICAubWFwKHIgPT4gdGhpcy5wYXJzZVJhbmdlKHIudHJpbSgpKSlcbiAgICAgIC8vIHRocm93IG91dCBhbnkgY29tcGFyYXRvciBsaXN0cyB0aGF0IGFyZSBlbXB0eVxuICAgICAgLy8gdGhpcyBnZW5lcmFsbHkgbWVhbnMgdGhhdCBpdCB3YXMgbm90IGEgdmFsaWQgcmFuZ2UsIHdoaWNoIGlzIGFsbG93ZWRcbiAgICAgIC8vIGluIGxvb3NlIG1vZGUsIGJ1dCB3aWxsIHN0aWxsIHRocm93IGlmIHRoZSBXSE9MRSByYW5nZSBpcyBpbnZhbGlkLlxuICAgICAgLmZpbHRlcihjID0+IGMubGVuZ3RoKVxuXG4gICAgaWYgKCF0aGlzLnNldC5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgU2VtVmVyIFJhbmdlOiAke3JhbmdlfWApXG4gICAgfVxuXG4gICAgLy8gaWYgd2UgaGF2ZSBhbnkgdGhhdCBhcmUgbm90IHRoZSBudWxsIHNldCwgdGhyb3cgb3V0IG51bGwgc2V0cy5cbiAgICBpZiAodGhpcy5zZXQubGVuZ3RoID4gMSkge1xuICAgICAgLy8ga2VlcCB0aGUgZmlyc3Qgb25lLCBpbiBjYXNlIHRoZXkncmUgYWxsIG51bGwgc2V0c1xuICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLnNldFswXVxuICAgICAgdGhpcy5zZXQgPSB0aGlzLnNldC5maWx0ZXIoYyA9PiAhaXNOdWxsU2V0KGNbMF0pKVxuICAgICAgaWYgKHRoaXMuc2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnNldCA9IFtmaXJzdF1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXQubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFueSB0aGF0IGFyZSAqLCB0aGVuIHRoZSByYW5nZSBpcyBqdXN0ICpcbiAgICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuc2V0KSB7XG4gICAgICAgICAgaWYgKGMubGVuZ3RoID09PSAxICYmIGlzQW55KGNbMF0pKSB7XG4gICAgICAgICAgICB0aGlzLnNldCA9IFtjXVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmZvcm1hdCgpXG4gIH1cblxuICBmb3JtYXQgKCkge1xuICAgIHRoaXMucmFuZ2UgPSB0aGlzLnNldFxuICAgICAgLm1hcCgoY29tcHMpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbXBzLmpvaW4oJyAnKS50cmltKClcbiAgICAgIH0pXG4gICAgICAuam9pbignfHwnKVxuICAgICAgLnRyaW0oKVxuICAgIHJldHVybiB0aGlzLnJhbmdlXG4gIH1cblxuICB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmFuZ2VcbiAgfVxuXG4gIHBhcnNlUmFuZ2UgKHJhbmdlKSB7XG4gICAgcmFuZ2UgPSByYW5nZS50cmltKClcblxuICAgIC8vIG1lbW9pemUgcmFuZ2UgcGFyc2luZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgLy8gdGhpcyBpcyBhIHZlcnkgaG90IHBhdGgsIGFuZCBmdWxseSBkZXRlcm1pbmlzdGljLlxuICAgIGNvbnN0IG1lbW9PcHRzID0gT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5qb2luKCcsJylcbiAgICBjb25zdCBtZW1vS2V5ID0gYHBhcnNlUmFuZ2U6JHttZW1vT3B0c306JHtyYW5nZX1gXG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KG1lbW9LZXkpXG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIGNhY2hlZFxuICAgIH1cblxuICAgIGNvbnN0IGxvb3NlID0gdGhpcy5vcHRpb25zLmxvb3NlXG4gICAgLy8gYDEuMi4zIC0gMS4yLjRgID0+IGA+PTEuMi4zIDw9MS4yLjRgXG4gICAgY29uc3QgaHIgPSBsb29zZSA/IHJlW3QuSFlQSEVOUkFOR0VMT09TRV0gOiByZVt0LkhZUEhFTlJBTkdFXVxuICAgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShociwgaHlwaGVuUmVwbGFjZSh0aGlzLm9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpKVxuICAgIGRlYnVnKCdoeXBoZW4gcmVwbGFjZScsIHJhbmdlKVxuICAgIC8vIGA+IDEuMi4zIDwgMS4yLjVgID0+IGA+MS4yLjMgPDEuMi41YFxuICAgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVt0LkNPTVBBUkFUT1JUUklNXSwgY29tcGFyYXRvclRyaW1SZXBsYWNlKVxuICAgIGRlYnVnKCdjb21wYXJhdG9yIHRyaW0nLCByYW5nZSlcblxuICAgIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICAgIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVt0LlRJTERFVFJJTV0sIHRpbGRlVHJpbVJlcGxhY2UpXG5cbiAgICAvLyBgXiAxLjIuM2AgPT4gYF4xLjIuM2BcbiAgICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbdC5DQVJFVFRSSU1dLCBjYXJldFRyaW1SZXBsYWNlKVxuXG4gICAgLy8gbm9ybWFsaXplIHNwYWNlc1xuICAgIHJhbmdlID0gcmFuZ2Uuc3BsaXQoL1xccysvKS5qb2luKCcgJylcblxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIHRoZSByYW5nZSBpcyBjb21wbGV0ZWx5IHRyaW1tZWQgYW5kXG4gICAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy5cblxuICAgIGxldCByYW5nZUxpc3QgPSByYW5nZVxuICAgICAgLnNwbGl0KCcgJylcbiAgICAgIC5tYXAoY29tcCA9PiBwYXJzZUNvbXBhcmF0b3IoY29tcCwgdGhpcy5vcHRpb25zKSlcbiAgICAgIC5qb2luKCcgJylcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAvLyA+PTAuMC4wIGlzIGVxdWl2YWxlbnQgdG8gKlxuICAgICAgLm1hcChjb21wID0+IHJlcGxhY2VHVEUwKGNvbXAsIHRoaXMub3B0aW9ucykpXG5cbiAgICBpZiAobG9vc2UpIHtcbiAgICAgIC8vIGluIGxvb3NlIG1vZGUsIHRocm93IG91dCBhbnkgdGhhdCBhcmUgbm90IHZhbGlkIGNvbXBhcmF0b3JzXG4gICAgICByYW5nZUxpc3QgPSByYW5nZUxpc3QuZmlsdGVyKGNvbXAgPT4ge1xuICAgICAgICBkZWJ1ZygnbG9vc2UgaW52YWxpZCBmaWx0ZXInLCBjb21wLCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIHJldHVybiAhIWNvbXAubWF0Y2gocmVbdC5DT01QQVJBVE9STE9PU0VdKVxuICAgICAgfSlcbiAgICB9XG4gICAgZGVidWcoJ3JhbmdlIGxpc3QnLCByYW5nZUxpc3QpXG5cbiAgICAvLyBpZiBhbnkgY29tcGFyYXRvcnMgYXJlIHRoZSBudWxsIHNldCwgdGhlbiByZXBsYWNlIHdpdGggSlVTVCBudWxsIHNldFxuICAgIC8vIGlmIG1vcmUgdGhhbiBvbmUgY29tcGFyYXRvciwgcmVtb3ZlIGFueSAqIGNvbXBhcmF0b3JzXG4gICAgLy8gYWxzbywgZG9uJ3QgaW5jbHVkZSB0aGUgc2FtZSBjb21wYXJhdG9yIG1vcmUgdGhhbiBvbmNlXG4gICAgY29uc3QgcmFuZ2VNYXAgPSBuZXcgTWFwKClcbiAgICBjb25zdCBjb21wYXJhdG9ycyA9IHJhbmdlTGlzdC5tYXAoY29tcCA9PiBuZXcgQ29tcGFyYXRvcihjb21wLCB0aGlzLm9wdGlvbnMpKVxuICAgIGZvciAoY29uc3QgY29tcCBvZiBjb21wYXJhdG9ycykge1xuICAgICAgaWYgKGlzTnVsbFNldChjb21wKSkge1xuICAgICAgICByZXR1cm4gW2NvbXBdXG4gICAgICB9XG4gICAgICByYW5nZU1hcC5zZXQoY29tcC52YWx1ZSwgY29tcClcbiAgICB9XG4gICAgaWYgKHJhbmdlTWFwLnNpemUgPiAxICYmIHJhbmdlTWFwLmhhcygnJykpIHtcbiAgICAgIHJhbmdlTWFwLmRlbGV0ZSgnJylcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbLi4ucmFuZ2VNYXAudmFsdWVzKCldXG4gICAgY2FjaGUuc2V0KG1lbW9LZXksIHJlc3VsdClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBpbnRlcnNlY3RzIChyYW5nZSwgb3B0aW9ucykge1xuICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhIFJhbmdlIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zZXQuc29tZSgodGhpc0NvbXBhcmF0b3JzKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpc1NhdGlzZmlhYmxlKHRoaXNDb21wYXJhdG9ycywgb3B0aW9ucykgJiZcbiAgICAgICAgcmFuZ2Uuc2V0LnNvbWUoKHJhbmdlQ29tcGFyYXRvcnMpID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNTYXRpc2ZpYWJsZShyYW5nZUNvbXBhcmF0b3JzLCBvcHRpb25zKSAmJlxuICAgICAgICAgICAgdGhpc0NvbXBhcmF0b3JzLmV2ZXJ5KCh0aGlzQ29tcGFyYXRvcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VDb21wYXJhdG9ycy5ldmVyeSgocmFuZ2VDb21wYXJhdG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNDb21wYXJhdG9yLmludGVyc2VjdHMocmFuZ2VDb21wYXJhdG9yLCBvcHRpb25zKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgfSlcbiAgfVxuXG4gIC8vIGlmIEFOWSBvZiB0aGUgc2V0cyBtYXRjaCBBTEwgb2YgaXRzIGNvbXBhcmF0b3JzLCB0aGVuIHBhc3NcbiAgdGVzdCAodmVyc2lvbikge1xuICAgIGlmICghdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmVyc2lvbiA9IG5ldyBTZW1WZXIodmVyc2lvbiwgdGhpcy5vcHRpb25zKVxuICAgICAgfSBjYXRjaCAoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRlc3RTZXQodGhpcy5zZXRbaV0sIHZlcnNpb24sIHRoaXMub3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gUmFuZ2VcblxuY29uc3QgTFJVID0gcmVxdWlyZSgnbHJ1LWNhY2hlJylcbmNvbnN0IGNhY2hlID0gbmV3IExSVSh7IG1heDogMTAwMCB9KVxuXG5jb25zdCBwYXJzZU9wdGlvbnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9wYXJzZS1vcHRpb25zJylcbmNvbnN0IENvbXBhcmF0b3IgPSByZXF1aXJlKCcuL2NvbXBhcmF0b3InKVxuY29uc3QgZGVidWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9kZWJ1ZycpXG5jb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuL3NlbXZlcicpXG5jb25zdCB7XG4gIHJlLFxuICB0LFxuICBjb21wYXJhdG9yVHJpbVJlcGxhY2UsXG4gIHRpbGRlVHJpbVJlcGxhY2UsXG4gIGNhcmV0VHJpbVJlcGxhY2UsXG59ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcmUnKVxuXG5jb25zdCBpc051bGxTZXQgPSBjID0+IGMudmFsdWUgPT09ICc8MC4wLjAtMCdcbmNvbnN0IGlzQW55ID0gYyA9PiBjLnZhbHVlID09PSAnJ1xuXG4vLyB0YWtlIGEgc2V0IG9mIGNvbXBhcmF0b3JzIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGVyZVxuLy8gZXhpc3RzIGEgdmVyc2lvbiB3aGljaCBjYW4gc2F0aXNmeSBpdFxuY29uc3QgaXNTYXRpc2ZpYWJsZSA9IChjb21wYXJhdG9ycywgb3B0aW9ucykgPT4ge1xuICBsZXQgcmVzdWx0ID0gdHJ1ZVxuICBjb25zdCByZW1haW5pbmdDb21wYXJhdG9ycyA9IGNvbXBhcmF0b3JzLnNsaWNlKClcbiAgbGV0IHRlc3RDb21wYXJhdG9yID0gcmVtYWluaW5nQ29tcGFyYXRvcnMucG9wKClcblxuICB3aGlsZSAocmVzdWx0ICYmIHJlbWFpbmluZ0NvbXBhcmF0b3JzLmxlbmd0aCkge1xuICAgIHJlc3VsdCA9IHJlbWFpbmluZ0NvbXBhcmF0b3JzLmV2ZXJ5KChvdGhlckNvbXBhcmF0b3IpID0+IHtcbiAgICAgIHJldHVybiB0ZXN0Q29tcGFyYXRvci5pbnRlcnNlY3RzKG90aGVyQ29tcGFyYXRvciwgb3B0aW9ucylcbiAgICB9KVxuXG4gICAgdGVzdENvbXBhcmF0b3IgPSByZW1haW5pbmdDb21wYXJhdG9ycy5wb3AoKVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBjb21wcmlzZWQgb2YgeHJhbmdlcywgdGlsZGVzLCBzdGFycywgYW5kIGd0bHQncyBhdCB0aGlzIHBvaW50LlxuLy8gYWxyZWFkeSByZXBsYWNlZCB0aGUgaHlwaGVuIHJhbmdlc1xuLy8gdHVybiBpbnRvIGEgc2V0IG9mIEpVU1QgY29tcGFyYXRvcnMuXG5jb25zdCBwYXJzZUNvbXBhcmF0b3IgPSAoY29tcCwgb3B0aW9ucykgPT4ge1xuICBkZWJ1ZygnY29tcCcsIGNvbXAsIG9wdGlvbnMpXG4gIGNvbXAgPSByZXBsYWNlQ2FyZXRzKGNvbXAsIG9wdGlvbnMpXG4gIGRlYnVnKCdjYXJldCcsIGNvbXApXG4gIGNvbXAgPSByZXBsYWNlVGlsZGVzKGNvbXAsIG9wdGlvbnMpXG4gIGRlYnVnKCd0aWxkZXMnLCBjb21wKVxuICBjb21wID0gcmVwbGFjZVhSYW5nZXMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ3hyYW5nZScsIGNvbXApXG4gIGNvbXAgPSByZXBsYWNlU3RhcnMoY29tcCwgb3B0aW9ucylcbiAgZGVidWcoJ3N0YXJzJywgY29tcClcbiAgcmV0dXJuIGNvbXBcbn1cblxuY29uc3QgaXNYID0gaWQgPT4gIWlkIHx8IGlkLnRvTG93ZXJDYXNlKCkgPT09ICd4JyB8fCBpZCA9PT0gJyonXG5cbi8vIH4sIH4+IC0tPiAqIChhbnksIGtpbmRhIHNpbGx5KVxuLy8gfjIsIH4yLngsIH4yLngueCwgfj4yLCB+PjIueCB+PjIueC54IC0tPiA+PTIuMC4wIDwzLjAuMC0wXG4vLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMC0wXG4vLyB+MS4yLCB+MS4yLngsIH4+MS4yLCB+PjEuMi54IC0tPiA+PTEuMi4wIDwxLjMuMC0wXG4vLyB+MS4yLjMsIH4+MS4yLjMgLS0+ID49MS4yLjMgPDEuMy4wLTBcbi8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjAtMFxuY29uc3QgcmVwbGFjZVRpbGRlcyA9IChjb21wLCBvcHRpb25zKSA9PlxuICBjb21wLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcCgoYykgPT4ge1xuICAgIHJldHVybiByZXBsYWNlVGlsZGUoYywgb3B0aW9ucylcbiAgfSkuam9pbignICcpXG5cbmNvbnN0IHJlcGxhY2VUaWxkZSA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHIgPSBvcHRpb25zLmxvb3NlID8gcmVbdC5USUxERUxPT1NFXSA6IHJlW3QuVElMREVdXG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgKF8sIE0sIG0sIHAsIHByKSA9PiB7XG4gICAgZGVidWcoJ3RpbGRlJywgY29tcCwgXywgTSwgbSwgcCwgcHIpXG4gICAgbGV0IHJldFxuXG4gICAgaWYgKGlzWChNKSkge1xuICAgICAgcmV0ID0gJydcbiAgICB9IGVsc2UgaWYgKGlzWChtKSkge1xuICAgICAgcmV0ID0gYD49JHtNfS4wLjAgPCR7K00gKyAxfS4wLjAtMGBcbiAgICB9IGVsc2UgaWYgKGlzWChwKSkge1xuICAgICAgLy8gfjEuMiA9PSA+PTEuMi4wIDwxLjMuMC0wXG4gICAgICByZXQgPSBgPj0ke019LiR7bX0uMCA8JHtNfS4keyttICsgMX0uMC0wYFxuICAgIH0gZWxzZSBpZiAocHIpIHtcbiAgICAgIGRlYnVnKCdyZXBsYWNlVGlsZGUgcHInLCBwcilcbiAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3B9LSR7cHJcbiAgICAgIH0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gfjEuMi4zID09ID49MS4yLjMgPDEuMy4wLTBcbiAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3BcbiAgICAgIH0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICB9XG5cbiAgICBkZWJ1ZygndGlsZGUgcmV0dXJuJywgcmV0KVxuICAgIHJldHVybiByZXRcbiAgfSlcbn1cblxuLy8gXiAtLT4gKiAoYW55LCBraW5kYSBzaWxseSlcbi8vIF4yLCBeMi54LCBeMi54LnggLS0+ID49Mi4wLjAgPDMuMC4wLTBcbi8vIF4yLjAsIF4yLjAueCAtLT4gPj0yLjAuMCA8My4wLjAtMFxuLy8gXjEuMiwgXjEuMi54IC0tPiA+PTEuMi4wIDwyLjAuMC0wXG4vLyBeMS4yLjMgLS0+ID49MS4yLjMgPDIuMC4wLTBcbi8vIF4xLjIuMCAtLT4gPj0xLjIuMCA8Mi4wLjAtMFxuY29uc3QgcmVwbGFjZUNhcmV0cyA9IChjb21wLCBvcHRpb25zKSA9PlxuICBjb21wLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcCgoYykgPT4ge1xuICAgIHJldHVybiByZXBsYWNlQ2FyZXQoYywgb3B0aW9ucylcbiAgfSkuam9pbignICcpXG5cbmNvbnN0IHJlcGxhY2VDYXJldCA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGRlYnVnKCdjYXJldCcsIGNvbXAsIG9wdGlvbnMpXG4gIGNvbnN0IHIgPSBvcHRpb25zLmxvb3NlID8gcmVbdC5DQVJFVExPT1NFXSA6IHJlW3QuQ0FSRVRdXG4gIGNvbnN0IHogPSBvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlID8gJy0wJyA6ICcnXG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgKF8sIE0sIG0sIHAsIHByKSA9PiB7XG4gICAgZGVidWcoJ2NhcmV0JywgY29tcCwgXywgTSwgbSwgcCwgcHIpXG4gICAgbGV0IHJldFxuXG4gICAgaWYgKGlzWChNKSkge1xuICAgICAgcmV0ID0gJydcbiAgICB9IGVsc2UgaWYgKGlzWChtKSkge1xuICAgICAgcmV0ID0gYD49JHtNfS4wLjAke3p9IDwkeytNICsgMX0uMC4wLTBgXG4gICAgfSBlbHNlIGlmIChpc1gocCkpIHtcbiAgICAgIGlmIChNID09PSAnMCcpIHtcbiAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LjAke3p9IDwke019LiR7K20gKyAxfS4wLTBgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBgPj0ke019LiR7bX0uMCR7en0gPCR7K00gKyAxfS4wLjAtMGBcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByKSB7XG4gICAgICBkZWJ1ZygncmVwbGFjZUNhcmV0IHByJywgcHIpXG4gICAgICBpZiAoTSA9PT0gJzAnKSB7XG4gICAgICAgIGlmIChtID09PSAnMCcpIHtcbiAgICAgICAgICByZXQgPSBgPj0ke019LiR7bX0uJHtwfS0ke3ByXG4gICAgICAgICAgfSA8JHtNfS4ke219LiR7K3AgKyAxfS0wYFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3B9LSR7cHJcbiAgICAgICAgICB9IDwke019LiR7K20gKyAxfS4wLTBgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3B9LSR7cHJcbiAgICAgICAgfSA8JHsrTSArIDF9LjAuMC0wYFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Zygnbm8gcHInKVxuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICBpZiAobSA9PT0gJzAnKSB7XG4gICAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cFxuICAgICAgICAgIH0ke3p9IDwke019LiR7bX0uJHsrcCArIDF9LTBgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gYD49JHtNfS4ke219LiR7cFxuICAgICAgICAgIH0ke3p9IDwke019LiR7K20gKyAxfS4wLTBgXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IGA+PSR7TX0uJHttfS4ke3BcbiAgICAgICAgfSA8JHsrTSArIDF9LjAuMC0wYFxuICAgICAgfVxuICAgIH1cblxuICAgIGRlYnVnKCdjYXJldCByZXR1cm4nLCByZXQpXG4gICAgcmV0dXJuIHJldFxuICB9KVxufVxuXG5jb25zdCByZXBsYWNlWFJhbmdlcyA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGRlYnVnKCdyZXBsYWNlWFJhbmdlcycsIGNvbXAsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wLnNwbGl0KC9cXHMrLykubWFwKChjKSA9PiB7XG4gICAgcmV0dXJuIHJlcGxhY2VYUmFuZ2UoYywgb3B0aW9ucylcbiAgfSkuam9pbignICcpXG59XG5cbmNvbnN0IHJlcGxhY2VYUmFuZ2UgPSAoY29tcCwgb3B0aW9ucykgPT4ge1xuICBjb21wID0gY29tcC50cmltKClcbiAgY29uc3QgciA9IG9wdGlvbnMubG9vc2UgPyByZVt0LlhSQU5HRUxPT1NFXSA6IHJlW3QuWFJBTkdFXVxuICByZXR1cm4gY29tcC5yZXBsYWNlKHIsIChyZXQsIGd0bHQsIE0sIG0sIHAsIHByKSA9PiB7XG4gICAgZGVidWcoJ3hSYW5nZScsIGNvbXAsIHJldCwgZ3RsdCwgTSwgbSwgcCwgcHIpXG4gICAgY29uc3QgeE0gPSBpc1goTSlcbiAgICBjb25zdCB4bSA9IHhNIHx8IGlzWChtKVxuICAgIGNvbnN0IHhwID0geG0gfHwgaXNYKHApXG4gICAgY29uc3QgYW55WCA9IHhwXG5cbiAgICBpZiAoZ3RsdCA9PT0gJz0nICYmIGFueVgpIHtcbiAgICAgIGd0bHQgPSAnJ1xuICAgIH1cblxuICAgIC8vIGlmIHdlJ3JlIGluY2x1ZGluZyBwcmVyZWxlYXNlcyBpbiB0aGUgbWF0Y2gsIHRoZW4gd2UgbmVlZFxuICAgIC8vIHRvIGZpeCB0aGlzIHRvIC0wLCB0aGUgbG93ZXN0IHBvc3NpYmxlIHByZXJlbGVhc2UgdmFsdWVcbiAgICBwciA9IG9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UgPyAnLTAnIDogJydcblxuICAgIGlmICh4TSkge1xuICAgICAgaWYgKGd0bHQgPT09ICc+JyB8fCBndGx0ID09PSAnPCcpIHtcbiAgICAgICAgLy8gbm90aGluZyBpcyBhbGxvd2VkXG4gICAgICAgIHJldCA9ICc8MC4wLjAtMCdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG5vdGhpbmcgaXMgZm9yYmlkZGVuXG4gICAgICAgIHJldCA9ICcqJ1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBhbnlYKSB7XG4gICAgICAvLyB3ZSBrbm93IHBhdGNoIGlzIGFuIHgsIGJlY2F1c2Ugd2UgaGF2ZSBhbnkgeCBhdCBhbGwuXG4gICAgICAvLyByZXBsYWNlIFggd2l0aCAwXG4gICAgICBpZiAoeG0pIHtcbiAgICAgICAgbSA9IDBcbiAgICAgIH1cbiAgICAgIHAgPSAwXG5cbiAgICAgIGlmIChndGx0ID09PSAnPicpIHtcbiAgICAgICAgLy8gPjEgPT4gPj0yLjAuMFxuICAgICAgICAvLyA+MS4yID0+ID49MS4zLjBcbiAgICAgICAgZ3RsdCA9ICc+PSdcbiAgICAgICAgaWYgKHhtKSB7XG4gICAgICAgICAgTSA9ICtNICsgMVxuICAgICAgICAgIG0gPSAwXG4gICAgICAgICAgcCA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtID0gK20gKyAxXG4gICAgICAgICAgcCA9IDBcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChndGx0ID09PSAnPD0nKSB7XG4gICAgICAgIC8vIDw9MC43LnggaXMgYWN0dWFsbHkgPDAuOC4wLCBzaW5jZSBhbnkgMC43Lnggc2hvdWxkXG4gICAgICAgIC8vIHBhc3MuICBTaW1pbGFybHksIDw9Ny54IGlzIGFjdHVhbGx5IDw4LjAuMCwgZXRjLlxuICAgICAgICBndGx0ID0gJzwnXG4gICAgICAgIGlmICh4bSkge1xuICAgICAgICAgIE0gPSArTSArIDFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtID0gK20gKyAxXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGd0bHQgPT09ICc8Jykge1xuICAgICAgICBwciA9ICctMCdcbiAgICAgIH1cblxuICAgICAgcmV0ID0gYCR7Z3RsdCArIE19LiR7bX0uJHtwfSR7cHJ9YFxuICAgIH0gZWxzZSBpZiAoeG0pIHtcbiAgICAgIHJldCA9IGA+PSR7TX0uMC4wJHtwcn0gPCR7K00gKyAxfS4wLjAtMGBcbiAgICB9IGVsc2UgaWYgKHhwKSB7XG4gICAgICByZXQgPSBgPj0ke019LiR7bX0uMCR7cHJcbiAgICAgIH0gPCR7TX0uJHsrbSArIDF9LjAtMGBcbiAgICB9XG5cbiAgICBkZWJ1ZygneFJhbmdlIHJldHVybicsIHJldClcblxuICAgIHJldHVybiByZXRcbiAgfSlcbn1cblxuLy8gQmVjYXVzZSAqIGlzIEFORC1lZCB3aXRoIGV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgY29tcGFyYXRvcixcbi8vIGFuZCAnJyBtZWFucyBcImFueSB2ZXJzaW9uXCIsIGp1c3QgcmVtb3ZlIHRoZSAqcyBlbnRpcmVseS5cbmNvbnN0IHJlcGxhY2VTdGFycyA9IChjb21wLCBvcHRpb25zKSA9PiB7XG4gIGRlYnVnKCdyZXBsYWNlU3RhcnMnLCBjb21wLCBvcHRpb25zKVxuICAvLyBMb29zZW5lc3MgaXMgaWdub3JlZCBoZXJlLiAgc3RhciBpcyBhbHdheXMgYXMgbG9vc2UgYXMgaXQgZ2V0cyFcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnJlcGxhY2UocmVbdC5TVEFSXSwgJycpXG59XG5cbmNvbnN0IHJlcGxhY2VHVEUwID0gKGNvbXAsIG9wdGlvbnMpID0+IHtcbiAgZGVidWcoJ3JlcGxhY2VHVEUwJywgY29tcCwgb3B0aW9ucylcbiAgcmV0dXJuIGNvbXAudHJpbSgpXG4gICAgLnJlcGxhY2UocmVbb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSA/IHQuR1RFMFBSRSA6IHQuR1RFMF0sICcnKVxufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHBhc3NlZCB0byBzdHJpbmcucmVwbGFjZShyZVt0LkhZUEhFTlJBTkdFXSlcbi8vIE0sIG0sIHBhdGNoLCBwcmVyZWxlYXNlLCBidWlsZFxuLy8gMS4yIC0gMy40LjUgPT4gPj0xLjIuMCA8PTMuNC41XG4vLyAxLjIuMyAtIDMuNCA9PiA+PTEuMi4wIDwzLjUuMC0wIEFueSAzLjQueCB3aWxsIGRvXG4vLyAxLjIgLSAzLjQgPT4gPj0xLjIuMCA8My41LjAtMFxuY29uc3QgaHlwaGVuUmVwbGFjZSA9IGluY1ByID0+ICgkMCxcbiAgZnJvbSwgZk0sIGZtLCBmcCwgZnByLCBmYixcbiAgdG8sIHRNLCB0bSwgdHAsIHRwciwgdGIpID0+IHtcbiAgaWYgKGlzWChmTSkpIHtcbiAgICBmcm9tID0gJydcbiAgfSBlbHNlIGlmIChpc1goZm0pKSB7XG4gICAgZnJvbSA9IGA+PSR7Zk19LjAuMCR7aW5jUHIgPyAnLTAnIDogJyd9YFxuICB9IGVsc2UgaWYgKGlzWChmcCkpIHtcbiAgICBmcm9tID0gYD49JHtmTX0uJHtmbX0uMCR7aW5jUHIgPyAnLTAnIDogJyd9YFxuICB9IGVsc2UgaWYgKGZwcikge1xuICAgIGZyb20gPSBgPj0ke2Zyb219YFxuICB9IGVsc2Uge1xuICAgIGZyb20gPSBgPj0ke2Zyb219JHtpbmNQciA/ICctMCcgOiAnJ31gXG4gIH1cblxuICBpZiAoaXNYKHRNKSkge1xuICAgIHRvID0gJydcbiAgfSBlbHNlIGlmIChpc1godG0pKSB7XG4gICAgdG8gPSBgPCR7K3RNICsgMX0uMC4wLTBgXG4gIH0gZWxzZSBpZiAoaXNYKHRwKSkge1xuICAgIHRvID0gYDwke3RNfS4keyt0bSArIDF9LjAtMGBcbiAgfSBlbHNlIGlmICh0cHIpIHtcbiAgICB0byA9IGA8PSR7dE19LiR7dG19LiR7dHB9LSR7dHByfWBcbiAgfSBlbHNlIGlmIChpbmNQcikge1xuICAgIHRvID0gYDwke3RNfS4ke3RtfS4keyt0cCArIDF9LTBgXG4gIH0gZWxzZSB7XG4gICAgdG8gPSBgPD0ke3RvfWBcbiAgfVxuXG4gIHJldHVybiAoYCR7ZnJvbX0gJHt0b31gKS50cmltKClcbn1cblxuY29uc3QgdGVzdFNldCA9IChzZXQsIHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXNldFtpXS50ZXN0KHZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBpZiAodmVyc2lvbi5wcmVyZWxlYXNlLmxlbmd0aCAmJiAhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkge1xuICAgIC8vIEZpbmQgdGhlIHNldCBvZiB2ZXJzaW9ucyB0aGF0IGFyZSBhbGxvd2VkIHRvIGhhdmUgcHJlcmVsZWFzZXNcbiAgICAvLyBGb3IgZXhhbXBsZSwgXjEuMi4zLXByLjEgZGVzdWdhcnMgdG8gPj0xLjIuMy1wci4xIDwyLjAuMFxuICAgIC8vIFRoYXQgc2hvdWxkIGFsbG93IGAxLjIuMy1wci4yYCB0byBwYXNzLlxuICAgIC8vIEhvd2V2ZXIsIGAxLjIuNC1hbHBoYS5ub3RyZWFkeWAgc2hvdWxkIE5PVCBiZSBhbGxvd2VkLFxuICAgIC8vIGV2ZW4gdGhvdWdoIGl0J3Mgd2l0aGluIHRoZSByYW5nZSBzZXQgYnkgdGhlIGNvbXBhcmF0b3JzLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWJ1ZyhzZXRbaV0uc2VtdmVyKVxuICAgICAgaWYgKHNldFtpXS5zZW12ZXIgPT09IENvbXBhcmF0b3IuQU5ZKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBhbGxvd2VkID0gc2V0W2ldLnNlbXZlclxuICAgICAgICBpZiAoYWxsb3dlZC5tYWpvciA9PT0gdmVyc2lvbi5tYWpvciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5taW5vciA9PT0gdmVyc2lvbi5taW5vciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5wYXRjaCA9PT0gdmVyc2lvbi5wYXRjaCkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG4iLCJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJy4uL2ludGVybmFsL2RlYnVnJylcbmNvbnN0IHsgTUFYX0xFTkdUSCwgTUFYX1NBRkVfSU5URUdFUiB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvY29uc3RhbnRzJylcbmNvbnN0IHsgcmUsIHQgfSA9IHJlcXVpcmUoJy4uL2ludGVybmFsL3JlJylcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCB7IGNvbXBhcmVJZGVudGlmaWVycyB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvaWRlbnRpZmllcnMnKVxuY2xhc3MgU2VtVmVyIHtcbiAgY29uc3RydWN0b3IgKHZlcnNpb24sIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gcGFyc2VPcHRpb25zKG9wdGlvbnMpXG5cbiAgICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikge1xuICAgICAgaWYgKHZlcnNpb24ubG9vc2UgPT09ICEhb3B0aW9ucy5sb29zZSAmJlxuICAgICAgICAgIHZlcnNpb24uaW5jbHVkZVByZXJlbGVhc2UgPT09ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSkge1xuICAgICAgICByZXR1cm4gdmVyc2lvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IHZlcnNpb24udmVyc2lvblxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIFZlcnNpb246ICR7dmVyc2lvbn1gKVxuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIGB2ZXJzaW9uIGlzIGxvbmdlciB0aGFuICR7TUFYX0xFTkdUSH0gY2hhcmFjdGVyc2BcbiAgICAgIClcbiAgICB9XG5cbiAgICBkZWJ1ZygnU2VtVmVyJywgdmVyc2lvbiwgb3B0aW9ucylcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5sb29zZSA9ICEhb3B0aW9ucy5sb29zZVxuICAgIC8vIHRoaXMgaXNuJ3QgYWN0dWFsbHkgcmVsZXZhbnQgZm9yIHZlcnNpb25zLCBidXQga2VlcCBpdCBzbyB0aGF0IHdlXG4gICAgLy8gZG9uJ3QgcnVuIGludG8gdHJvdWJsZSBwYXNzaW5nIHRoaXMub3B0aW9ucyBhcm91bmQuXG4gICAgdGhpcy5pbmNsdWRlUHJlcmVsZWFzZSA9ICEhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZVxuXG4gICAgY29uc3QgbSA9IHZlcnNpb24udHJpbSgpLm1hdGNoKG9wdGlvbnMubG9vc2UgPyByZVt0LkxPT1NFXSA6IHJlW3QuRlVMTF0pXG5cbiAgICBpZiAoIW0pIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgVmVyc2lvbjogJHt2ZXJzaW9ufWApXG4gICAgfVxuXG4gICAgdGhpcy5yYXcgPSB2ZXJzaW9uXG5cbiAgICAvLyB0aGVzZSBhcmUgYWN0dWFsbHkgbnVtYmVyc1xuICAgIHRoaXMubWFqb3IgPSArbVsxXVxuICAgIHRoaXMubWlub3IgPSArbVsyXVxuICAgIHRoaXMucGF0Y2ggPSArbVszXVxuXG4gICAgaWYgKHRoaXMubWFqb3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWFqb3IgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG1ham9yIHZlcnNpb24nKVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1pbm9yID4gTUFYX1NBRkVfSU5URUdFUiB8fCB0aGlzLm1pbm9yIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBtaW5vciB2ZXJzaW9uJylcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXRjaCA+IE1BWF9TQUZFX0lOVEVHRVIgfHwgdGhpcy5wYXRjaCA8IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG4gICAgfVxuXG4gICAgLy8gbnVtYmVyaWZ5IGFueSBwcmVyZWxlYXNlIG51bWVyaWMgaWRzXG4gICAgaWYgKCFtWzRdKSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBtWzRdLnNwbGl0KCcuJykubWFwKChpZCkgPT4ge1xuICAgICAgICBpZiAoL15bMC05XSskLy50ZXN0KGlkKSkge1xuICAgICAgICAgIGNvbnN0IG51bSA9ICtpZFxuICAgICAgICAgIGlmIChudW0gPj0gMCAmJiBudW0gPCBNQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWxkID0gbVs1XSA/IG1bNV0uc3BsaXQoJy4nKSA6IFtdXG4gICAgdGhpcy5mb3JtYXQoKVxuICB9XG5cbiAgZm9ybWF0ICgpIHtcbiAgICB0aGlzLnZlcnNpb24gPSBgJHt0aGlzLm1ham9yfS4ke3RoaXMubWlub3J9LiR7dGhpcy5wYXRjaH1gXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMudmVyc2lvbiArPSBgLSR7dGhpcy5wcmVyZWxlYXNlLmpvaW4oJy4nKX1gXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnZlcnNpb25cbiAgfVxuXG4gIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uXG4gIH1cblxuICBjb21wYXJlIChvdGhlcikge1xuICAgIGRlYnVnKCdTZW1WZXIuY29tcGFyZScsIHRoaXMudmVyc2lvbiwgdGhpcy5vcHRpb25zLCBvdGhlcilcbiAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgPT09ICdzdHJpbmcnICYmIG90aGVyID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIDBcbiAgICAgIH1cbiAgICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5vcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChvdGhlci52ZXJzaW9uID09PSB0aGlzLnZlcnNpb24pIHtcbiAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZU1haW4ob3RoZXIpIHx8IHRoaXMuY29tcGFyZVByZShvdGhlcilcbiAgfVxuXG4gIGNvbXBhcmVNYWluIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaClcbiAgICApXG4gIH1cblxuICBjb21wYXJlUHJlIChvdGhlcikge1xuICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgU2VtVmVyKSkge1xuICAgICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLm9wdGlvbnMpXG4gICAgfVxuXG4gICAgLy8gTk9UIGhhdmluZyBhIHByZXJlbGVhc2UgaXMgPiBoYXZpbmcgb25lXG4gICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9IGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmIG90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMVxuICAgIH0gZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIGxldCBpID0gMFxuICAgIGRvIHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLnByZXJlbGVhc2VbaV1cbiAgICAgIGNvbnN0IGIgPSBvdGhlci5wcmVyZWxlYXNlW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICBjb21wYXJlQnVpbGQgKG90aGVyKSB7XG4gICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKSB7XG4gICAgICBvdGhlciA9IG5ldyBTZW1WZXIob3RoZXIsIHRoaXMub3B0aW9ucylcbiAgICB9XG5cbiAgICBsZXQgaSA9IDBcbiAgICBkbyB7XG4gICAgICBjb25zdCBhID0gdGhpcy5idWlsZFtpXVxuICAgICAgY29uc3QgYiA9IG90aGVyLmJ1aWxkW2ldXG4gICAgICBkZWJ1ZygncHJlcmVsZWFzZSBjb21wYXJlJywgaSwgYSwgYilcbiAgICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwXG4gICAgICB9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gMVxuICAgICAgfSBlbHNlIGlmIChhID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlSWRlbnRpZmllcnMoYSwgYilcbiAgICAgIH1cbiAgICB9IHdoaWxlICgrK2kpXG4gIH1cblxuICAvLyBwcmVtaW5vciB3aWxsIGJ1bXAgdGhlIHZlcnNpb24gdXAgdG8gdGhlIG5leHQgbWlub3IgcmVsZWFzZSwgYW5kIGltbWVkaWF0ZWx5XG4gIC8vIGRvd24gdG8gcHJlLXJlbGVhc2UuIHByZW1ham9yIGFuZCBwcmVwYXRjaCB3b3JrIHRoZSBzYW1lIHdheS5cbiAgaW5jIChyZWxlYXNlLCBpZGVudGlmaWVyKSB7XG4gICAgc3dpdGNoIChyZWxlYXNlKSB7XG4gICAgICBjYXNlICdwcmVtYWpvcic6XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwXG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMubWlub3IgPSAwXG4gICAgICAgIHRoaXMubWFqb3IrK1xuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ3ByZW1pbm9yJzpcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5taW5vcisrXG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAncHJlcGF0Y2gnOlxuICAgICAgICAvLyBJZiB0aGlzIGlzIGFscmVhZHkgYSBwcmVyZWxlYXNlLCBpdCB3aWxsIGJ1bXAgdG8gdGhlIG5leHQgdmVyc2lvblxuICAgICAgICAvLyBkcm9wIGFueSBwcmVyZWxlYXNlcyB0aGF0IG1pZ2h0IGFscmVhZHkgZXhpc3QsIHNpbmNlIHRoZXkgYXJlIG5vdFxuICAgICAgICAvLyByZWxldmFudCBhdCB0aGlzIHBvaW50LlxuICAgICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMFxuICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcilcbiAgICAgICAgYnJlYWtcbiAgICAgIC8vIElmIHRoZSBpbnB1dCBpcyBhIG5vbi1wcmVyZWxlYXNlIHZlcnNpb24sIHRoaXMgYWN0cyB0aGUgc2FtZSBhc1xuICAgICAgLy8gcHJlcGF0Y2guXG4gICAgICBjYXNlICdwcmVyZWxlYXNlJzpcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmluYygncGF0Y2gnLCBpZGVudGlmaWVyKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdtYWpvcic6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgICAvLyBPdGhlcndpc2UgaW5jcmVtZW50IG1ham9yLlxuICAgICAgICAvLyAxLjAuMC01IGJ1bXBzIHRvIDEuMC4wXG4gICAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLm1pbm9yICE9PSAwIHx8XG4gICAgICAgICAgdGhpcy5wYXRjaCAhPT0gMCB8fFxuICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5tYWpvcisrXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5vciA9IDBcbiAgICAgICAgdGhpcy5wYXRjaCA9IDBcbiAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW11cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ21pbm9yJzpcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHByZS1taW5vciB2ZXJzaW9uLCBidW1wIHVwIHRvIHRoZSBzYW1lIG1pbm9yIHZlcnNpb24uXG4gICAgICAgIC8vIE90aGVyd2lzZSBpbmNyZW1lbnQgbWlub3IuXG4gICAgICAgIC8vIDEuMi4wLTUgYnVtcHMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjEgYnVtcHMgdG8gMS4zLjBcbiAgICAgICAgaWYgKHRoaXMucGF0Y2ggIT09IDAgfHwgdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMubWlub3IrK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGF0Y2ggPSAwXG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdwYXRjaCc6XG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiwgaXQgd2lsbCBpbmNyZW1lbnQgdGhlIHBhdGNoLlxuICAgICAgICAvLyBJZiBpdCBpcyBhIHByZS1yZWxlYXNlIGl0IHdpbGwgYnVtcCB1cCB0byB0aGUgc2FtZSBwYXRjaCB2ZXJzaW9uLlxuICAgICAgICAvLyAxLjIuMC01IHBhdGNoZXMgdG8gMS4yLjBcbiAgICAgICAgLy8gMS4yLjAgcGF0Y2hlcyB0byAxLjIuMVxuICAgICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMucGF0Y2grK1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdXG4gICAgICAgIGJyZWFrXG4gICAgICAvLyBUaGlzIHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2VkIHB1YmxpY2x5LlxuICAgICAgLy8gMS4wLjAgJ3ByZScgd291bGQgYmVjb21lIDEuMC4wLTAgd2hpY2ggaXMgdGhlIHdyb25nIGRpcmVjdGlvbi5cbiAgICAgIGNhc2UgJ3ByZSc6XG4gICAgICAgIGlmICh0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gWzBdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGkgPSB0aGlzLnByZXJlbGVhc2UubGVuZ3RoXG4gICAgICAgICAgd2hpbGUgKC0taSA+PSAwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJlcmVsZWFzZVtpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKytcbiAgICAgICAgICAgICAgaSA9IC0yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gZGlkbid0IGluY3JlbWVudCBhbnl0aGluZ1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAvLyAxLjIuMC1iZXRhLjEgYnVtcHMgdG8gMS4yLjAtYmV0YS4yLFxuICAgICAgICAgIC8vIDEuMi4wLWJldGEuZm9vYmx6IG9yIDEuMi4wLWJldGEgYnVtcHMgdG8gMS4yLjAtYmV0YS4wXG4gICAgICAgICAgaWYgKGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnByZXJlbGVhc2VbMF0sIGlkZW50aWZpZXIpID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4odGhpcy5wcmVyZWxlYXNlWzFdKSkge1xuICAgICAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6ICR7cmVsZWFzZX1gKVxuICAgIH1cbiAgICB0aGlzLmZvcm1hdCgpXG4gICAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb25cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2VtVmVyXG4iLCJjb25zdCBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKVxuY29uc3QgY2xlYW4gPSAodmVyc2lvbiwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBzID0gcGFyc2UodmVyc2lvbi50cmltKCkucmVwbGFjZSgvXls9dl0rLywgJycpLCBvcHRpb25zKVxuICByZXR1cm4gcyA/IHMudmVyc2lvbiA6IG51bGxcbn1cbm1vZHVsZS5leHBvcnRzID0gY2xlYW5cbiIsImNvbnN0IGVxID0gcmVxdWlyZSgnLi9lcScpXG5jb25zdCBuZXEgPSByZXF1aXJlKCcuL25lcScpXG5jb25zdCBndCA9IHJlcXVpcmUoJy4vZ3QnKVxuY29uc3QgZ3RlID0gcmVxdWlyZSgnLi9ndGUnKVxuY29uc3QgbHQgPSByZXF1aXJlKCcuL2x0JylcbmNvbnN0IGx0ZSA9IHJlcXVpcmUoJy4vbHRlJylcblxuY29uc3QgY21wID0gKGEsIG9wLCBiLCBsb29zZSkgPT4ge1xuICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnPT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYSA9IGEudmVyc2lvblxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICBiID0gYi52ZXJzaW9uXG4gICAgICB9XG4gICAgICByZXR1cm4gYSA9PT0gYlxuXG4gICAgY2FzZSAnIT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYSA9IGEudmVyc2lvblxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgICAgICBiID0gYi52ZXJzaW9uXG4gICAgICB9XG4gICAgICByZXR1cm4gYSAhPT0gYlxuXG4gICAgY2FzZSAnJzpcbiAgICBjYXNlICc9JzpcbiAgICBjYXNlICc9PSc6XG4gICAgICByZXR1cm4gZXEoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICchPSc6XG4gICAgICByZXR1cm4gbmVxKGEsIGIsIGxvb3NlKVxuXG4gICAgY2FzZSAnPic6XG4gICAgICByZXR1cm4gZ3QoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc+PSc6XG4gICAgICByZXR1cm4gZ3RlKGEsIGIsIGxvb3NlKVxuXG4gICAgY2FzZSAnPCc6XG4gICAgICByZXR1cm4gbHQoYSwgYiwgbG9vc2UpXG5cbiAgICBjYXNlICc8PSc6XG4gICAgICByZXR1cm4gbHRlKGEsIGIsIGxvb3NlKVxuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgb3BlcmF0b3I6ICR7b3B9YClcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBjbXBcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9wYXJzZScpXG5jb25zdCB7IHJlLCB0IH0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbC9yZScpXG5cbmNvbnN0IGNvZXJjZSA9ICh2ZXJzaW9uLCBvcHRpb25zKSA9PiB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgcmV0dXJuIHZlcnNpb25cbiAgfVxuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gJ251bWJlcicpIHtcbiAgICB2ZXJzaW9uID0gU3RyaW5nKHZlcnNpb24pXG4gIH1cblxuICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgbGV0IG1hdGNoID0gbnVsbFxuICBpZiAoIW9wdGlvbnMucnRsKSB7XG4gICAgbWF0Y2ggPSB2ZXJzaW9uLm1hdGNoKHJlW3QuQ09FUkNFXSlcbiAgfSBlbHNlIHtcbiAgICAvLyBGaW5kIHRoZSByaWdodC1tb3N0IGNvZXJjaWJsZSBzdHJpbmcgdGhhdCBkb2VzIG5vdCBzaGFyZVxuICAgIC8vIGEgdGVybWludXMgd2l0aCBhIG1vcmUgbGVmdC13YXJkIGNvZXJjaWJsZSBzdHJpbmcuXG4gICAgLy8gRWcsICcxLjIuMy40JyB3YW50cyB0byBjb2VyY2UgJzIuMy40Jywgbm90ICczLjQnIG9yICc0J1xuICAgIC8vXG4gICAgLy8gV2FsayB0aHJvdWdoIHRoZSBzdHJpbmcgY2hlY2tpbmcgd2l0aCBhIC9nIHJlZ2V4cFxuICAgIC8vIE1hbnVhbGx5IHNldCB0aGUgaW5kZXggc28gYXMgdG8gcGljayB1cCBvdmVybGFwcGluZyBtYXRjaGVzLlxuICAgIC8vIFN0b3Agd2hlbiB3ZSBnZXQgYSBtYXRjaCB0aGF0IGVuZHMgYXQgdGhlIHN0cmluZyBlbmQsIHNpbmNlIG5vXG4gICAgLy8gY29lcmNpYmxlIHN0cmluZyBjYW4gYmUgbW9yZSByaWdodC13YXJkIHdpdGhvdXQgdGhlIHNhbWUgdGVybWludXMuXG4gICAgbGV0IG5leHRcbiAgICB3aGlsZSAoKG5leHQgPSByZVt0LkNPRVJDRVJUTF0uZXhlYyh2ZXJzaW9uKSkgJiZcbiAgICAgICAgKCFtYXRjaCB8fCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCAhPT0gdmVyc2lvbi5sZW5ndGgpXG4gICAgKSB7XG4gICAgICBpZiAoIW1hdGNoIHx8XG4gICAgICAgICAgICBuZXh0LmluZGV4ICsgbmV4dFswXS5sZW5ndGggIT09IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKSB7XG4gICAgICAgIG1hdGNoID0gbmV4dFxuICAgICAgfVxuICAgICAgcmVbdC5DT0VSQ0VSVExdLmxhc3RJbmRleCA9IG5leHQuaW5kZXggKyBuZXh0WzFdLmxlbmd0aCArIG5leHRbMl0ubGVuZ3RoXG4gICAgfVxuICAgIC8vIGxlYXZlIGl0IGluIGEgY2xlYW4gc3RhdGVcbiAgICByZVt0LkNPRVJDRVJUTF0ubGFzdEluZGV4ID0gLTFcbiAgfVxuXG4gIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gcGFyc2UoYCR7bWF0Y2hbMl19LiR7bWF0Y2hbM10gfHwgJzAnfS4ke21hdGNoWzRdIHx8ICcwJ31gLCBvcHRpb25zKVxufVxubW9kdWxlLmV4cG9ydHMgPSBjb2VyY2VcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IGNvbXBhcmVCdWlsZCA9IChhLCBiLCBsb29zZSkgPT4ge1xuICBjb25zdCB2ZXJzaW9uQSA9IG5ldyBTZW1WZXIoYSwgbG9vc2UpXG4gIGNvbnN0IHZlcnNpb25CID0gbmV3IFNlbVZlcihiLCBsb29zZSlcbiAgcmV0dXJuIHZlcnNpb25BLmNvbXBhcmUodmVyc2lvbkIpIHx8IHZlcnNpb25BLmNvbXBhcmVCdWlsZCh2ZXJzaW9uQilcbn1cbm1vZHVsZS5leHBvcnRzID0gY29tcGFyZUJ1aWxkXG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IGNvbXBhcmVMb29zZSA9IChhLCBiKSA9PiBjb21wYXJlKGEsIGIsIHRydWUpXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBhcmVMb29zZVxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgY29tcGFyZSA9IChhLCBiLCBsb29zZSkgPT5cbiAgbmV3IFNlbVZlcihhLCBsb29zZSkuY29tcGFyZShuZXcgU2VtVmVyKGIsIGxvb3NlKSlcblxubW9kdWxlLmV4cG9ydHMgPSBjb21wYXJlXG4iLCJjb25zdCBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKVxuY29uc3QgZXEgPSByZXF1aXJlKCcuL2VxJylcblxuY29uc3QgZGlmZiA9ICh2ZXJzaW9uMSwgdmVyc2lvbjIpID0+IHtcbiAgaWYgKGVxKHZlcnNpb24xLCB2ZXJzaW9uMikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHYxID0gcGFyc2UodmVyc2lvbjEpXG4gICAgY29uc3QgdjIgPSBwYXJzZSh2ZXJzaW9uMilcbiAgICBjb25zdCBoYXNQcmUgPSB2MS5wcmVyZWxlYXNlLmxlbmd0aCB8fCB2Mi5wcmVyZWxlYXNlLmxlbmd0aFxuICAgIGNvbnN0IHByZWZpeCA9IGhhc1ByZSA/ICdwcmUnIDogJydcbiAgICBjb25zdCBkZWZhdWx0UmVzdWx0ID0gaGFzUHJlID8gJ3ByZXJlbGVhc2UnIDogJydcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2MSkge1xuICAgICAgaWYgKGtleSA9PT0gJ21ham9yJyB8fCBrZXkgPT09ICdtaW5vcicgfHwga2V5ID09PSAncGF0Y2gnKSB7XG4gICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7XG4gICAgICAgICAgcmV0dXJuIHByZWZpeCArIGtleVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0UmVzdWx0IC8vIG1heSBiZSB1bmRlZmluZWRcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBkaWZmXG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IGVxID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGEsIGIsIGxvb3NlKSA9PT0gMFxubW9kdWxlLmV4cG9ydHMgPSBlcVxuIiwiY29uc3QgY29tcGFyZSA9IHJlcXVpcmUoJy4vY29tcGFyZScpXG5jb25zdCBndCA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgPiAwXG5tb2R1bGUuZXhwb3J0cyA9IGd0XG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IGd0ZSA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMFxubW9kdWxlLmV4cG9ydHMgPSBndGVcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcblxuY29uc3QgaW5jID0gKHZlcnNpb24sIHJlbGVhc2UsIG9wdGlvbnMsIGlkZW50aWZpZXIpID0+IHtcbiAgaWYgKHR5cGVvZiAob3B0aW9ucykgPT09ICdzdHJpbmcnKSB7XG4gICAgaWRlbnRpZmllciA9IG9wdGlvbnNcbiAgICBvcHRpb25zID0gdW5kZWZpbmVkXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBuZXcgU2VtVmVyKFxuICAgICAgdmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlciA/IHZlcnNpb24udmVyc2lvbiA6IHZlcnNpb24sXG4gICAgICBvcHRpb25zXG4gICAgKS5pbmMocmVsZWFzZSwgaWRlbnRpZmllcikudmVyc2lvblxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gaW5jXG4iLCJjb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi9jb21wYXJlJylcbmNvbnN0IGx0ID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDBcbm1vZHVsZS5leHBvcnRzID0gbHRcbiIsImNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuL2NvbXBhcmUnKVxuY29uc3QgbHRlID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8PSAwXG5tb2R1bGUuZXhwb3J0cyA9IGx0ZVxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgbWFqb3IgPSAoYSwgbG9vc2UpID0+IG5ldyBTZW1WZXIoYSwgbG9vc2UpLm1ham9yXG5tb2R1bGUuZXhwb3J0cyA9IG1ham9yXG4iLCJjb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3NlbXZlcicpXG5jb25zdCBtaW5vciA9IChhLCBsb29zZSkgPT4gbmV3IFNlbVZlcihhLCBsb29zZSkubWlub3Jcbm1vZHVsZS5leHBvcnRzID0gbWlub3JcbiIsImNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuL2NvbXBhcmUnKVxuY29uc3QgbmVxID0gKGEsIGIsIGxvb3NlKSA9PiBjb21wYXJlKGEsIGIsIGxvb3NlKSAhPT0gMFxubW9kdWxlLmV4cG9ydHMgPSBuZXFcbiIsImNvbnN0IHsgTUFYX0xFTkdUSCB9ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvY29uc3RhbnRzJylcbmNvbnN0IHsgcmUsIHQgfSA9IHJlcXVpcmUoJy4uL2ludGVybmFsL3JlJylcbmNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcblxuY29uc3QgcGFyc2VPcHRpb25zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWwvcGFyc2Utb3B0aW9ucycpXG5jb25zdCBwYXJzZSA9ICh2ZXJzaW9uLCBvcHRpb25zKSA9PiB7XG4gIG9wdGlvbnMgPSBwYXJzZU9wdGlvbnMob3B0aW9ucylcblxuICBpZiAodmVyc2lvbiBpbnN0YW5jZW9mIFNlbVZlcikge1xuICAgIHJldHVybiB2ZXJzaW9uXG4gIH1cblxuICBpZiAodHlwZW9mIHZlcnNpb24gIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgciA9IG9wdGlvbnMubG9vc2UgPyByZVt0LkxPT1NFXSA6IHJlW3QuRlVMTF1cbiAgaWYgKCFyLnRlc3QodmVyc2lvbikpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFNlbVZlcih2ZXJzaW9uLCBvcHRpb25zKVxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgcGF0Y2ggPSAoYSwgbG9vc2UpID0+IG5ldyBTZW1WZXIoYSwgbG9vc2UpLnBhdGNoXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGNoXG4iLCJjb25zdCBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKVxuY29uc3QgcHJlcmVsZWFzZSA9ICh2ZXJzaW9uLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJldHVybiAocGFyc2VkICYmIHBhcnNlZC5wcmVyZWxlYXNlLmxlbmd0aCkgPyBwYXJzZWQucHJlcmVsZWFzZSA6IG51bGxcbn1cbm1vZHVsZS5leHBvcnRzID0gcHJlcmVsZWFzZVxuIiwiY29uc3QgY29tcGFyZSA9IHJlcXVpcmUoJy4vY29tcGFyZScpXG5jb25zdCByY29tcGFyZSA9IChhLCBiLCBsb29zZSkgPT4gY29tcGFyZShiLCBhLCBsb29zZSlcbm1vZHVsZS5leHBvcnRzID0gcmNvbXBhcmVcbiIsImNvbnN0IGNvbXBhcmVCdWlsZCA9IHJlcXVpcmUoJy4vY29tcGFyZS1idWlsZCcpXG5jb25zdCByc29ydCA9IChsaXN0LCBsb29zZSkgPT4gbGlzdC5zb3J0KChhLCBiKSA9PiBjb21wYXJlQnVpbGQoYiwgYSwgbG9vc2UpKVxubW9kdWxlLmV4cG9ydHMgPSByc29ydFxuIiwiY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3JhbmdlJylcbmNvbnN0IHNhdGlzZmllcyA9ICh2ZXJzaW9uLCByYW5nZSwgb3B0aW9ucykgPT4ge1xuICB0cnkge1xuICAgIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKVxuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHJldHVybiByYW5nZS50ZXN0KHZlcnNpb24pXG59XG5tb2R1bGUuZXhwb3J0cyA9IHNhdGlzZmllc1xuIiwiY29uc3QgY29tcGFyZUJ1aWxkID0gcmVxdWlyZSgnLi9jb21wYXJlLWJ1aWxkJylcbmNvbnN0IHNvcnQgPSAobGlzdCwgbG9vc2UpID0+IGxpc3Quc29ydCgoYSwgYikgPT4gY29tcGFyZUJ1aWxkKGEsIGIsIGxvb3NlKSlcbm1vZHVsZS5leHBvcnRzID0gc29ydFxuIiwiY29uc3QgcGFyc2UgPSByZXF1aXJlKCcuL3BhcnNlJylcbmNvbnN0IHZhbGlkID0gKHZlcnNpb24sIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgdiA9IHBhcnNlKHZlcnNpb24sIG9wdGlvbnMpXG4gIHJldHVybiB2ID8gdi52ZXJzaW9uIDogbnVsbFxufVxubW9kdWxlLmV4cG9ydHMgPSB2YWxpZFxuIiwiLy8ganVzdCBwcmUtbG9hZCBhbGwgdGhlIHN0dWZmIHRoYXQgaW5kZXguanMgbGF6aWx5IGV4cG9ydHNcbmNvbnN0IGludGVybmFsUmUgPSByZXF1aXJlKCcuL2ludGVybmFsL3JlJylcbm1vZHVsZS5leHBvcnRzID0ge1xuICByZTogaW50ZXJuYWxSZS5yZSxcbiAgc3JjOiBpbnRlcm5hbFJlLnNyYyxcbiAgdG9rZW5zOiBpbnRlcm5hbFJlLnQsXG4gIFNFTVZFUl9TUEVDX1ZFUlNJT046IHJlcXVpcmUoJy4vaW50ZXJuYWwvY29uc3RhbnRzJykuU0VNVkVSX1NQRUNfVkVSU0lPTixcbiAgU2VtVmVyOiByZXF1aXJlKCcuL2NsYXNzZXMvc2VtdmVyJyksXG4gIGNvbXBhcmVJZGVudGlmaWVyczogcmVxdWlyZSgnLi9pbnRlcm5hbC9pZGVudGlmaWVycycpLmNvbXBhcmVJZGVudGlmaWVycyxcbiAgcmNvbXBhcmVJZGVudGlmaWVyczogcmVxdWlyZSgnLi9pbnRlcm5hbC9pZGVudGlmaWVycycpLnJjb21wYXJlSWRlbnRpZmllcnMsXG4gIHBhcnNlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9wYXJzZScpLFxuICB2YWxpZDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvdmFsaWQnKSxcbiAgY2xlYW46IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2NsZWFuJyksXG4gIGluYzogcmVxdWlyZSgnLi9mdW5jdGlvbnMvaW5jJyksXG4gIGRpZmY6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2RpZmYnKSxcbiAgbWFqb3I6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL21ham9yJyksXG4gIG1pbm9yOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9taW5vcicpLFxuICBwYXRjaDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvcGF0Y2gnKSxcbiAgcHJlcmVsZWFzZTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvcHJlcmVsZWFzZScpLFxuICBjb21wYXJlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9jb21wYXJlJyksXG4gIHJjb21wYXJlOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9yY29tcGFyZScpLFxuICBjb21wYXJlTG9vc2U6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2NvbXBhcmUtbG9vc2UnKSxcbiAgY29tcGFyZUJ1aWxkOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9jb21wYXJlLWJ1aWxkJyksXG4gIHNvcnQ6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3NvcnQnKSxcbiAgcnNvcnQ6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3Jzb3J0JyksXG4gIGd0OiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9ndCcpLFxuICBsdDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvbHQnKSxcbiAgZXE6IHJlcXVpcmUoJy4vZnVuY3Rpb25zL2VxJyksXG4gIG5lcTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvbmVxJyksXG4gIGd0ZTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvZ3RlJyksXG4gIGx0ZTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvbHRlJyksXG4gIGNtcDogcmVxdWlyZSgnLi9mdW5jdGlvbnMvY21wJyksXG4gIGNvZXJjZTogcmVxdWlyZSgnLi9mdW5jdGlvbnMvY29lcmNlJyksXG4gIENvbXBhcmF0b3I6IHJlcXVpcmUoJy4vY2xhc3Nlcy9jb21wYXJhdG9yJyksXG4gIFJhbmdlOiByZXF1aXJlKCcuL2NsYXNzZXMvcmFuZ2UnKSxcbiAgc2F0aXNmaWVzOiByZXF1aXJlKCcuL2Z1bmN0aW9ucy9zYXRpc2ZpZXMnKSxcbiAgdG9Db21wYXJhdG9yczogcmVxdWlyZSgnLi9yYW5nZXMvdG8tY29tcGFyYXRvcnMnKSxcbiAgbWF4U2F0aXNmeWluZzogcmVxdWlyZSgnLi9yYW5nZXMvbWF4LXNhdGlzZnlpbmcnKSxcbiAgbWluU2F0aXNmeWluZzogcmVxdWlyZSgnLi9yYW5nZXMvbWluLXNhdGlzZnlpbmcnKSxcbiAgbWluVmVyc2lvbjogcmVxdWlyZSgnLi9yYW5nZXMvbWluLXZlcnNpb24nKSxcbiAgdmFsaWRSYW5nZTogcmVxdWlyZSgnLi9yYW5nZXMvdmFsaWQnKSxcbiAgb3V0c2lkZTogcmVxdWlyZSgnLi9yYW5nZXMvb3V0c2lkZScpLFxuICBndHI6IHJlcXVpcmUoJy4vcmFuZ2VzL2d0cicpLFxuICBsdHI6IHJlcXVpcmUoJy4vcmFuZ2VzL2x0cicpLFxuICBpbnRlcnNlY3RzOiByZXF1aXJlKCcuL3Jhbmdlcy9pbnRlcnNlY3RzJyksXG4gIHNpbXBsaWZ5UmFuZ2U6IHJlcXVpcmUoJy4vcmFuZ2VzL3NpbXBsaWZ5JyksXG4gIHN1YnNldDogcmVxdWlyZSgnLi9yYW5nZXMvc3Vic2V0JyksXG59XG4iLCIvLyBOb3RlOiB0aGlzIGlzIHRoZSBzZW12ZXIub3JnIHZlcnNpb24gb2YgdGhlIHNwZWMgdGhhdCBpdCBpbXBsZW1lbnRzXG4vLyBOb3QgbmVjZXNzYXJpbHkgdGhlIHBhY2thZ2UgdmVyc2lvbiBvZiB0aGlzIGNvZGUuXG5jb25zdCBTRU1WRVJfU1BFQ19WRVJTSU9OID0gJzIuMC4wJ1xuXG5jb25zdCBNQVhfTEVOR1RIID0gMjU2XG5jb25zdCBNQVhfU0FGRV9JTlRFR0VSID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHxcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDkwMDcxOTkyNTQ3NDA5OTFcblxuLy8gTWF4IHNhZmUgc2VnbWVudCBsZW5ndGggZm9yIGNvZXJjaW9uLlxuY29uc3QgTUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSCA9IDE2XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBTRU1WRVJfU1BFQ19WRVJTSU9OLFxuICBNQVhfTEVOR1RILFxuICBNQVhfU0FGRV9JTlRFR0VSLFxuICBNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RILFxufVxuIiwiY29uc3QgZGVidWcgPSAoXG4gIHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JyAmJlxuICBwcm9jZXNzLmVudiAmJlxuICBwcm9jZXNzLmVudi5OT0RFX0RFQlVHICYmXG4gIC9cXGJzZW12ZXJcXGIvaS50ZXN0KHByb2Nlc3MuZW52Lk5PREVfREVCVUcpXG4pID8gKC4uLmFyZ3MpID0+IGNvbnNvbGUuZXJyb3IoJ1NFTVZFUicsIC4uLmFyZ3MpXG4gIDogKCkgPT4ge31cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJ1Z1xuIiwiY29uc3QgbnVtZXJpYyA9IC9eWzAtOV0rJC9cbmNvbnN0IGNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGFudW0gPSBudW1lcmljLnRlc3QoYSlcbiAgY29uc3QgYm51bSA9IG51bWVyaWMudGVzdChiKVxuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2FcbiAgICBiID0gK2JcbiAgfVxuXG4gIHJldHVybiBhID09PSBiID8gMFxuICAgIDogKGFudW0gJiYgIWJudW0pID8gLTFcbiAgICA6IChibnVtICYmICFhbnVtKSA/IDFcbiAgICA6IGEgPCBiID8gLTFcbiAgICA6IDFcbn1cblxuY29uc3QgcmNvbXBhcmVJZGVudGlmaWVycyA9IChhLCBiKSA9PiBjb21wYXJlSWRlbnRpZmllcnMoYiwgYSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbXBhcmVJZGVudGlmaWVycyxcbiAgcmNvbXBhcmVJZGVudGlmaWVycyxcbn1cbiIsIi8vIHBhcnNlIG91dCBqdXN0IHRoZSBvcHRpb25zIHdlIGNhcmUgYWJvdXQgc28gd2UgYWx3YXlzIGdldCBhIGNvbnNpc3RlbnRcbi8vIG9iaiB3aXRoIGtleXMgaW4gYSBjb25zaXN0ZW50IG9yZGVyLlxuY29uc3Qgb3B0cyA9IFsnaW5jbHVkZVByZXJlbGVhc2UnLCAnbG9vc2UnLCAncnRsJ11cbmNvbnN0IHBhcnNlT3B0aW9ucyA9IG9wdGlvbnMgPT5cbiAgIW9wdGlvbnMgPyB7fVxuICA6IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyA/IHsgbG9vc2U6IHRydWUgfVxuICA6IG9wdHMuZmlsdGVyKGsgPT4gb3B0aW9uc1trXSkucmVkdWNlKChvLCBrKSA9PiB7XG4gICAgb1trXSA9IHRydWVcbiAgICByZXR1cm4gb1xuICB9LCB7fSlcbm1vZHVsZS5leHBvcnRzID0gcGFyc2VPcHRpb25zXG4iLCJjb25zdCB7IE1BWF9TQUZFX0NPTVBPTkVOVF9MRU5HVEggfSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJylcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB7fVxuXG4vLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZVxuY29uc3QgcmUgPSBleHBvcnRzLnJlID0gW11cbmNvbnN0IHNyYyA9IGV4cG9ydHMuc3JjID0gW11cbmNvbnN0IHQgPSBleHBvcnRzLnQgPSB7fVxubGV0IFIgPSAwXG5cbmNvbnN0IGNyZWF0ZVRva2VuID0gKG5hbWUsIHZhbHVlLCBpc0dsb2JhbCkgPT4ge1xuICBjb25zdCBpbmRleCA9IFIrK1xuICBkZWJ1ZyhuYW1lLCBpbmRleCwgdmFsdWUpXG4gIHRbbmFtZV0gPSBpbmRleFxuICBzcmNbaW5kZXhdID0gdmFsdWVcbiAgcmVbaW5kZXhdID0gbmV3IFJlZ0V4cCh2YWx1ZSwgaXNHbG9iYWwgPyAnZycgOiB1bmRlZmluZWQpXG59XG5cbi8vIFRoZSBmb2xsb3dpbmcgUmVndWxhciBFeHByZXNzaW9ucyBjYW4gYmUgdXNlZCBmb3IgdG9rZW5pemluZyxcbi8vIHZhbGlkYXRpbmcsIGFuZCBwYXJzaW5nIFNlbVZlciB2ZXJzaW9uIHN0cmluZ3MuXG5cbi8vICMjIE51bWVyaWMgSWRlbnRpZmllclxuLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuXG5cbmNyZWF0ZVRva2VuKCdOVU1FUklDSURFTlRJRklFUicsICcwfFsxLTldXFxcXGQqJylcbmNyZWF0ZVRva2VuKCdOVU1FUklDSURFTlRJRklFUkxPT1NFJywgJ1swLTldKycpXG5cbi8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXJcbi8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvclxuLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuXG5cbmNyZWF0ZVRva2VuKCdOT05OVU1FUklDSURFTlRJRklFUicsICdcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qJylcblxuLy8gIyMgTWFpbiBWZXJzaW9uXG4vLyBUaHJlZSBkb3Qtc2VwYXJhdGVkIG51bWVyaWMgaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdNQUlOVkVSU0lPTicsIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl19KVxcXFwuYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICBgKCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJdfSlgKVxuXG5jcmVhdGVUb2tlbignTUFJTlZFUlNJT05MT09TRScsIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pXFxcXC5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5OVU1FUklDSURFTlRJRklFUkxPT1NFXX0pYClcblxuLy8gIyMgUHJlLXJlbGVhc2UgVmVyc2lvbiBJZGVudGlmaWVyXG4vLyBBIG51bWVyaWMgaWRlbnRpZmllciwgb3IgYSBub24tbnVtZXJpYyBpZGVudGlmaWVyLlxuXG5jcmVhdGVUb2tlbignUFJFUkVMRUFTRUlERU5USUZJRVInLCBgKD86JHtzcmNbdC5OVU1FUklDSURFTlRJRklFUl1cbn18JHtzcmNbdC5OT05OVU1FUklDSURFTlRJRklFUl19KWApXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFJywgYCg/OiR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV1cbn18JHtzcmNbdC5OT05OVU1FUklDSURFTlRJRklFUl19KWApXG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb25cbi8vIEh5cGhlbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgZG90LXNlcGFyYXRlZCBwcmUtcmVsZWFzZSB2ZXJzaW9uXG4vLyBpZGVudGlmaWVycy5cblxuY3JlYXRlVG9rZW4oJ1BSRVJFTEVBU0UnLCBgKD86LSgke3NyY1t0LlBSRVJFTEVBU0VJREVOVElGSUVSXVxufSg/OlxcXFwuJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUl19KSopKWApXG5cbmNyZWF0ZVRva2VuKCdQUkVSRUxFQVNFTE9PU0UnLCBgKD86LT8oJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXVxufSg/OlxcXFwuJHtzcmNbdC5QUkVSRUxFQVNFSURFTlRJRklFUkxPT1NFXX0pKikpYClcblxuLy8gIyMgQnVpbGQgTWV0YWRhdGEgSWRlbnRpZmllclxuLy8gQW55IGNvbWJpbmF0aW9uIG9mIGRpZ2l0cywgbGV0dGVycywgb3IgaHlwaGVucy5cblxuY3JlYXRlVG9rZW4oJ0JVSUxESURFTlRJRklFUicsICdbMC05QS1aYS16LV0rJylcblxuLy8gIyMgQnVpbGQgTWV0YWRhdGFcbi8vIFBsdXMgc2lnbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgcGVyaW9kLXNlcGFyYXRlZCBidWlsZCBtZXRhZGF0YVxuLy8gaWRlbnRpZmllcnMuXG5cbmNyZWF0ZVRva2VuKCdCVUlMRCcsIGAoPzpcXFxcKygke3NyY1t0LkJVSUxESURFTlRJRklFUl1cbn0oPzpcXFxcLiR7c3JjW3QuQlVJTERJREVOVElGSUVSXX0pKikpYClcblxuLy8gIyMgRnVsbCBWZXJzaW9uIFN0cmluZ1xuLy8gQSBtYWluIHZlcnNpb24sIGZvbGxvd2VkIG9wdGlvbmFsbHkgYnkgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uIGFuZFxuLy8gYnVpbGQgbWV0YWRhdGEuXG5cbi8vIE5vdGUgdGhhdCB0aGUgb25seSBtYWpvciwgbWlub3IsIHBhdGNoLCBhbmQgcHJlLXJlbGVhc2Ugc2VjdGlvbnMgb2Zcbi8vIHRoZSB2ZXJzaW9uIHN0cmluZyBhcmUgY2FwdHVyaW5nIGdyb3Vwcy4gIFRoZSBidWlsZCBtZXRhZGF0YSBpcyBub3QgYVxuLy8gY2FwdHVyaW5nIGdyb3VwLCBiZWNhdXNlIGl0IHNob3VsZCBub3QgZXZlciBiZSB1c2VkIGluIHZlcnNpb25cbi8vIGNvbXBhcmlzb24uXG5cbmNyZWF0ZVRva2VuKCdGVUxMUExBSU4nLCBgdj8ke3NyY1t0Lk1BSU5WRVJTSU9OXVxufSR7c3JjW3QuUFJFUkVMRUFTRV19PyR7XG4gIHNyY1t0LkJVSUxEXX0/YClcblxuY3JlYXRlVG9rZW4oJ0ZVTEwnLCBgXiR7c3JjW3QuRlVMTFBMQUlOXX0kYClcblxuLy8gbGlrZSBmdWxsLCBidXQgYWxsb3dzIHYxLjIuMyBhbmQgPTEuMi4zLCB3aGljaCBwZW9wbGUgZG8gc29tZXRpbWVzLlxuLy8gYWxzbywgMS4wLjBhbHBoYTEgKHByZXJlbGVhc2Ugd2l0aG91dCB0aGUgaHlwaGVuKSB3aGljaCBpcyBwcmV0dHlcbi8vIGNvbW1vbiBpbiB0aGUgbnBtIHJlZ2lzdHJ5LlxuY3JlYXRlVG9rZW4oJ0xPT1NFUExBSU4nLCBgW3Y9XFxcXHNdKiR7c3JjW3QuTUFJTlZFUlNJT05MT09TRV1cbn0ke3NyY1t0LlBSRVJFTEVBU0VMT09TRV19PyR7XG4gIHNyY1t0LkJVSUxEXX0/YClcblxuY3JlYXRlVG9rZW4oJ0xPT1NFJywgYF4ke3NyY1t0LkxPT1NFUExBSU5dfSRgKVxuXG5jcmVhdGVUb2tlbignR1RMVCcsICcoKD86PHw+KT89PyknKVxuXG4vLyBTb21ldGhpbmcgbGlrZSBcIjIuKlwiIG9yIFwiMS4yLnhcIi5cbi8vIE5vdGUgdGhhdCBcIngueFwiIGlzIGEgdmFsaWQgeFJhbmdlIGlkZW50aWZlciwgbWVhbmluZyBcImFueSB2ZXJzaW9uXCJcbi8vIE9ubHkgdGhlIGZpcnN0IGl0ZW0gaXMgc3RyaWN0bHkgcmVxdWlyZWQuXG5jcmVhdGVUb2tlbignWFJBTkdFSURFTlRJRklFUkxPT1NFJywgYCR7c3JjW3QuTlVNRVJJQ0lERU5USUZJRVJMT09TRV19fHh8WHxcXFxcKmApXG5jcmVhdGVUb2tlbignWFJBTkdFSURFTlRJRklFUicsIGAke3NyY1t0Lk5VTUVSSUNJREVOVElGSUVSXX18eHxYfFxcXFwqYClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRVBMQUlOJywgYFt2PVxcXFxzXSooJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGAoPzpcXFxcLigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJdfSlgICtcbiAgICAgICAgICAgICAgICAgICBgKD86JHtzcmNbdC5QUkVSRUxFQVNFXX0pPyR7XG4gICAgICAgICAgICAgICAgICAgICBzcmNbdC5CVUlMRF19P2AgK1xuICAgICAgICAgICAgICAgICAgIGApPyk/YClcblxuY3JlYXRlVG9rZW4oJ1hSQU5HRVBMQUlOTE9PU0UnLCBgW3Y9XFxcXHNdKigke3NyY1t0LlhSQU5HRUlERU5USUZJRVJMT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCg/OlxcXFwuKCR7c3JjW3QuWFJBTkdFSURFTlRJRklFUkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgKD86XFxcXC4oJHtzcmNbdC5YUkFOR0VJREVOVElGSUVSTE9PU0VdfSlgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoPzoke3NyY1t0LlBSRVJFTEVBU0VMT09TRV19KT8ke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNbdC5CVUlMRF19P2AgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCk/KT9gKVxuXG5jcmVhdGVUb2tlbignWFJBTkdFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKiR7c3JjW3QuWFJBTkdFUExBSU5dfSRgKVxuY3JlYXRlVG9rZW4oJ1hSQU5HRUxPT1NFJywgYF4ke3NyY1t0LkdUTFRdfVxcXFxzKiR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19JGApXG5cbi8vIENvZXJjaW9uLlxuLy8gRXh0cmFjdCBhbnl0aGluZyB0aGF0IGNvdWxkIGNvbmNlaXZhYmx5IGJlIGEgcGFydCBvZiBhIHZhbGlkIHNlbXZlclxuY3JlYXRlVG9rZW4oJ0NPRVJDRScsIGAkeycoXnxbXlxcXFxkXSknICtcbiAgICAgICAgICAgICAgJyhcXFxcZHsxLCd9JHtNQVhfU0FGRV9DT01QT05FTlRfTEVOR1RIfX0pYCArXG4gICAgICAgICAgICAgIGAoPzpcXFxcLihcXFxcZHsxLCR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KSk/YCArXG4gICAgICAgICAgICAgIGAoPzpcXFxcLihcXFxcZHsxLCR7TUFYX1NBRkVfQ09NUE9ORU5UX0xFTkdUSH19KSk/YCArXG4gICAgICAgICAgICAgIGAoPzokfFteXFxcXGRdKWApXG5jcmVhdGVUb2tlbignQ09FUkNFUlRMJywgc3JjW3QuQ09FUkNFXSwgdHJ1ZSlcblxuLy8gVGlsZGUgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcInJlYXNvbmFibHkgYXQgb3IgZ3JlYXRlciB0aGFuXCJcbmNyZWF0ZVRva2VuKCdMT05FVElMREUnLCAnKD86fj4/KScpXG5cbmNyZWF0ZVRva2VuKCdUSUxERVRSSU0nLCBgKFxcXFxzKikke3NyY1t0LkxPTkVUSUxERV19XFxcXHMrYCwgdHJ1ZSlcbmV4cG9ydHMudGlsZGVUcmltUmVwbGFjZSA9ICckMX4nXG5cbmNyZWF0ZVRva2VuKCdUSUxERScsIGBeJHtzcmNbdC5MT05FVElMREVdfSR7c3JjW3QuWFJBTkdFUExBSU5dfSRgKVxuY3JlYXRlVG9rZW4oJ1RJTERFTE9PU0UnLCBgXiR7c3JjW3QuTE9ORVRJTERFXX0ke3NyY1t0LlhSQU5HRVBMQUlOTE9PU0VdfSRgKVxuXG4vLyBDYXJldCByYW5nZXMuXG4vLyBNZWFuaW5nIGlzIFwiYXQgbGVhc3QgYW5kIGJhY2t3YXJkcyBjb21wYXRpYmxlIHdpdGhcIlxuY3JlYXRlVG9rZW4oJ0xPTkVDQVJFVCcsICcoPzpcXFxcXiknKVxuXG5jcmVhdGVUb2tlbignQ0FSRVRUUklNJywgYChcXFxccyopJHtzcmNbdC5MT05FQ0FSRVRdfVxcXFxzK2AsIHRydWUpXG5leHBvcnRzLmNhcmV0VHJpbVJlcGxhY2UgPSAnJDFeJ1xuXG5jcmVhdGVUb2tlbignQ0FSRVQnLCBgXiR7c3JjW3QuTE9ORUNBUkVUXX0ke3NyY1t0LlhSQU5HRVBMQUlOXX0kYClcbmNyZWF0ZVRva2VuKCdDQVJFVExPT1NFJywgYF4ke3NyY1t0LkxPTkVDQVJFVF19JHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0kYClcblxuLy8gQSBzaW1wbGUgZ3QvbHQvZXEgdGhpbmcsIG9yIGp1c3QgXCJcIiB0byBpbmRpY2F0ZSBcImFueSB2ZXJzaW9uXCJcbmNyZWF0ZVRva2VuKCdDT01QQVJBVE9STE9PU0UnLCBgXiR7c3JjW3QuR1RMVF19XFxcXHMqKCR7c3JjW3QuTE9PU0VQTEFJTl19KSR8XiRgKVxuY3JlYXRlVG9rZW4oJ0NPTVBBUkFUT1InLCBgXiR7c3JjW3QuR1RMVF19XFxcXHMqKCR7c3JjW3QuRlVMTFBMQUlOXX0pJHxeJGApXG5cbi8vIEFuIGV4cHJlc3Npb24gdG8gc3RyaXAgYW55IHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgZ3RsdCBhbmQgdGhlIHRoaW5nXG4vLyBpdCBtb2RpZmllcywgc28gdGhhdCBgPiAxLjIuM2AgPT0+IGA+MS4yLjNgXG5jcmVhdGVUb2tlbignQ09NUEFSQVRPUlRSSU0nLCBgKFxcXFxzKikke3NyY1t0LkdUTFRdXG59XFxcXHMqKCR7c3JjW3QuTE9PU0VQTEFJTl19fCR7c3JjW3QuWFJBTkdFUExBSU5dfSlgLCB0cnVlKVxuZXhwb3J0cy5jb21wYXJhdG9yVHJpbVJlcGxhY2UgPSAnJDEkMiQzJ1xuXG4vLyBTb21ldGhpbmcgbGlrZSBgMS4yLjMgLSAxLjIuNGBcbi8vIE5vdGUgdGhhdCB0aGVzZSBhbGwgdXNlIHRoZSBsb29zZSBmb3JtLCBiZWNhdXNlIHRoZXknbGwgYmVcbi8vIGNoZWNrZWQgYWdhaW5zdCBlaXRoZXIgdGhlIHN0cmljdCBvciBsb29zZSBjb21wYXJhdG9yIGZvcm1cbi8vIGxhdGVyLlxuY3JlYXRlVG9rZW4oJ0hZUEhFTlJBTkdFJywgYF5cXFxccyooJHtzcmNbdC5YUkFOR0VQTEFJTl19KWAgK1xuICAgICAgICAgICAgICAgICAgIGBcXFxccystXFxcXHMrYCArXG4gICAgICAgICAgICAgICAgICAgYCgke3NyY1t0LlhSQU5HRVBMQUlOXX0pYCArXG4gICAgICAgICAgICAgICAgICAgYFxcXFxzKiRgKVxuXG5jcmVhdGVUb2tlbignSFlQSEVOUkFOR0VMT09TRScsIGBeXFxcXHMqKCR7c3JjW3QuWFJBTkdFUExBSU5MT09TRV19KWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFxcXFxzKy1cXFxccytgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAoJHtzcmNbdC5YUkFOR0VQTEFJTkxPT1NFXX0pYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgXFxcXHMqJGApXG5cbi8vIFN0YXIgcmFuZ2VzIGJhc2ljYWxseSBqdXN0IGFsbG93IGFueXRoaW5nIGF0IGFsbC5cbmNyZWF0ZVRva2VuKCdTVEFSJywgJyg8fD4pPz0/XFxcXHMqXFxcXConKVxuLy8gPj0wLjAuMCBpcyBsaWtlIGEgc3RhclxuY3JlYXRlVG9rZW4oJ0dURTAnLCAnXlxcXFxzKj49XFxcXHMqMFxcXFwuMFxcXFwuMFxcXFxzKiQnKVxuY3JlYXRlVG9rZW4oJ0dURTBQUkUnLCAnXlxcXFxzKj49XFxcXHMqMFxcXFwuMFxcXFwuMC0wXFxcXHMqJCcpXG4iLCIvLyBEZXRlcm1pbmUgaWYgdmVyc2lvbiBpcyBncmVhdGVyIHRoYW4gYWxsIHRoZSB2ZXJzaW9ucyBwb3NzaWJsZSBpbiB0aGUgcmFuZ2UuXG5jb25zdCBvdXRzaWRlID0gcmVxdWlyZSgnLi9vdXRzaWRlJylcbmNvbnN0IGd0ciA9ICh2ZXJzaW9uLCByYW5nZSwgb3B0aW9ucykgPT4gb3V0c2lkZSh2ZXJzaW9uLCByYW5nZSwgJz4nLCBvcHRpb25zKVxubW9kdWxlLmV4cG9ydHMgPSBndHJcbiIsImNvbnN0IFJhbmdlID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9yYW5nZScpXG5jb25zdCBpbnRlcnNlY3RzID0gKHIxLCByMiwgb3B0aW9ucykgPT4ge1xuICByMSA9IG5ldyBSYW5nZShyMSwgb3B0aW9ucylcbiAgcjIgPSBuZXcgUmFuZ2UocjIsIG9wdGlvbnMpXG4gIHJldHVybiByMS5pbnRlcnNlY3RzKHIyKVxufVxubW9kdWxlLmV4cG9ydHMgPSBpbnRlcnNlY3RzXG4iLCJjb25zdCBvdXRzaWRlID0gcmVxdWlyZSgnLi9vdXRzaWRlJylcbi8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGxlc3MgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZVxuY29uc3QgbHRyID0gKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSA9PiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCAnPCcsIG9wdGlvbnMpXG5tb2R1bGUuZXhwb3J0cyA9IGx0clxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3JhbmdlJylcblxuY29uc3QgbWF4U2F0aXNmeWluZyA9ICh2ZXJzaW9ucywgcmFuZ2UsIG9wdGlvbnMpID0+IHtcbiAgbGV0IG1heCA9IG51bGxcbiAgbGV0IG1heFNWID0gbnVsbFxuICBsZXQgcmFuZ2VPYmogPSBudWxsXG4gIHRyeSB7XG4gICAgcmFuZ2VPYmogPSBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICB2ZXJzaW9ucy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgaWYgKHJhbmdlT2JqLnRlc3QodikpIHtcbiAgICAgIC8vIHNhdGlzZmllcyh2LCByYW5nZSwgb3B0aW9ucylcbiAgICAgIGlmICghbWF4IHx8IG1heFNWLmNvbXBhcmUodikgPT09IC0xKSB7XG4gICAgICAgIC8vIGNvbXBhcmUobWF4LCB2LCB0cnVlKVxuICAgICAgICBtYXggPSB2XG4gICAgICAgIG1heFNWID0gbmV3IFNlbVZlcihtYXgsIG9wdGlvbnMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICByZXR1cm4gbWF4XG59XG5tb2R1bGUuZXhwb3J0cyA9IG1heFNhdGlzZnlpbmdcbiIsImNvbnN0IFNlbVZlciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvc2VtdmVyJylcbmNvbnN0IFJhbmdlID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9yYW5nZScpXG5jb25zdCBtaW5TYXRpc2Z5aW5nID0gKHZlcnNpb25zLCByYW5nZSwgb3B0aW9ucykgPT4ge1xuICBsZXQgbWluID0gbnVsbFxuICBsZXQgbWluU1YgPSBudWxsXG4gIGxldCByYW5nZU9iaiA9IG51bGxcbiAgdHJ5IHtcbiAgICByYW5nZU9iaiA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucylcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG4gIHZlcnNpb25zLmZvckVhY2goKHYpID0+IHtcbiAgICBpZiAocmFuZ2VPYmoudGVzdCh2KSkge1xuICAgICAgLy8gc2F0aXNmaWVzKHYsIHJhbmdlLCBvcHRpb25zKVxuICAgICAgaWYgKCFtaW4gfHwgbWluU1YuY29tcGFyZSh2KSA9PT0gMSkge1xuICAgICAgICAvLyBjb21wYXJlKG1pbiwgdiwgdHJ1ZSlcbiAgICAgICAgbWluID0gdlxuICAgICAgICBtaW5TViA9IG5ldyBTZW1WZXIobWluLCBvcHRpb25zKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG1pblxufVxubW9kdWxlLmV4cG9ydHMgPSBtaW5TYXRpc2Z5aW5nXG4iLCJjb25zdCBTZW1WZXIgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3NlbXZlcicpXG5jb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuY29uc3QgZ3QgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvZ3QnKVxuXG5jb25zdCBtaW5WZXJzaW9uID0gKHJhbmdlLCBsb29zZSkgPT4ge1xuICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgbG9vc2UpXG5cbiAgbGV0IG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wJylcbiAgaWYgKHJhbmdlLnRlc3QobWludmVyKSkge1xuICAgIHJldHVybiBtaW52ZXJcbiAgfVxuXG4gIG1pbnZlciA9IG5ldyBTZW1WZXIoJzAuMC4wLTAnKVxuICBpZiAocmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgbWludmVyID0gbnVsbFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlLnNldC5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldXG5cbiAgICBsZXQgc2V0TWluID0gbnVsbFxuICAgIGNvbXBhcmF0b3JzLmZvckVhY2goKGNvbXBhcmF0b3IpID0+IHtcbiAgICAgIC8vIENsb25lIHRvIGF2b2lkIG1hbmlwdWxhdGluZyB0aGUgY29tcGFyYXRvcidzIHNlbXZlciBvYmplY3QuXG4gICAgICBjb25zdCBjb21wdmVyID0gbmV3IFNlbVZlcihjb21wYXJhdG9yLnNlbXZlci52ZXJzaW9uKVxuICAgICAgc3dpdGNoIChjb21wYXJhdG9yLm9wZXJhdG9yKSB7XG4gICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgIGlmIChjb21wdmVyLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb21wdmVyLnBhdGNoKytcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcHZlci5wcmVyZWxlYXNlLnB1c2goMClcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcHZlci5yYXcgPSBjb21wdmVyLmZvcm1hdCgpXG4gICAgICAgICAgLyogZmFsbHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnJzpcbiAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICAgIGlmICghc2V0TWluIHx8IGd0KGNvbXB2ZXIsIHNldE1pbikpIHtcbiAgICAgICAgICAgIHNldE1pbiA9IGNvbXB2ZXJcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAvKiBJZ25vcmUgbWF4aW11bSB2ZXJzaW9ucyAqL1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIG9wZXJhdGlvbjogJHtjb21wYXJhdG9yLm9wZXJhdG9yfWApXG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAoc2V0TWluICYmICghbWludmVyIHx8IGd0KG1pbnZlciwgc2V0TWluKSkpIHtcbiAgICAgIG1pbnZlciA9IHNldE1pblxuICAgIH1cbiAgfVxuXG4gIGlmIChtaW52ZXIgJiYgcmFuZ2UudGVzdChtaW52ZXIpKSB7XG4gICAgcmV0dXJuIG1pbnZlclxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cbm1vZHVsZS5leHBvcnRzID0gbWluVmVyc2lvblxuIiwiY29uc3QgU2VtVmVyID0gcmVxdWlyZSgnLi4vY2xhc3Nlcy9zZW12ZXInKVxuY29uc3QgQ29tcGFyYXRvciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvY29tcGFyYXRvcicpXG5jb25zdCB7IEFOWSB9ID0gQ29tcGFyYXRvclxuY29uc3QgUmFuZ2UgPSByZXF1aXJlKCcuLi9jbGFzc2VzL3JhbmdlJylcbmNvbnN0IHNhdGlzZmllcyA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucy9zYXRpc2ZpZXMnKVxuY29uc3QgZ3QgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvZ3QnKVxuY29uc3QgbHQgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvbHQnKVxuY29uc3QgbHRlID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2x0ZScpXG5jb25zdCBndGUgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvZ3RlJylcblxuY29uc3Qgb3V0c2lkZSA9ICh2ZXJzaW9uLCByYW5nZSwgaGlsbywgb3B0aW9ucykgPT4ge1xuICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCBvcHRpb25zKVxuICByYW5nZSA9IG5ldyBSYW5nZShyYW5nZSwgb3B0aW9ucylcblxuICBsZXQgZ3RmbiwgbHRlZm4sIGx0Zm4sIGNvbXAsIGVjb21wXG4gIHN3aXRjaCAoaGlsbykge1xuICAgIGNhc2UgJz4nOlxuICAgICAgZ3RmbiA9IGd0XG4gICAgICBsdGVmbiA9IGx0ZVxuICAgICAgbHRmbiA9IGx0XG4gICAgICBjb21wID0gJz4nXG4gICAgICBlY29tcCA9ICc+PSdcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnPCc6XG4gICAgICBndGZuID0gbHRcbiAgICAgIGx0ZWZuID0gZ3RlXG4gICAgICBsdGZuID0gZ3RcbiAgICAgIGNvbXAgPSAnPCdcbiAgICAgIGVjb21wID0gJzw9J1xuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVzdCBwcm92aWRlIGEgaGlsbyB2YWwgb2YgXCI8XCIgb3IgXCI+XCInKVxuICB9XG5cbiAgLy8gSWYgaXQgc2F0aXNmaWVzIHRoZSByYW5nZSBpdCBpcyBub3Qgb3V0c2lkZVxuICBpZiAoc2F0aXNmaWVzKHZlcnNpb24sIHJhbmdlLCBvcHRpb25zKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gRnJvbSBub3cgb24sIHZhcmlhYmxlIHRlcm1zIGFyZSBhcyBpZiB3ZSdyZSBpbiBcImd0clwiIG1vZGUuXG4gIC8vIGJ1dCBub3RlIHRoYXQgZXZlcnl0aGluZyBpcyBmbGlwcGVkIGZvciB0aGUgXCJsdHJcIiBmdW5jdGlvbi5cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlLnNldC5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldXG5cbiAgICBsZXQgaGlnaCA9IG51bGxcbiAgICBsZXQgbG93ID0gbnVsbFxuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaCgoY29tcGFyYXRvcikgPT4ge1xuICAgICAgaWYgKGNvbXBhcmF0b3Iuc2VtdmVyID09PSBBTlkpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IG5ldyBDb21wYXJhdG9yKCc+PTAuMC4wJylcbiAgICAgIH1cbiAgICAgIGhpZ2ggPSBoaWdoIHx8IGNvbXBhcmF0b3JcbiAgICAgIGxvdyA9IGxvdyB8fCBjb21wYXJhdG9yXG4gICAgICBpZiAoZ3Rmbihjb21wYXJhdG9yLnNlbXZlciwgaGlnaC5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGhpZ2ggPSBjb21wYXJhdG9yXG4gICAgICB9IGVsc2UgaWYgKGx0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGxvdy5zZW12ZXIsIG9wdGlvbnMpKSB7XG4gICAgICAgIGxvdyA9IGNvbXBhcmF0b3JcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb25cbiAgICAvLyBpc24ndCBvdXRzaWRlIGl0XG4gICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBsb3dlc3QgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhbiBvcGVyYXRvciBhbmQgb3VyIHZlcnNpb25cbiAgICAvLyBpcyBsZXNzIHRoYW4gaXQgdGhlbiBpdCBpc24ndCBoaWdoZXIgdGhhbiB0aGUgcmFuZ2VcbiAgICBpZiAoKCFsb3cub3BlcmF0b3IgfHwgbG93Lm9wZXJhdG9yID09PSBjb21wKSAmJlxuICAgICAgICBsdGVmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIGlmIChsb3cub3BlcmF0b3IgPT09IGVjb21wICYmIGx0Zm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG91dHNpZGVcbiIsIi8vIGdpdmVuIGEgc2V0IG9mIHZlcnNpb25zIGFuZCBhIHJhbmdlLCBjcmVhdGUgYSBcInNpbXBsaWZpZWRcIiByYW5nZVxuLy8gdGhhdCBpbmNsdWRlcyB0aGUgc2FtZSB2ZXJzaW9ucyB0aGF0IHRoZSBvcmlnaW5hbCByYW5nZSBkb2VzXG4vLyBJZiB0aGUgb3JpZ2luYWwgcmFuZ2UgaXMgc2hvcnRlciB0aGFuIHRoZSBzaW1wbGlmaWVkIG9uZSwgcmV0dXJuIHRoYXQuXG5jb25zdCBzYXRpc2ZpZXMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvc2F0aXNmaWVzLmpzJylcbmNvbnN0IGNvbXBhcmUgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMvY29tcGFyZS5qcycpXG5tb2R1bGUuZXhwb3J0cyA9ICh2ZXJzaW9ucywgcmFuZ2UsIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc2V0ID0gW11cbiAgbGV0IGZpcnN0ID0gbnVsbFxuICBsZXQgcHJldiA9IG51bGxcbiAgY29uc3QgdiA9IHZlcnNpb25zLnNvcnQoKGEsIGIpID0+IGNvbXBhcmUoYSwgYiwgb3B0aW9ucykpXG4gIGZvciAoY29uc3QgdmVyc2lvbiBvZiB2KSB7XG4gICAgY29uc3QgaW5jbHVkZWQgPSBzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIG9wdGlvbnMpXG4gICAgaWYgKGluY2x1ZGVkKSB7XG4gICAgICBwcmV2ID0gdmVyc2lvblxuICAgICAgaWYgKCFmaXJzdCkge1xuICAgICAgICBmaXJzdCA9IHZlcnNpb25cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgc2V0LnB1c2goW2ZpcnN0LCBwcmV2XSlcbiAgICAgIH1cbiAgICAgIHByZXYgPSBudWxsXG4gICAgICBmaXJzdCA9IG51bGxcbiAgICB9XG4gIH1cbiAgaWYgKGZpcnN0KSB7XG4gICAgc2V0LnB1c2goW2ZpcnN0LCBudWxsXSlcbiAgfVxuXG4gIGNvbnN0IHJhbmdlcyA9IFtdXG4gIGZvciAoY29uc3QgW21pbiwgbWF4XSBvZiBzZXQpIHtcbiAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgIHJhbmdlcy5wdXNoKG1pbilcbiAgICB9IGVsc2UgaWYgKCFtYXggJiYgbWluID09PSB2WzBdKSB7XG4gICAgICByYW5nZXMucHVzaCgnKicpXG4gICAgfSBlbHNlIGlmICghbWF4KSB7XG4gICAgICByYW5nZXMucHVzaChgPj0ke21pbn1gKVxuICAgIH0gZWxzZSBpZiAobWluID09PSB2WzBdKSB7XG4gICAgICByYW5nZXMucHVzaChgPD0ke21heH1gKVxuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZXMucHVzaChgJHttaW59IC0gJHttYXh9YClcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2ltcGxpZmllZCA9IHJhbmdlcy5qb2luKCcgfHwgJylcbiAgY29uc3Qgb3JpZ2luYWwgPSB0eXBlb2YgcmFuZ2UucmF3ID09PSAnc3RyaW5nJyA/IHJhbmdlLnJhdyA6IFN0cmluZyhyYW5nZSlcbiAgcmV0dXJuIHNpbXBsaWZpZWQubGVuZ3RoIDwgb3JpZ2luYWwubGVuZ3RoID8gc2ltcGxpZmllZCA6IHJhbmdlXG59XG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UuanMnKVxuY29uc3QgQ29tcGFyYXRvciA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvY29tcGFyYXRvci5qcycpXG5jb25zdCB7IEFOWSB9ID0gQ29tcGFyYXRvclxuY29uc3Qgc2F0aXNmaWVzID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL3NhdGlzZmllcy5qcycpXG5jb25zdCBjb21wYXJlID0gcmVxdWlyZSgnLi4vZnVuY3Rpb25zL2NvbXBhcmUuanMnKVxuXG4vLyBDb21wbGV4IHJhbmdlIGByMSB8fCByMiB8fCAuLi5gIGlzIGEgc3Vic2V0IG9mIGBSMSB8fCBSMiB8fCAuLi5gIGlmZjpcbi8vIC0gRXZlcnkgc2ltcGxlIHJhbmdlIGByMSwgcjIsIC4uLmAgaXMgYSBudWxsIHNldCwgT1Jcbi8vIC0gRXZlcnkgc2ltcGxlIHJhbmdlIGByMSwgcjIsIC4uLmAgd2hpY2ggaXMgbm90IGEgbnVsbCBzZXQgaXMgYSBzdWJzZXQgb2Zcbi8vICAgc29tZSBgUjEsIFIyLCAuLi5gXG4vL1xuLy8gU2ltcGxlIHJhbmdlIGBjMSBjMiAuLi5gIGlzIGEgc3Vic2V0IG9mIHNpbXBsZSByYW5nZSBgQzEgQzIgLi4uYCBpZmY6XG4vLyAtIElmIGMgaXMgb25seSB0aGUgQU5ZIGNvbXBhcmF0b3Jcbi8vICAgLSBJZiBDIGlzIG9ubHkgdGhlIEFOWSBjb21wYXJhdG9yLCByZXR1cm4gdHJ1ZVxuLy8gICAtIEVsc2UgaWYgaW4gcHJlcmVsZWFzZSBtb2RlLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBlbHNlIHJlcGxhY2UgYyB3aXRoIGBbPj0wLjAuMF1gXG4vLyAtIElmIEMgaXMgb25seSB0aGUgQU5ZIGNvbXBhcmF0b3Jcbi8vICAgLSBpZiBpbiBwcmVyZWxlYXNlIG1vZGUsIHJldHVybiB0cnVlXG4vLyAgIC0gZWxzZSByZXBsYWNlIEMgd2l0aCBgWz49MC4wLjBdYFxuLy8gLSBMZXQgRVEgYmUgdGhlIHNldCBvZiA9IGNvbXBhcmF0b3JzIGluIGNcbi8vIC0gSWYgRVEgaXMgbW9yZSB0aGFuIG9uZSwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gLSBMZXQgR1QgYmUgdGhlIGhpZ2hlc3QgPiBvciA+PSBjb21wYXJhdG9yIGluIGNcbi8vIC0gTGV0IExUIGJlIHRoZSBsb3dlc3QgPCBvciA8PSBjb21wYXJhdG9yIGluIGNcbi8vIC0gSWYgR1QgYW5kIExULCBhbmQgR1Quc2VtdmVyID4gTFQuc2VtdmVyLCByZXR1cm4gdHJ1ZSAobnVsbCBzZXQpXG4vLyAtIElmIGFueSBDIGlzIGEgPSByYW5nZSwgYW5kIEdUIG9yIExUIGFyZSBzZXQsIHJldHVybiBmYWxzZVxuLy8gLSBJZiBFUVxuLy8gICAtIElmIEdULCBhbmQgRVEgZG9lcyBub3Qgc2F0aXNmeSBHVCwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gICAtIElmIExULCBhbmQgRVEgZG9lcyBub3Qgc2F0aXNmeSBMVCwgcmV0dXJuIHRydWUgKG51bGwgc2V0KVxuLy8gICAtIElmIEVRIHNhdGlzZmllcyBldmVyeSBDLCByZXR1cm4gdHJ1ZVxuLy8gICAtIEVsc2UgcmV0dXJuIGZhbHNlXG4vLyAtIElmIEdUXG4vLyAgIC0gSWYgR1Quc2VtdmVyIGlzIGxvd2VyIHRoYW4gYW55ID4gb3IgPj0gY29tcCBpbiBDLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBJZiBHVCBpcyA+PSwgYW5kIEdULnNlbXZlciBkb2VzIG5vdCBzYXRpc2Z5IGV2ZXJ5IEMsIHJldHVybiBmYWxzZVxuLy8gICAtIElmIEdULnNlbXZlciBoYXMgYSBwcmVyZWxlYXNlLCBhbmQgbm90IGluIHByZXJlbGVhc2UgbW9kZVxuLy8gICAgIC0gSWYgbm8gQyBoYXMgYSBwcmVyZWxlYXNlIGFuZCB0aGUgR1Quc2VtdmVyIHR1cGxlLCByZXR1cm4gZmFsc2Vcbi8vIC0gSWYgTFRcbi8vICAgLSBJZiBMVC5zZW12ZXIgaXMgZ3JlYXRlciB0aGFuIGFueSA8IG9yIDw9IGNvbXAgaW4gQywgcmV0dXJuIGZhbHNlXG4vLyAgIC0gSWYgTFQgaXMgPD0sIGFuZCBMVC5zZW12ZXIgZG9lcyBub3Qgc2F0aXNmeSBldmVyeSBDLCByZXR1cm4gZmFsc2Vcbi8vICAgLSBJZiBHVC5zZW12ZXIgaGFzIGEgcHJlcmVsZWFzZSwgYW5kIG5vdCBpbiBwcmVyZWxlYXNlIG1vZGVcbi8vICAgICAtIElmIG5vIEMgaGFzIGEgcHJlcmVsZWFzZSBhbmQgdGhlIExULnNlbXZlciB0dXBsZSwgcmV0dXJuIGZhbHNlXG4vLyAtIEVsc2UgcmV0dXJuIHRydWVcblxuY29uc3Qgc3Vic2V0ID0gKHN1YiwgZG9tLCBvcHRpb25zID0ge30pID0+IHtcbiAgaWYgKHN1YiA9PT0gZG9tKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHN1YiA9IG5ldyBSYW5nZShzdWIsIG9wdGlvbnMpXG4gIGRvbSA9IG5ldyBSYW5nZShkb20sIG9wdGlvbnMpXG4gIGxldCBzYXdOb25OdWxsID0gZmFsc2VcblxuICBPVVRFUjogZm9yIChjb25zdCBzaW1wbGVTdWIgb2Ygc3ViLnNldCkge1xuICAgIGZvciAoY29uc3Qgc2ltcGxlRG9tIG9mIGRvbS5zZXQpIHtcbiAgICAgIGNvbnN0IGlzU3ViID0gc2ltcGxlU3Vic2V0KHNpbXBsZVN1Yiwgc2ltcGxlRG9tLCBvcHRpb25zKVxuICAgICAgc2F3Tm9uTnVsbCA9IHNhd05vbk51bGwgfHwgaXNTdWIgIT09IG51bGxcbiAgICAgIGlmIChpc1N1Yikge1xuICAgICAgICBjb250aW51ZSBPVVRFUlxuICAgICAgfVxuICAgIH1cbiAgICAvLyB0aGUgbnVsbCBzZXQgaXMgYSBzdWJzZXQgb2YgZXZlcnl0aGluZywgYnV0IG51bGwgc2ltcGxlIHJhbmdlcyBpblxuICAgIC8vIGEgY29tcGxleCByYW5nZSBzaG91bGQgYmUgaWdub3JlZC4gIHNvIGlmIHdlIHNhdyBhIG5vbi1udWxsIHJhbmdlLFxuICAgIC8vIHRoZW4gd2Uga25vdyB0aGlzIGlzbid0IGEgc3Vic2V0LCBidXQgaWYgRVZFUlkgc2ltcGxlIHJhbmdlIHdhcyBudWxsLFxuICAgIC8vIHRoZW4gaXQgaXMgYSBzdWJzZXQuXG4gICAgaWYgKHNhd05vbk51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5jb25zdCBzaW1wbGVTdWJzZXQgPSAoc3ViLCBkb20sIG9wdGlvbnMpID0+IHtcbiAgaWYgKHN1YiA9PT0gZG9tKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmIChzdWIubGVuZ3RoID09PSAxICYmIHN1YlswXS5zZW12ZXIgPT09IEFOWSkge1xuICAgIGlmIChkb20ubGVuZ3RoID09PSAxICYmIGRvbVswXS5zZW12ZXIgPT09IEFOWSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UpIHtcbiAgICAgIHN1YiA9IFtuZXcgQ29tcGFyYXRvcignPj0wLjAuMC0wJyldXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1YiA9IFtuZXcgQ29tcGFyYXRvcignPj0wLjAuMCcpXVxuICAgIH1cbiAgfVxuXG4gIGlmIChkb20ubGVuZ3RoID09PSAxICYmIGRvbVswXS5zZW12ZXIgPT09IEFOWSkge1xuICAgIGlmIChvcHRpb25zLmluY2x1ZGVQcmVyZWxlYXNlKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBkb20gPSBbbmV3IENvbXBhcmF0b3IoJz49MC4wLjAnKV1cbiAgICB9XG4gIH1cblxuICBjb25zdCBlcVNldCA9IG5ldyBTZXQoKVxuICBsZXQgZ3QsIGx0XG4gIGZvciAoY29uc3QgYyBvZiBzdWIpIHtcbiAgICBpZiAoYy5vcGVyYXRvciA9PT0gJz4nIHx8IGMub3BlcmF0b3IgPT09ICc+PScpIHtcbiAgICAgIGd0ID0gaGlnaGVyR1QoZ3QsIGMsIG9wdGlvbnMpXG4gICAgfSBlbHNlIGlmIChjLm9wZXJhdG9yID09PSAnPCcgfHwgYy5vcGVyYXRvciA9PT0gJzw9Jykge1xuICAgICAgbHQgPSBsb3dlckxUKGx0LCBjLCBvcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBlcVNldC5hZGQoYy5zZW12ZXIpXG4gICAgfVxuICB9XG5cbiAgaWYgKGVxU2V0LnNpemUgPiAxKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGxldCBndGx0Q29tcFxuICBpZiAoZ3QgJiYgbHQpIHtcbiAgICBndGx0Q29tcCA9IGNvbXBhcmUoZ3Quc2VtdmVyLCBsdC5zZW12ZXIsIG9wdGlvbnMpXG4gICAgaWYgKGd0bHRDb21wID4gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2UgaWYgKGd0bHRDb21wID09PSAwICYmIChndC5vcGVyYXRvciAhPT0gJz49JyB8fCBsdC5vcGVyYXRvciAhPT0gJzw9JykpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgLy8gd2lsbCBpdGVyYXRlIG9uZSBvciB6ZXJvIHRpbWVzXG4gIGZvciAoY29uc3QgZXEgb2YgZXFTZXQpIHtcbiAgICBpZiAoZ3QgJiYgIXNhdGlzZmllcyhlcSwgU3RyaW5nKGd0KSwgb3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKGx0ICYmICFzYXRpc2ZpZXMoZXEsIFN0cmluZyhsdCksIG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGZvciAoY29uc3QgYyBvZiBkb20pIHtcbiAgICAgIGlmICghc2F0aXNmaWVzKGVxLCBTdHJpbmcoYyksIG9wdGlvbnMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBsZXQgaGlnaGVyLCBsb3dlclxuICBsZXQgaGFzRG9tTFQsIGhhc0RvbUdUXG4gIC8vIGlmIHRoZSBzdWJzZXQgaGFzIGEgcHJlcmVsZWFzZSwgd2UgbmVlZCBhIGNvbXBhcmF0b3IgaW4gdGhlIHN1cGVyc2V0XG4gIC8vIHdpdGggdGhlIHNhbWUgdHVwbGUgYW5kIGEgcHJlcmVsZWFzZSwgb3IgaXQncyBub3QgYSBzdWJzZXRcbiAgbGV0IG5lZWREb21MVFByZSA9IGx0ICYmXG4gICAgIW9wdGlvbnMuaW5jbHVkZVByZXJlbGVhc2UgJiZcbiAgICBsdC5zZW12ZXIucHJlcmVsZWFzZS5sZW5ndGggPyBsdC5zZW12ZXIgOiBmYWxzZVxuICBsZXQgbmVlZERvbUdUUHJlID0gZ3QgJiZcbiAgICAhb3B0aW9ucy5pbmNsdWRlUHJlcmVsZWFzZSAmJlxuICAgIGd0LnNlbXZlci5wcmVyZWxlYXNlLmxlbmd0aCA/IGd0LnNlbXZlciA6IGZhbHNlXG4gIC8vIGV4Y2VwdGlvbjogPDEuMi4zLTAgaXMgdGhlIHNhbWUgYXMgPDEuMi4zXG4gIGlmIChuZWVkRG9tTFRQcmUgJiYgbmVlZERvbUxUUHJlLnByZXJlbGVhc2UubGVuZ3RoID09PSAxICYmXG4gICAgICBsdC5vcGVyYXRvciA9PT0gJzwnICYmIG5lZWREb21MVFByZS5wcmVyZWxlYXNlWzBdID09PSAwKSB7XG4gICAgbmVlZERvbUxUUHJlID0gZmFsc2VcbiAgfVxuXG4gIGZvciAoY29uc3QgYyBvZiBkb20pIHtcbiAgICBoYXNEb21HVCA9IGhhc0RvbUdUIHx8IGMub3BlcmF0b3IgPT09ICc+JyB8fCBjLm9wZXJhdG9yID09PSAnPj0nXG4gICAgaGFzRG9tTFQgPSBoYXNEb21MVCB8fCBjLm9wZXJhdG9yID09PSAnPCcgfHwgYy5vcGVyYXRvciA9PT0gJzw9J1xuICAgIGlmIChndCkge1xuICAgICAgaWYgKG5lZWREb21HVFByZSkge1xuICAgICAgICBpZiAoYy5zZW12ZXIucHJlcmVsZWFzZSAmJiBjLnNlbXZlci5wcmVyZWxlYXNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgYy5zZW12ZXIubWFqb3IgPT09IG5lZWREb21HVFByZS5tYWpvciAmJlxuICAgICAgICAgICAgYy5zZW12ZXIubWlub3IgPT09IG5lZWREb21HVFByZS5taW5vciAmJlxuICAgICAgICAgICAgYy5zZW12ZXIucGF0Y2ggPT09IG5lZWREb21HVFByZS5wYXRjaCkge1xuICAgICAgICAgIG5lZWREb21HVFByZSA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjLm9wZXJhdG9yID09PSAnPicgfHwgYy5vcGVyYXRvciA9PT0gJz49Jykge1xuICAgICAgICBoaWdoZXIgPSBoaWdoZXJHVChndCwgYywgb3B0aW9ucylcbiAgICAgICAgaWYgKGhpZ2hlciA9PT0gYyAmJiBoaWdoZXIgIT09IGd0KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZ3Qub3BlcmF0b3IgPT09ICc+PScgJiYgIXNhdGlzZmllcyhndC5zZW12ZXIsIFN0cmluZyhjKSwgb3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsdCkge1xuICAgICAgaWYgKG5lZWREb21MVFByZSkge1xuICAgICAgICBpZiAoYy5zZW12ZXIucHJlcmVsZWFzZSAmJiBjLnNlbXZlci5wcmVyZWxlYXNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgYy5zZW12ZXIubWFqb3IgPT09IG5lZWREb21MVFByZS5tYWpvciAmJlxuICAgICAgICAgICAgYy5zZW12ZXIubWlub3IgPT09IG5lZWREb21MVFByZS5taW5vciAmJlxuICAgICAgICAgICAgYy5zZW12ZXIucGF0Y2ggPT09IG5lZWREb21MVFByZS5wYXRjaCkge1xuICAgICAgICAgIG5lZWREb21MVFByZSA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjLm9wZXJhdG9yID09PSAnPCcgfHwgYy5vcGVyYXRvciA9PT0gJzw9Jykge1xuICAgICAgICBsb3dlciA9IGxvd2VyTFQobHQsIGMsIG9wdGlvbnMpXG4gICAgICAgIGlmIChsb3dlciA9PT0gYyAmJiBsb3dlciAhPT0gbHQpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChsdC5vcGVyYXRvciA9PT0gJzw9JyAmJiAhc2F0aXNmaWVzKGx0LnNlbXZlciwgU3RyaW5nKGMpLCBvcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjLm9wZXJhdG9yICYmIChsdCB8fCBndCkgJiYgZ3RsdENvbXAgIT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZXJlIHdhcyBhIDwgb3IgPiwgYW5kIG5vdGhpbmcgaW4gdGhlIGRvbSwgdGhlbiBtdXN0IGJlIGZhbHNlXG4gIC8vIFVOTEVTUyBpdCB3YXMgbGltaXRlZCBieSBhbm90aGVyIHJhbmdlIGluIHRoZSBvdGhlciBkaXJlY3Rpb24uXG4gIC8vIEVnLCA+MS4wLjAgPDEuMC4xIGlzIHN0aWxsIGEgc3Vic2V0IG9mIDwyLjAuMFxuICBpZiAoZ3QgJiYgaGFzRG9tTFQgJiYgIWx0ICYmIGd0bHRDb21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAobHQgJiYgaGFzRG9tR1QgJiYgIWd0ICYmIGd0bHRDb21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyB3ZSBuZWVkZWQgYSBwcmVyZWxlYXNlIHJhbmdlIGluIGEgc3BlY2lmaWMgdHVwbGUsIGJ1dCBkaWRuJ3QgZ2V0IG9uZVxuICAvLyB0aGVuIHRoaXMgaXNuJ3QgYSBzdWJzZXQuICBlZyA+PTEuMi4zLXByZSBpcyBub3QgYSBzdWJzZXQgb2YgPj0xLjAuMCxcbiAgLy8gYmVjYXVzZSBpdCBpbmNsdWRlcyBwcmVyZWxlYXNlcyBpbiB0aGUgMS4yLjMgdHVwbGVcbiAgaWYgKG5lZWREb21HVFByZSB8fCBuZWVkRG9tTFRQcmUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiB0cnVlXG59XG5cbi8vID49MS4yLjMgaXMgbG93ZXIgdGhhbiA+MS4yLjNcbmNvbnN0IGhpZ2hlckdUID0gKGEsIGIsIG9wdGlvbnMpID0+IHtcbiAgaWYgKCFhKSB7XG4gICAgcmV0dXJuIGJcbiAgfVxuICBjb25zdCBjb21wID0gY29tcGFyZShhLnNlbXZlciwgYi5zZW12ZXIsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wID4gMCA/IGFcbiAgICA6IGNvbXAgPCAwID8gYlxuICAgIDogYi5vcGVyYXRvciA9PT0gJz4nICYmIGEub3BlcmF0b3IgPT09ICc+PScgPyBiXG4gICAgOiBhXG59XG5cbi8vIDw9MS4yLjMgaXMgaGlnaGVyIHRoYW4gPDEuMi4zXG5jb25zdCBsb3dlckxUID0gKGEsIGIsIG9wdGlvbnMpID0+IHtcbiAgaWYgKCFhKSB7XG4gICAgcmV0dXJuIGJcbiAgfVxuICBjb25zdCBjb21wID0gY29tcGFyZShhLnNlbXZlciwgYi5zZW12ZXIsIG9wdGlvbnMpXG4gIHJldHVybiBjb21wIDwgMCA/IGFcbiAgICA6IGNvbXAgPiAwID8gYlxuICAgIDogYi5vcGVyYXRvciA9PT0gJzwnICYmIGEub3BlcmF0b3IgPT09ICc8PScgPyBiXG4gICAgOiBhXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3Vic2V0XG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuXG4vLyBNb3N0bHkganVzdCBmb3IgdGVzdGluZyBhbmQgbGVnYWN5IEFQSSByZWFzb25zXG5jb25zdCB0b0NvbXBhcmF0b3JzID0gKHJhbmdlLCBvcHRpb25zKSA9PlxuICBuZXcgUmFuZ2UocmFuZ2UsIG9wdGlvbnMpLnNldFxuICAgIC5tYXAoY29tcCA9PiBjb21wLm1hcChjID0+IGMudmFsdWUpLmpvaW4oJyAnKS50cmltKCkuc3BsaXQoJyAnKSlcblxubW9kdWxlLmV4cG9ydHMgPSB0b0NvbXBhcmF0b3JzXG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uL2NsYXNzZXMvcmFuZ2UnKVxuY29uc3QgdmFsaWRSYW5nZSA9IChyYW5nZSwgb3B0aW9ucykgPT4ge1xuICB0cnkge1xuICAgIC8vIFJldHVybiAnKicgaW5zdGVhZCBvZiAnJyBzbyB0aGF0IHRydXRoaW5lc3Mgd29ya3MuXG4gICAgLy8gVGhpcyB3aWxsIHRocm93IGlmIGl0J3MgaW52YWxpZCBhbnl3YXlcbiAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBvcHRpb25zKS5yYW5nZSB8fCAnKidcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHZhbGlkUmFuZ2VcbiIsIid1c2Ugc3RyaWN0J1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoWWFsbGlzdCkge1xuICBZYWxsaXN0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24qICgpIHtcbiAgICBmb3IgKGxldCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlcjsgd2Fsa2VyID0gd2Fsa2VyLm5leHQpIHtcbiAgICAgIHlpZWxkIHdhbGtlci52YWx1ZVxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5tb2R1bGUuZXhwb3J0cyA9IFlhbGxpc3RcblxuWWFsbGlzdC5Ob2RlID0gTm9kZVxuWWFsbGlzdC5jcmVhdGUgPSBZYWxsaXN0XG5cbmZ1bmN0aW9uIFlhbGxpc3QgKGxpc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGlmICghKHNlbGYgaW5zdGFuY2VvZiBZYWxsaXN0KSkge1xuICAgIHNlbGYgPSBuZXcgWWFsbGlzdCgpXG4gIH1cblxuICBzZWxmLnRhaWwgPSBudWxsXG4gIHNlbGYuaGVhZCA9IG51bGxcbiAgc2VsZi5sZW5ndGggPSAwXG5cbiAgaWYgKGxpc3QgJiYgdHlwZW9mIGxpc3QuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgc2VsZi5wdXNoKGl0ZW0pXG4gICAgfSlcbiAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgc2VsZi5wdXNoKGFyZ3VtZW50c1tpXSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc2VsZlxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5yZW1vdmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUubGlzdCAhPT0gdGhpcykge1xuICAgIHRocm93IG5ldyBFcnJvcigncmVtb3Zpbmcgbm9kZSB3aGljaCBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBsaXN0JylcbiAgfVxuXG4gIHZhciBuZXh0ID0gbm9kZS5uZXh0XG4gIHZhciBwcmV2ID0gbm9kZS5wcmV2XG5cbiAgaWYgKG5leHQpIHtcbiAgICBuZXh0LnByZXYgPSBwcmV2XG4gIH1cblxuICBpZiAocHJldikge1xuICAgIHByZXYubmV4dCA9IG5leHRcbiAgfVxuXG4gIGlmIChub2RlID09PSB0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXh0XG4gIH1cbiAgaWYgKG5vZGUgPT09IHRoaXMudGFpbCkge1xuICAgIHRoaXMudGFpbCA9IHByZXZcbiAgfVxuXG4gIG5vZGUubGlzdC5sZW5ndGgtLVxuICBub2RlLm5leHQgPSBudWxsXG4gIG5vZGUucHJldiA9IG51bGxcbiAgbm9kZS5saXN0ID0gbnVsbFxuXG4gIHJldHVybiBuZXh0XG59XG5cbllhbGxpc3QucHJvdG90eXBlLnVuc2hpZnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUgPT09IHRoaXMuaGVhZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgaWYgKG5vZGUubGlzdCkge1xuICAgIG5vZGUubGlzdC5yZW1vdmVOb2RlKG5vZGUpXG4gIH1cblxuICB2YXIgaGVhZCA9IHRoaXMuaGVhZFxuICBub2RlLmxpc3QgPSB0aGlzXG4gIG5vZGUubmV4dCA9IGhlYWRcbiAgaWYgKGhlYWQpIHtcbiAgICBoZWFkLnByZXYgPSBub2RlXG4gIH1cblxuICB0aGlzLmhlYWQgPSBub2RlXG4gIGlmICghdGhpcy50YWlsKSB7XG4gICAgdGhpcy50YWlsID0gbm9kZVxuICB9XG4gIHRoaXMubGVuZ3RoKytcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucHVzaE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICBpZiAobm9kZSA9PT0gdGhpcy50YWlsKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAobm9kZS5saXN0KSB7XG4gICAgbm9kZS5saXN0LnJlbW92ZU5vZGUobm9kZSlcbiAgfVxuXG4gIHZhciB0YWlsID0gdGhpcy50YWlsXG4gIG5vZGUubGlzdCA9IHRoaXNcbiAgbm9kZS5wcmV2ID0gdGFpbFxuICBpZiAodGFpbCkge1xuICAgIHRhaWwubmV4dCA9IG5vZGVcbiAgfVxuXG4gIHRoaXMudGFpbCA9IG5vZGVcbiAgaWYgKCF0aGlzLmhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBub2RlXG4gIH1cbiAgdGhpcy5sZW5ndGgrK1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBwdXNoKHRoaXMsIGFyZ3VtZW50c1tpXSlcbiAgfVxuICByZXR1cm4gdGhpcy5sZW5ndGhcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdW5zaGlmdCh0aGlzLCBhcmd1bWVudHNbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXMubGVuZ3RoXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnRhaWwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICB2YXIgcmVzID0gdGhpcy50YWlsLnZhbHVlXG4gIHRoaXMudGFpbCA9IHRoaXMudGFpbC5wcmV2XG4gIGlmICh0aGlzLnRhaWwpIHtcbiAgICB0aGlzLnRhaWwubmV4dCA9IG51bGxcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsXG4gIH1cbiAgdGhpcy5sZW5ndGgtLVxuICByZXR1cm4gcmVzXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaGVhZCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHZhciByZXMgPSB0aGlzLmhlYWQudmFsdWVcbiAgdGhpcy5oZWFkID0gdGhpcy5oZWFkLm5leHRcbiAgaWYgKHRoaXMuaGVhZCkge1xuICAgIHRoaXMuaGVhZC5wcmV2ID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIHRoaXMudGFpbCA9IG51bGxcbiAgfVxuICB0aGlzLmxlbmd0aC0tXG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmbiwgdGhpc3ApIHtcbiAgdGhpc3AgPSB0aGlzcCB8fCB0aGlzXG4gIGZvciAodmFyIHdhbGtlciA9IHRoaXMuaGVhZCwgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZm9yRWFjaFJldmVyc2UgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLnRhaWwsIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCBpLCB0aGlzKVxuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cbn1cblxuWWFsbGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5nZXRSZXZlcnNlID0gZnVuY3Rpb24gKG4pIHtcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMudGFpbDsgd2Fsa2VyICE9PSBudWxsICYmIGkgPCBuOyBpKyspIHtcbiAgICAvLyBhYm9ydCBvdXQgb2YgdGhlIGxpc3QgZWFybHkgaWYgd2UgaGl0IGEgY3ljbGVcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGlmIChpID09PSBuICYmIHdhbGtlciAhPT0gbnVsbCkge1xuICAgIHJldHVybiB3YWxrZXIudmFsdWVcbiAgfVxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4sIHRoaXNwKSB7XG4gIHRoaXNwID0gdGhpc3AgfHwgdGhpc1xuICB2YXIgcmVzID0gbmV3IFlhbGxpc3QoKVxuICBmb3IgKHZhciB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbDspIHtcbiAgICByZXMucHVzaChmbi5jYWxsKHRoaXNwLCB3YWxrZXIudmFsdWUsIHRoaXMpKVxuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5tYXBSZXZlcnNlID0gZnVuY3Rpb24gKGZuLCB0aGlzcCkge1xuICB0aGlzcCA9IHRoaXNwIHx8IHRoaXNcbiAgdmFyIHJlcyA9IG5ldyBZYWxsaXN0KClcbiAgZm9yICh2YXIgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGw7KSB7XG4gICAgcmVzLnB1c2goZm4uY2FsbCh0aGlzcCwgd2Fsa2VyLnZhbHVlLCB0aGlzKSlcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIHJldHVybiByZXNcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGZuLCBpbml0aWFsKSB7XG4gIHZhciBhY2NcbiAgdmFyIHdhbGtlciA9IHRoaXMuaGVhZFxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBhY2MgPSBpbml0aWFsXG4gIH0gZWxzZSBpZiAodGhpcy5oZWFkKSB7XG4gICAgd2Fsa2VyID0gdGhpcy5oZWFkLm5leHRcbiAgICBhY2MgPSB0aGlzLmhlYWQudmFsdWVcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgbGlzdCB3aXRoIG5vIGluaXRpYWwgdmFsdWUnKVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLm5leHRcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmVkdWNlUmV2ZXJzZSA9IGZ1bmN0aW9uIChmbiwgaW5pdGlhbCkge1xuICB2YXIgYWNjXG4gIHZhciB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgYWNjID0gaW5pdGlhbFxuICB9IGVsc2UgaWYgKHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHRoaXMudGFpbC5wcmV2XG4gICAgYWNjID0gdGhpcy50YWlsLnZhbHVlXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVkdWNlIG9mIGVtcHR5IGxpc3Qgd2l0aCBubyBpbml0aWFsIHZhbHVlJylcbiAgfVxuXG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IHdhbGtlciAhPT0gbnVsbDsgaS0tKSB7XG4gICAgYWNjID0gZm4oYWNjLCB3YWxrZXIudmFsdWUsIGkpXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyciA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDAsIHdhbGtlciA9IHRoaXMuaGVhZDsgd2Fsa2VyICE9PSBudWxsOyBpKyspIHtcbiAgICBhcnJbaV0gPSB3YWxrZXIudmFsdWVcbiAgICB3YWxrZXIgPSB3YWxrZXIubmV4dFxuICB9XG4gIHJldHVybiBhcnJcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUudG9BcnJheVJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnIgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLnRhaWw7IHdhbGtlciAhPT0gbnVsbDsgaSsrKSB7XG4gICAgYXJyW2ldID0gd2Fsa2VyLnZhbHVlXG4gICAgd2Fsa2VyID0gd2Fsa2VyLnByZXZcbiAgfVxuICByZXR1cm4gYXJyXG59XG5cbllhbGxpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgdGhpcy5sZW5ndGhcbiAgaWYgKHRvIDwgMCkge1xuICAgIHRvICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgZnJvbSA9IGZyb20gfHwgMFxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tICs9IHRoaXMubGVuZ3RoXG4gIH1cbiAgdmFyIHJldCA9IG5ldyBZYWxsaXN0KClcbiAgaWYgKHRvIDwgZnJvbSB8fCB0byA8IDApIHtcbiAgICByZXR1cm4gcmV0XG4gIH1cbiAgaWYgKGZyb20gPCAwKSB7XG4gICAgZnJvbSA9IDBcbiAgfVxuICBpZiAodG8gPiB0aGlzLmxlbmd0aCkge1xuICAgIHRvID0gdGhpcy5sZW5ndGhcbiAgfVxuICBmb3IgKHZhciBpID0gMCwgd2Fsa2VyID0gdGhpcy5oZWFkOyB3YWxrZXIgIT09IG51bGwgJiYgaSA8IGZyb207IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cbiAgZm9yICg7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgdG87IGkrKywgd2Fsa2VyID0gd2Fsa2VyLm5leHQpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zbGljZVJldmVyc2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgdG8gPSB0byB8fCB0aGlzLmxlbmd0aFxuICBpZiAodG8gPCAwKSB7XG4gICAgdG8gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICBmcm9tID0gZnJvbSB8fCAwXG4gIGlmIChmcm9tIDwgMCkge1xuICAgIGZyb20gKz0gdGhpcy5sZW5ndGhcbiAgfVxuICB2YXIgcmV0ID0gbmV3IFlhbGxpc3QoKVxuICBpZiAodG8gPCBmcm9tIHx8IHRvIDwgMCkge1xuICAgIHJldHVybiByZXRcbiAgfVxuICBpZiAoZnJvbSA8IDApIHtcbiAgICBmcm9tID0gMFxuICB9XG4gIGlmICh0byA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdG8gPSB0aGlzLmxlbmd0aFxuICB9XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCwgd2Fsa2VyID0gdGhpcy50YWlsOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IHRvOyBpLS0pIHtcbiAgICB3YWxrZXIgPSB3YWxrZXIucHJldlxuICB9XG4gIGZvciAoOyB3YWxrZXIgIT09IG51bGwgJiYgaSA+IGZyb207IGktLSwgd2Fsa2VyID0gd2Fsa2VyLnByZXYpIHtcbiAgICByZXQucHVzaCh3YWxrZXIudmFsdWUpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5ZYWxsaXN0LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoc3RhcnQsIGRlbGV0ZUNvdW50LCAuLi5ub2Rlcykge1xuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggLSAxXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gdGhpcy5sZW5ndGggKyBzdGFydDtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCB3YWxrZXIgPSB0aGlzLmhlYWQ7IHdhbGtlciAhPT0gbnVsbCAmJiBpIDwgc3RhcnQ7IGkrKykge1xuICAgIHdhbGtlciA9IHdhbGtlci5uZXh0XG4gIH1cblxuICB2YXIgcmV0ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IHdhbGtlciAmJiBpIDwgZGVsZXRlQ291bnQ7IGkrKykge1xuICAgIHJldC5wdXNoKHdhbGtlci52YWx1ZSlcbiAgICB3YWxrZXIgPSB0aGlzLnJlbW92ZU5vZGUod2Fsa2VyKVxuICB9XG4gIGlmICh3YWxrZXIgPT09IG51bGwpIHtcbiAgICB3YWxrZXIgPSB0aGlzLnRhaWxcbiAgfVxuXG4gIGlmICh3YWxrZXIgIT09IHRoaXMuaGVhZCAmJiB3YWxrZXIgIT09IHRoaXMudGFpbCkge1xuICAgIHdhbGtlciA9IHdhbGtlci5wcmV2XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgd2Fsa2VyID0gaW5zZXJ0KHRoaXMsIHdhbGtlciwgbm9kZXNbaV0pXG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuWWFsbGlzdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGhlYWQgPSB0aGlzLmhlYWRcbiAgdmFyIHRhaWwgPSB0aGlzLnRhaWxcbiAgZm9yICh2YXIgd2Fsa2VyID0gaGVhZDsgd2Fsa2VyICE9PSBudWxsOyB3YWxrZXIgPSB3YWxrZXIucHJldikge1xuICAgIHZhciBwID0gd2Fsa2VyLnByZXZcbiAgICB3YWxrZXIucHJldiA9IHdhbGtlci5uZXh0XG4gICAgd2Fsa2VyLm5leHQgPSBwXG4gIH1cbiAgdGhpcy5oZWFkID0gdGFpbFxuICB0aGlzLnRhaWwgPSBoZWFkXG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIGluc2VydCAoc2VsZiwgbm9kZSwgdmFsdWUpIHtcbiAgdmFyIGluc2VydGVkID0gbm9kZSA9PT0gc2VsZi5oZWFkID9cbiAgICBuZXcgTm9kZSh2YWx1ZSwgbnVsbCwgbm9kZSwgc2VsZikgOlxuICAgIG5ldyBOb2RlKHZhbHVlLCBub2RlLCBub2RlLm5leHQsIHNlbGYpXG5cbiAgaWYgKGluc2VydGVkLm5leHQgPT09IG51bGwpIHtcbiAgICBzZWxmLnRhaWwgPSBpbnNlcnRlZFxuICB9XG4gIGlmIChpbnNlcnRlZC5wcmV2ID09PSBudWxsKSB7XG4gICAgc2VsZi5oZWFkID0gaW5zZXJ0ZWRcbiAgfVxuXG4gIHNlbGYubGVuZ3RoKytcblxuICByZXR1cm4gaW5zZXJ0ZWRcbn1cblxuZnVuY3Rpb24gcHVzaCAoc2VsZiwgaXRlbSkge1xuICBzZWxmLnRhaWwgPSBuZXcgTm9kZShpdGVtLCBzZWxmLnRhaWwsIG51bGwsIHNlbGYpXG4gIGlmICghc2VsZi5oZWFkKSB7XG4gICAgc2VsZi5oZWFkID0gc2VsZi50YWlsXG4gIH1cbiAgc2VsZi5sZW5ndGgrK1xufVxuXG5mdW5jdGlvbiB1bnNoaWZ0IChzZWxmLCBpdGVtKSB7XG4gIHNlbGYuaGVhZCA9IG5ldyBOb2RlKGl0ZW0sIG51bGwsIHNlbGYuaGVhZCwgc2VsZilcbiAgaWYgKCFzZWxmLnRhaWwpIHtcbiAgICBzZWxmLnRhaWwgPSBzZWxmLmhlYWRcbiAgfVxuICBzZWxmLmxlbmd0aCsrXG59XG5cbmZ1bmN0aW9uIE5vZGUgKHZhbHVlLCBwcmV2LCBuZXh0LCBsaXN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlKSkge1xuICAgIHJldHVybiBuZXcgTm9kZSh2YWx1ZSwgcHJldiwgbmV4dCwgbGlzdClcbiAgfVxuXG4gIHRoaXMubGlzdCA9IGxpc3RcbiAgdGhpcy52YWx1ZSA9IHZhbHVlXG5cbiAgaWYgKHByZXYpIHtcbiAgICBwcmV2Lm5leHQgPSB0aGlzXG4gICAgdGhpcy5wcmV2ID0gcHJldlxuICB9IGVsc2Uge1xuICAgIHRoaXMucHJldiA9IG51bGxcbiAgfVxuXG4gIGlmIChuZXh0KSB7XG4gICAgbmV4dC5wcmV2ID0gdGhpc1xuICAgIHRoaXMubmV4dCA9IG5leHRcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm5leHQgPSBudWxsXG4gIH1cbn1cblxudHJ5IHtcbiAgLy8gYWRkIGlmIHN1cHBvcnQgZm9yIFN5bWJvbC5pdGVyYXRvciBpcyBwcmVzZW50XG4gIHJlcXVpcmUoJy4vaXRlcmF0b3IuanMnKShZYWxsaXN0KVxufSBjYXRjaCAoZXIpIHt9XG4iXSwibmFtZXMiOlsiY3NzIiwiUmVhY3QiLCJJY29uQnV0dG9uIiwiQWRkUmVtb3ZlIiwiaW5kZXgiLCJvbkFkZCIsIm9uUmVtb3ZlIiwiZWxlbWVudHMiLCJsZW5ndGgiLCJjeCIsIkljb24iLCJTUk9ubHkiLCJpY29uTmFtZSIsIm9uQ2xpY2siLCJjbGFzc05hbWUiLCJsYWJlbCIsImJ1dHRvblByb3BzIiwiU2VnbWVudCIsImRlc2NyaWJlTWV0cmljIiwibm9XcmFwIiwidG9PcHRpb24iLCJtZXRyaWMiLCJ2YWx1ZSIsInRvT3B0aW9ucyIsIm1ldHJpY3MiLCJtYXAiLCJNZXRyaWNQaWNrZXIiLCJvcHRpb25zIiwib25DaGFuZ2UiLCJzZWxlY3RlZE9wdGlvbiIsImZpbmQiLCJvcHRpb24iLCJpZCIsInVuZGVmaW5lZCIsIkVkaXRvclJvdyIsIkVkaXRvckZpZWxkIiwiSW5wdXQiLCJFbGFzdGljU2VhcmNoUXVlcnlGaWVsZCIsIkVsYXN0aWNzZWFyY2hBbm5vdGF0aW9uc1F1ZXJ5RWRpdG9yIiwicHJvcHMiLCJhbm5vdGF0aW9uIiwib25Bbm5vdGF0aW9uQ2hhbmdlIiwidGFyZ2V0IiwicXVlcnkiLCJ0aW1lRmllbGQiLCJlIiwiY3VycmVudFRhcmdldCIsInRpbWVFbmRGaWVsZCIsInRleHRGaWVsZCIsInRhZ3NGaWVsZCIsIklubGluZVNlZ21lbnRHcm91cCIsIlNlZ21lbnRBc3luYyIsInVzZUZpZWxkcyIsInVzZURpc3BhdGNoIiwic2VnbWVudFN0eWxlcyIsIlNldHRpbmdzRWRpdG9yIiwiaXNCdWNrZXRBZ2dyZWdhdGlvbldpdGhGaWVsZCIsImNoYW5nZUJ1Y2tldEFnZ3JlZ2F0aW9uRmllbGQiLCJjaGFuZ2VCdWNrZXRBZ2dyZWdhdGlvblR5cGUiLCJidWNrZXRBZ2dyZWdhdGlvbkNvbmZpZyIsImJ1Y2tldEFnZ09wdGlvbnMiLCJPYmplY3QiLCJlbnRyaWVzIiwia2V5IiwiYnVja2V0QWdnIiwidHlwZSIsIkJ1Y2tldEFnZ3JlZ2F0aW9uRWRpdG9yIiwiZGlzcGF0Y2giLCJnZXRGaWVsZHMiLCJuZXdUeXBlIiwibmV3RmllbGQiLCJmaWVsZCIsInVuaXF1ZUlkIiwidXNlUmVmIiwiSW50ZXJuYWxUaW1lWm9uZXMiLCJJbmxpbmVGaWVsZCIsIlNlbGVjdCIsIlRpbWVab25lUGlja2VyIiwidXNlQ3JlYXRhYmxlU2VsZWN0UGVyc2lzdGVkQmVoYXZpb3VyIiwiY2hhbmdlQnVja2V0QWdncmVnYXRpb25TZXR0aW5nIiwiaW5saW5lRmllbGRQcm9wcyIsImRlZmF1bHRJbnRlcnZhbE9wdGlvbnMiLCJoYXNWYWx1ZSIsInNlYXJjaFZhbHVlIiwiaXNWYWxpZE5ld09wdGlvbiIsImlucHV0VmFsdWUiLCJfIiwidmFsdWVFeGlzdHMiLCJzb21lIiwidHJpbSIsIm9wdGlvblN0YXJ0c1dpdGhWYWx1ZSIsInN0YXJ0c1dpdGgiLCJEYXRlSGlzdG9ncmFtU2V0dGluZ3NFZGl0b3IiLCJjdXJyZW50IiwiYmFzZUlkIiwiaGFuZGxlSW50ZXJ2YWxDaGFuZ2UiLCJzZXR0aW5nTmFtZSIsIm5ld1ZhbHVlIiwic2V0dGluZ3MiLCJpbnRlcnZhbCIsImRhdGVfaGlzdG9ncmFtIiwiZGVmYXVsdFNldHRpbmdzIiwibWluX2RvY19jb3VudCIsInRyaW1FZGdlcyIsIm9mZnNldCIsInRpbWVab25lIiwidXRjIiwidXNlRWZmZWN0IiwiUXVlcnlGaWVsZCIsInVzZVN0YXRlbGVzc1JlZHVjZXIiLCJhZGRGaWx0ZXIiLCJjaGFuZ2VGaWx0ZXIiLCJyZW1vdmVGaWx0ZXIiLCJyZWR1Y2VyIiwiZmlsdGVyc1JlZHVjZXIiLCJGaWx0ZXJzU2V0dGluZ3NFZGl0b3IiLCJ1cHBlclN0YXRlRGlzcGF0Y2giLCJmaWx0ZXJzIiwiZmlsdGVyIiwiY3JlYXRlQWN0aW9uIiwiZGVmYXVsdEZpbHRlciIsInN0YXRlIiwiYWN0aW9uIiwibWF0Y2giLCJzbGljZSIsInBheWxvYWQiLCJjb25jYXQiLCJ1c2VRdWVyeSIsImlzUGlwZWxpbmVBZ2dyZWdhdGlvbiIsIm9yZGVyQnlPcHRpb25zIiwib3JkZXJPcHRpb25zIiwic2l6ZU9wdGlvbnMiLCJUZXJtc1NldHRpbmdzRWRpdG9yIiwib3JkZXJCeSIsImNyZWF0ZU9yZGVyQnlPcHRpb25zIiwib3JkZXIiLCJ0ZXJtcyIsInNpemUiLCJtaXNzaW5nIiwiY3JlYXRlT3JkZXJCeU9wdGlvbnNGb3JFeHRlbmRlZFN0YXRzIiwibWV0YSIsIm1ldGFLZXlzIiwia2V5cyIsIm1ldGhvZCIsImNyZWF0ZU9yZGVyQnlPcHRpb25zRm9yUGVyY2VudGlsZXMiLCJwZXJjZW50cyIsInBlcmNlbnQiLCJwZXJjZW50U3RyaW5nIiwidGVzdCIsImlzVmFsaWRPcmRlclRhcmdldCIsIm1ldHJpY09wdGlvbnMiLCJmbGF0TWFwIiwiU2V0dGluZ3NFZGl0b3JDb250YWluZXIiLCJ1c2VEZXNjcmlwdGlvbiIsImxhYmVsV2lkdGgiLCJzZXR0aW5nc0Rlc2NyaXB0aW9uIiwicHJlY2lzaW9uIiwiY29udmVydE9yZGVyQnlUb01ldHJpY0lkIiwib2JqZWN0IiwibWluRG9jQ291bnQiLCJwYXJzZUludCIsImRlc2NyaXB0aW9uIiwib3JkZXJMYWJlbCIsIm9yZGVyQnlPcHRpb24iLCJtIiwiTWF0aCIsIm1heCIsIm1pbiIsInJlcXVpcmVzRmllbGQiLCJCVUNLRVRfQUdHUkVHQVRJT05fVFlQRVMiLCJpc0J1Y2tldEFnZ3JlZ2F0aW9uVHlwZSIsInMiLCJpbmNsdWRlcyIsIlF1ZXJ5RWRpdG9yUm93IiwiYWRkQnVja2V0QWdncmVnYXRpb24iLCJyZW1vdmVCdWNrZXRBZ2dyZWdhdGlvbiIsIkJ1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvciIsIm5leHRJZCIsImJ1Y2tldEFnZ3MiLCJ0b3RhbEJ1Y2tldEFnZ3MiLCJkZWZhdWx0QnVja2V0QWdnIiwicmVtb3ZlRW1wdHkiLCJjaGFuZ2VNZXRyaWNUeXBlIiwibWV0cmljQWdncmVnYXRpb25Db25maWciLCJpbml0UXVlcnkiLCJjcmVhdGVSZWR1Y2VyIiwiZGVmYXVsdFRpbWVGaWVsZCIsIm5ld0FnZyIsImxhc3RBZ2ciLCJpc1NpbmdsZU1ldHJpYyIsIm5ld1NldHRpbmdzIiwiZ2VvaGFzaF9ncmlkIiwiaGlzdG9ncmFtIiwiY3JlYXRlQ29udGV4dCIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsImNvbWJpbmVSZWR1Y2VycyIsIkRpc3BhdGNoQ29udGV4dCIsImNyZWF0ZUJ1Y2tldEFnZ3NSZWR1Y2VyIiwibWV0cmljc1JlZHVjZXIiLCJhbGlhc1BhdHRlcm5SZWR1Y2VyIiwicXVlcnlSZWR1Y2VyIiwiRGF0YXNvdXJjZUNvbnRleHQiLCJRdWVyeUNvbnRleHQiLCJSYW5nZUNvbnRleHQiLCJFbGFzdGljc2VhcmNoUHJvdmlkZXIiLCJjaGlsZHJlbiIsIm9uUnVuUXVlcnkiLCJkYXRhc291cmNlIiwicmFuZ2UiLCJvblN0YXRlQ2hhbmdlIiwiYWxpYXMiLCJuZXdTdGF0ZSIsImdldEhvb2siLCJjIiwiY29udGV4dFZhbHVlIiwiRXJyb3IiLCJ1c2VEYXRhc291cmNlIiwidXNlUmFuZ2UiLCJzYXRpc2ZpZXMiLCJ1c2VUaGVtZTIiLCJpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aEZpZWxkIiwiaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhJbmxpbmVTY3JpcHQiLCJpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aFNldHRpbmdzIiwiaXNQaXBlbGluZUFnZ3JlZ2F0aW9uV2l0aE11bHRpcGxlQnVja2V0UGF0aHMiLCJjaGFuZ2VNZXRyaWNGaWVsZCIsImdldFN0eWxlcyIsImlzQmFzaWNBZ2dyZWdhdGlvbiIsImlzUGlwZWxpbmVBZ2ciLCJnZXRUeXBlT3B0aW9ucyIsInByZXZpb3VzTWV0cmljcyIsImVzVmVyc2lvbiIsInhwYWNrIiwiaW5jbHVkZVBpcGVsaW5lQWdncmVnYXRpb25zIiwidmVyc2lvblJhbmdlIiwiY29uZmlnIiwiTWV0cmljRWRpdG9yIiwic3R5bGVzIiwiaGlkZSIsImxvYWRPcHRpb25zIiwicmVtb3RlRmllbGRzIiwiZmluZEluZGV4IiwiY29sb3IiLCJGcmFnbWVudCIsIklubGluZUxhYmVsIiwiY2hhbmdlTWV0cmljQXR0cmlidXRlIiwiU2V0dGluZ0ZpZWxkIiwiYWRkUGlwZWxpbmVWYXJpYWJsZSIsInJlbW92ZVBpcGVsaW5lVmFyaWFibGUiLCJyZW5hbWVQaXBlbGluZVZhcmlhYmxlIiwiY2hhbmdlUGlwZWxpbmVWYXJpYWJsZU1ldHJpYyIsIkJ1Y2tldFNjcmlwdFNldHRpbmdzRWRpdG9yIiwiYXR0cmlidXRlIiwicGlwZWxpbmVWYXJpYWJsZXMiLCJwaXBlbGluZVZhciIsIm5hbWUiLCJuZXdOYW1lIiwibmV3TWV0cmljIiwicGlwZWxpbmVBZ2ciLCJkZWZhdWx0UGlwZWxpbmVWYXJpYWJsZSIsImdlbmVyYXRlUGlwZWxpbmVWYXJpYWJsZU5hbWUiLCJwaXBlbGluZVZhcmlhYmxlIiwicGlwZWxpbmVWYXJzIiwidiIsIklubGluZVN3aXRjaCIsIm1vdmluZ0F2Z01vZGVsT3B0aW9ucyIsImlzRVdNQU1vdmluZ0F2ZXJhZ2UiLCJpc0hvbHRNb3ZpbmdBdmVyYWdlIiwiaXNIb2x0V2ludGVyc01vdmluZ0F2ZXJhZ2UiLCJjaGFuZ2VNZXRyaWNTZXR0aW5nIiwiTW92aW5nQXZlcmFnZVNldHRpbmdzRWRpdG9yIiwibW9kZWwiLCJhbHBoYSIsImJldGEiLCJnYW1tYSIsInBlcmlvZCIsInBhZCIsImNoZWNrZWQiLCJtaW5pbWl6ZSIsInVzZVN0YXRlIiwiZ2V0U2NyaXB0VmFsdWUiLCJwbGFjZWhvbGRlciIsInRvb2x0aXAiLCJkZWZhdWx0VmFsdWUiLCJBc3luY011bHRpU2VsZWN0IiwidG9NdWx0aVNlbGVjdFZhbHVlIiwiVG9wTWV0cmljc1NldHRpbmdzRWRpdG9yIiwiZ2V0T3JkZXJCeU9wdGlvbnMiLCJnZXRNZXRyaWNzT3B0aW9ucyIsImV4dGVuZGVkU3RhdHMiLCJpc01ldHJpY0FnZ3JlZ2F0aW9uV2l0aE1pc3NpbmdTdXBwb3J0IiwiY2hhbmdlTWV0cmljTWV0YSIsInJhdGVBZ2dVbml0T3B0aW9ucyIsInJhdGVBZ2dNb2RlT3B0aW9ucyIsInJlZklkIiwiZGVmYXVsdHMiLCJzdGF0Iiwic3BsaXQiLCJCb29sZWFuIiwidW5pdCIsIkV4dGVuZGVkU3RhdFNldHRpbmciLCJwcmVjaXNpb25UaHJlc2hvbGQiLCJwcmVjaXNpb25fdGhyZXNob2xkIiwic2VsZWN0ZWRTdGF0cyIsImpvaW4iLCJpc01vdmluZ0F2ZXJhZ2VXaXRoTW9kZWxTZXR0aW5ncyIsInN1cHBvcnRzTXVsdGlwbGVCdWNrZXRQYXRocyIsInN1cHBvcnRzTWlzc2luZyIsImhhc1NldHRpbmdzIiwiaXNNZXRyaWNBZ2dyZWdhdGlvbldpdGhNZXRhIiwiaGFzTWV0YSIsInN1cHBvcnRzSW5saW5lU2NyaXB0IiwiTUVUUklDX0FHR1JFR0FUSU9OX1RZUEVTIiwiaXNNZXRyaWNBZ2dyZWdhdGlvblR5cGUiLCJhZGRNZXRyaWMiLCJyZW1vdmVNZXRyaWMiLCJ0b2dnbGVNZXRyaWNWaXNpYmlsaXR5IiwiTWV0cmljQWdncmVnYXRpb25zRWRpdG9yIiwidG90YWxNZXRyaWNzIiwiZGVmYXVsdE1ldHJpY0FnZyIsImdldENoaWxkcmVuIiwibWV0cmljVG9SZW1vdmUiLCJtZXRyaWNzVG9SZW1vdmUiLCJyZXN1bHRpbmdNZXRyaWNzIiwidG9SZW1vdmUiLCJ0aGVtZSIsImhpZGRlbiIsImNvbG9ycyIsInRleHQiLCJkaXNhYmxlZCIsInByaW1hcnkiLCJjb3VudCIsImF2ZyIsInN1bSIsImV4dGVuZGVkX3N0YXRzIiwic3RkX2RldmlhdGlvbl9ib3VuZHNfbG93ZXIiLCJzdGRfZGV2aWF0aW9uX2JvdW5kc191cHBlciIsInBlcmNlbnRpbGVzIiwiY2FyZGluYWxpdHkiLCJtb3ZpbmdfYXZnIiwid2luZG93IiwibW92aW5nX2ZuIiwiZGVyaXZhdGl2ZSIsInNlcmlhbF9kaWZmIiwibGFnIiwiY3VtdWxhdGl2ZV9zdW0iLCJidWNrZXRfc2NyaXB0IiwicmF3X2RvY3VtZW50IiwicmF3X2RhdGEiLCJsb2dzIiwibGltaXQiLCJ0b3BfbWV0cmljcyIsInJhdGUiLCJwaXBlbGluZU9wdGlvbnMiLCJkZWZhdWx0IiwicHYiLCJjaGlsZCIsIm5vb3AiLCJJbmxpbmVGaWVsZFJvdyIsInVzZVN0eWxlczIiLCJvblJlbW92ZUNsaWNrIiwib25IaWRlQ2xpY2siLCJpY29uV3JhcHBlciIsImljb24iLCJzZWNvbmRhcnkiLCJzcGFjaW5nIiwid3JhcHBlciIsInNldHRpbmdzV3JhcHBlciIsImJ1dHRvbiIsIm9wZW4iLCJzZXRPcGVuIiwiZ2V0RGVmYXVsdFRpbWVSYW5nZSIsIkFsZXJ0IiwidXNlTmV4dElkIiwiaXNTdXBwb3J0ZWRWZXJzaW9uIiwiY2hhbmdlQWxpYXNQYXR0ZXJuIiwiY2hhbmdlUXVlcnkiLCJRdWVyeUVkaXRvciIsInJvb3QiLCJxdWVyeUZpZWxkV3JhcHBlciIsIlF1ZXJ5RWRpdG9yRm9ybSIsImlzVGltZVNlcmllc1F1ZXJ5Iiwic2hvd0J1Y2tldEFnZ3JlZ2F0aW9uc0VkaXRvciIsImV2ZXJ5IiwicHJldlF1ZXJ5IiwicHJldkFsaWFzUGF0dGVybiIsImdldEluaXRpYWxTdGF0ZSIsImluaXRpYWxPcHRpb25zIiwiaW5pdGlhbFZhbHVlIiwic2V0T3B0aW9ucyIsImFkZE9wdGlvbiIsIm9uQ3JlYXRlT3B0aW9uIiwiYWxsb3dDdXN0b21WYWx1ZSIsIlNJR1Y0Q29ubmVjdGlvbkNvbmZpZyIsIkRhdGFTb3VyY2VIdHRwU2V0dGluZ3MiLCJEYXRhTGlua3MiLCJFbGFzdGljRGV0YWlscyIsIkxvZ3NDb25maWciLCJjb2VyY2VPcHRpb25zIiwiaXNWYWxpZE9wdGlvbnMiLCJDb25maWdFZGl0b3IiLCJzaG93QWNjZXNzT3B0aW9ucyIsImFjY2VzcyIsIm9yaWdpbmFsT3B0aW9ucyIsIm9uT3B0aW9uc0NoYW5nZSIsInN1cHBvcnRlZFZlcnNpb24iLCJqc29uRGF0YSIsInNpZ1Y0QXV0aEVuYWJsZWQiLCJkYXRhTGlua3MiLCJ1c2VQcmV2aW91cyIsIkRhdGFTb3VyY2VQaWNrZXIiLCJCdXR0b24iLCJMZWdhY3lGb3JtcyIsIkRhdGFMaW5rSW5wdXQiLCJzdHlsZXNGYWN0b3J5IiwiRm9ybUZpZWxkIiwiU3dpdGNoIiwiZmlyc3RSb3ciLCJuYW1lRmllbGQiLCJyZWdleEZpZWxkIiwicm93IiwidXJsRmllbGQiLCJ1cmxEaXNwbGF5TGFiZWxGaWVsZCIsIkRhdGFMaW5rIiwib25EZWxldGUiLCJzdWdnZXN0aW9ucyIsInNob3dJbnRlcm5hbExpbmsiLCJzZXRTaG93SW50ZXJuYWxMaW5rIiwidXNlSW50ZXJuYWxMaW5rIiwiZGF0YXNvdXJjZVVpZCIsImhhbmRsZUNoYW5nZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ1cmwiLCJ1cmxEaXNwbGF5TGFiZWwiLCJkcyIsInVpZCIsInByZXZpb3VzVWlkIiwiVmFyaWFibGVPcmlnaW4iLCJEYXRhTGlua0J1aWx0SW5WYXJzIiwiaW5mb1RleHQiLCJkYXRhTGluayIsIm5ld0RhdGFMaW5rcyIsInNwbGljZSIsInZhbHVlUmF3IiwiZG9jdW1lbnRhdGlvbiIsIm9yaWdpbiIsIlZhbHVlIiwiZ3RlIiwibHQiLCJ2YWxpZCIsIkZpZWxkU2V0IiwiaXNUcnV0aHkiLCJpbmRleFBhdHRlcm5UeXBlcyIsImV4YW1wbGUiLCJlc1ZlcnNpb25zIiwiY3VycmVudFZlcnNpb24iLCJ2ZXJzaW9uIiwiY3VzdG9tT3B0aW9uIiwiZGF0YWJhc2UiLCJjaGFuZ2VIYW5kbGVyIiwicGF0dGVybiIsImludGVydmFsSGFuZGxlciIsImpzb25EYXRhQ2hhbmdlSGFuZGxlciIsIm1heENvbmN1cnJlbnRTaGFyZFJlcXVlc3RzIiwiZ2V0TWF4Q29uY3VycmVuU2hhcmRSZXF1ZXN0T3JEZWZhdWx0IiwidGltZUludGVydmFsIiwianNvbkRhdGFTd2l0Y2hDaGFuZ2VIYW5kbGVyIiwiaW5jbHVkZUZyb3plbiIsIm5ld0ludGVydmFsIiwibmV3RGF0YWJhc2UiLCJkZWZhdWx0TWF4Q29uY3VycmVudFNoYXJkUmVxdWVzdHMiLCJsb2dNZXNzYWdlRmllbGQiLCJsb2dMZXZlbEZpZWxkIiwiY29lcmNlRVNWZXJzaW9uIiwiY2xvbmVEZWVwIiwiZmlyc3QiLCJfZmlyc3QiLCJpc051bWJlciIsImlzT2JqZWN0IiwiaXNTdHJpbmciLCJfbWFwIiwiZ2VuZXJhdGUiLCJsYXN0VmFsdWVGcm9tIiwib2YiLCJ0aHJvd0Vycm9yIiwiY2F0Y2hFcnJvciIsIm1lcmdlTWFwIiwic2tpcFdoaWxlIiwidGhyb3dJZkVtcHR5IiwiRGF0YVNvdXJjZUFwaSIsImRhdGVUaW1lIiwiZ2V0TG9nTGV2ZWxGcm9tS2V5IiwiTG9nTGV2ZWwiLCJ0b1V0YyIsImdldEJhY2tlbmRTcnYiLCJnZXREYXRhU291cmNlU3J2IiwicXVlcnlMb2dzVm9sdW1lIiwiZ2V0VGVtcGxhdGVTcnYiLCJFbGFzdGljUmVzcG9uc2UiLCJJbmRleFBhdHRlcm4iLCJMYW5ndWFnZVByb3ZpZGVyIiwiRWxhc3RpY1F1ZXJ5QnVpbGRlciIsImhhc01ldHJpY09mVHlwZSIsIkVMQVNUSUNfTUVUQV9GSUVMRFMiLCJFbGFzdGljRGF0YXNvdXJjZSIsImNvbnN0cnVjdG9yIiwiaW5zdGFuY2VTZXR0aW5ncyIsInRlbXBsYXRlU3J2Iiwic29ydEZpZWxkIiwiZGF0YUZyYW1lIiwiZmllbGRzIiwiZiIsInNlYXJjaEFmdGVyIiwidmFsdWVzIiwiZ2V0Iiwicm93SW5kZXgiLCJ0aW1lRXBvY2hNcyIsInNvcnQiLCJkaXJlY3Rpb24iLCJoZWFkZXIiLCJnZXRRdWVyeUhlYWRlciIsImVzUXVlcnkiLCJKU09OIiwic3RyaW5naWZ5IiwiYm9vbCIsImZvcm1hdCIsIl9kb2MiLCJzZWFyY2hfYWZ0ZXIiLCJnZXRNdWx0aVNlYXJjaFVybCIsInJlc3BvbnNlIiwicG9zdCIsInRhcmdldHMiLCJlbGFzdGljUmVzcG9uc2UiLCJ0cmFuc2Zvcm1IaXRzQmFzZWRPbkRpcmVjdGlvbiIsImxvZ1Jlc3BvbnNlIiwiZ2V0TG9ncyIsImRhdGEiLCJ0aW1lc3RhbXBGaWVsZCIsImxpbmVGaWVsZCIsImJhc2ljQXV0aCIsIndpdGhDcmVkZW50aWFscyIsImlzUHJveHlBY2Nlc3MiLCJzZXR0aW5nc0RhdGEiLCJpbmRleFBhdHRlcm4iLCJxdWVyeUJ1aWxkZXIiLCJhbm5vdGF0aW9ucyIsImxhbmd1YWdlUHJvdmlkZXIiLCJyZXF1ZXN0IiwiaGVhZGVycyIsImVycm9yIiwiQXV0aG9yaXphdGlvbiIsImZldGNoIiwicGlwZSIsInJlc3VsdHMiLCIkJGNvbmZpZyIsImVyciIsIm1lc3NhZ2UiLCJyZWFzb24iLCJpbXBvcnRGcm9tQWJzdHJhY3RRdWVyaWVzIiwiYWJzdHJhY3RRdWVyaWVzIiwiYWJzdHJhY3RRdWVyeSIsImltcG9ydEZyb21BYnN0cmFjdFF1ZXJ5IiwiaW5kZXhMaXN0IiwiZ2V0SW5kZXhMaXN0IiwiZnJvbSIsInRvIiwiQXJyYXkiLCJpc0FycmF5IiwiZ2V0SW5kZXhGb3JUb2RheSIsImluZGV4VXJsTGlzdCIsInJlcXVlc3RBbGxJbmRpY2VzIiwibWF4VHJhdmVyc2FscyIsImxpc3RMZW4iLCJpbml0aWFsU3RhdGUiLCJjb25kaXRpb24iLCJpIiwiaXRlcmF0ZSIsInJlc3AiLCJzdGF0dXMiLCJhbm5vdGF0aW9uUXVlcnkiLCJxdWVyeVN0cmluZyIsImRhdGVSYW5nZXMiLCJyYW5nZVN0YXJ0IiwidmFsdWVPZiIsInB1c2giLCJyYW5nZUVuZCIsInF1ZXJ5SW50ZXJwb2xhdGVkIiwiaW50ZXJwb2xhdGVMdWNlbmVRdWVyeSIsInNob3VsZCIsIm1pbmltdW1fc2hvdWxkX21hdGNoIiwicXVlcnlfc3RyaW5nIiwic2VhcmNoX3R5cGUiLCJpZ25vcmVfdW5hdmFpbGFibGUiLCJyZXMiLCJsaXN0IiwiaGl0cyIsInJlc3BvbnNlcyIsImdldEZpZWxkRnJvbVNvdXJjZSIsInNvdXJjZSIsImZpZWxkTmFtZSIsImZpZWxkTmFtZXMiLCJmaWVsZFZhbHVlIiwiY29uc29sZSIsImxvZyIsIl9zb3VyY2UiLCJ0aW1lIiwidGFncyIsInRpbWVFbmQiLCJ0aXRsZUZpZWxkIiwidGl0bGUiLCJzY29wZWRWYXJzIiwicmVwbGFjZSIsImludGVycG9sYXRlVmFyaWFibGVzSW5RdWVyaWVzIiwicXVlcmllcyIsImludGVycG9sYXRlQnVja2V0QWdnIiwiZXhwYW5kZWRRdWVyaWVzIiwiZ2V0UmVmIiwiZmluYWxRdWVyaWVzIiwicGFyc2UiLCJ0ZXN0RGF0YXNvdXJjZSIsImRhdGVGaWVsZHMiLCJzZWFyY2hUeXBlIiwidGltZUZyb20iLCJ0aW1lVG8iLCJxdWVyeUhlYWRlciIsImdldFF1ZXJ5RGlzcGxheVRleHQiLCJtZXRyaWNBZ2dzIiwicmVkdWNlIiwiYWNjIiwibWV0cmljQ29uZmlnIiwiUmVnRXhwIiwiYnVja2V0Q29uZmlnIiwic2hvd0NvbnRleHRUb2dnbGUiLCJnZXRMb2dzVm9sdW1lRGF0YVByb3ZpZGVyIiwiaXNMb2dzVm9sdW1lQXZhaWxhYmxlIiwibG9nc1ZvbHVtZVJlcXVlc3QiLCJ1bmtub3duIiwibG9nc1ZvbHVtZVF1ZXJ5IiwiZXh0cmFjdExldmVsIiwic2VudFRhcmdldHMiLCJ0YXJnZXRzQ29udGFpbnNMb2dzUXVlcnkiLCJhZGhvY0ZpbHRlcnMiLCJnZXRBZGhvY0ZpbHRlcnMiLCJsb2dMaW1pdHMiLCJxdWVyeU9iaiIsImdldExvZ3NRdWVyeSIsImJ1aWxkIiwidG9TdHJpbmciLCJlciIsImZvckVhY2giLCJlbmhhbmNlRGF0YUZyYW1lIiwiZ2V0VGltZVNlcmllcyIsImlzTWV0YWRhdGFGaWVsZCIsInR5cGVNYXAiLCJmbG9hdCIsImRvdWJsZSIsImludGVnZXIiLCJsb25nIiwiZGF0ZSIsImRhdGVfbmFub3MiLCJzdHJpbmciLCJzY2FsZWRfZmxvYXQiLCJuZXN0ZWQiLCJyZXN1bHQiLCJzaG91bGRBZGRGaWVsZCIsIm9iaiIsImZpZWxkTmFtZVBhcnRzIiwiZ2V0RmllbGRzUmVjdXJzaXZlbHkiLCJzdWJPYmoiLCJwcm9wZXJ0aWVzIiwicG9wIiwiaW5kZXhOYW1lIiwibWFwcGluZ3MiLCJ0eXBlTmFtZSIsImdldFRlcm1zIiwicXVlcnlEZWYiLCJnZXRUZXJtc1F1ZXJ5IiwiYWdncmVnYXRpb25zIiwiYnVja2V0cyIsImJ1Y2tldCIsImtleV9hc19zdHJpbmciLCJzZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJtZXRyaWNGaW5kUXVlcnkiLCJwYXJzZWRRdWVyeSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0VGFnS2V5cyIsImdldFRhZ1ZhbHVlcyIsInRhcmdldENvbnRhaW5zVGVtcGxhdGUiLCJjb250YWluc1RlbXBsYXRlIiwib2JqZWN0Q29udGFpbnNUZW1wbGF0ZSIsImlzUHJpbWl0aXZlIiwiaXRlbSIsImxpbmtzVG9BcHBseSIsImxpbmtzIiwiZ2VuZXJhdGVEYXRhTGluayIsImxpbmtDb25maWciLCJkYXRhU291cmNlU3J2IiwiZHNTZXR0aW5ncyIsImdldEluc3RhbmNlU2V0dGluZ3MiLCJpbnRlcm5hbCIsImRhdGFzb3VyY2VOYW1lIiwiYWN0dWFsUmVzcG9uc2UiLCJyZXZlcnNlIiwiY2xvbmUiLCJpZGVudGl0eSIsInVuaXEiLCJfdmFsdWVzIiwidG9EYXRhRnJhbWUiLCJGaWVsZFR5cGUiLCJNdXRhYmxlRGF0YUZyYW1lIiwiVGFibGVNb2RlbCIsImZsYXR0ZW4iLCJISUdITElHSFRfVEFHU19FWFAiLCJoaWdobGlnaHRUYWdzIiwicHJlIiwic2VyaWVzTGlzdCIsImdldEVycm9yRnJvbUVsYXN0aWNSZXNwb25zZSIsInByb2Nlc3NIaXRzIiwidG1wU2VyaWVzTGlzdCIsInRhYmxlIiwicHJvY2Vzc0J1Y2tldHMiLCJ0cmltRGF0YXBvaW50cyIsIm5hbWVTZXJpZXMiLCJ5Iiwicm93cyIsInByb2Nlc3NNZXRyaWNzIiwiZXNBZ2ciLCJuZXdTZXJpZXMiLCJkYXRhcG9pbnRzIiwiZG9jX2NvdW50IiwiZmlyc3RCdWNrZXQiLCJwZXJjZW50aWxlTmFtZSIsInN0YXROYW1lIiwic3RhdHMiLCJzdGRfZGV2aWF0aW9uX2JvdW5kcyIsInVwcGVyIiwibG93ZXIiLCJtZXRyaWNGaWVsZCIsInRvcCIsImhpdCIsInBvaW50IiwibWV0cmljSWQiLCJub3JtYWxpemVkX3ZhbHVlIiwicHJvY2Vzc0FnZ3JlZ2F0aW9uRG9jcyIsImFnZ0RlZiIsImNvbHVtbnMiLCJwcm9wS2V5IiwiYWRkQ29sdW1uIiwiZmlsdGVyYWJsZSIsImFkZE1ldHJpY1ZhbHVlIiwibWV0cmljTmFtZSIsInByb3BWYWx1ZXMiLCJnZXRNZXRyaWNOYW1lIiwiYmFzZU5hbWUiLCJvdGhlck1ldHJpY3MiLCJhZ2dzIiwiZGVwdGgiLCJhZ2dJZCIsIm1heERlcHRoIiwibmFtZUluZGV4IiwibWV0cmljRGVmIiwiZXh0ZW5kZWRTdGF0IiwiZ2V0U2VyaWVzTmFtZSIsInNlcmllcyIsImRlZHVwIiwicmVnZXgiLCJnMSIsImcyIiwiZ3JvdXAiLCJpbmRleE9mIiwic3Vic3RyaW5nIiwiaXNQaXBlbGluZUFnZ1dpdGhNdWx0aXBsZUJ1Y2tldFBhdGhzIiwiYWdnIiwic2NyaXB0IiwiYXBwbGllZEFnZyIsInByb3BLZXlzIiwicHJvcE5hbWUiLCJtZXRyaWNUeXBlQ291bnQiLCJoYXNUb3BNZXRyaWNXaXRoTXVsdGlwbGVNZXRyaWNzIiwiaGl0c1RvdGFsIiwidG90YWwiLCJkb2MiLCJfaWQiLCJfdHlwZSIsIl9pbmRleCIsImhpZ2hsaWdodCIsInNob3VsZERyb3BGaXJzdEFuZExhc3QiLCJwcm9wIiwicG9pbnRzIiwicm9vdF9jYXVzZSIsInByb2Nlc3NSZXNwb25zZVRvRGF0YUZyYW1lcyIsInByb2Nlc3NSZXNwb25zZVRvU2VyaWVzIiwiaXNMb2dzUmVxdWVzdCIsIm4iLCJwcm9wTmFtZXMiLCJkb2NzIiwiZmxhdHRlbkhpdHMiLCJjcmVhdGVFbXB0eURhdGFGcmFtZSIsInRvTmFtZVR5cGVQYWlyIiwiYWRkUHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGUiLCJnbG9iYWxIaWdobGlnaHRXb3JkUmVnZXgiLCJoaWdobGlnaHRXb3JkUmVnZXgiLCJuZXdTZWFyY2hXb3JkcyIsImxpbmUiLCJtYXRjaGVkUGhyYXNlcyIsInBhcnQiLCJtYXRjaGVzIiwic2VhcmNoV29yZHMiLCJhZGQiLCJmbGF0dGVuZWQiLCJhZGRGaWVsZCIsInNldFBhcnNlciIsInByZWZlcnJlZFZpc3VhbGlzYXRpb25UeXBlIiwiZ3Vlc3NUeXBlIiwibnVtYmVyIiwib3RoZXIiLCJnZXRGaWx0ZXIiLCJ0b1NlbGVjdGFibGVWYWx1ZSIsInJhd0ZpZWxkcyIsInEiLCJ1c2VNZW1vIiwidG9JZCIsInRvSW50IiwiaWRTdHJpbmciLCJyZWR1Y2VycyIsImludGVydmFsTWFwIiwiSG91cmx5Iiwic3RhcnRPZiIsImFtb3VudCIsIkRhaWx5IiwiV2Vla2x5IiwiTW9udGhseSIsIlllYXJseSIsImxvY2FsZSIsImRhdGVMb2NhbGUiLCJpbmRleE9mZnNldCIsImludGVydmFsSW5mbyIsInN0YXJ0IiwiZW5kRXBvY2giLCJBYnN0cmFjdExhYmVsT3BlcmF0b3IiLCJFbGFzdGljc2VhcmNoTGFuZ3VhZ2VQcm92aWRlciIsImluaXRpYWxWYWx1ZXMiLCJhc3NpZ24iLCJnZXRFbGFzdGljc2VhcmNoUXVlcnkiLCJsYWJlbE1hdGNoZXJzIiwibGFiZWxzIiwib3BlcmF0b3IiLCJFcXVhbCIsIk5vdEVxdWFsIiwiRXF1YWxSZWdFeCIsIk5vdEVxdWFsUmVnRXgiLCJEYXRhU291cmNlUGx1Z2luIiwicGx1Z2luIiwic2V0UXVlcnlFZGl0b3IiLCJzZXRDb25maWdFZGl0b3IiLCJmaW5kTWV0cmljQnlJZCIsImdldFJhbmdlRmlsdGVyIiwibHRlIiwiYnVpbGRUZXJtc0FnZyIsInF1ZXJ5Tm9kZSIsIl9jb3VudCIsImlzTmFOIiwiZ2V0RGF0ZUhpc3RvZ3JhbUFnZyIsImV4dGVuZGVkX2JvdW5kcyIsInRpbWVfem9uZSIsImZpeGVkX2ludGVydmFsIiwiZ2V0SGlzdG9ncmFtQWdnIiwiZ2V0RmlsdGVyc0FnZyIsImZpbHRlck9iaiIsImFuYWx5emVfd2lsZGNhcmQiLCJkb2N1bWVudFF1ZXJ5IiwidW5tYXBwZWRfdHlwZSIsInNjcmlwdF9maWVsZHMiLCJhZGRBZGhvY0ZpbHRlcnMiLCJxdWVyeUNvbmRpdGlvbiIsIm11c3QiLCJtYXRjaF9waHJhc2UiLCJtdXN0X25vdCIsImd0IiwicmVnZXhwIiwiaiIsIm5lc3RlZEFnZ3MiLCJhZ2dGaWVsZCIsIm1ldHJpY0FnZyIsImJ1Y2tldHNfcGF0aCIsImsiLCJidWlsZFNjcmlwdCIsInRvTnVtYmVyIiwicHJlZGljdCIsImZyb21FbnRyaWVzIiwic3RyaW5nVmFsdWUiLCJpbmxpbmUiLCJwYXJzZWRWYWx1ZSIsInBhcnNlRmxvYXQiLCJrZXluYW1lIiwicHJlX3RhZ3MiLCJwb3N0X3RhZ3MiLCJmcmFnbWVudF9zaXplIiwibWV0cmljVHlwZSIsImNsZWFuT2JqIiwibWV0cmljSWRNYXRjaGVzIl0sInNvdXJjZVJvb3QiOiIifQ==