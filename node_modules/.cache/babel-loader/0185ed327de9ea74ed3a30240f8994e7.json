{"ast":null,"code":"var _Icon, _Icon2, _div, _Spinner;\n\nimport { css } from '@emotion/css';\nimport classNames from 'classnames';\nimport React, { useState } from 'react';\nimport SVG from 'react-inlinesvg';\nimport { Icon, Spinner, TagList, useTheme2 } from '@grafana/ui';\nimport { getThumbnailURL } from './SearchCard';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function SearchCardExpanded({\n  className,\n  imageHeight,\n  imageWidth,\n  item,\n  lastUpdated\n}) {\n  const theme = useTheme2();\n  const [hasImage, setHasImage] = useState(true);\n  const imageSrc = getThumbnailURL(item.uid, theme.isLight);\n  const styles = getStyles(theme, imageHeight, imageWidth);\n  const folderTitle = item.folderTitle || 'General';\n  return /*#__PURE__*/_jsxs(\"a\", {\n    className: classNames(className, styles.card),\n    href: item.url,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.imageContainer,\n      children: hasImage ? /*#__PURE__*/_jsx(\"img\", {\n        loading: \"lazy\",\n        className: styles.image,\n        src: imageSrc,\n        onLoad: () => setHasImage(true),\n        onError: () => setHasImage(false)\n      }) : /*#__PURE__*/_jsx(\"div\", {\n        className: styles.imagePlaceholder,\n        children: item.icon ? /*#__PURE__*/_jsx(SVG, {\n          src: item.icon,\n          width: 36,\n          height: 36,\n          title: item.title\n        }) : _Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n          name: \"apps\",\n          size: \"xl\"\n        }))\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.infoHeader,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.titleContainer,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: item.title\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.folder,\n            children: [_Icon2 || (_Icon2 = /*#__PURE__*/_jsx(Icon, {\n              name: 'folder'\n            })), folderTitle]\n          })]\n        }), lastUpdated !== null && /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.updateContainer,\n          children: [_div || (_div = /*#__PURE__*/_jsx(\"div\", {\n            children: \"Last updated\"\n          })), lastUpdated ? /*#__PURE__*/_jsx(\"div\", {\n            className: styles.update,\n            children: lastUpdated\n          }) : _Spinner || (_Spinner = /*#__PURE__*/_jsx(Spinner, {}))]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(TagList, {\n          className: styles.tagList,\n          tags: item.tags\n        })\n      })]\n    })]\n  }, item.uid);\n}\n\nconst getStyles = (theme, imageHeight, imageWidth) => {\n  const IMAGE_HORIZONTAL_MARGIN = theme.spacing(4);\n  return {\n    card: css`\n      background-color: ${theme.colors.background.secondary};\n      border: 1px solid ${theme.colors.border.medium};\n      border-radius: 4px;\n      box-shadow: ${theme.shadows.z3};\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      max-width: calc(${imageWidth}px + (${IMAGE_HORIZONTAL_MARGIN} * 2))};\n      width: 100%;\n    `,\n    folder: css`\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      display: flex;\n      font-size: ${theme.typography.size.sm};\n      gap: ${theme.spacing(0.5)};\n    `,\n    image: css`\n      box-shadow: ${theme.shadows.z2};\n      height: ${imageHeight}px;\n      margin: ${theme.spacing(1)} calc(${IMAGE_HORIZONTAL_MARGIN} - 1px) 0;\n      width: ${imageWidth}px;\n    `,\n    imageContainer: css`\n      flex: 1;\n      position: relative;\n\n      &:after {\n        background: linear-gradient(180deg, rgba(196, 196, 196, 0) 0%, rgba(127, 127, 127, 0.25) 100%);\n        bottom: 0;\n        content: '';\n        left: 0;\n        margin: ${theme.spacing(1)} calc(${IMAGE_HORIZONTAL_MARGIN} - 1px) 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n      }\n    `,\n    imagePlaceholder: css`\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      display: flex;\n      height: ${imageHeight}px;\n      justify-content: center;\n      margin: ${theme.spacing(1)} ${IMAGE_HORIZONTAL_MARGIN} 0;\n      width: ${imageWidth}px;\n    `,\n    info: css`\n      background-color: ${theme.colors.background.canvas};\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      display: flex;\n      flex-direction: column;\n      min-height: ${theme.spacing(7)};\n      gap: ${theme.spacing(1)};\n      padding: ${theme.spacing(1)} ${theme.spacing(2)};\n      z-index: 1;\n    `,\n    infoHeader: css`\n      display: flex;\n      gap: ${theme.spacing(1)};\n      justify-content: space-between;\n    `,\n    tagList: css`\n      justify-content: flex-start;\n    `,\n    titleContainer: css`\n      display: flex;\n      flex-direction: column;\n      gap: ${theme.spacing(0.5)};\n    `,\n    updateContainer: css`\n      align-items: flex-end;\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n      font-size: ${theme.typography.bodySmall.fontSize};\n      gap: ${theme.spacing(0.5)};\n    `,\n    update: css`\n      color: ${theme.colors.text.secondary};\n      text-align: right;\n    `\n  };\n};","map":{"version":3,"names":["css","classNames","React","useState","SVG","Icon","Spinner","TagList","useTheme2","getThumbnailURL","SearchCardExpanded","className","imageHeight","imageWidth","item","lastUpdated","theme","hasImage","setHasImage","imageSrc","uid","isLight","styles","getStyles","folderTitle","card","url","imageContainer","image","imagePlaceholder","icon","title","info","infoHeader","titleContainer","folder","updateContainer","update","tagList","tags","IMAGE_HORIZONTAL_MARGIN","spacing","colors","background","secondary","border","medium","shadows","z3","text","typography","size","sm","z2","canvas","bodySmall","fontSize"],"sources":["/home/soula/grafana/public/app/features/search/components/SearchCardExpanded.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport classNames from 'classnames';\nimport React, { useState } from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, Spinner, TagList, useTheme2 } from '@grafana/ui';\n\nimport { DashboardSectionItem } from '../types';\n\nimport { getThumbnailURL } from './SearchCard';\n\nexport interface Props {\n  className?: string;\n  imageHeight: number;\n  imageWidth: number;\n  item: DashboardSectionItem;\n  lastUpdated?: string | null;\n}\n\nexport function SearchCardExpanded({ className, imageHeight, imageWidth, item, lastUpdated }: Props) {\n  const theme = useTheme2();\n  const [hasImage, setHasImage] = useState(true);\n  const imageSrc = getThumbnailURL(item.uid!, theme.isLight);\n  const styles = getStyles(theme, imageHeight, imageWidth);\n\n  const folderTitle = item.folderTitle || 'General';\n\n  return (\n    <a className={classNames(className, styles.card)} key={item.uid} href={item.url}>\n      <div className={styles.imageContainer}>\n        {hasImage ? (\n          <img\n            loading=\"lazy\"\n            className={styles.image}\n            src={imageSrc}\n            onLoad={() => setHasImage(true)}\n            onError={() => setHasImage(false)}\n          />\n        ) : (\n          <div className={styles.imagePlaceholder}>\n            {item.icon ? (\n              <SVG src={item.icon} width={36} height={36} title={item.title} />\n            ) : (\n              <Icon name=\"apps\" size=\"xl\" />\n            )}\n          </div>\n        )}\n      </div>\n      <div className={styles.info}>\n        <div className={styles.infoHeader}>\n          <div className={styles.titleContainer}>\n            <div>{item.title}</div>\n            <div className={styles.folder}>\n              <Icon name={'folder'} />\n              {folderTitle}\n            </div>\n          </div>\n          {lastUpdated !== null && (\n            <div className={styles.updateContainer}>\n              <div>Last updated</div>\n              {lastUpdated ? <div className={styles.update}>{lastUpdated}</div> : <Spinner />}\n            </div>\n          )}\n        </div>\n        <div>\n          <TagList className={styles.tagList} tags={item.tags} />\n        </div>\n      </div>\n    </a>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2, imageHeight: Props['imageHeight'], imageWidth: Props['imageWidth']) => {\n  const IMAGE_HORIZONTAL_MARGIN = theme.spacing(4);\n\n  return {\n    card: css`\n      background-color: ${theme.colors.background.secondary};\n      border: 1px solid ${theme.colors.border.medium};\n      border-radius: 4px;\n      box-shadow: ${theme.shadows.z3};\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      max-width: calc(${imageWidth}px + (${IMAGE_HORIZONTAL_MARGIN} * 2))};\n      width: 100%;\n    `,\n    folder: css`\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      display: flex;\n      font-size: ${theme.typography.size.sm};\n      gap: ${theme.spacing(0.5)};\n    `,\n    image: css`\n      box-shadow: ${theme.shadows.z2};\n      height: ${imageHeight}px;\n      margin: ${theme.spacing(1)} calc(${IMAGE_HORIZONTAL_MARGIN} - 1px) 0;\n      width: ${imageWidth}px;\n    `,\n    imageContainer: css`\n      flex: 1;\n      position: relative;\n\n      &:after {\n        background: linear-gradient(180deg, rgba(196, 196, 196, 0) 0%, rgba(127, 127, 127, 0.25) 100%);\n        bottom: 0;\n        content: '';\n        left: 0;\n        margin: ${theme.spacing(1)} calc(${IMAGE_HORIZONTAL_MARGIN} - 1px) 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n      }\n    `,\n    imagePlaceholder: css`\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      display: flex;\n      height: ${imageHeight}px;\n      justify-content: center;\n      margin: ${theme.spacing(1)} ${IMAGE_HORIZONTAL_MARGIN} 0;\n      width: ${imageWidth}px;\n    `,\n    info: css`\n      background-color: ${theme.colors.background.canvas};\n      border-bottom-left-radius: 4px;\n      border-bottom-right-radius: 4px;\n      display: flex;\n      flex-direction: column;\n      min-height: ${theme.spacing(7)};\n      gap: ${theme.spacing(1)};\n      padding: ${theme.spacing(1)} ${theme.spacing(2)};\n      z-index: 1;\n    `,\n    infoHeader: css`\n      display: flex;\n      gap: ${theme.spacing(1)};\n      justify-content: space-between;\n    `,\n    tagList: css`\n      justify-content: flex-start;\n    `,\n    titleContainer: css`\n      display: flex;\n      flex-direction: column;\n      gap: ${theme.spacing(0.5)};\n    `,\n    updateContainer: css`\n      align-items: flex-end;\n      display: flex;\n      flex-direction: column;\n      flex-shrink: 0;\n      font-size: ${theme.typography.bodySmall.fontSize};\n      gap: ${theme.spacing(0.5)};\n    `,\n    update: css`\n      color: ${theme.colors.text.secondary};\n      text-align: right;\n    `,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}