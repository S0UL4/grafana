{"ast":null,"code":"export const calculateTooltipPosition = (xPos = 0, yPos = 0, tooltipWidth = 0, tooltipHeight = 0, xOffset = 0, yOffset = 0, windowWidth = 0, windowHeight = 0) => {\n  let x = xPos;\n  let y = yPos;\n  const overflowRight = Math.max(xPos + xOffset + tooltipWidth - (windowWidth - xOffset), 0);\n  const overflowLeft = Math.abs(Math.min(xPos - xOffset - tooltipWidth - xOffset, 0));\n  const wouldOverflowRight = overflowRight > 0;\n  const wouldOverflowLeft = overflowLeft > 0;\n  const overflowBelow = Math.max(yPos + yOffset + tooltipHeight - (windowHeight - yOffset), 0);\n  const overflowAbove = Math.abs(Math.min(yPos - yOffset - tooltipHeight - yOffset, 0));\n  const wouldOverflowBelow = overflowBelow > 0;\n  const wouldOverflowAbove = overflowAbove > 0;\n\n  if (wouldOverflowRight && wouldOverflowLeft) {\n    x = overflowRight > overflowLeft ? xOffset : windowWidth - xOffset - tooltipWidth;\n  } else if (wouldOverflowRight) {\n    x = xPos - xOffset - tooltipWidth;\n  } else {\n    x = xPos + xOffset;\n  }\n\n  if (wouldOverflowBelow && wouldOverflowAbove) {\n    y = overflowBelow > overflowAbove ? yOffset : windowHeight - yOffset - tooltipHeight;\n  } else if (wouldOverflowBelow) {\n    y = yPos - yOffset - tooltipHeight;\n  } else {\n    y = yPos + yOffset;\n  }\n\n  return {\n    x,\n    y\n  };\n};","map":{"version":3,"names":["calculateTooltipPosition","xPos","yPos","tooltipWidth","tooltipHeight","xOffset","yOffset","windowWidth","windowHeight","x","y","overflowRight","Math","max","overflowLeft","abs","min","wouldOverflowRight","wouldOverflowLeft","overflowBelow","overflowAbove","wouldOverflowBelow","wouldOverflowAbove"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/VizTooltip/utils.ts"],"sourcesContent":["export const calculateTooltipPosition = (\n  xPos = 0,\n  yPos = 0,\n  tooltipWidth = 0,\n  tooltipHeight = 0,\n  xOffset = 0,\n  yOffset = 0,\n  windowWidth = 0,\n  windowHeight = 0\n) => {\n  let x = xPos;\n  let y = yPos;\n\n  const overflowRight = Math.max(xPos + xOffset + tooltipWidth - (windowWidth - xOffset), 0);\n  const overflowLeft = Math.abs(Math.min(xPos - xOffset - tooltipWidth - xOffset, 0));\n  const wouldOverflowRight = overflowRight > 0;\n  const wouldOverflowLeft = overflowLeft > 0;\n\n  const overflowBelow = Math.max(yPos + yOffset + tooltipHeight - (windowHeight - yOffset), 0);\n  const overflowAbove = Math.abs(Math.min(yPos - yOffset - tooltipHeight - yOffset, 0));\n  const wouldOverflowBelow = overflowBelow > 0;\n  const wouldOverflowAbove = overflowAbove > 0;\n\n  if (wouldOverflowRight && wouldOverflowLeft) {\n    x = overflowRight > overflowLeft ? xOffset : windowWidth - xOffset - tooltipWidth;\n  } else if (wouldOverflowRight) {\n    x = xPos - xOffset - tooltipWidth;\n  } else {\n    x = xPos + xOffset;\n  }\n\n  if (wouldOverflowBelow && wouldOverflowAbove) {\n    y = overflowBelow > overflowAbove ? yOffset : windowHeight - yOffset - tooltipHeight;\n  } else if (wouldOverflowBelow) {\n    y = yPos - yOffset - tooltipHeight;\n  } else {\n    y = yPos + yOffset;\n  }\n  return { x, y };\n};\n"],"mappings":"AAAA,OAAO,MAAMA,wBAAwB,GAAG,CACtCC,IAAI,GAAG,CAD+B,EAEtCC,IAAI,GAAG,CAF+B,EAGtCC,YAAY,GAAG,CAHuB,EAItCC,aAAa,GAAG,CAJsB,EAKtCC,OAAO,GAAG,CAL4B,EAMtCC,OAAO,GAAG,CAN4B,EAOtCC,WAAW,GAAG,CAPwB,EAQtCC,YAAY,GAAG,CARuB,KASnC;EACH,IAAIC,CAAC,GAAGR,IAAR;EACA,IAAIS,CAAC,GAAGR,IAAR;EAEA,MAAMS,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASZ,IAAI,GAAGI,OAAP,GAAiBF,YAAjB,IAAiCI,WAAW,GAAGF,OAA/C,CAAT,EAAkE,CAAlE,CAAtB;EACA,MAAMS,YAAY,GAAGF,IAAI,CAACG,GAAL,CAASH,IAAI,CAACI,GAAL,CAASf,IAAI,GAAGI,OAAP,GAAiBF,YAAjB,GAAgCE,OAAzC,EAAkD,CAAlD,CAAT,CAArB;EACA,MAAMY,kBAAkB,GAAGN,aAAa,GAAG,CAA3C;EACA,MAAMO,iBAAiB,GAAGJ,YAAY,GAAG,CAAzC;EAEA,MAAMK,aAAa,GAAGP,IAAI,CAACC,GAAL,CAASX,IAAI,GAAGI,OAAP,GAAiBF,aAAjB,IAAkCI,YAAY,GAAGF,OAAjD,CAAT,EAAoE,CAApE,CAAtB;EACA,MAAMc,aAAa,GAAGR,IAAI,CAACG,GAAL,CAASH,IAAI,CAACI,GAAL,CAASd,IAAI,GAAGI,OAAP,GAAiBF,aAAjB,GAAiCE,OAA1C,EAAmD,CAAnD,CAAT,CAAtB;EACA,MAAMe,kBAAkB,GAAGF,aAAa,GAAG,CAA3C;EACA,MAAMG,kBAAkB,GAAGF,aAAa,GAAG,CAA3C;;EAEA,IAAIH,kBAAkB,IAAIC,iBAA1B,EAA6C;IAC3CT,CAAC,GAAGE,aAAa,GAAGG,YAAhB,GAA+BT,OAA/B,GAAyCE,WAAW,GAAGF,OAAd,GAAwBF,YAArE;EACD,CAFD,MAEO,IAAIc,kBAAJ,EAAwB;IAC7BR,CAAC,GAAGR,IAAI,GAAGI,OAAP,GAAiBF,YAArB;EACD,CAFM,MAEA;IACLM,CAAC,GAAGR,IAAI,GAAGI,OAAX;EACD;;EAED,IAAIgB,kBAAkB,IAAIC,kBAA1B,EAA8C;IAC5CZ,CAAC,GAAGS,aAAa,GAAGC,aAAhB,GAAgCd,OAAhC,GAA0CE,YAAY,GAAGF,OAAf,GAAyBF,aAAvE;EACD,CAFD,MAEO,IAAIiB,kBAAJ,EAAwB;IAC7BX,CAAC,GAAGR,IAAI,GAAGI,OAAP,GAAiBF,aAArB;EACD,CAFM,MAEA;IACLM,CAAC,GAAGR,IAAI,GAAGI,OAAX;EACD;;EACD,OAAO;IAAEG,CAAF;IAAKC;EAAL,CAAP;AACD,CAvCM"},"metadata":{},"sourceType":"module"}