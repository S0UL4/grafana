{"ast":null,"code":"var _IoArrowRightA, _IoArrowRightA2;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { css, keyframes } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\nimport IoAlert from 'react-icons/lib/io/alert';\nimport IoArrowRightA from 'react-icons/lib/io/arrow-right-a';\nimport { stylesFactory, withTheme2 } from '@grafana/ui';\nimport { autoColor } from '../Theme';\nimport SpanBar from './SpanBar';\nimport { SpanLinksMenu } from './SpanLinks';\nimport SpanTreeOffset from './SpanTreeOffset';\nimport Ticks from './Ticks';\nimport TimelineRow from './TimelineRow';\nimport { formatDuration } from './utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst spanBarClassName = 'spanBar';\nconst spanBarLabelClassName = 'spanBarLabel';\nconst nameWrapperClassName = 'nameWrapper';\nconst nameWrapperMatchingFilterClassName = 'nameWrapperMatchingFilter';\nconst viewClassName = 'jaegerView';\nconst nameColumnClassName = 'nameColumn';\nconst getStyles = stylesFactory(theme => {\n  const animations = {\n    flash: keyframes`\n    label: flash;\n    from {\n      background-color: ${autoColor(theme, '#68b9ff')};\n    }\n    to {\n      background-color: default;\n    }\n  `\n  };\n  return {\n    nameWrapper: css`\n      label: nameWrapper;\n      line-height: 27px;\n      overflow: hidden;\n      display: flex;\n    `,\n    nameWrapperMatchingFilter: css`\n      label: nameWrapperMatchingFilter;\n      background-color: ${autoColor(theme, '#fffce4')};\n    `,\n    nameColumn: css`\n      label: nameColumn;\n      position: relative;\n      white-space: nowrap;\n      z-index: 1;\n      &:hover {\n        z-index: 1;\n      }\n    `,\n    endpointName: css`\n      label: endpointName;\n      color: ${autoColor(theme, '#808080')};\n    `,\n    view: css`\n      label: view;\n      position: relative;\n    `,\n    viewExpanded: css`\n      label: viewExpanded;\n      background: ${autoColor(theme, '#f8f8f8')};\n      outline: 1px solid ${autoColor(theme, '#ddd')};\n    `,\n    viewExpandedAndMatchingFilter: css`\n      label: viewExpandedAndMatchingFilter;\n      background: ${autoColor(theme, '#fff3d7')};\n      outline: 1px solid ${autoColor(theme, '#ddd')};\n    `,\n    row: css`\n      label: row;\n      &:hover .${spanBarClassName} {\n        opacity: 1;\n      }\n      &:hover .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      &:hover .${nameWrapperClassName} {\n        background: #f8f8f8;\n        background: linear-gradient(\n          90deg,\n          ${autoColor(theme, '#fafafa')},\n          ${autoColor(theme, '#f8f8f8')} 75%,\n          ${autoColor(theme, '#eee')}\n        );\n      }\n      &:hover .${viewClassName} {\n        background-color: ${autoColor(theme, '#f5f5f5')};\n        outline: 1px solid ${autoColor(theme, '#ddd')};\n      }\n    `,\n    rowClippingLeft: css`\n      label: rowClippingLeft;\n      & .${nameColumnClassName}::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to right,\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')},\n          ${autoColor(theme, 'rgba(32, 32, 32, 0)')}\n        );\n        left: 100%;\n        z-index: -1;\n      }\n    `,\n    rowClippingRight: css`\n      label: rowClippingRight;\n      & .${viewClassName}::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to left,\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')},\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')}\n        );\n        right: 0%;\n        z-index: 1;\n      }\n    `,\n    rowExpanded: css`\n      label: rowExpanded;\n      & .${spanBarClassName} {\n        opacity: 1;\n      }\n      & .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      & .${nameWrapperClassName}, &:hover .${nameWrapperClassName} {\n        background: ${autoColor(theme, '#f0f0f0')};\n        box-shadow: 0 1px 0 ${autoColor(theme, '#ddd')};\n      }\n      & .${nameWrapperMatchingFilterClassName} {\n        background: ${autoColor(theme, '#fff3d7')};\n      }\n      &:hover .${viewClassName} {\n        background: ${autoColor(theme, '#eee')};\n      }\n    `,\n    rowMatchingFilter: css`\n      label: rowMatchingFilter;\n      background-color: ${autoColor(theme, '#fffbde')};\n      &:hover .${nameWrapperClassName} {\n        background: linear-gradient(\n          90deg,\n          ${autoColor(theme, '#fffbde')},\n          ${autoColor(theme, '#fffbde')} 75%,\n          ${autoColor(theme, '#f7f1c6')}\n        );\n      }\n      &:hover .${viewClassName} {\n        background-color: ${autoColor(theme, '#f7f1c6')};\n        outline: 1px solid ${autoColor(theme, '#ddd')};\n      }\n    `,\n    rowFocused: css`\n      label: rowFocused;\n      background-color: ${autoColor(theme, '#cbe7ff')};\n      animation: ${animations.flash} 1s cubic-bezier(0.12, 0, 0.39, 0);\n      & .${nameWrapperClassName}, .${viewClassName}, .${nameWrapperMatchingFilterClassName} {\n        background-color: ${autoColor(theme, '#cbe7ff')};\n        animation: ${animations.flash} 1s cubic-bezier(0.12, 0, 0.39, 0);\n      }\n      & .${spanBarClassName} {\n        opacity: 1;\n      }\n      & .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      &:hover .${nameWrapperClassName}, :hover .${viewClassName} {\n        background: ${autoColor(theme, '#d5ebff')};\n        box-shadow: 0 1px 0 ${autoColor(theme, '#ddd')};\n      }\n    `,\n    rowExpandedAndMatchingFilter: css`\n      label: rowExpandedAndMatchingFilter;\n      &:hover .${viewClassName} {\n        background: ${autoColor(theme, '#ffeccf')};\n      }\n    `,\n    name: css`\n      label: name;\n      color: ${autoColor(theme, '#000')};\n      cursor: pointer;\n      flex: 1 1 auto;\n      outline: none;\n      overflow-y: hidden;\n      overflow-x: auto;\n      margin-right: 8px;\n      padding-left: 4px;\n      padding-right: 0.25em;\n      position: relative;\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      &::before {\n        content: ' ';\n        position: absolute;\n        top: 4px;\n        bottom: 4px;\n        left: 0;\n        border-left: 4px solid;\n        border-left-color: inherit;\n      }\n      &:focus {\n        text-decoration: none;\n      }\n      &:hover > small {\n        color: ${autoColor(theme, '#000')};\n      }\n    `,\n    nameDetailExpanded: css`\n      label: nameDetailExpanded;\n      &::before {\n        bottom: 0;\n      }\n    `,\n    svcName: css`\n      label: svcName;\n      padding: 0 0.25rem 0 0.5rem;\n      font-size: 1.05em;\n    `,\n    svcNameChildrenCollapsed: css`\n      label: svcNameChildrenCollapsed;\n      font-weight: bold;\n      font-style: italic;\n    `,\n    errorIcon: css`\n      label: errorIcon;\n      border-radius: 6.5px;\n      color: ${autoColor(theme, '#fff')};\n      font-size: 0.85em;\n      margin-right: 0.25rem;\n      padding: 1px;\n    `,\n    rpcColorMarker: css`\n      label: rpcColorMarker;\n      border-radius: 6.5px;\n      display: inline-block;\n      font-size: 0.85em;\n      height: 1em;\n      margin-right: 0.25rem;\n      padding: 1px;\n      width: 1em;\n      vertical-align: middle;\n    `,\n    labelRight: css`\n      label: labelRight;\n      left: 100%;\n    `,\n    labelLeft: css`\n      label: labelLeft;\n      right: 100%;\n    `\n  };\n});\n\n/**\n * This was originally a stateless function, but changing to a PureComponent\n * reduced the render time of expanding a span row detail by ~50%. This is\n * even true in the case where the stateless function has the same prop types as\n * this class and arrow functions are created in the stateless function as\n * handlers to the onClick props. E.g. for now, the PureComponent is more\n * performance than the stateless function.\n */\nexport class UnthemedSpanBarRow extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_detailToggle\", () => {\n      this.props.onDetailToggled(this.props.span.spanID);\n    });\n\n    _defineProperty(this, \"_childrenToggle\", () => {\n      this.props.onChildrenToggled(this.props.span.spanID);\n    });\n  }\n\n  render() {\n    const {\n      className,\n      color,\n      columnDivision,\n      isChildrenExpanded,\n      isDetailExpanded,\n      isMatchingFilter,\n      isFocused,\n      numTicks,\n      rpc,\n      noInstrumentedServer,\n      showErrorIcon,\n      getViewedBounds,\n      traceStartTime,\n      span,\n      hoverIndentGuideIds,\n      addHoverIndentGuideId,\n      removeHoverIndentGuideId,\n      clippingLeft,\n      clippingRight,\n      theme,\n      createSpanLink\n    } = this.props;\n    const {\n      duration,\n      hasChildren: isParent,\n      operationName,\n      process: {\n        serviceName\n      }\n    } = span;\n    const label = formatDuration(duration);\n    const viewBounds = getViewedBounds(span.startTime, span.startTime + span.duration);\n    const viewStart = viewBounds.start;\n    const viewEnd = viewBounds.end;\n    const styles = getStyles(theme);\n    const labelDetail = `${serviceName}::${operationName}`;\n    let longLabel;\n    let hintClassName;\n\n    if (viewStart > 1 - viewEnd) {\n      longLabel = `${labelDetail} | ${label}`;\n      hintClassName = styles.labelLeft;\n    } else {\n      longLabel = `${label} | ${labelDetail}`;\n      hintClassName = styles.labelRight;\n    }\n\n    const countLinks = links => {\n      if (!links) {\n        return 0;\n      }\n\n      return Object.values(links).reduce((count, arr) => count + arr.length, 0);\n    };\n\n    return /*#__PURE__*/_jsxs(TimelineRow, {\n      className: cx(styles.row, {\n        [styles.rowExpanded]: isDetailExpanded,\n        [styles.rowMatchingFilter]: isMatchingFilter,\n        [styles.rowExpandedAndMatchingFilter]: isMatchingFilter && isDetailExpanded,\n        [styles.rowFocused]: isFocused,\n        [styles.rowClippingLeft]: clippingLeft,\n        [styles.rowClippingRight]: clippingRight\n      }, className),\n      children: [/*#__PURE__*/_jsx(TimelineRow.Cell, {\n        className: cx(styles.nameColumn, nameColumnClassName),\n        width: columnDivision,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: cx(styles.nameWrapper, nameWrapperClassName, {\n            [styles.nameWrapperMatchingFilter]: isMatchingFilter,\n            nameWrapperMatchingFilter: isMatchingFilter\n          }),\n          children: [/*#__PURE__*/_jsx(SpanTreeOffset, {\n            onClick: isParent ? this._childrenToggle : undefined,\n            childrenVisible: isChildrenExpanded,\n            span: span,\n            hoverIndentGuideIds: hoverIndentGuideIds,\n            addHoverIndentGuideId: addHoverIndentGuideId,\n            removeHoverIndentGuideId: removeHoverIndentGuideId\n          }), /*#__PURE__*/_jsxs(\"a\", {\n            className: cx(styles.name, {\n              [styles.nameDetailExpanded]: isDetailExpanded\n            }),\n            \"aria-checked\": isDetailExpanded,\n            title: labelDetail,\n            onClick: this._detailToggle,\n            role: \"switch\",\n            style: {\n              borderColor: color\n            },\n            tabIndex: 0,\n            children: [/*#__PURE__*/_jsxs(\"span\", {\n              className: cx(styles.svcName, {\n                [styles.svcNameChildrenCollapsed]: isParent && !isChildrenExpanded\n              }),\n              children: [showErrorIcon && /*#__PURE__*/_jsx(IoAlert, {\n                style: {\n                  backgroundColor: span.errorIconColor ? autoColor(theme, span.errorIconColor) : autoColor(theme, '#db2828')\n                },\n                className: styles.errorIcon\n              }), serviceName, ' ', rpc && /*#__PURE__*/_jsxs(\"span\", {\n                children: [_IoArrowRightA || (_IoArrowRightA = /*#__PURE__*/_jsx(IoArrowRightA, {})), \" \", /*#__PURE__*/_jsx(\"i\", {\n                  className: styles.rpcColorMarker,\n                  style: {\n                    background: rpc.color\n                  }\n                }), rpc.serviceName]\n              }), noInstrumentedServer && /*#__PURE__*/_jsxs(\"span\", {\n                children: [_IoArrowRightA2 || (_IoArrowRightA2 = /*#__PURE__*/_jsx(IoArrowRightA, {})), ' ', /*#__PURE__*/_jsx(\"i\", {\n                  className: styles.rpcColorMarker,\n                  style: {\n                    background: noInstrumentedServer.color\n                  }\n                }), noInstrumentedServer.serviceName]\n              })]\n            }), /*#__PURE__*/_jsx(\"small\", {\n              className: styles.endpointName,\n              children: rpc ? rpc.operationName : operationName\n            }), /*#__PURE__*/_jsxs(\"small\", {\n              className: styles.endpointName,\n              children: [\" | \", label]\n            })]\n          }), createSpanLink && (() => {\n            const links = createSpanLink(span);\n            const count = countLinks(links);\n\n            if (links && count === 1) {\n              var _ref, _ref2, _links$logLinks$, _links$logLinks, _links$metricLinks, _links$traceLinks;\n\n              const link = (_ref = (_ref2 = (_links$logLinks$ = (_links$logLinks = links.logLinks) === null || _links$logLinks === void 0 ? void 0 : _links$logLinks[0]) !== null && _links$logLinks$ !== void 0 ? _links$logLinks$ : (_links$metricLinks = links.metricLinks) === null || _links$metricLinks === void 0 ? void 0 : _links$metricLinks[0]) !== null && _ref2 !== void 0 ? _ref2 : (_links$traceLinks = links.traceLinks) === null || _links$traceLinks === void 0 ? void 0 : _links$traceLinks[0]) !== null && _ref !== void 0 ? _ref : undefined;\n\n              if (!link) {\n                return null;\n              }\n\n              return /*#__PURE__*/_jsx(\"a\", {\n                href: link.href // Needs to have target otherwise preventDefault would not work due to angularRouter.\n                ,\n                target: '_blank',\n                style: {\n                  marginRight: '5px'\n                },\n                rel: \"noopener noreferrer\",\n                onClick: link.onClick ? event => {\n                  if (!(event.ctrlKey || event.metaKey || event.shiftKey) && link.onClick) {\n                    event.preventDefault();\n                    link.onClick(event);\n                  }\n                } : undefined,\n                children: link.content\n              });\n            } else if (links && count > 1) {\n              return /*#__PURE__*/_jsx(SpanLinksMenu, {\n                links: links\n              });\n            } else {\n              return null;\n            }\n          })()]\n        })\n      }), /*#__PURE__*/_jsxs(TimelineRow.Cell, {\n        className: cx(styles.view, viewClassName, {\n          [styles.viewExpanded]: isDetailExpanded,\n          [styles.viewExpandedAndMatchingFilter]: isMatchingFilter && isDetailExpanded\n        }),\n        \"data-testid\": \"span-view\",\n        style: {\n          cursor: 'pointer'\n        },\n        width: 1 - columnDivision,\n        onClick: this._detailToggle,\n        children: [/*#__PURE__*/_jsx(Ticks, {\n          numTicks: numTicks\n        }), /*#__PURE__*/_jsx(SpanBar, {\n          rpc: rpc,\n          viewStart: viewStart,\n          viewEnd: viewEnd,\n          getViewedBounds: getViewedBounds,\n          color: color,\n          shortLabel: label,\n          longLabel: longLabel,\n          traceStartTime: traceStartTime,\n          span: span,\n          labelClassName: `${spanBarLabelClassName} ${hintClassName}`,\n          className: spanBarClassName\n        })]\n      })]\n    });\n  }\n\n}\n\n_defineProperty(UnthemedSpanBarRow, \"displayName\", 'UnthemedSpanBarRow');\n\n_defineProperty(UnthemedSpanBarRow, \"defaultProps\", {\n  className: '',\n  rpc: null\n});\n\nexport default withTheme2(UnthemedSpanBarRow);","map":{"version":3,"names":["css","keyframes","cx","React","IoAlert","IoArrowRightA","stylesFactory","withTheme2","autoColor","SpanBar","SpanLinksMenu","SpanTreeOffset","Ticks","TimelineRow","formatDuration","spanBarClassName","spanBarLabelClassName","nameWrapperClassName","nameWrapperMatchingFilterClassName","viewClassName","nameColumnClassName","getStyles","theme","animations","flash","nameWrapper","nameWrapperMatchingFilter","nameColumn","endpointName","view","viewExpanded","viewExpandedAndMatchingFilter","row","rowClippingLeft","rowClippingRight","rowExpanded","rowMatchingFilter","rowFocused","rowExpandedAndMatchingFilter","name","nameDetailExpanded","svcName","svcNameChildrenCollapsed","errorIcon","rpcColorMarker","labelRight","labelLeft","UnthemedSpanBarRow","PureComponent","props","onDetailToggled","span","spanID","onChildrenToggled","render","className","color","columnDivision","isChildrenExpanded","isDetailExpanded","isMatchingFilter","isFocused","numTicks","rpc","noInstrumentedServer","showErrorIcon","getViewedBounds","traceStartTime","hoverIndentGuideIds","addHoverIndentGuideId","removeHoverIndentGuideId","clippingLeft","clippingRight","createSpanLink","duration","hasChildren","isParent","operationName","process","serviceName","label","viewBounds","startTime","viewStart","start","viewEnd","end","styles","labelDetail","longLabel","hintClassName","countLinks","links","Object","values","reduce","count","arr","length","_childrenToggle","undefined","_detailToggle","borderColor","backgroundColor","errorIconColor","background","link","logLinks","metricLinks","traceLinks","href","marginRight","onClick","event","ctrlKey","metaKey","shiftKey","preventDefault","content","cursor"],"sources":["/home/soula/grafana/packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBarRow.tsx"],"sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { css, keyframes } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\nimport IoAlert from 'react-icons/lib/io/alert';\nimport IoArrowRightA from 'react-icons/lib/io/arrow-right-a';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { stylesFactory, withTheme2 } from '@grafana/ui';\n\nimport { autoColor } from '../Theme';\nimport { SpanLinkFunc, TNil } from '../types';\nimport { SpanLinks } from '../types/links';\nimport { TraceSpan } from '../types/trace';\n\nimport SpanBar from './SpanBar';\nimport { SpanLinksMenu } from './SpanLinks';\nimport SpanTreeOffset from './SpanTreeOffset';\nimport Ticks from './Ticks';\nimport TimelineRow from './TimelineRow';\nimport { formatDuration, ViewedBoundsFunctionType } from './utils';\n\nconst spanBarClassName = 'spanBar';\nconst spanBarLabelClassName = 'spanBarLabel';\nconst nameWrapperClassName = 'nameWrapper';\nconst nameWrapperMatchingFilterClassName = 'nameWrapperMatchingFilter';\nconst viewClassName = 'jaegerView';\nconst nameColumnClassName = 'nameColumn';\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  const animations = {\n    flash: keyframes`\n    label: flash;\n    from {\n      background-color: ${autoColor(theme, '#68b9ff')};\n    }\n    to {\n      background-color: default;\n    }\n  `,\n  };\n\n  return {\n    nameWrapper: css`\n      label: nameWrapper;\n      line-height: 27px;\n      overflow: hidden;\n      display: flex;\n    `,\n    nameWrapperMatchingFilter: css`\n      label: nameWrapperMatchingFilter;\n      background-color: ${autoColor(theme, '#fffce4')};\n    `,\n    nameColumn: css`\n      label: nameColumn;\n      position: relative;\n      white-space: nowrap;\n      z-index: 1;\n      &:hover {\n        z-index: 1;\n      }\n    `,\n    endpointName: css`\n      label: endpointName;\n      color: ${autoColor(theme, '#808080')};\n    `,\n    view: css`\n      label: view;\n      position: relative;\n    `,\n    viewExpanded: css`\n      label: viewExpanded;\n      background: ${autoColor(theme, '#f8f8f8')};\n      outline: 1px solid ${autoColor(theme, '#ddd')};\n    `,\n    viewExpandedAndMatchingFilter: css`\n      label: viewExpandedAndMatchingFilter;\n      background: ${autoColor(theme, '#fff3d7')};\n      outline: 1px solid ${autoColor(theme, '#ddd')};\n    `,\n    row: css`\n      label: row;\n      &:hover .${spanBarClassName} {\n        opacity: 1;\n      }\n      &:hover .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      &:hover .${nameWrapperClassName} {\n        background: #f8f8f8;\n        background: linear-gradient(\n          90deg,\n          ${autoColor(theme, '#fafafa')},\n          ${autoColor(theme, '#f8f8f8')} 75%,\n          ${autoColor(theme, '#eee')}\n        );\n      }\n      &:hover .${viewClassName} {\n        background-color: ${autoColor(theme, '#f5f5f5')};\n        outline: 1px solid ${autoColor(theme, '#ddd')};\n      }\n    `,\n    rowClippingLeft: css`\n      label: rowClippingLeft;\n      & .${nameColumnClassName}::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to right,\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')},\n          ${autoColor(theme, 'rgba(32, 32, 32, 0)')}\n        );\n        left: 100%;\n        z-index: -1;\n      }\n    `,\n    rowClippingRight: css`\n      label: rowClippingRight;\n      & .${viewClassName}::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to left,\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')},\n          ${autoColor(theme, 'rgba(25, 25, 25, 0.25)')}\n        );\n        right: 0%;\n        z-index: 1;\n      }\n    `,\n    rowExpanded: css`\n      label: rowExpanded;\n      & .${spanBarClassName} {\n        opacity: 1;\n      }\n      & .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      & .${nameWrapperClassName}, &:hover .${nameWrapperClassName} {\n        background: ${autoColor(theme, '#f0f0f0')};\n        box-shadow: 0 1px 0 ${autoColor(theme, '#ddd')};\n      }\n      & .${nameWrapperMatchingFilterClassName} {\n        background: ${autoColor(theme, '#fff3d7')};\n      }\n      &:hover .${viewClassName} {\n        background: ${autoColor(theme, '#eee')};\n      }\n    `,\n    rowMatchingFilter: css`\n      label: rowMatchingFilter;\n      background-color: ${autoColor(theme, '#fffbde')};\n      &:hover .${nameWrapperClassName} {\n        background: linear-gradient(\n          90deg,\n          ${autoColor(theme, '#fffbde')},\n          ${autoColor(theme, '#fffbde')} 75%,\n          ${autoColor(theme, '#f7f1c6')}\n        );\n      }\n      &:hover .${viewClassName} {\n        background-color: ${autoColor(theme, '#f7f1c6')};\n        outline: 1px solid ${autoColor(theme, '#ddd')};\n      }\n    `,\n    rowFocused: css`\n      label: rowFocused;\n      background-color: ${autoColor(theme, '#cbe7ff')};\n      animation: ${animations.flash} 1s cubic-bezier(0.12, 0, 0.39, 0);\n      & .${nameWrapperClassName}, .${viewClassName}, .${nameWrapperMatchingFilterClassName} {\n        background-color: ${autoColor(theme, '#cbe7ff')};\n        animation: ${animations.flash} 1s cubic-bezier(0.12, 0, 0.39, 0);\n      }\n      & .${spanBarClassName} {\n        opacity: 1;\n      }\n      & .${spanBarLabelClassName} {\n        color: ${autoColor(theme, '#000')};\n      }\n      &:hover .${nameWrapperClassName}, :hover .${viewClassName} {\n        background: ${autoColor(theme, '#d5ebff')};\n        box-shadow: 0 1px 0 ${autoColor(theme, '#ddd')};\n      }\n    `,\n\n    rowExpandedAndMatchingFilter: css`\n      label: rowExpandedAndMatchingFilter;\n      &:hover .${viewClassName} {\n        background: ${autoColor(theme, '#ffeccf')};\n      }\n    `,\n\n    name: css`\n      label: name;\n      color: ${autoColor(theme, '#000')};\n      cursor: pointer;\n      flex: 1 1 auto;\n      outline: none;\n      overflow-y: hidden;\n      overflow-x: auto;\n      margin-right: 8px;\n      padding-left: 4px;\n      padding-right: 0.25em;\n      position: relative;\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n      &::before {\n        content: ' ';\n        position: absolute;\n        top: 4px;\n        bottom: 4px;\n        left: 0;\n        border-left: 4px solid;\n        border-left-color: inherit;\n      }\n      &:focus {\n        text-decoration: none;\n      }\n      &:hover > small {\n        color: ${autoColor(theme, '#000')};\n      }\n    `,\n    nameDetailExpanded: css`\n      label: nameDetailExpanded;\n      &::before {\n        bottom: 0;\n      }\n    `,\n    svcName: css`\n      label: svcName;\n      padding: 0 0.25rem 0 0.5rem;\n      font-size: 1.05em;\n    `,\n    svcNameChildrenCollapsed: css`\n      label: svcNameChildrenCollapsed;\n      font-weight: bold;\n      font-style: italic;\n    `,\n    errorIcon: css`\n      label: errorIcon;\n      border-radius: 6.5px;\n      color: ${autoColor(theme, '#fff')};\n      font-size: 0.85em;\n      margin-right: 0.25rem;\n      padding: 1px;\n    `,\n    rpcColorMarker: css`\n      label: rpcColorMarker;\n      border-radius: 6.5px;\n      display: inline-block;\n      font-size: 0.85em;\n      height: 1em;\n      margin-right: 0.25rem;\n      padding: 1px;\n      width: 1em;\n      vertical-align: middle;\n    `,\n    labelRight: css`\n      label: labelRight;\n      left: 100%;\n    `,\n    labelLeft: css`\n      label: labelLeft;\n      right: 100%;\n    `,\n  };\n});\n\ntype SpanBarRowProps = {\n  className?: string;\n  theme: GrafanaTheme2;\n  color: string;\n  columnDivision: number;\n  isChildrenExpanded: boolean;\n  isDetailExpanded: boolean;\n  isMatchingFilter: boolean;\n  isFocused: boolean;\n  onDetailToggled: (spanID: string) => void;\n  onChildrenToggled: (spanID: string) => void;\n  numTicks: number;\n  rpc?:\n    | {\n        viewStart: number;\n        viewEnd: number;\n        color: string;\n        operationName: string;\n        serviceName: string;\n      }\n    | TNil;\n  noInstrumentedServer?:\n    | {\n        color: string;\n        serviceName: string;\n      }\n    | TNil;\n  showErrorIcon: boolean;\n  getViewedBounds: ViewedBoundsFunctionType;\n  traceStartTime: number;\n  span: TraceSpan;\n  hoverIndentGuideIds: Set<string>;\n  addHoverIndentGuideId: (spanID: string) => void;\n  removeHoverIndentGuideId: (spanID: string) => void;\n  clippingLeft?: boolean;\n  clippingRight?: boolean;\n  createSpanLink?: SpanLinkFunc;\n};\n\n/**\n * This was originally a stateless function, but changing to a PureComponent\n * reduced the render time of expanding a span row detail by ~50%. This is\n * even true in the case where the stateless function has the same prop types as\n * this class and arrow functions are created in the stateless function as\n * handlers to the onClick props. E.g. for now, the PureComponent is more\n * performance than the stateless function.\n */\nexport class UnthemedSpanBarRow extends React.PureComponent<SpanBarRowProps> {\n  static displayName = 'UnthemedSpanBarRow';\n  static defaultProps: Partial<SpanBarRowProps> = {\n    className: '',\n    rpc: null,\n  };\n\n  _detailToggle = () => {\n    this.props.onDetailToggled(this.props.span.spanID);\n  };\n\n  _childrenToggle = () => {\n    this.props.onChildrenToggled(this.props.span.spanID);\n  };\n\n  render() {\n    const {\n      className,\n      color,\n      columnDivision,\n      isChildrenExpanded,\n      isDetailExpanded,\n      isMatchingFilter,\n      isFocused,\n      numTicks,\n      rpc,\n      noInstrumentedServer,\n      showErrorIcon,\n      getViewedBounds,\n      traceStartTime,\n      span,\n      hoverIndentGuideIds,\n      addHoverIndentGuideId,\n      removeHoverIndentGuideId,\n      clippingLeft,\n      clippingRight,\n      theme,\n      createSpanLink,\n    } = this.props;\n    const {\n      duration,\n      hasChildren: isParent,\n      operationName,\n      process: { serviceName },\n    } = span;\n    const label = formatDuration(duration);\n    const viewBounds = getViewedBounds(span.startTime, span.startTime + span.duration);\n    const viewStart = viewBounds.start;\n    const viewEnd = viewBounds.end;\n    const styles = getStyles(theme);\n\n    const labelDetail = `${serviceName}::${operationName}`;\n    let longLabel;\n    let hintClassName;\n    if (viewStart > 1 - viewEnd) {\n      longLabel = `${labelDetail} | ${label}`;\n      hintClassName = styles.labelLeft;\n    } else {\n      longLabel = `${label} | ${labelDetail}`;\n      hintClassName = styles.labelRight;\n    }\n\n    const countLinks = (links?: SpanLinks): number => {\n      if (!links) {\n        return 0;\n      }\n\n      return Object.values(links).reduce((count, arr) => count + arr.length, 0);\n    };\n\n    return (\n      <TimelineRow\n        className={cx(\n          styles.row,\n          {\n            [styles.rowExpanded]: isDetailExpanded,\n            [styles.rowMatchingFilter]: isMatchingFilter,\n            [styles.rowExpandedAndMatchingFilter]: isMatchingFilter && isDetailExpanded,\n            [styles.rowFocused]: isFocused,\n            [styles.rowClippingLeft]: clippingLeft,\n            [styles.rowClippingRight]: clippingRight,\n          },\n          className\n        )}\n      >\n        <TimelineRow.Cell className={cx(styles.nameColumn, nameColumnClassName)} width={columnDivision}>\n          <div\n            className={cx(styles.nameWrapper, nameWrapperClassName, {\n              [styles.nameWrapperMatchingFilter]: isMatchingFilter,\n              nameWrapperMatchingFilter: isMatchingFilter,\n            })}\n          >\n            <SpanTreeOffset\n              onClick={isParent ? this._childrenToggle : undefined}\n              childrenVisible={isChildrenExpanded}\n              span={span}\n              hoverIndentGuideIds={hoverIndentGuideIds}\n              addHoverIndentGuideId={addHoverIndentGuideId}\n              removeHoverIndentGuideId={removeHoverIndentGuideId}\n            />\n            <a\n              className={cx(styles.name, { [styles.nameDetailExpanded]: isDetailExpanded })}\n              aria-checked={isDetailExpanded}\n              title={labelDetail}\n              onClick={this._detailToggle}\n              role=\"switch\"\n              style={{ borderColor: color }}\n              tabIndex={0}\n            >\n              <span\n                className={cx(styles.svcName, {\n                  [styles.svcNameChildrenCollapsed]: isParent && !isChildrenExpanded,\n                })}\n              >\n                {showErrorIcon && (\n                  <IoAlert\n                    style={{\n                      backgroundColor: span.errorIconColor\n                        ? autoColor(theme, span.errorIconColor)\n                        : autoColor(theme, '#db2828'),\n                    }}\n                    className={styles.errorIcon}\n                  />\n                )}\n                {serviceName}{' '}\n                {rpc && (\n                  <span>\n                    <IoArrowRightA /> <i className={styles.rpcColorMarker} style={{ background: rpc.color }} />\n                    {rpc.serviceName}\n                  </span>\n                )}\n                {noInstrumentedServer && (\n                  <span>\n                    <IoArrowRightA />{' '}\n                    <i className={styles.rpcColorMarker} style={{ background: noInstrumentedServer.color }} />\n                    {noInstrumentedServer.serviceName}\n                  </span>\n                )}\n              </span>\n              <small className={styles.endpointName}>{rpc ? rpc.operationName : operationName}</small>\n              <small className={styles.endpointName}> | {label}</small>\n            </a>\n            {createSpanLink &&\n              (() => {\n                const links = createSpanLink(span);\n                const count = countLinks(links);\n                if (links && count === 1) {\n                  const link = links.logLinks?.[0] ?? links.metricLinks?.[0] ?? links.traceLinks?.[0] ?? undefined;\n                  if (!link) {\n                    return null;\n                  }\n\n                  return (\n                    <a\n                      href={link.href}\n                      // Needs to have target otherwise preventDefault would not work due to angularRouter.\n                      target={'_blank'}\n                      style={{ marginRight: '5px' }}\n                      rel=\"noopener noreferrer\"\n                      onClick={\n                        link.onClick\n                          ? (event) => {\n                              if (!(event.ctrlKey || event.metaKey || event.shiftKey) && link.onClick) {\n                                event.preventDefault();\n                                link.onClick(event);\n                              }\n                            }\n                          : undefined\n                      }\n                    >\n                      {link.content}\n                    </a>\n                  );\n                } else if (links && count > 1) {\n                  return <SpanLinksMenu links={links} />;\n                } else {\n                  return null;\n                }\n              })()}\n          </div>\n        </TimelineRow.Cell>\n        <TimelineRow.Cell\n          className={cx(styles.view, viewClassName, {\n            [styles.viewExpanded]: isDetailExpanded,\n            [styles.viewExpandedAndMatchingFilter]: isMatchingFilter && isDetailExpanded,\n          })}\n          data-testid=\"span-view\"\n          style={{ cursor: 'pointer' }}\n          width={1 - columnDivision}\n          onClick={this._detailToggle}\n        >\n          <Ticks numTicks={numTicks} />\n          <SpanBar\n            rpc={rpc}\n            viewStart={viewStart}\n            viewEnd={viewEnd}\n            getViewedBounds={getViewedBounds}\n            color={color}\n            shortLabel={label}\n            longLabel={longLabel}\n            traceStartTime={traceStartTime}\n            span={span}\n            labelClassName={`${spanBarLabelClassName} ${hintClassName}`}\n            className={spanBarClassName}\n          />\n        </TimelineRow.Cell>\n      </TimelineRow>\n    );\n  }\n}\n\nexport default withTheme2(UnthemedSpanBarRow);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}