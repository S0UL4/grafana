{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DataSourcePlugin } from '@grafana/data';\nimport { PostgresConfigCtrl } from './config_ctrl';\nimport { PostgresDatasource } from './datasource';\nimport { PostgresQueryCtrl } from './query_ctrl';\nconst defaultQuery = `SELECT\n  extract(epoch from time_column) AS time,\n  text_column as text,\n  tags_column as tags\nFROM\n  metric_table\nWHERE\n  $__timeFilter(time_column)\n`;\n\nclass PostgresAnnotationsQueryCtrl {\n  /** @ngInject */\n  constructor($scope) {\n    this.annotation = $scope.ctrl.annotation;\n    this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\n  }\n\n}\n\nPostgresAnnotationsQueryCtrl.$inject = [\"$scope\"];\n\n_defineProperty(PostgresAnnotationsQueryCtrl, \"templateUrl\", 'partials/annotations.editor.html');\n\nexport const plugin = new DataSourcePlugin(PostgresDatasource).setQueryCtrl(PostgresQueryCtrl).setConfigCtrl(PostgresConfigCtrl).setAnnotationQueryCtrl(PostgresAnnotationsQueryCtrl);","map":{"version":3,"names":["DataSourcePlugin","PostgresConfigCtrl","PostgresDatasource","PostgresQueryCtrl","defaultQuery","PostgresAnnotationsQueryCtrl","constructor","$scope","annotation","ctrl","rawQuery","plugin","setQueryCtrl","setConfigCtrl","setAnnotationQueryCtrl"],"sources":["/home/soula/grafana/public/app/plugins/datasource/postgres/module.ts"],"sourcesContent":["import { DataSourcePlugin } from '@grafana/data';\n\nimport { PostgresConfigCtrl } from './config_ctrl';\nimport { PostgresDatasource } from './datasource';\nimport { PostgresQueryCtrl } from './query_ctrl';\nimport { PostgresQuery } from './types';\n\nconst defaultQuery = `SELECT\n  extract(epoch from time_column) AS time,\n  text_column as text,\n  tags_column as tags\nFROM\n  metric_table\nWHERE\n  $__timeFilter(time_column)\n`;\n\nclass PostgresAnnotationsQueryCtrl {\n  static templateUrl = 'partials/annotations.editor.html';\n\n  declare annotation: any;\n\n  /** @ngInject */\n  constructor($scope: any) {\n    this.annotation = $scope.ctrl.annotation;\n    this.annotation.rawQuery = this.annotation.rawQuery || defaultQuery;\n  }\n}\n\nexport const plugin = new DataSourcePlugin<PostgresDatasource, PostgresQuery>(PostgresDatasource)\n  .setQueryCtrl(PostgresQueryCtrl)\n  .setConfigCtrl(PostgresConfigCtrl)\n  .setAnnotationQueryCtrl(PostgresAnnotationsQueryCtrl);\n"],"mappings":";;AAAA,SAASA,gBAAT,QAAiC,eAAjC;AAEA,SAASC,kBAAT,QAAmC,eAAnC;AACA,SAASC,kBAAT,QAAmC,cAAnC;AACA,SAASC,iBAAT,QAAkC,cAAlC;AAGA,MAAMC,YAAY,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;;AAUA,MAAMC,4BAAN,CAAmC;EAKjC;EACAC,WAAW,CAACC,MAAD,EAAc;IACvB,KAAKC,UAAL,GAAkBD,MAAM,CAACE,IAAP,CAAYD,UAA9B;IACA,KAAKA,UAAL,CAAgBE,QAAhB,GAA2B,KAAKF,UAAL,CAAgBE,QAAhB,IAA4BN,YAAvD;EACD;;AATgC;;;;gBAA7BC,4B,iBACiB,kC;;AAWvB,OAAO,MAAMM,MAAM,GAAG,IAAIX,gBAAJ,CAAwDE,kBAAxD,EACnBU,YADmB,CACNT,iBADM,EAEnBU,aAFmB,CAELZ,kBAFK,EAGnBa,sBAHmB,CAGIT,4BAHJ,CAAf"},"metadata":{},"sourceType":"module"}