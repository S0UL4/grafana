{"ast":null,"code":"import React from 'react';\nimport { getValueFromDimension } from '@grafana/data';\nimport { SeriesTable } from '../../VizTooltip';\nimport { getMultiSeriesGraphHoverInfo } from '../utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const MultiModeGraphTooltip = ({\n  dimensions,\n  activeDimensions,\n  pos,\n  timeZone\n}) => {\n  let activeSeriesIndex = null; // when no x-axis provided, skip rendering\n\n  if (activeDimensions.xAxis === null) {\n    return null;\n  }\n\n  if (activeDimensions.yAxis) {\n    activeSeriesIndex = activeDimensions.yAxis[0];\n  } // when not hovering over a point, time is undefined, and we use pos.x as time\n\n\n  const time = activeDimensions.xAxis[1] ? getValueFromDimension(dimensions.xAxis, activeDimensions.xAxis[0], activeDimensions.xAxis[1]) : pos.x;\n  const hoverInfo = getMultiSeriesGraphHoverInfo(dimensions.yAxis.columns, dimensions.xAxis.columns, time, timeZone);\n  const timestamp = hoverInfo.time;\n  const series = hoverInfo.results.map((s, i) => {\n    return {\n      color: s.color,\n      label: s.label,\n      value: s.value,\n      isActive: activeSeriesIndex === i\n    };\n  });\n  return /*#__PURE__*/_jsx(SeriesTable, {\n    series: series,\n    timestamp: timestamp\n  });\n};\nMultiModeGraphTooltip.displayName = 'MultiModeGraphTooltip';","map":{"version":3,"names":["React","getValueFromDimension","SeriesTable","getMultiSeriesGraphHoverInfo","MultiModeGraphTooltip","dimensions","activeDimensions","pos","timeZone","activeSeriesIndex","xAxis","yAxis","time","x","hoverInfo","columns","timestamp","series","results","map","s","i","color","label","value","isActive","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Graph/GraphTooltip/MultiModeGraphTooltip.tsx"],"sourcesContent":["import React from 'react';\n\nimport { getValueFromDimension } from '@grafana/data';\n\nimport { SeriesTable } from '../../VizTooltip';\nimport { FlotPosition } from '../types';\nimport { getMultiSeriesGraphHoverInfo } from '../utils';\n\nimport { GraphTooltipContentProps } from './types';\n\nexport const MultiModeGraphTooltip: React.FC<\n  GraphTooltipContentProps & {\n    // We expect position to figure out correct values when not hovering over a datapoint\n    pos: FlotPosition;\n  }\n> = ({ dimensions, activeDimensions, pos, timeZone }) => {\n  let activeSeriesIndex: number | null = null;\n  // when no x-axis provided, skip rendering\n  if (activeDimensions.xAxis === null) {\n    return null;\n  }\n\n  if (activeDimensions.yAxis) {\n    activeSeriesIndex = activeDimensions.yAxis[0];\n  }\n\n  // when not hovering over a point, time is undefined, and we use pos.x as time\n  const time = activeDimensions.xAxis[1]\n    ? getValueFromDimension(dimensions.xAxis, activeDimensions.xAxis[0], activeDimensions.xAxis[1])\n    : pos.x;\n\n  const hoverInfo = getMultiSeriesGraphHoverInfo(dimensions.yAxis.columns, dimensions.xAxis.columns, time, timeZone);\n  const timestamp = hoverInfo.time;\n\n  const series = hoverInfo.results.map((s, i) => {\n    return {\n      color: s.color,\n      label: s.label,\n      value: s.value,\n      isActive: activeSeriesIndex === i,\n    };\n  });\n\n  return <SeriesTable series={series} timestamp={timestamp} />;\n};\n\nMultiModeGraphTooltip.displayName = 'MultiModeGraphTooltip';\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,qBAAT,QAAsC,eAAtC;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,SAASC,4BAAT,QAA6C,UAA7C;;AAIA,OAAO,MAAMC,qBAKZ,GAAG,CAAC;EAAEC,UAAF;EAAcC,gBAAd;EAAgCC,GAAhC;EAAqCC;AAArC,CAAD,KAAqD;EACvD,IAAIC,iBAAgC,GAAG,IAAvC,CADuD,CAEvD;;EACA,IAAIH,gBAAgB,CAACI,KAAjB,KAA2B,IAA/B,EAAqC;IACnC,OAAO,IAAP;EACD;;EAED,IAAIJ,gBAAgB,CAACK,KAArB,EAA4B;IAC1BF,iBAAiB,GAAGH,gBAAgB,CAACK,KAAjB,CAAuB,CAAvB,CAApB;EACD,CATsD,CAWvD;;;EACA,MAAMC,IAAI,GAAGN,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,IACTT,qBAAqB,CAACI,UAAU,CAACK,KAAZ,EAAmBJ,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAAnB,EAA8CJ,gBAAgB,CAACI,KAAjB,CAAuB,CAAvB,CAA9C,CADZ,GAETH,GAAG,CAACM,CAFR;EAIA,MAAMC,SAAS,GAAGX,4BAA4B,CAACE,UAAU,CAACM,KAAX,CAAiBI,OAAlB,EAA2BV,UAAU,CAACK,KAAX,CAAiBK,OAA5C,EAAqDH,IAArD,EAA2DJ,QAA3D,CAA9C;EACA,MAAMQ,SAAS,GAAGF,SAAS,CAACF,IAA5B;EAEA,MAAMK,MAAM,GAAGH,SAAS,CAACI,OAAV,CAAkBC,GAAlB,CAAsB,CAACC,CAAD,EAAIC,CAAJ,KAAU;IAC7C,OAAO;MACLC,KAAK,EAAEF,CAAC,CAACE,KADJ;MAELC,KAAK,EAAEH,CAAC,CAACG,KAFJ;MAGLC,KAAK,EAAEJ,CAAC,CAACI,KAHJ;MAILC,QAAQ,EAAEhB,iBAAiB,KAAKY;IAJ3B,CAAP;EAMD,CAPc,CAAf;EASA,oBAAO,KAAC,WAAD;IAAa,MAAM,EAAEJ,MAArB;IAA6B,SAAS,EAAED;EAAxC,EAAP;AACD,CAlCM;AAoCPZ,qBAAqB,CAACsB,WAAtB,GAAoC,uBAApC"},"metadata":{},"sourceType":"module"}