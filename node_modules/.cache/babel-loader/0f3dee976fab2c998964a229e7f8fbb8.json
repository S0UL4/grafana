{"ast":null,"code":"let factory;\n/**\n * @internal\n */\n\n/**\n * Used to bootstrap the {@link createQueryRunner} during application start.\n *\n * @internal\n */\nexport const setQueryRunnerFactory = instance => {\n  if (factory) {\n    throw new Error('Runner should only be set when Grafana is starting.');\n  }\n\n  factory = instance;\n};\n/**\n * Used to create QueryRunner instances from outside the core Grafana application.\n * This is helpful to be able to create a QueryRunner to execute queries in e.g. an app plugin.\n *\n * @internal\n */\n\nexport const createQueryRunner = () => {\n  if (!factory) {\n    throw new Error('`createQueryRunner` can only be used after Grafana instance has started.');\n  }\n\n  return factory();\n};","map":{"version":3,"names":["factory","setQueryRunnerFactory","instance","Error","createQueryRunner"],"sources":["/home/soula/grafana/packages/grafana-runtime/src/services/QueryRunner.ts"],"sourcesContent":["import { QueryRunner } from '@grafana/data';\n\nlet factory: QueryRunnerFactory | undefined;\n\n/**\n * @internal\n */\nexport type QueryRunnerFactory = () => QueryRunner;\n\n/**\n * Used to bootstrap the {@link createQueryRunner} during application start.\n *\n * @internal\n */\nexport const setQueryRunnerFactory = (instance: QueryRunnerFactory): void => {\n  if (factory) {\n    throw new Error('Runner should only be set when Grafana is starting.');\n  }\n  factory = instance;\n};\n\n/**\n * Used to create QueryRunner instances from outside the core Grafana application.\n * This is helpful to be able to create a QueryRunner to execute queries in e.g. an app plugin.\n *\n * @internal\n */\nexport const createQueryRunner = (): QueryRunner => {\n  if (!factory) {\n    throw new Error('`createQueryRunner` can only be used after Grafana instance has started.');\n  }\n  return factory();\n};\n"],"mappings":"AAEA,IAAIA,OAAJ;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,qBAAqB,GAAIC,QAAD,IAAwC;EAC3E,IAAIF,OAAJ,EAAa;IACX,MAAM,IAAIG,KAAJ,CAAU,qDAAV,CAAN;EACD;;EACDH,OAAO,GAAGE,QAAV;AACD,CALM;AAOP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAME,iBAAiB,GAAG,MAAmB;EAClD,IAAI,CAACJ,OAAL,EAAc;IACZ,MAAM,IAAIG,KAAJ,CAAU,0EAAV,CAAN;EACD;;EACD,OAAOH,OAAO,EAAd;AACD,CALM"},"metadata":{},"sourceType":"module"}