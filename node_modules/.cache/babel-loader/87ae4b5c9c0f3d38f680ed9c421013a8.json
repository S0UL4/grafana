{"ast":null,"code":"var _symbol, _g, _use, _use2, _use3;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2 } from '@grafana/ui';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst WindTurbineDisplay = props => {\n  const styles = useStyles2(getStyles);\n  const {\n    data\n  } = props;\n  const windTurbineAnimation = `spin ${data !== null && data !== void 0 && data.rpm ? 60 / Math.abs(data.rpm) : 0}s linear infinite`;\n  return /*#__PURE__*/_jsxs(\"svg\", {\n    viewBox: \"0 0 189.326 283.989\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    children: [_symbol || (_symbol = /*#__PURE__*/_jsxs(\"symbol\", {\n      id: \"blade\",\n      children: [/*#__PURE__*/_jsx(\"path\", {\n        fill: \"#e6e6e6\",\n        id: \"blade-front\",\n        d: \"M14.6491879,1.85011601 C14.2684455,-0.0535962877 10.7150812,-0.815081206 9.06473318,3.37308585 L0.434338747,70.7658933 L8.93805104,91.9607889 L15.4106729,90.437819 L17.5684455,78.3807425 L14.5218097,1.97679814 L14.6491879,1.85011601 Z\"\n      }), /*#__PURE__*/_jsx(\"path\", {\n        fill: \"#d0d6d7\",\n        id: \"blade-side\",\n        d: \"M11.0951276,0.581206497 C10.3336427,0.961948956 9.57215777,1.85011601 8.93735499,3.24640371 L0.306960557,70.6392111 L8.81067285,91.8341067 L3.35359629,70.0044084 L11.0951276,0.581206497 Z\"\n      })]\n    })), /*#__PURE__*/_jsxs(\"g\", {\n      children: [_g || (_g = /*#__PURE__*/_jsxs(\"g\", {\n        id: \"structure\",\n        transform: \"translate(58.123, 82.664)\",\n        fillRule: \"nonzero\",\n        children: [/*#__PURE__*/_jsx(\"polygon\", {\n          id: \"tower\",\n          fill: \"#e6e6e6\",\n          points: \"33.111,10.984 39.965,10.984 44.28,196.176 28.796,196.176\"\n        }), /*#__PURE__*/_jsx(\"path\", {\n          id: \"yaw\",\n          fill: \"rgba(0,0,0,0.25)\",\n          d: \"M40.3454756,23.2948956 L40.7262181,34.8445476 C38.8225058,35.0986079 35.7765661,35.0986079 32.349884,34.337123 L32.7306265,23.2955916 L40.3454756,23.2955916 L40.3454756,23.2948956 Z\"\n        }), /*#__PURE__*/_jsx(\"path\", {\n          id: \"base\",\n          fill: \"#d0d6d7\",\n          transform: \"translate(0 42)\",\n          d: \"M26.3846868,150.591647 L46.5640371,150.591647 C48.8484919,150.591647 50.7522042,152.49536 50.7522042,154.779814 L50.7522042,158.967981 L22.0691415,158.967981 L22.0691415,154.779814 C22.0691415,152.49536 23.9728538,150.591647 26.2573086,150.591647 L26.3846868,150.591647 Z\"\n        }), /*#__PURE__*/_jsx(\"circle\", {\n          id: \"nacelle\",\n          fill: \"#e6e6e6\",\n          cx: \"36.54\",\n          cy: \"12\",\n          r: \"11.93\"\n        }), /*#__PURE__*/_jsx(\"circle\", {\n          id: \"gearbox\",\n          fill: \"none\",\n          stroke: \"#d0d6d7\",\n          strokeWidth: \"2.75\",\n          cx: \"36.538\",\n          cy: \"11.999\",\n          r: \"5.8\"\n        })]\n      })), /*#__PURE__*/_jsxs(\"g\", {\n        className: styles.blade,\n        style: {\n          animation: windTurbineAnimation\n        },\n        children: [_use || (_use = /*#__PURE__*/_jsx(\"use\", {\n          id: \"blade1\",\n          href: \"#blade\",\n          x: \"83.24\",\n          y: \"0\"\n        })), _use2 || (_use2 = /*#__PURE__*/_jsx(\"use\", {\n          id: \"blade2\",\n          href: \"#blade\",\n          x: \"83.24\",\n          y: \"0\",\n          transform: \"rotate(120 94.663 94.663)\"\n        })), _use3 || (_use3 = /*#__PURE__*/_jsx(\"use\", {\n          id: \"blade3\",\n          href: \"#blade\",\n          x: \"83.24\",\n          y: \"0\",\n          transform: \"rotate(-120 94.663 94.663)\"\n        }))]\n      })]\n    })]\n  });\n};\n\nexport const windTurbineItem = {\n  id: 'windTurbine',\n  name: 'Wind Turbine',\n  description: 'Spinny spinny',\n  display: WindTurbineDisplay,\n  defaultSize: {\n    width: 100,\n    height: 100\n  },\n  getNewOptions: options => Object.assign({}, options),\n  // Called when data changes\n  prepareData: (ctx, cfg) => {\n    const data = {\n      rpm: cfg !== null && cfg !== void 0 && cfg.rpm ? ctx.getScalar(cfg.rpm).value() : 0\n    };\n    return data;\n  },\n  registerOptionsUI: builder => {\n    const category = ['Wind Turbine'];\n    builder.addCustomEditor({\n      category,\n      id: 'rpm',\n      path: 'config.rpm',\n      name: 'RPM',\n      editor: ScalarDimensionEditor\n    });\n  }\n};\n\nconst getStyles = theme => ({\n  blade: css`\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    transform-origin: 94.663px 94.663px;\n    transform: rotate(15deg);\n  `\n});","map":{"version":3,"names":["css","React","useStyles2","ScalarDimensionEditor","WindTurbineDisplay","props","styles","getStyles","data","windTurbineAnimation","rpm","Math","abs","blade","animation","windTurbineItem","id","name","description","display","defaultSize","width","height","getNewOptions","options","prepareData","ctx","cfg","getScalar","value","registerOptionsUI","builder","category","addCustomEditor","path","editor","theme"],"sources":["/home/soula/grafana/public/app/features/canvas/elements/windTurbine.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { DimensionContext, ScalarDimensionConfig } from 'app/features/dimensions';\nimport { ScalarDimensionEditor } from 'app/features/dimensions/editors';\n\nimport { CanvasElementItem, CanvasElementProps } from '../element';\n\ninterface WindTurbineData {\n  rpm?: number;\n}\n\ninterface WindTurbineConfig {\n  rpm?: ScalarDimensionConfig;\n}\n\nconst WindTurbineDisplay: FC<CanvasElementProps<WindTurbineConfig, WindTurbineData>> = (props) => {\n  const styles = useStyles2(getStyles);\n\n  const { data } = props;\n\n  const windTurbineAnimation = `spin ${data?.rpm ? 60 / Math.abs(data.rpm) : 0}s linear infinite`;\n\n  return (\n    <svg viewBox=\"0 0 189.326 283.989\" preserveAspectRatio=\"xMidYMid meet\">\n      <symbol id=\"blade\">\n        <path\n          fill=\"#e6e6e6\"\n          id=\"blade-front\"\n          d=\"M14.6491879,1.85011601 C14.2684455,-0.0535962877 10.7150812,-0.815081206 9.06473318,3.37308585 L0.434338747,70.7658933 L8.93805104,91.9607889 L15.4106729,90.437819 L17.5684455,78.3807425 L14.5218097,1.97679814 L14.6491879,1.85011601 Z\"\n        />\n        <path\n          fill=\"#d0d6d7\"\n          id=\"blade-side\"\n          d=\"M11.0951276,0.581206497 C10.3336427,0.961948956 9.57215777,1.85011601 8.93735499,3.24640371 L0.306960557,70.6392111 L8.81067285,91.8341067 L3.35359629,70.0044084 L11.0951276,0.581206497 Z\"\n        />\n      </symbol>\n\n      <g>\n        <g id=\"structure\" transform=\"translate(58.123, 82.664)\" fillRule=\"nonzero\">\n          <polygon id=\"tower\" fill=\"#e6e6e6\" points=\"33.111,10.984 39.965,10.984 44.28,196.176 28.796,196.176\" />\n          <path\n            id=\"yaw\"\n            fill=\"rgba(0,0,0,0.25)\"\n            d=\"M40.3454756,23.2948956 L40.7262181,34.8445476 C38.8225058,35.0986079 35.7765661,35.0986079 32.349884,34.337123 L32.7306265,23.2955916 L40.3454756,23.2955916 L40.3454756,23.2948956 Z\"\n          />\n          <path\n            id=\"base\"\n            fill=\"#d0d6d7\"\n            transform=\"translate(0 42)\"\n            d=\"M26.3846868,150.591647 L46.5640371,150.591647 C48.8484919,150.591647 50.7522042,152.49536 50.7522042,154.779814 L50.7522042,158.967981 L22.0691415,158.967981 L22.0691415,154.779814 C22.0691415,152.49536 23.9728538,150.591647 26.2573086,150.591647 L26.3846868,150.591647 Z\"\n          />\n          <circle id=\"nacelle\" fill=\"#e6e6e6\" cx=\"36.54\" cy=\"12\" r=\"11.93\" />\n          <circle id=\"gearbox\" fill=\"none\" stroke=\"#d0d6d7\" strokeWidth=\"2.75\" cx=\"36.538\" cy=\"11.999\" r=\"5.8\" />\n        </g>\n        <g className={styles.blade} style={{ animation: windTurbineAnimation }}>\n          <use id=\"blade1\" href=\"#blade\" x=\"83.24\" y=\"0\" />\n          <use id=\"blade2\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(120 94.663 94.663)\" />\n          <use id=\"blade3\" href=\"#blade\" x=\"83.24\" y=\"0\" transform=\"rotate(-120 94.663 94.663)\" />\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport const windTurbineItem: CanvasElementItem<any, any> = {\n  id: 'windTurbine',\n  name: 'Wind Turbine',\n  description: 'Spinny spinny',\n\n  display: WindTurbineDisplay,\n\n  defaultSize: {\n    width: 100,\n    height: 100,\n  },\n\n  getNewOptions: (options) => ({\n    ...options,\n  }),\n\n  // Called when data changes\n  prepareData: (ctx: DimensionContext, cfg: WindTurbineConfig) => {\n    const data: WindTurbineData = {\n      rpm: cfg?.rpm ? ctx.getScalar(cfg.rpm).value() : 0,\n    };\n\n    return data;\n  },\n\n  registerOptionsUI: (builder) => {\n    const category = ['Wind Turbine'];\n    builder.addCustomEditor({\n      category,\n      id: 'rpm',\n      path: 'config.rpm',\n      name: 'RPM',\n      editor: ScalarDimensionEditor,\n    });\n  },\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  blade: css`\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    transform-origin: 94.663px 94.663px;\n    transform: rotate(15deg);\n  `,\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}