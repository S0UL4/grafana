{"ast":null,"code":"/**\n * The select component is really annoying -- if the current value is not in the list of options\n * it won't show up.  This is a wrapper to make that happen.\n */\nexport function getSelectionInfo(v, options) {\n  if (v && !options) {\n    const current = {\n      label: `${v}`,\n      value: v\n    };\n    return {\n      options: [current],\n      current\n    };\n  }\n\n  if (!options) {\n    options = [];\n  }\n\n  let current = options.find(item => item.value === v);\n\n  if (v && !current) {\n    current = {\n      label: `${v} (not found)`,\n      value: v\n    };\n    options.push(current);\n  }\n\n  return {\n    options,\n    current\n  };\n}","map":{"version":3,"names":["getSelectionInfo","v","options","current","label","value","find","item","push"],"sources":["/home/soula/grafana/public/app/plugins/panel/geomap/utils/selection.ts"],"sourcesContent":["import { SelectableValue } from '@grafana/data';\n\nexport interface SelectionInfo<T = any> {\n  options: Array<SelectableValue<T>>;\n  current?: SelectableValue<T>;\n}\n\n/**\n * The select component is really annoying -- if the current value is not in the list of options\n * it won't show up.  This is a wrapper to make that happen.\n */\nexport function getSelectionInfo<T>(v?: T, options?: Array<SelectableValue<T>>): SelectionInfo<T> {\n  if (v && !options) {\n    const current = { label: `${v}`, value: v };\n    return { options: [current], current };\n  }\n  if (!options) {\n    options = [];\n  }\n  let current = options.find((item) => item.value === v);\n\n  if (v && !current) {\n    current = {\n      label: `${v} (not found)`,\n      value: v,\n    };\n    options.push(current);\n  }\n  return {\n    options,\n    current,\n  };\n}\n"],"mappings":"AAOA;AACA;AACA;AACA;AACA,OAAO,SAASA,gBAAT,CAA6BC,CAA7B,EAAoCC,OAApC,EAA2F;EAChG,IAAID,CAAC,IAAI,CAACC,OAAV,EAAmB;IACjB,MAAMC,OAAO,GAAG;MAAEC,KAAK,EAAG,GAAEH,CAAE,EAAd;MAAiBI,KAAK,EAAEJ;IAAxB,CAAhB;IACA,OAAO;MAAEC,OAAO,EAAE,CAACC,OAAD,CAAX;MAAsBA;IAAtB,CAAP;EACD;;EACD,IAAI,CAACD,OAAL,EAAc;IACZA,OAAO,GAAG,EAAV;EACD;;EACD,IAAIC,OAAO,GAAGD,OAAO,CAACI,IAAR,CAAcC,IAAD,IAAUA,IAAI,CAACF,KAAL,KAAeJ,CAAtC,CAAd;;EAEA,IAAIA,CAAC,IAAI,CAACE,OAAV,EAAmB;IACjBA,OAAO,GAAG;MACRC,KAAK,EAAG,GAAEH,CAAE,cADJ;MAERI,KAAK,EAAEJ;IAFC,CAAV;IAIAC,OAAO,CAACM,IAAR,CAAaL,OAAb;EACD;;EACD,OAAO;IACLD,OADK;IAELC;EAFK,CAAP;AAID"},"metadata":{},"sourceType":"module"}