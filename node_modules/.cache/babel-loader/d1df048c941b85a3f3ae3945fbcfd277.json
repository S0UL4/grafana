{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const initialApiKeysState = {\n  hasFetched: false,\n  includeExpired: false,\n  keys: [],\n  keysIncludingExpired: [],\n  searchQuery: '',\n  apiKeysMigrated: false\n};\nconst apiKeysSlice = createSlice({\n  name: 'apiKeys',\n  initialState: initialApiKeysState,\n  reducers: {\n    apiKeysLoaded: (state, action) => {\n      const {\n        keys,\n        keysIncludingExpired\n      } = action.payload;\n      const includeExpired = action.payload.keys.length === 0 && action.payload.keysIncludingExpired.length > 0 ? true : state.includeExpired;\n      return Object.assign({}, state, {\n        hasFetched: true,\n        keys,\n        keysIncludingExpired,\n        includeExpired\n      });\n    },\n    apiKeysMigrationStatusLoaded: (state, action) => {\n      return Object.assign({}, state, {\n        apiKeysMigrated: action.payload\n      });\n    },\n    setSearchQuery: (state, action) => {\n      return Object.assign({}, state, {\n        searchQuery: action.payload\n      });\n    },\n    includeExpiredToggled: state => {\n      return Object.assign({}, state, {\n        includeExpired: !state.includeExpired\n      });\n    },\n    isFetching: state => {\n      return Object.assign({}, state, {\n        hasFetched: false\n      });\n    }\n  }\n});\nexport const {\n  apiKeysLoaded,\n  includeExpiredToggled,\n  isFetching,\n  setSearchQuery,\n  apiKeysMigrationStatusLoaded\n} = apiKeysSlice.actions;\nexport const apiKeysReducer = apiKeysSlice.reducer;\nexport default {\n  apiKeys: apiKeysReducer\n};","map":{"version":3,"names":["createSlice","initialApiKeysState","hasFetched","includeExpired","keys","keysIncludingExpired","searchQuery","apiKeysMigrated","apiKeysSlice","name","initialState","reducers","apiKeysLoaded","state","action","payload","length","apiKeysMigrationStatusLoaded","setSearchQuery","includeExpiredToggled","isFetching","actions","apiKeysReducer","reducer","apiKeys"],"sources":["/home/soula/grafana/public/app/features/api-keys/state/reducers.ts"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nimport { ApiKeysState } from 'app/types';\n\nexport const initialApiKeysState: ApiKeysState = {\n  hasFetched: false,\n  includeExpired: false,\n  keys: [],\n  keysIncludingExpired: [],\n  searchQuery: '',\n  apiKeysMigrated: false,\n};\n\nconst apiKeysSlice = createSlice({\n  name: 'apiKeys',\n  initialState: initialApiKeysState,\n  reducers: {\n    apiKeysLoaded: (state, action): ApiKeysState => {\n      const { keys, keysIncludingExpired } = action.payload;\n      const includeExpired =\n        action.payload.keys.length === 0 && action.payload.keysIncludingExpired.length > 0\n          ? true\n          : state.includeExpired;\n      return { ...state, hasFetched: true, keys, keysIncludingExpired, includeExpired };\n    },\n    apiKeysMigrationStatusLoaded: (state, action): ApiKeysState => {\n      return { ...state, apiKeysMigrated: action.payload };\n    },\n    setSearchQuery: (state, action): ApiKeysState => {\n      return { ...state, searchQuery: action.payload };\n    },\n    includeExpiredToggled: (state): ApiKeysState => {\n      return { ...state, includeExpired: !state.includeExpired };\n    },\n    isFetching: (state): ApiKeysState => {\n      return { ...state, hasFetched: false };\n    },\n  },\n});\n\nexport const { apiKeysLoaded, includeExpiredToggled, isFetching, setSearchQuery, apiKeysMigrationStatusLoaded } =\n  apiKeysSlice.actions;\n\nexport const apiKeysReducer = apiKeysSlice.reducer;\n\nexport default {\n  apiKeys: apiKeysReducer,\n};\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAIA,OAAO,MAAMC,mBAAiC,GAAG;EAC/CC,UAAU,EAAE,KADmC;EAE/CC,cAAc,EAAE,KAF+B;EAG/CC,IAAI,EAAE,EAHyC;EAI/CC,oBAAoB,EAAE,EAJyB;EAK/CC,WAAW,EAAE,EALkC;EAM/CC,eAAe,EAAE;AAN8B,CAA1C;AASP,MAAMC,YAAY,GAAGR,WAAW,CAAC;EAC/BS,IAAI,EAAE,SADyB;EAE/BC,YAAY,EAAET,mBAFiB;EAG/BU,QAAQ,EAAE;IACRC,aAAa,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAiC;MAC9C,MAAM;QAAEV,IAAF;QAAQC;MAAR,IAAiCS,MAAM,CAACC,OAA9C;MACA,MAAMZ,cAAc,GAClBW,MAAM,CAACC,OAAP,CAAeX,IAAf,CAAoBY,MAApB,KAA+B,CAA/B,IAAoCF,MAAM,CAACC,OAAP,CAAeV,oBAAf,CAAoCW,MAApC,GAA6C,CAAjF,GACI,IADJ,GAEIH,KAAK,CAACV,cAHZ;MAIA,yBAAYU,KAAZ;QAAmBX,UAAU,EAAE,IAA/B;QAAqCE,IAArC;QAA2CC,oBAA3C;QAAiEF;MAAjE;IACD,CARO;IASRc,4BAA4B,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAiC;MAC7D,yBAAYD,KAAZ;QAAmBN,eAAe,EAAEO,MAAM,CAACC;MAA3C;IACD,CAXO;IAYRG,cAAc,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAiC;MAC/C,yBAAYD,KAAZ;QAAmBP,WAAW,EAAEQ,MAAM,CAACC;MAAvC;IACD,CAdO;IAeRI,qBAAqB,EAAGN,KAAD,IAAyB;MAC9C,yBAAYA,KAAZ;QAAmBV,cAAc,EAAE,CAACU,KAAK,CAACV;MAA1C;IACD,CAjBO;IAkBRiB,UAAU,EAAGP,KAAD,IAAyB;MACnC,yBAAYA,KAAZ;QAAmBX,UAAU,EAAE;MAA/B;IACD;EApBO;AAHqB,CAAD,CAAhC;AA2BA,OAAO,MAAM;EAAEU,aAAF;EAAiBO,qBAAjB;EAAwCC,UAAxC;EAAoDF,cAApD;EAAoED;AAApE,IACXT,YAAY,CAACa,OADR;AAGP,OAAO,MAAMC,cAAc,GAAGd,YAAY,CAACe,OAApC;AAEP,eAAe;EACbC,OAAO,EAAEF;AADI,CAAf"},"metadata":{},"sourceType":"module"}