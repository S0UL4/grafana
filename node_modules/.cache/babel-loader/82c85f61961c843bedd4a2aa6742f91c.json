{"ast":null,"code":"var _h;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { dateTimeFormat } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction } from 'app/types';\nimport { ServiceAccountProfileRow } from './ServiceAccountProfileRow';\nimport { ServiceAccountRoleRow } from './ServiceAccountRoleRow';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ServiceAccountProfile({\n  serviceAccount,\n  timeZone,\n  roleOptions,\n  builtInRoles,\n  onChange\n}) {\n  const styles = useStyles2(getStyles);\n  const ableToWrite = contextSrv.hasPermission(AccessControlAction.ServiceAccountsWrite);\n\n  const onRoleChange = role => {\n    onChange(Object.assign({}, serviceAccount, {\n      role: role\n    }));\n  };\n\n  const onNameChange = newValue => {\n    onChange(Object.assign({}, serviceAccount, {\n      name: newValue\n    }));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.section,\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h4\", {\n      children: \"Information\"\n    })), /*#__PURE__*/_jsx(\"table\", {\n      className: \"filter-table\",\n      children: /*#__PURE__*/_jsxs(\"tbody\", {\n        children: [/*#__PURE__*/_jsx(ServiceAccountProfileRow, {\n          label: \"Name\",\n          value: serviceAccount.name,\n          onChange: onNameChange,\n          disabled: !ableToWrite || serviceAccount.isDisabled\n        }), /*#__PURE__*/_jsx(ServiceAccountProfileRow, {\n          label: \"ID\",\n          value: serviceAccount.login,\n          disabled: serviceAccount.isDisabled\n        }), /*#__PURE__*/_jsx(ServiceAccountRoleRow, {\n          label: \"Roles\",\n          serviceAccount: serviceAccount,\n          onRoleChange: onRoleChange,\n          builtInRoles: builtInRoles,\n          roleOptions: roleOptions\n        }), /*#__PURE__*/_jsx(ServiceAccountProfileRow, {\n          label: \"Creation date\",\n          value: dateTimeFormat(serviceAccount.createdAt, {\n            timeZone\n          }),\n          disabled: serviceAccount.isDisabled\n        })]\n      })\n    })]\n  });\n}\nexport const getStyles = theme => ({\n  section: css`\n    margin-bottom: ${theme.spacing(4)};\n  `\n});","map":{"version":3,"names":["css","React","dateTimeFormat","useStyles2","contextSrv","AccessControlAction","ServiceAccountProfileRow","ServiceAccountRoleRow","ServiceAccountProfile","serviceAccount","timeZone","roleOptions","builtInRoles","onChange","styles","getStyles","ableToWrite","hasPermission","ServiceAccountsWrite","onRoleChange","role","onNameChange","newValue","name","section","isDisabled","login","createdAt","theme","spacing"],"sources":["/home/soula/grafana/public/app/features/serviceaccounts/components/ServiceAccountProfile.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { dateTimeFormat, GrafanaTheme2, OrgRole, TimeZone } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction, Role, ServiceAccountDTO } from 'app/types';\n\nimport { ServiceAccountProfileRow } from './ServiceAccountProfileRow';\nimport { ServiceAccountRoleRow } from './ServiceAccountRoleRow';\n\ninterface Props {\n  serviceAccount: ServiceAccountDTO;\n  timeZone: TimeZone;\n  roleOptions: Role[];\n  builtInRoles: Record<string, Role[]>;\n  onChange: (serviceAccount: ServiceAccountDTO) => void;\n}\n\nexport function ServiceAccountProfile({\n  serviceAccount,\n  timeZone,\n  roleOptions,\n  builtInRoles,\n  onChange,\n}: Props): JSX.Element {\n  const styles = useStyles2(getStyles);\n  const ableToWrite = contextSrv.hasPermission(AccessControlAction.ServiceAccountsWrite);\n\n  const onRoleChange = (role: OrgRole) => {\n    onChange({ ...serviceAccount, role: role });\n  };\n\n  const onNameChange = (newValue: string) => {\n    onChange({ ...serviceAccount, name: newValue });\n  };\n\n  return (\n    <div className={styles.section}>\n      <h4>Information</h4>\n      <table className=\"filter-table\">\n        <tbody>\n          <ServiceAccountProfileRow\n            label=\"Name\"\n            value={serviceAccount.name}\n            onChange={onNameChange}\n            disabled={!ableToWrite || serviceAccount.isDisabled}\n          />\n          <ServiceAccountProfileRow label=\"ID\" value={serviceAccount.login} disabled={serviceAccount.isDisabled} />\n          <ServiceAccountRoleRow\n            label=\"Roles\"\n            serviceAccount={serviceAccount}\n            onRoleChange={onRoleChange}\n            builtInRoles={builtInRoles}\n            roleOptions={roleOptions}\n          />\n          <ServiceAccountProfileRow\n            label=\"Creation date\"\n            value={dateTimeFormat(serviceAccount.createdAt, { timeZone })}\n            disabled={serviceAccount.isDisabled}\n          />\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  section: css`\n    margin-bottom: ${theme.spacing(4)};\n  `,\n});\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,cAAT,QAAiE,eAAjE;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,mBAAT,QAA6D,WAA7D;AAEA,SAASC,wBAAT,QAAyC,4BAAzC;AACA,SAASC,qBAAT,QAAsC,yBAAtC;;;AAUA,OAAO,SAASC,qBAAT,CAA+B;EACpCC,cADoC;EAEpCC,QAFoC;EAGpCC,WAHoC;EAIpCC,YAJoC;EAKpCC;AALoC,CAA/B,EAMgB;EACrB,MAAMC,MAAM,GAAGX,UAAU,CAACY,SAAD,CAAzB;EACA,MAAMC,WAAW,GAAGZ,UAAU,CAACa,aAAX,CAAyBZ,mBAAmB,CAACa,oBAA7C,CAApB;;EAEA,MAAMC,YAAY,GAAIC,IAAD,IAAmB;IACtCP,QAAQ,mBAAMJ,cAAN;MAAsBW,IAAI,EAAEA;IAA5B,GAAR;EACD,CAFD;;EAIA,MAAMC,YAAY,GAAIC,QAAD,IAAsB;IACzCT,QAAQ,mBAAMJ,cAAN;MAAsBc,IAAI,EAAED;IAA5B,GAAR;EACD,CAFD;;EAIA,oBACE;IAAK,SAAS,EAAER,MAAM,CAACU,OAAvB;IAAA,oCACE;MAAA;IAAA,EADF,gBAEE;MAAO,SAAS,EAAC,cAAjB;MAAA,uBACE;QAAA,wBACE,KAAC,wBAAD;UACE,KAAK,EAAC,MADR;UAEE,KAAK,EAAEf,cAAc,CAACc,IAFxB;UAGE,QAAQ,EAAEF,YAHZ;UAIE,QAAQ,EAAE,CAACL,WAAD,IAAgBP,cAAc,CAACgB;QAJ3C,EADF,eAOE,KAAC,wBAAD;UAA0B,KAAK,EAAC,IAAhC;UAAqC,KAAK,EAAEhB,cAAc,CAACiB,KAA3D;UAAkE,QAAQ,EAAEjB,cAAc,CAACgB;QAA3F,EAPF,eAQE,KAAC,qBAAD;UACE,KAAK,EAAC,OADR;UAEE,cAAc,EAAEhB,cAFlB;UAGE,YAAY,EAAEU,YAHhB;UAIE,YAAY,EAAEP,YAJhB;UAKE,WAAW,EAAED;QALf,EARF,eAeE,KAAC,wBAAD;UACE,KAAK,EAAC,eADR;UAEE,KAAK,EAAET,cAAc,CAACO,cAAc,CAACkB,SAAhB,EAA2B;YAAEjB;UAAF,CAA3B,CAFvB;UAGE,QAAQ,EAAED,cAAc,CAACgB;QAH3B,EAfF;MAAA;IADF,EAFF;EAAA,EADF;AA4BD;AAED,OAAO,MAAMV,SAAS,GAAIa,KAAD,KAA2B;EAClDJ,OAAO,EAAExB,GAAI;AACf,qBAAqB4B,KAAK,CAACC,OAAN,CAAc,CAAd,CAAiB;AACtC;AAHoD,CAA3B,CAAlB"},"metadata":{},"sourceType":"module"}