{"ast":null,"code":"import React, { memo } from 'react';\nimport { shortenLine } from './utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const Edge = /*#__PURE__*/memo(function Edge(props) {\n  const {\n    edge,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n    hovering\n  } = props; // Not great typing but after we do layout these properties are full objects not just references\n\n  const {\n    source,\n    target\n  } = edge; // As the nodes have some radius we want edges to end outside of the node circle.\n\n  const line = shortenLine({\n    x1: source.x,\n    y1: source.y,\n    x2: target.x,\n    y2: target.y\n  }, 90);\n  return /*#__PURE__*/_jsxs(\"g\", {\n    onClick: event => onClick(event, edge),\n    style: {\n      cursor: 'pointer'\n    },\n    \"aria-label\": `Edge from: ${edge.source.id} to: ${edge.target.id}`,\n    children: [/*#__PURE__*/_jsx(\"line\", {\n      strokeWidth: hovering ? 2 : 1,\n      stroke: '#999',\n      x1: line.x1,\n      y1: line.y1,\n      x2: line.x2,\n      y2: line.y2,\n      markerEnd: \"url(#triangle)\"\n    }), /*#__PURE__*/_jsx(\"line\", {\n      stroke: 'transparent',\n      x1: line.x1,\n      y1: line.y1,\n      x2: line.x2,\n      y2: line.y2,\n      strokeWidth: 20,\n      onMouseEnter: () => {\n        onMouseEnter(edge.id);\n      },\n      onMouseLeave: () => {\n        onMouseLeave(edge.id);\n      }\n    })]\n  });\n});","map":{"version":3,"names":["React","memo","shortenLine","Edge","props","edge","onClick","onMouseEnter","onMouseLeave","hovering","source","target","line","x1","x","y1","y","x2","y2","event","cursor","id"],"sources":["/home/soula/grafana/public/app/plugins/panel/nodeGraph/Edge.tsx"],"sourcesContent":["import React, { MouseEvent, memo } from 'react';\n\nimport { EdgeDatum, NodeDatum } from './types';\nimport { shortenLine } from './utils';\n\ninterface Props {\n  edge: EdgeDatum;\n  hovering: boolean;\n  onClick: (event: MouseEvent<SVGElement>, link: EdgeDatum) => void;\n  onMouseEnter: (id: string) => void;\n  onMouseLeave: (id: string) => void;\n}\nexport const Edge = memo(function Edge(props: Props) {\n  const { edge, onClick, onMouseEnter, onMouseLeave, hovering } = props;\n  // Not great typing but after we do layout these properties are full objects not just references\n  const { source, target } = edge as { source: NodeDatum; target: NodeDatum };\n\n  // As the nodes have some radius we want edges to end outside of the node circle.\n  const line = shortenLine(\n    {\n      x1: source.x!,\n      y1: source.y!,\n      x2: target.x!,\n      y2: target.y!,\n    },\n    90\n  );\n\n  return (\n    <g\n      onClick={(event) => onClick(event, edge)}\n      style={{ cursor: 'pointer' }}\n      aria-label={`Edge from: ${(edge.source as NodeDatum).id} to: ${(edge.target as NodeDatum).id}`}\n    >\n      <line\n        strokeWidth={hovering ? 2 : 1}\n        stroke={'#999'}\n        x1={line.x1}\n        y1={line.y1}\n        x2={line.x2}\n        y2={line.y2}\n        markerEnd=\"url(#triangle)\"\n      />\n      <line\n        stroke={'transparent'}\n        x1={line.x1}\n        y1={line.y1}\n        x2={line.x2}\n        y2={line.y2}\n        strokeWidth={20}\n        onMouseEnter={() => {\n          onMouseEnter(edge.id);\n        }}\n        onMouseLeave={() => {\n          onMouseLeave(edge.id);\n        }}\n      />\n    </g>\n  );\n});\n"],"mappings":"AAAA,OAAOA,KAAP,IAA4BC,IAA5B,QAAwC,OAAxC;AAGA,SAASC,WAAT,QAA4B,SAA5B;;;AASA,OAAO,MAAMC,IAAI,gBAAGF,IAAI,CAAC,SAASE,IAAT,CAAcC,KAAd,EAA4B;EACnD,MAAM;IAAEC,IAAF;IAAQC,OAAR;IAAiBC,YAAjB;IAA+BC,YAA/B;IAA6CC;EAA7C,IAA0DL,KAAhE,CADmD,CAEnD;;EACA,MAAM;IAAEM,MAAF;IAAUC;EAAV,IAAqBN,IAA3B,CAHmD,CAKnD;;EACA,MAAMO,IAAI,GAAGV,WAAW,CACtB;IACEW,EAAE,EAAEH,MAAM,CAACI,CADb;IAEEC,EAAE,EAAEL,MAAM,CAACM,CAFb;IAGEC,EAAE,EAAEN,MAAM,CAACG,CAHb;IAIEI,EAAE,EAAEP,MAAM,CAACK;EAJb,CADsB,EAOtB,EAPsB,CAAxB;EAUA,oBACE;IACE,OAAO,EAAGG,KAAD,IAAWb,OAAO,CAACa,KAAD,EAAQd,IAAR,CAD7B;IAEE,KAAK,EAAE;MAAEe,MAAM,EAAE;IAAV,CAFT;IAGE,cAAa,cAAcf,IAAI,CAACK,MAAN,CAA2BW,EAAG,QAAQhB,IAAI,CAACM,MAAN,CAA2BU,EAAG,EAH/F;IAAA,wBAKE;MACE,WAAW,EAAEZ,QAAQ,GAAG,CAAH,GAAO,CAD9B;MAEE,MAAM,EAAE,MAFV;MAGE,EAAE,EAAEG,IAAI,CAACC,EAHX;MAIE,EAAE,EAAED,IAAI,CAACG,EAJX;MAKE,EAAE,EAAEH,IAAI,CAACK,EALX;MAME,EAAE,EAAEL,IAAI,CAACM,EANX;MAOE,SAAS,EAAC;IAPZ,EALF,eAcE;MACE,MAAM,EAAE,aADV;MAEE,EAAE,EAAEN,IAAI,CAACC,EAFX;MAGE,EAAE,EAAED,IAAI,CAACG,EAHX;MAIE,EAAE,EAAEH,IAAI,CAACK,EAJX;MAKE,EAAE,EAAEL,IAAI,CAACM,EALX;MAME,WAAW,EAAE,EANf;MAOE,YAAY,EAAE,MAAM;QAClBX,YAAY,CAACF,IAAI,CAACgB,EAAN,CAAZ;MACD,CATH;MAUE,YAAY,EAAE,MAAM;QAClBb,YAAY,CAACH,IAAI,CAACgB,EAAN,CAAZ;MACD;IAZH,EAdF;EAAA,EADF;AA+BD,CA/CuB,CAAjB"},"metadata":{},"sourceType":"module"}