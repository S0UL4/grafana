{"ast":null,"code":"import React from 'react';\nimport { Stack } from '@grafana/experimental';\nimport { OperationExplainedBox } from 'app/plugins/datasource/prometheus/querybuilder/shared/OperationExplainedBox';\nimport { OperationListExplained } from 'app/plugins/datasource/prometheus/querybuilder/shared/OperationListExplained';\nimport { RawQuery } from 'app/plugins/datasource/prometheus/querybuilder/shared/RawQuery';\nimport { lokiGrammar } from '../../syntax';\nimport { lokiQueryModeller } from '../LokiQueryModeller';\nimport { buildVisualQueryFromString } from '../parsing';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const LokiQueryBuilderExplained = /*#__PURE__*/React.memo(({\n  query\n}) => {\n  const visQuery = buildVisualQueryFromString(query || '').query;\n  const lang = {\n    grammar: lokiGrammar,\n    name: 'lokiql'\n  };\n  return /*#__PURE__*/_jsxs(Stack, {\n    gap: 0,\n    direction: \"column\",\n    children: [/*#__PURE__*/_jsx(OperationExplainedBox, {\n      children: /*#__PURE__*/_jsx(RawQuery, {\n        query: query,\n        lang: lang\n      })\n    }), /*#__PURE__*/_jsx(OperationExplainedBox, {\n      stepNumber: 1,\n      title: /*#__PURE__*/_jsx(RawQuery, {\n        query: `${lokiQueryModeller.renderLabels(visQuery.labels)}`,\n        lang: lang\n      }),\n      children: \"Fetch all log lines matching label filters.\"\n    }), /*#__PURE__*/_jsx(OperationListExplained, {\n      stepNumber: 2,\n      queryModeller: lokiQueryModeller,\n      query: visQuery,\n      lang: lang\n    })]\n  });\n});\nLokiQueryBuilderExplained.displayName = 'LokiQueryBuilderExplained';","map":{"version":3,"names":["React","Stack","OperationExplainedBox","OperationListExplained","RawQuery","lokiGrammar","lokiQueryModeller","buildVisualQueryFromString","LokiQueryBuilderExplained","memo","query","visQuery","lang","grammar","name","renderLabels","labels","displayName"],"sources":["/home/soula/grafana/public/app/plugins/datasource/loki/querybuilder/components/LokiQueryBuilderExplained.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Stack } from '@grafana/experimental';\nimport { OperationExplainedBox } from 'app/plugins/datasource/prometheus/querybuilder/shared/OperationExplainedBox';\nimport { OperationListExplained } from 'app/plugins/datasource/prometheus/querybuilder/shared/OperationListExplained';\nimport { RawQuery } from 'app/plugins/datasource/prometheus/querybuilder/shared/RawQuery';\n\nimport { lokiGrammar } from '../../syntax';\nimport { lokiQueryModeller } from '../LokiQueryModeller';\nimport { buildVisualQueryFromString } from '../parsing';\nimport { LokiVisualQuery } from '../types';\n\nexport interface Props {\n  query: string;\n}\n\nexport const LokiQueryBuilderExplained = React.memo<Props>(({ query }) => {\n  const visQuery = buildVisualQueryFromString(query || '').query;\n  const lang = { grammar: lokiGrammar, name: 'lokiql' };\n\n  return (\n    <Stack gap={0} direction=\"column\">\n      <OperationExplainedBox>\n        <RawQuery query={query} lang={lang} />\n      </OperationExplainedBox>\n      <OperationExplainedBox\n        stepNumber={1}\n        title={<RawQuery query={`${lokiQueryModeller.renderLabels(visQuery.labels)}`} lang={lang} />}\n      >\n        Fetch all log lines matching label filters.\n      </OperationExplainedBox>\n      <OperationListExplained<LokiVisualQuery>\n        stepNumber={2}\n        queryModeller={lokiQueryModeller}\n        query={visQuery}\n        lang={lang}\n      />\n    </Stack>\n  );\n});\n\nLokiQueryBuilderExplained.displayName = 'LokiQueryBuilderExplained';\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,uBAAtB;AACA,SAASC,qBAAT,QAAsC,6EAAtC;AACA,SAASC,sBAAT,QAAuC,8EAAvC;AACA,SAASC,QAAT,QAAyB,gEAAzB;AAEA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,iBAAT,QAAkC,sBAAlC;AACA,SAASC,0BAAT,QAA2C,YAA3C;;;AAOA,OAAO,MAAMC,yBAAyB,gBAAGR,KAAK,CAACS,IAAN,CAAkB,CAAC;EAAEC;AAAF,CAAD,KAAe;EACxE,MAAMC,QAAQ,GAAGJ,0BAA0B,CAACG,KAAK,IAAI,EAAV,CAA1B,CAAwCA,KAAzD;EACA,MAAME,IAAI,GAAG;IAAEC,OAAO,EAAER,WAAX;IAAwBS,IAAI,EAAE;EAA9B,CAAb;EAEA,oBACE,MAAC,KAAD;IAAO,GAAG,EAAE,CAAZ;IAAe,SAAS,EAAC,QAAzB;IAAA,wBACE,KAAC,qBAAD;MAAA,uBACE,KAAC,QAAD;QAAU,KAAK,EAAEJ,KAAjB;QAAwB,IAAI,EAAEE;MAA9B;IADF,EADF,eAIE,KAAC,qBAAD;MACE,UAAU,EAAE,CADd;MAEE,KAAK,eAAE,KAAC,QAAD;QAAU,KAAK,EAAG,GAAEN,iBAAiB,CAACS,YAAlB,CAA+BJ,QAAQ,CAACK,MAAxC,CAAgD,EAApE;QAAuE,IAAI,EAAEJ;MAA7E,EAFT;MAAA;IAAA,EAJF,eAUE,KAAC,sBAAD;MACE,UAAU,EAAE,CADd;MAEE,aAAa,EAAEN,iBAFjB;MAGE,KAAK,EAAEK,QAHT;MAIE,IAAI,EAAEC;IAJR,EAVF;EAAA,EADF;AAmBD,CAvBwC,CAAlC;AAyBPJ,yBAAyB,CAACS,WAA1B,GAAwC,2BAAxC"},"metadata":{},"sourceType":"module"}