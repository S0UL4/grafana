{"ast":null,"code":"var _Trans, _Trans2, _InputSuffix, _Trans3, _InputSuffix2, _InputSuffix3, _Trans4, _Tooltip;\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Button, Field, FieldSet, Form, Icon, Input, Tooltip } from '@grafana/ui';\nimport config from 'app/core/config';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst {\n  disableLoginForm\n} = config;\nexport const UserProfileEditForm = ({\n  user,\n  isSavingUser,\n  updateProfile\n}) => {\n  const onSubmitProfileUpdate = data => {\n    updateProfile(data);\n  };\n\n  return /*#__PURE__*/_jsx(Form, {\n    onSubmit: onSubmitProfileUpdate,\n    validateOn: \"onBlur\",\n    children: ({\n      register,\n      errors\n    }) => {\n      var _user$name, _user$email, _user$login;\n\n      return /*#__PURE__*/_jsxs(FieldSet, {\n        label: _Trans || (_Trans = /*#__PURE__*/_jsx(Trans, {\n          id: \"user-profile.title\",\n          message: \"Edit profile\"\n        })),\n        children: [/*#__PURE__*/_jsx(Field, {\n          label: i18n._(\n          /*i18n*/\n          {\n            id: 'user-profile.fields.name-label',\n            message: 'Name'\n          }),\n          invalid: !!errors.name,\n          error: _Trans2 || (_Trans2 = /*#__PURE__*/_jsx(Trans, {\n            id: \"user-profile.fields.name-error\",\n            message: \"Name is required\"\n          })),\n          disabled: disableLoginForm,\n          children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('name', {\n            required: true\n          }), {\n            id: \"edit-user-profile-name\",\n            placeholder: i18n._(\n            /*i18n*/\n            {\n              id: 'user-profile.fields.name-label',\n              message: 'Name'\n            }),\n            defaultValue: (_user$name = user === null || user === void 0 ? void 0 : user.name) !== null && _user$name !== void 0 ? _user$name : '',\n            suffix: _InputSuffix || (_InputSuffix = /*#__PURE__*/_jsx(InputSuffix, {}))\n          }))\n        }), /*#__PURE__*/_jsx(Field, {\n          label: i18n._(\n          /*i18n*/\n          {\n            id: 'user-profile.fields.email-label',\n            message: 'Email'\n          }),\n          invalid: !!errors.email,\n          error: _Trans3 || (_Trans3 = /*#__PURE__*/_jsx(Trans, {\n            id: \"user-profile.fields.email-error\",\n            message: \"Email is required\"\n          })),\n          disabled: disableLoginForm,\n          children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('email', {\n            required: true\n          }), {\n            id: \"edit-user-profile-email\",\n            placeholder: i18n._(\n            /*i18n*/\n            {\n              id: 'user-profile.fields.email-label',\n              message: 'Email'\n            }),\n            defaultValue: (_user$email = user === null || user === void 0 ? void 0 : user.email) !== null && _user$email !== void 0 ? _user$email : '',\n            suffix: _InputSuffix2 || (_InputSuffix2 = /*#__PURE__*/_jsx(InputSuffix, {}))\n          }))\n        }), /*#__PURE__*/_jsx(Field, {\n          label: i18n._(\n          /*i18n*/\n          {\n            id: 'user-profile.fields.username-label',\n            message: 'Username'\n          }),\n          disabled: disableLoginForm,\n          children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('login'), {\n            id: \"edit-user-profile-username\",\n            defaultValue: (_user$login = user === null || user === void 0 ? void 0 : user.login) !== null && _user$login !== void 0 ? _user$login : '',\n            placeholder: i18n._(\n            /*i18n*/\n            {\n              id: 'user-profile.fields.username-label',\n              message: 'Username'\n            }),\n            suffix: _InputSuffix3 || (_InputSuffix3 = /*#__PURE__*/_jsx(InputSuffix, {}))\n          }))\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"gf-form-button-row\",\n          children: /*#__PURE__*/_jsx(Button, {\n            variant: \"primary\",\n            disabled: isSavingUser,\n            \"data-testid\": selectors.components.UserProfile.profileSaveButton,\n            type: \"submit\",\n            children: _Trans4 || (_Trans4 = /*#__PURE__*/_jsx(Trans, {\n              id: \"common.save\",\n              message: \"Save\"\n            }))\n          })\n        })]\n      });\n    }\n  });\n};\nexport default UserProfileEditForm;\n\nconst InputSuffix = () => {\n  return disableLoginForm ? _Tooltip || (_Tooltip = /*#__PURE__*/_jsx(Tooltip, {\n    content: \"Login details locked because they are managed in another system.\",\n    children: /*#__PURE__*/_jsx(Icon, {\n      name: \"lock\"\n    })\n  })) : null;\n};","map":{"version":3,"names":["React","selectors","Button","Field","FieldSet","Form","Icon","Input","Tooltip","config","disableLoginForm","UserProfileEditForm","user","isSavingUser","updateProfile","onSubmitProfileUpdate","data","register","errors","id","name","required","email","login","components","UserProfile","profileSaveButton","InputSuffix"],"sources":["/home/soula/grafana/public/app/features/profile/UserProfileEditForm.tsx"],"sourcesContent":["import { Trans, t } from '@lingui/macro';\nimport React, { FC } from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Button, Field, FieldSet, Form, Icon, Input, Tooltip } from '@grafana/ui';\nimport config from 'app/core/config';\nimport { UserDTO } from 'app/types';\n\nimport { ProfileUpdateFields } from './types';\n\nexport interface Props {\n  user: UserDTO | null;\n  isSavingUser: boolean;\n  updateProfile: (payload: ProfileUpdateFields) => void;\n}\n\nconst { disableLoginForm } = config;\n\nexport const UserProfileEditForm: FC<Props> = ({ user, isSavingUser, updateProfile }) => {\n  const onSubmitProfileUpdate = (data: ProfileUpdateFields) => {\n    updateProfile(data);\n  };\n\n  return (\n    <Form onSubmit={onSubmitProfileUpdate} validateOn=\"onBlur\">\n      {({ register, errors }) => {\n        return (\n          <FieldSet label={<Trans id=\"user-profile.title\">Edit profile</Trans>}>\n            <Field\n              label={t({ id: 'user-profile.fields.name-label', message: 'Name' })}\n              invalid={!!errors.name}\n              error={<Trans id=\"user-profile.fields.name-error\">Name is required</Trans>}\n              disabled={disableLoginForm}\n            >\n              <Input\n                {...register('name', { required: true })}\n                id=\"edit-user-profile-name\"\n                placeholder={t({ id: 'user-profile.fields.name-label', message: 'Name' })}\n                defaultValue={user?.name ?? ''}\n                suffix={<InputSuffix />}\n              />\n            </Field>\n\n            <Field\n              label={t({ id: 'user-profile.fields.email-label', message: 'Email' })}\n              invalid={!!errors.email}\n              error={<Trans id=\"user-profile.fields.email-error\">Email is required</Trans>}\n              disabled={disableLoginForm}\n            >\n              <Input\n                {...register('email', { required: true })}\n                id=\"edit-user-profile-email\"\n                placeholder={t({ id: 'user-profile.fields.email-label', message: 'Email' })}\n                defaultValue={user?.email ?? ''}\n                suffix={<InputSuffix />}\n              />\n            </Field>\n\n            <Field\n              label={t({ id: 'user-profile.fields.username-label', message: 'Username' })}\n              disabled={disableLoginForm}\n            >\n              <Input\n                {...register('login')}\n                id=\"edit-user-profile-username\"\n                defaultValue={user?.login ?? ''}\n                placeholder={t({ id: 'user-profile.fields.username-label', message: 'Username' })}\n                suffix={<InputSuffix />}\n              />\n            </Field>\n\n            <div className=\"gf-form-button-row\">\n              <Button\n                variant=\"primary\"\n                disabled={isSavingUser}\n                data-testid={selectors.components.UserProfile.profileSaveButton}\n                type=\"submit\"\n              >\n                <Trans id=\"common.save\">Save</Trans>\n              </Button>\n            </div>\n          </FieldSet>\n        );\n      }}\n    </Form>\n  );\n};\n\nexport default UserProfileEditForm;\n\nconst InputSuffix: FC = () => {\n  return disableLoginForm ? (\n    <Tooltip content=\"Login details locked because they are managed in another system.\">\n      <Icon name=\"lock\" />\n    </Tooltip>\n  ) : null;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}