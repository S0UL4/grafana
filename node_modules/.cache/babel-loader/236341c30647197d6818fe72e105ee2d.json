{"ast":null,"code":"var _p, _p2, _p3, _p4, _table;\n\nimport React from 'react';\nimport { Alert } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function MappingsHelp(props) {\n  return /*#__PURE__*/_jsxs(Alert, {\n    severity: \"info\",\n    title: \"How to map Graphite metrics to labels?\",\n    onRemove: props.onDismiss,\n    children: [_p || (_p = /*#__PURE__*/_jsx(\"p\", {\n      children: \"Mappings are currently supported only between Graphite and Loki queries.\"\n    })), _p2 || (_p2 = /*#__PURE__*/_jsx(\"p\", {\n      children: \"When you switch your data source from Graphite to Loki, your queries are mapped according to the mappings defined in the example below. To define a mapping, write the full path of the metric and replace nodes you want to map to label with the label name in parentheses. The value of the label is extracted from your Graphite query when you switch data sources.\"\n    })), _p3 || (_p3 = /*#__PURE__*/_jsx(\"p\", {\n      children: \"All tags are automatically mapped to labels regardless of the mapping configuration. Graphite matching patterns (using {}) are converted to Loki's regular expressions matching patterns. When you use functions in your queries, the metrics, and tags are extracted to match them with defined mappings.\"\n    })), _p4 || (_p4 = /*#__PURE__*/_jsxs(\"p\", {\n      children: [\"Example: for a mapping = \", /*#__PURE__*/_jsx(\"code\", {\n        children: \"servers.(cluster).(server).*\"\n      }), \":\"]\n    })), _table || (_table = /*#__PURE__*/_jsxs(\"table\", {\n      children: [/*#__PURE__*/_jsx(\"thead\", {\n        children: /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"th\", {\n            children: \"Graphite query\"\n          }), /*#__PURE__*/_jsx(\"th\", {\n            children: \"Mapped to Loki query\"\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(\"tbody\", {\n        children: [/*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsxs(\"code\", {\n              children: [\"alias(servers.\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"west\"\n              }), \".\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"001\"\n              }), \".cpu,1,2)\"]\n            })\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsxs(\"code\", {\n              children: [\"{cluster=\\\"\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"west\"\n              }), \"\\\", server=\\\"\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"001\"\n              }), \"\\\"}\"]\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsxs(\"code\", {\n              children: [\"alias(servers.*.\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"{001,002}\"\n              }), \".*,1,2)\"]\n            })\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsxs(\"code\", {\n              children: [\"{server=~\\\"\", /*#__PURE__*/_jsx(\"u\", {\n                children: \"(001|002)\"\n              }), \"\\\"}\"]\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"tr\", {\n          children: [/*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsx(\"code\", {\n              children: \"interpolate(seriesByTag('foo=bar', 'server=002'), inf))\"\n            })\n          }), /*#__PURE__*/_jsx(\"td\", {\n            children: /*#__PURE__*/_jsx(\"code\", {\n              children: \"{foo=\\\"bar\\\", server=\\\"002\\\"}\"\n            })\n          })]\n        })]\n      })]\n    }))]\n  });\n}","map":{"version":3,"names":["React","Alert","MappingsHelp","props","onDismiss"],"sources":["/home/soula/grafana/public/app/plugins/datasource/graphite/configuration/MappingsHelp.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Alert } from '@grafana/ui';\n\ntype Props = {\n  onDismiss: () => void;\n};\n\nexport default function MappingsHelp(props: Props): JSX.Element {\n  return (\n    <Alert severity=\"info\" title=\"How to map Graphite metrics to labels?\" onRemove={props.onDismiss}>\n      <p>Mappings are currently supported only between Graphite and Loki queries.</p>\n      <p>\n        When you switch your data source from Graphite to Loki, your queries are mapped according to the mappings\n        defined in the example below. To define a mapping, write the full path of the metric and replace nodes you want\n        to map to label with the label name in parentheses. The value of the label is extracted from your Graphite query\n        when you switch data sources.\n      </p>\n      <p>\n        All tags are automatically mapped to labels regardless of the mapping configuration. Graphite matching patterns\n        (using &#123;&#125;) are converted to Loki&apos;s regular expressions matching patterns. When you use functions\n        in your queries, the metrics, and tags are extracted to match them with defined mappings.\n      </p>\n      <p>\n        Example: for a mapping = <code>servers.(cluster).(server).*</code>:\n      </p>\n      <table>\n        <thead>\n          <tr>\n            <th>Graphite query</th>\n            <th>Mapped to Loki query</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              <code>\n                alias(servers.<u>west</u>.<u>001</u>.cpu,1,2)\n              </code>\n            </td>\n            <td>\n              <code>\n                &#123;cluster=&quot;<u>west</u>&quot;, server=&quot;<u>001</u>&quot;&#125;\n              </code>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <code>\n                alias(servers.*.<u>&#123;001,002&#125;</u>.*,1,2)\n              </code>\n            </td>\n            <td>\n              <code>\n                &#123;server=~&quot;<u>(001|002)</u>&quot;&#125;\n              </code>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <code>interpolate(seriesByTag(&apos;foo=bar&apos;, &apos;server=002&apos;), inf))</code>\n            </td>\n            <td>\n              <code>&#123;foo=&quot;bar&quot;, server=&quot;002&quot;&#125;</code>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </Alert>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,QAAsB,aAAtB;;;AAMA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAAiD;EAC9D,oBACE,MAAC,KAAD;IAAO,QAAQ,EAAC,MAAhB;IAAuB,KAAK,EAAC,wCAA7B;IAAsE,QAAQ,EAAEA,KAAK,CAACC,SAAtF;IAAA,oCACE;MAAA;IAAA,EADF,8BAEE;MAAA;IAAA,EAFF,8BAQE;MAAA;IAAA,EARF,8BAaE;MAAA,qDAC2B;QAAA;MAAA,EAD3B;IAAA,EAbF,oCAgBE;MAAA,wBACE;QAAA,uBACE;UAAA,wBACE;YAAA;UAAA,EADF,eAEE;YAAA;UAAA,EAFF;QAAA;MADF,EADF,eAOE;QAAA,wBACE;UAAA,wBACE;YAAA,uBACE;cAAA,0CACgB;gBAAA;cAAA,EADhB,oBAC4B;gBAAA;cAAA,EAD5B;YAAA;UADF,EADF,eAME;YAAA,uBACE;cAAA,uCACsB;gBAAA;cAAA,EADtB,gCACsD;gBAAA;cAAA,EADtD;YAAA;UADF,EANF;QAAA,EADF,eAaE;UAAA,wBACE;YAAA,uBACE;cAAA,4CACkB;gBAAA;cAAA,EADlB;YAAA;UADF,EADF,eAME;YAAA,uBACE;cAAA,uCACsB;gBAAA;cAAA,EADtB;YAAA;UADF,EANF;QAAA,EAbF,eAyBE;UAAA,wBACE;YAAA,uBACE;cAAA;YAAA;UADF,EADF,eAIE;YAAA,uBACE;cAAA;YAAA;UADF,EAJF;QAAA,EAzBF;MAAA,EAPF;IAAA,EAhBF;EAAA,EADF;AA6DD"},"metadata":{},"sourceType":"module"}