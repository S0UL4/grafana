{"ast":null,"code":"import { ArrayVector } from '@grafana/data';\nexport function nullToValue(frame) {\n  return Object.assign({}, frame, {\n    fields: frame.fields.map(field => {\n      var _field$config;\n\n      const noValue = +((_field$config = field.config) === null || _field$config === void 0 ? void 0 : _field$config.noValue);\n\n      if (!Number.isNaN(noValue)) {\n        const transformedVals = field.values.toArray().slice();\n\n        for (let i = 0; i < transformedVals.length; i++) {\n          if (transformedVals[i] === null) {\n            transformedVals[i] = noValue;\n          }\n        }\n\n        return Object.assign({}, field, {\n          values: new ArrayVector(transformedVals)\n        });\n      } else {\n        return field;\n      }\n    })\n  });\n}","map":{"version":3,"names":["ArrayVector","nullToValue","frame","fields","map","field","noValue","config","Number","isNaN","transformedVals","values","toArray","slice","i","length"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/GraphNG/nullToValue.ts"],"sourcesContent":["import { ArrayVector, DataFrame } from '@grafana/data';\n\nexport function nullToValue(frame: DataFrame) {\n  return {\n    ...frame,\n    fields: frame.fields.map((field) => {\n      const noValue = +field.config?.noValue!;\n\n      if (!Number.isNaN(noValue)) {\n        const transformedVals = field.values.toArray().slice();\n\n        for (let i = 0; i < transformedVals.length; i++) {\n          if (transformedVals[i] === null) {\n            transformedVals[i] = noValue;\n          }\n        }\n\n        return {\n          ...field,\n          values: new ArrayVector(transformedVals),\n        };\n      } else {\n        return field;\n      }\n    }),\n  };\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAAuC,eAAvC;AAEA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAAuC;EAC5C,yBACKA,KADL;IAEEC,MAAM,EAAED,KAAK,CAACC,MAAN,CAAaC,GAAb,CAAkBC,KAAD,IAAW;MAAA;;MAClC,MAAMC,OAAO,GAAG,mBAACD,KAAK,CAACE,MAAP,kDAAC,cAAcD,OAAf,CAAhB;;MAEA,IAAI,CAACE,MAAM,CAACC,KAAP,CAAaH,OAAb,CAAL,EAA4B;QAC1B,MAAMI,eAAe,GAAGL,KAAK,CAACM,MAAN,CAAaC,OAAb,GAAuBC,KAAvB,EAAxB;;QAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,eAAe,CAACK,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;UAC/C,IAAIJ,eAAe,CAACI,CAAD,CAAf,KAAuB,IAA3B,EAAiC;YAC/BJ,eAAe,CAACI,CAAD,CAAf,GAAqBR,OAArB;UACD;QACF;;QAED,yBACKD,KADL;UAEEM,MAAM,EAAE,IAAIX,WAAJ,CAAgBU,eAAhB;QAFV;MAID,CAbD,MAaO;QACL,OAAOL,KAAP;MACD;IACF,CAnBO;EAFV;AAuBD"},"metadata":{},"sourceType":"module"}