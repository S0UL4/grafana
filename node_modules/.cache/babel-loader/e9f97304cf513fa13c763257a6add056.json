{"ast":null,"code":"import { getDataSourceSrv } from '@grafana/runtime';\nexport const fromDTO = dto => {\n  const datasource = getDataSourceSrv().getInstanceSettings({\n    uid: dto.datasourceUid\n  });\n  return {\n    id: dto.uid,\n    createdAt: dto.createdAt * 1000,\n    datasourceName: (datasource === null || datasource === void 0 ? void 0 : datasource.name) || '',\n    // will be show on the list as coming from a removed data source\n    datasourceUid: dto.datasourceUid,\n    starred: dto.starred,\n    comment: dto.comment,\n    queries: dto.queries\n  };\n};\nexport const toDTO = richHistory => {\n  return {\n    uid: richHistory.id,\n    createdAt: Math.floor(richHistory.createdAt / 1000),\n    datasourceUid: richHistory.datasourceUid,\n    starred: richHistory.starred,\n    comment: richHistory.comment,\n    queries: richHistory.queries\n  };\n};","map":{"version":3,"names":["getDataSourceSrv","fromDTO","dto","datasource","getInstanceSettings","uid","datasourceUid","id","createdAt","datasourceName","name","starred","comment","queries","toDTO","richHistory","Math","floor"],"sources":["/home/soula/grafana/public/app/core/history/remoteStorageConverter.ts"],"sourcesContent":["import { getDataSourceSrv } from '@grafana/runtime';\n\nimport { RichHistoryQuery } from '../../types';\n\nimport { RichHistoryRemoteStorageDTO } from './RichHistoryRemoteStorage';\n\nexport const fromDTO = (dto: RichHistoryRemoteStorageDTO): RichHistoryQuery => {\n  const datasource = getDataSourceSrv().getInstanceSettings({ uid: dto.datasourceUid });\n\n  return {\n    id: dto.uid,\n    createdAt: dto.createdAt * 1000,\n    datasourceName: datasource?.name || '', // will be show on the list as coming from a removed data source\n    datasourceUid: dto.datasourceUid,\n    starred: dto.starred,\n    comment: dto.comment,\n    queries: dto.queries,\n  };\n};\n\nexport const toDTO = (richHistory: RichHistoryQuery): RichHistoryRemoteStorageDTO => {\n  return {\n    uid: richHistory.id,\n    createdAt: Math.floor(richHistory.createdAt / 1000),\n    datasourceUid: richHistory.datasourceUid,\n    starred: richHistory.starred,\n    comment: richHistory.comment,\n    queries: richHistory.queries,\n  };\n};\n"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AAMA,OAAO,MAAMC,OAAO,GAAIC,GAAD,IAAwD;EAC7E,MAAMC,UAAU,GAAGH,gBAAgB,GAAGI,mBAAnB,CAAuC;IAAEC,GAAG,EAAEH,GAAG,CAACI;EAAX,CAAvC,CAAnB;EAEA,OAAO;IACLC,EAAE,EAAEL,GAAG,CAACG,GADH;IAELG,SAAS,EAAEN,GAAG,CAACM,SAAJ,GAAgB,IAFtB;IAGLC,cAAc,EAAE,CAAAN,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEO,IAAZ,KAAoB,EAH/B;IAGmC;IACxCJ,aAAa,EAAEJ,GAAG,CAACI,aAJd;IAKLK,OAAO,EAAET,GAAG,CAACS,OALR;IAMLC,OAAO,EAAEV,GAAG,CAACU,OANR;IAOLC,OAAO,EAAEX,GAAG,CAACW;EAPR,CAAP;AASD,CAZM;AAcP,OAAO,MAAMC,KAAK,GAAIC,WAAD,IAAgE;EACnF,OAAO;IACLV,GAAG,EAAEU,WAAW,CAACR,EADZ;IAELC,SAAS,EAAEQ,IAAI,CAACC,KAAL,CAAWF,WAAW,CAACP,SAAZ,GAAwB,IAAnC,CAFN;IAGLF,aAAa,EAAES,WAAW,CAACT,aAHtB;IAILK,OAAO,EAAEI,WAAW,CAACJ,OAJhB;IAKLC,OAAO,EAAEG,WAAW,CAACH,OALhB;IAMLC,OAAO,EAAEE,WAAW,CAACF;EANhB,CAAP;AAQD,CATM"},"metadata":{},"sourceType":"module"}