{"ast":null,"code":"import { FieldType, FrameGeometrySourceMode } from '@grafana/data';\nimport { GazetteerPathEditor } from 'app/features/geo/editor/GazetteerPathEditor';\nexport function addLocationFields(title, prefix, builder, source) {\n  builder.addRadio({\n    path: `${prefix}mode`,\n    name: title,\n    description: '',\n    defaultValue: FrameGeometrySourceMode.Auto,\n    settings: {\n      options: [{\n        value: FrameGeometrySourceMode.Auto,\n        label: 'Auto'\n      }, {\n        value: FrameGeometrySourceMode.Coords,\n        label: 'Coords'\n      }, {\n        value: FrameGeometrySourceMode.Geohash,\n        label: 'Geohash'\n      }, {\n        value: FrameGeometrySourceMode.Lookup,\n        label: 'Lookup'\n      }]\n    }\n  });\n\n  switch (source === null || source === void 0 ? void 0 : source.mode) {\n    case FrameGeometrySourceMode.Coords:\n      builder.addFieldNamePicker({\n        path: `${prefix}latitude`,\n        name: 'Latitude field',\n        settings: {\n          filter: f => f.type === FieldType.number,\n          noFieldsMessage: 'No numeric fields found'\n        }\n      }).addFieldNamePicker({\n        path: `${prefix}longitude`,\n        name: 'Longitude field',\n        settings: {\n          filter: f => f.type === FieldType.number,\n          noFieldsMessage: 'No numeric fields found'\n        }\n      });\n      break;\n\n    case FrameGeometrySourceMode.Geohash:\n      builder.addFieldNamePicker({\n        path: `${prefix}.geohash`,\n        name: 'Geohash field',\n        settings: {\n          filter: f => f.type === FieldType.string,\n          noFieldsMessage: 'No strings fields found'\n        }\n      });\n      break;\n\n    case FrameGeometrySourceMode.Lookup:\n      builder.addFieldNamePicker({\n        path: `${prefix}lookup`,\n        name: 'Lookup field',\n        settings: {\n          filter: f => f.type === FieldType.string,\n          noFieldsMessage: 'No strings fields found'\n        }\n      }).addCustomEditor({\n        id: 'gazetteer',\n        path: `${prefix}gazetteer`,\n        name: 'Gazetteer',\n        editor: GazetteerPathEditor\n      });\n  }\n}","map":{"version":3,"names":["FieldType","FrameGeometrySourceMode","GazetteerPathEditor","addLocationFields","title","prefix","builder","source","addRadio","path","name","description","defaultValue","Auto","settings","options","value","label","Coords","Geohash","Lookup","mode","addFieldNamePicker","filter","f","type","number","noFieldsMessage","string","addCustomEditor","id","editor"],"sources":["/home/soula/grafana/public/app/features/geo/editor/locationEditor.ts"],"sourcesContent":["import {\n  Field,\n  FieldType,\n  FrameGeometrySource,\n  FrameGeometrySourceMode,\n  PanelOptionsEditorBuilder,\n} from '@grafana/data';\nimport { GazetteerPathEditor } from 'app/features/geo/editor/GazetteerPathEditor';\n\nexport function addLocationFields<TOptions>(\n  title: string,\n  prefix: string,\n  builder: PanelOptionsEditorBuilder<TOptions>,\n  source?: FrameGeometrySource\n) {\n  builder.addRadio({\n    path: `${prefix}mode`,\n    name: title,\n    description: '',\n    defaultValue: FrameGeometrySourceMode.Auto,\n    settings: {\n      options: [\n        { value: FrameGeometrySourceMode.Auto, label: 'Auto' },\n        { value: FrameGeometrySourceMode.Coords, label: 'Coords' },\n        { value: FrameGeometrySourceMode.Geohash, label: 'Geohash' },\n        { value: FrameGeometrySourceMode.Lookup, label: 'Lookup' },\n      ],\n    },\n  });\n\n  switch (source?.mode) {\n    case FrameGeometrySourceMode.Coords:\n      builder\n        .addFieldNamePicker({\n          path: `${prefix}latitude`,\n          name: 'Latitude field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.number,\n            noFieldsMessage: 'No numeric fields found',\n          },\n        })\n        .addFieldNamePicker({\n          path: `${prefix}longitude`,\n          name: 'Longitude field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.number,\n            noFieldsMessage: 'No numeric fields found',\n          },\n        });\n      break;\n\n    case FrameGeometrySourceMode.Geohash:\n      builder.addFieldNamePicker({\n        path: `${prefix}.geohash`,\n        name: 'Geohash field',\n        settings: {\n          filter: (f: Field) => f.type === FieldType.string,\n          noFieldsMessage: 'No strings fields found',\n        },\n      });\n      break;\n\n    case FrameGeometrySourceMode.Lookup:\n      builder\n        .addFieldNamePicker({\n          path: `${prefix}lookup`,\n          name: 'Lookup field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.string,\n            noFieldsMessage: 'No strings fields found',\n          },\n        })\n        .addCustomEditor({\n          id: 'gazetteer',\n          path: `${prefix}gazetteer`,\n          name: 'Gazetteer',\n          editor: GazetteerPathEditor,\n        });\n  }\n}\n"],"mappings":"AAAA,SAEEA,SAFF,EAIEC,uBAJF,QAMO,eANP;AAOA,SAASC,mBAAT,QAAoC,6CAApC;AAEA,OAAO,SAASC,iBAAT,CACLC,KADK,EAELC,MAFK,EAGLC,OAHK,EAILC,MAJK,EAKL;EACAD,OAAO,CAACE,QAAR,CAAiB;IACfC,IAAI,EAAG,GAAEJ,MAAO,MADD;IAEfK,IAAI,EAAEN,KAFS;IAGfO,WAAW,EAAE,EAHE;IAIfC,YAAY,EAAEX,uBAAuB,CAACY,IAJvB;IAKfC,QAAQ,EAAE;MACRC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAEf,uBAAuB,CAACY,IAAjC;QAAuCI,KAAK,EAAE;MAA9C,CADO,EAEP;QAAED,KAAK,EAAEf,uBAAuB,CAACiB,MAAjC;QAAyCD,KAAK,EAAE;MAAhD,CAFO,EAGP;QAAED,KAAK,EAAEf,uBAAuB,CAACkB,OAAjC;QAA0CF,KAAK,EAAE;MAAjD,CAHO,EAIP;QAAED,KAAK,EAAEf,uBAAuB,CAACmB,MAAjC;QAAyCH,KAAK,EAAE;MAAhD,CAJO;IADD;EALK,CAAjB;;EAeA,QAAQV,MAAR,aAAQA,MAAR,uBAAQA,MAAM,CAAEc,IAAhB;IACE,KAAKpB,uBAAuB,CAACiB,MAA7B;MACEZ,OAAO,CACJgB,kBADH,CACsB;QAClBb,IAAI,EAAG,GAAEJ,MAAO,UADE;QAElBK,IAAI,EAAE,gBAFY;QAGlBI,QAAQ,EAAE;UACRS,MAAM,EAAGC,CAAD,IAAcA,CAAC,CAACC,IAAF,KAAWzB,SAAS,CAAC0B,MADnC;UAERC,eAAe,EAAE;QAFT;MAHQ,CADtB,EASGL,kBATH,CASsB;QAClBb,IAAI,EAAG,GAAEJ,MAAO,WADE;QAElBK,IAAI,EAAE,iBAFY;QAGlBI,QAAQ,EAAE;UACRS,MAAM,EAAGC,CAAD,IAAcA,CAAC,CAACC,IAAF,KAAWzB,SAAS,CAAC0B,MADnC;UAERC,eAAe,EAAE;QAFT;MAHQ,CATtB;MAiBA;;IAEF,KAAK1B,uBAAuB,CAACkB,OAA7B;MACEb,OAAO,CAACgB,kBAAR,CAA2B;QACzBb,IAAI,EAAG,GAAEJ,MAAO,UADS;QAEzBK,IAAI,EAAE,eAFmB;QAGzBI,QAAQ,EAAE;UACRS,MAAM,EAAGC,CAAD,IAAcA,CAAC,CAACC,IAAF,KAAWzB,SAAS,CAAC4B,MADnC;UAERD,eAAe,EAAE;QAFT;MAHe,CAA3B;MAQA;;IAEF,KAAK1B,uBAAuB,CAACmB,MAA7B;MACEd,OAAO,CACJgB,kBADH,CACsB;QAClBb,IAAI,EAAG,GAAEJ,MAAO,QADE;QAElBK,IAAI,EAAE,cAFY;QAGlBI,QAAQ,EAAE;UACRS,MAAM,EAAGC,CAAD,IAAcA,CAAC,CAACC,IAAF,KAAWzB,SAAS,CAAC4B,MADnC;UAERD,eAAe,EAAE;QAFT;MAHQ,CADtB,EASGE,eATH,CASmB;QACfC,EAAE,EAAE,WADW;QAEfrB,IAAI,EAAG,GAAEJ,MAAO,WAFD;QAGfK,IAAI,EAAE,WAHS;QAIfqB,MAAM,EAAE7B;MAJO,CATnB;EAjCJ;AAiDD"},"metadata":{},"sourceType":"module"}