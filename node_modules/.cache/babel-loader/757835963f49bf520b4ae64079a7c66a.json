{"ast":null,"code":"var _Icon;\n\nimport { css } from '@emotion/css';\nimport React, { useCallback } from 'react';\nimport { selectors as e2eSelectors } from '@grafana/e2e-selectors';\nimport { Card, Icon, TagList, useStyles2 } from '@grafana/ui';\nimport { SEARCH_ITEM_HEIGHT } from '../constants';\nimport { SearchCheckbox } from './SearchCheckbox';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst selectors = e2eSelectors.components.Search;\n\nconst getIconFromMeta = (meta = '') => {\n  const metaIconMap = new Map([['errors', 'info-circle'], ['views', 'eye']]);\n  return metaIconMap.has(meta) ? metaIconMap.get(meta) : 'sort-amount-down';\n};\n/** @deprecated */\n\n\nexport const SearchItem = ({\n  item,\n  editable,\n  onToggleChecked,\n  onTagSelected\n}) => {\n  const styles = useStyles2(getStyles);\n  const tagSelected = useCallback((tag, event) => {\n    event.stopPropagation();\n    event.preventDefault();\n    onTagSelected(tag);\n  }, [onTagSelected]);\n  const handleCheckboxClick = useCallback(ev => {\n    ev.stopPropagation();\n    ev.preventDefault();\n\n    if (onToggleChecked) {\n      onToggleChecked(item);\n    }\n  }, [item, onToggleChecked]);\n  const folderTitle = item.folderTitle || 'General';\n  return /*#__PURE__*/_jsxs(Card, {\n    \"data-testid\": selectors.dashboardItem(item.title),\n    href: item.url,\n    style: {\n      minHeight: SEARCH_ITEM_HEIGHT\n    },\n    className: styles.container,\n    children: [/*#__PURE__*/_jsx(Card.Heading, {\n      children: item.title\n    }), /*#__PURE__*/_jsx(Card.Figure, {\n      align: 'center',\n      className: styles.checkbox,\n      children: /*#__PURE__*/_jsx(SearchCheckbox, {\n        \"aria-label\": \"Select dashboard\",\n        editable: editable,\n        checked: item.checked,\n        onClick: handleCheckboxClick\n      })\n    }), /*#__PURE__*/_jsxs(Card.Meta, {\n      separator: '',\n      children: [/*#__PURE__*/_jsxs(\"span\", {\n        className: styles.metaContainer,\n        children: [_Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n          name: 'folder',\n          \"aria-hidden\": true\n        })), folderTitle]\n      }), item.sortMetaName && /*#__PURE__*/_jsxs(\"span\", {\n        className: styles.metaContainer,\n        children: [/*#__PURE__*/_jsx(Icon, {\n          name: getIconFromMeta(item.sortMetaName)\n        }), item.sortMeta, \" \", item.sortMetaName]\n      })]\n    }), /*#__PURE__*/_jsx(Card.Tags, {\n      children: /*#__PURE__*/_jsx(TagList, {\n        tags: item.tags,\n        onClick: tagSelected,\n        getAriaLabel: tag => `Filter by tag \"${tag}\"`\n      })\n    })]\n  });\n};\n\nconst getStyles = theme => {\n  return {\n    container: css`\n      margin-bottom: ${theme.spacing(0.75)};\n      padding: ${theme.spacing(1)} ${theme.spacing(2)};\n    `,\n    metaContainer: css`\n      display: flex;\n      align-items: center;\n      margin-right: ${theme.spacing(1)};\n\n      svg {\n        margin-right: ${theme.spacing(0.5)};\n      }\n    `,\n    checkbox: css`\n      margin-right: 0;\n    `\n  };\n};","map":{"version":3,"names":["css","React","useCallback","selectors","e2eSelectors","Card","Icon","TagList","useStyles2","SEARCH_ITEM_HEIGHT","SearchCheckbox","components","Search","getIconFromMeta","meta","metaIconMap","Map","has","get","SearchItem","item","editable","onToggleChecked","onTagSelected","styles","getStyles","tagSelected","tag","event","stopPropagation","preventDefault","handleCheckboxClick","ev","folderTitle","dashboardItem","title","url","minHeight","container","checkbox","checked","metaContainer","sortMetaName","sortMeta","tags","theme","spacing"],"sources":["/home/soula/grafana/public/app/features/search/components/SearchItem.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { FC, useCallback } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors as e2eSelectors } from '@grafana/e2e-selectors';\nimport { Card, Icon, IconName, TagList, useStyles2 } from '@grafana/ui';\n\nimport { SEARCH_ITEM_HEIGHT } from '../constants';\nimport { DashboardSectionItem, OnToggleChecked } from '../types';\n\nimport { SearchCheckbox } from './SearchCheckbox';\n\nexport interface Props {\n  item: DashboardSectionItem;\n  editable?: boolean;\n  onTagSelected: (name: string) => any;\n  onToggleChecked?: OnToggleChecked;\n}\n\nconst selectors = e2eSelectors.components.Search;\n\nconst getIconFromMeta = (meta = ''): IconName => {\n  const metaIconMap = new Map<string, IconName>([\n    ['errors', 'info-circle'],\n    ['views', 'eye'],\n  ]);\n\n  return metaIconMap.has(meta) ? metaIconMap.get(meta)! : 'sort-amount-down';\n};\n\n/** @deprecated */\nexport const SearchItem: FC<Props> = ({ item, editable, onToggleChecked, onTagSelected }) => {\n  const styles = useStyles2(getStyles);\n  const tagSelected = useCallback(\n    (tag: string, event: React.MouseEvent<HTMLElement>) => {\n      event.stopPropagation();\n      event.preventDefault();\n      onTagSelected(tag);\n    },\n    [onTagSelected]\n  );\n\n  const handleCheckboxClick = useCallback(\n    (ev: React.MouseEvent) => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      if (onToggleChecked) {\n        onToggleChecked(item);\n      }\n    },\n    [item, onToggleChecked]\n  );\n\n  const folderTitle = item.folderTitle || 'General';\n  return (\n    <Card\n      data-testid={selectors.dashboardItem(item.title)}\n      href={item.url}\n      style={{ minHeight: SEARCH_ITEM_HEIGHT }}\n      className={styles.container}\n    >\n      <Card.Heading>{item.title}</Card.Heading>\n      <Card.Figure align={'center'} className={styles.checkbox}>\n        <SearchCheckbox\n          aria-label=\"Select dashboard\"\n          editable={editable}\n          checked={item.checked}\n          onClick={handleCheckboxClick}\n        />\n      </Card.Figure>\n      <Card.Meta separator={''}>\n        <span className={styles.metaContainer}>\n          <Icon name={'folder'} aria-hidden />\n          {folderTitle}\n        </span>\n        {item.sortMetaName && (\n          <span className={styles.metaContainer}>\n            <Icon name={getIconFromMeta(item.sortMetaName)} />\n            {item.sortMeta} {item.sortMetaName}\n          </span>\n        )}\n      </Card.Meta>\n      <Card.Tags>\n        <TagList tags={item.tags} onClick={tagSelected} getAriaLabel={(tag) => `Filter by tag \"${tag}\"`} />\n      </Card.Tags>\n    </Card>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css`\n      margin-bottom: ${theme.spacing(0.75)};\n      padding: ${theme.spacing(1)} ${theme.spacing(2)};\n    `,\n    metaContainer: css`\n      display: flex;\n      align-items: center;\n      margin-right: ${theme.spacing(1)};\n\n      svg {\n        margin-right: ${theme.spacing(0.5)};\n      }\n    `,\n    checkbox: css`\n      margin-right: 0;\n    `,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}