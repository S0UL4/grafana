{"ast":null,"code":"import { getProperty } from './feed';\nexport function parseAtomFeed(txt) {\n  const domParser = new DOMParser();\n  const doc = domParser.parseFromString(txt, 'text/xml');\n  const feed = {\n    items: Array.from(doc.querySelectorAll('entry')).map(node => {\n      var _node$querySelector$g, _node$querySelector, _node$querySelector2;\n\n      return {\n        title: getProperty(node, 'title'),\n        link: (_node$querySelector$g = (_node$querySelector = node.querySelector('link')) === null || _node$querySelector === void 0 ? void 0 : _node$querySelector.getAttribute('href')) !== null && _node$querySelector$g !== void 0 ? _node$querySelector$g : '',\n        content: getProperty(node, 'content'),\n        pubDate: getProperty(node, 'published'),\n        ogImage: (_node$querySelector2 = node.querySelector(\"meta[property='og:image']\")) === null || _node$querySelector2 === void 0 ? void 0 : _node$querySelector2.getAttribute('content')\n      };\n    })\n  };\n  return feed;\n}","map":{"version":3,"names":["getProperty","parseAtomFeed","txt","domParser","DOMParser","doc","parseFromString","feed","items","Array","from","querySelectorAll","map","node","title","link","querySelector","getAttribute","content","pubDate","ogImage"],"sources":["/home/soula/grafana/public/app/plugins/panel/news/atom.ts"],"sourcesContent":["import { getProperty } from './feed';\nimport { Feed } from './types';\n\nexport function parseAtomFeed(txt: string): Feed {\n  const domParser = new DOMParser();\n  const doc = domParser.parseFromString(txt, 'text/xml');\n\n  const feed: Feed = {\n    items: Array.from(doc.querySelectorAll('entry')).map((node) => ({\n      title: getProperty(node, 'title'),\n      link: node.querySelector('link')?.getAttribute('href') ?? '',\n      content: getProperty(node, 'content'),\n      pubDate: getProperty(node, 'published'),\n      ogImage: node.querySelector(\"meta[property='og:image']\")?.getAttribute('content'),\n    })),\n  };\n\n  return feed;\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,QAA5B;AAGA,OAAO,SAASC,aAAT,CAAuBC,GAAvB,EAA0C;EAC/C,MAAMC,SAAS,GAAG,IAAIC,SAAJ,EAAlB;EACA,MAAMC,GAAG,GAAGF,SAAS,CAACG,eAAV,CAA0BJ,GAA1B,EAA+B,UAA/B,CAAZ;EAEA,MAAMK,IAAU,GAAG;IACjBC,KAAK,EAAEC,KAAK,CAACC,IAAN,CAAWL,GAAG,CAACM,gBAAJ,CAAqB,OAArB,CAAX,EAA0CC,GAA1C,CAA+CC,IAAD;MAAA;;MAAA,OAAW;QAC9DC,KAAK,EAAEd,WAAW,CAACa,IAAD,EAAO,OAAP,CAD4C;QAE9DE,IAAI,kDAAEF,IAAI,CAACG,aAAL,CAAmB,MAAnB,CAAF,wDAAE,oBAA4BC,YAA5B,CAAyC,MAAzC,CAAF,yEAAsD,EAFI;QAG9DC,OAAO,EAAElB,WAAW,CAACa,IAAD,EAAO,SAAP,CAH0C;QAI9DM,OAAO,EAAEnB,WAAW,CAACa,IAAD,EAAO,WAAP,CAJ0C;QAK9DO,OAAO,0BAAEP,IAAI,CAACG,aAAL,CAAmB,2BAAnB,CAAF,yDAAE,qBAAiDC,YAAjD,CAA8D,SAA9D;MALqD,CAAX;IAAA,CAA9C;EADU,CAAnB;EAUA,OAAOV,IAAP;AACD"},"metadata":{},"sourceType":"module"}