{"ast":null,"code":"var _h;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { updateDatasourcePluginJsonDataOption } from '@grafana/data';\nimport { DataSourcePicker } from '@grafana/runtime';\nimport { Button, InlineField, InlineFieldRow, useStyles } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function ServiceGraphSettings({\n  options,\n  onOptionsChange\n}) {\n  var _options$jsonData$ser, _options$jsonData$ser2;\n\n  const styles = useStyles(getStyles);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: css({\n      width: '100%'\n    }),\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h3\", {\n      className: \"page-heading\",\n      children: \"Service Graph\"\n    })), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.infoText,\n      children: \"To allow querying service graph data you have to select a Prometheus instance where the data is stored.\"\n    }), /*#__PURE__*/_jsxs(InlineFieldRow, {\n      className: styles.row,\n      children: [/*#__PURE__*/_jsx(InlineField, {\n        tooltip: \"The Prometheus data source with the service graph data\",\n        label: \"Data source\",\n        labelWidth: 26,\n        children: /*#__PURE__*/_jsx(DataSourcePicker, {\n          inputId: \"service-graph-data-source-picker\",\n          pluginId: \"prometheus\",\n          current: (_options$jsonData$ser = options.jsonData.serviceMap) === null || _options$jsonData$ser === void 0 ? void 0 : _options$jsonData$ser.datasourceUid,\n          noDefault: true,\n          width: 40,\n          onChange: ds => updateDatasourcePluginJsonDataOption({\n            onOptionsChange,\n            options\n          }, 'serviceMap', {\n            datasourceUid: ds.uid\n          })\n        })\n      }), (_options$jsonData$ser2 = options.jsonData.serviceMap) !== null && _options$jsonData$ser2 !== void 0 && _options$jsonData$ser2.datasourceUid ? /*#__PURE__*/_jsx(Button, {\n        type: 'button',\n        variant: 'secondary',\n        size: 'sm',\n        fill: 'text',\n        onClick: () => {\n          updateDatasourcePluginJsonDataOption({\n            onOptionsChange,\n            options\n          }, 'serviceMap', {\n            datasourceUid: undefined\n          });\n        },\n        children: \"Clear\"\n      }) : null]\n    })]\n  });\n}\n\nconst getStyles = theme => ({\n  infoText: css`\n    label: infoText;\n    padding-bottom: ${theme.spacing.md};\n    color: ${theme.colors.textSemiWeak};\n  `,\n  row: css`\n    label: row;\n    align-items: baseline;\n  `\n});","map":{"version":3,"names":["css","React","updateDatasourcePluginJsonDataOption","DataSourcePicker","Button","InlineField","InlineFieldRow","useStyles","ServiceGraphSettings","options","onOptionsChange","styles","getStyles","width","infoText","row","jsonData","serviceMap","datasourceUid","ds","uid","undefined","theme","spacing","md","colors","textSemiWeak"],"sources":["/home/soula/grafana/public/app/plugins/datasource/tempo/configuration/ServiceGraphSettings.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { DataSourcePluginOptionsEditorProps, GrafanaTheme, updateDatasourcePluginJsonDataOption } from '@grafana/data';\nimport { DataSourcePicker } from '@grafana/runtime';\nimport { Button, InlineField, InlineFieldRow, useStyles } from '@grafana/ui';\n\nimport { TempoJsonData } from '../datasource';\n\ninterface Props extends DataSourcePluginOptionsEditorProps<TempoJsonData> {}\n\nexport function ServiceGraphSettings({ options, onOptionsChange }: Props) {\n  const styles = useStyles(getStyles);\n\n  return (\n    <div className={css({ width: '100%' })}>\n      <h3 className=\"page-heading\">Service Graph</h3>\n\n      <div className={styles.infoText}>\n        To allow querying service graph data you have to select a Prometheus instance where the data is stored.\n      </div>\n\n      <InlineFieldRow className={styles.row}>\n        <InlineField\n          tooltip=\"The Prometheus data source with the service graph data\"\n          label=\"Data source\"\n          labelWidth={26}\n        >\n          <DataSourcePicker\n            inputId=\"service-graph-data-source-picker\"\n            pluginId=\"prometheus\"\n            current={options.jsonData.serviceMap?.datasourceUid}\n            noDefault={true}\n            width={40}\n            onChange={(ds) =>\n              updateDatasourcePluginJsonDataOption({ onOptionsChange, options }, 'serviceMap', {\n                datasourceUid: ds.uid,\n              })\n            }\n          />\n        </InlineField>\n        {options.jsonData.serviceMap?.datasourceUid ? (\n          <Button\n            type={'button'}\n            variant={'secondary'}\n            size={'sm'}\n            fill={'text'}\n            onClick={() => {\n              updateDatasourcePluginJsonDataOption({ onOptionsChange, options }, 'serviceMap', {\n                datasourceUid: undefined,\n              });\n            }}\n          >\n            Clear\n          </Button>\n        ) : null}\n      </InlineFieldRow>\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  infoText: css`\n    label: infoText;\n    padding-bottom: ${theme.spacing.md};\n    color: ${theme.colors.textSemiWeak};\n  `,\n\n  row: css`\n    label: row;\n    align-items: baseline;\n  `,\n});\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAA2DC,oCAA3D,QAAuG,eAAvG;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AACA,SAASC,MAAT,EAAiBC,WAAjB,EAA8BC,cAA9B,EAA8CC,SAA9C,QAA+D,aAA/D;;;AAMA,OAAO,SAASC,oBAAT,CAA8B;EAAEC,OAAF;EAAWC;AAAX,CAA9B,EAAmE;EAAA;;EACxE,MAAMC,MAAM,GAAGJ,SAAS,CAACK,SAAD,CAAxB;EAEA,oBACE;IAAK,SAAS,EAAEZ,GAAG,CAAC;MAAEa,KAAK,EAAE;IAAT,CAAD,CAAnB;IAAA,oCACE;MAAI,SAAS,EAAC,cAAd;MAAA;IAAA,EADF,gBAGE;MAAK,SAAS,EAAEF,MAAM,CAACG,QAAvB;MAAA;IAAA,EAHF,eAOE,MAAC,cAAD;MAAgB,SAAS,EAAEH,MAAM,CAACI,GAAlC;MAAA,wBACE,KAAC,WAAD;QACE,OAAO,EAAC,wDADV;QAEE,KAAK,EAAC,aAFR;QAGE,UAAU,EAAE,EAHd;QAAA,uBAKE,KAAC,gBAAD;UACE,OAAO,EAAC,kCADV;UAEE,QAAQ,EAAC,YAFX;UAGE,OAAO,2BAAEN,OAAO,CAACO,QAAR,CAAiBC,UAAnB,0DAAE,sBAA6BC,aAHxC;UAIE,SAAS,EAAE,IAJb;UAKE,KAAK,EAAE,EALT;UAME,QAAQ,EAAGC,EAAD,IACRjB,oCAAoC,CAAC;YAAEQ,eAAF;YAAmBD;UAAnB,CAAD,EAA+B,YAA/B,EAA6C;YAC/ES,aAAa,EAAEC,EAAE,CAACC;UAD6D,CAA7C;QAPxC;MALF,EADF,EAmBG,0BAAAX,OAAO,CAACO,QAAR,CAAiBC,UAAjB,0EAA6BC,aAA7B,gBACC,KAAC,MAAD;QACE,IAAI,EAAE,QADR;QAEE,OAAO,EAAE,WAFX;QAGE,IAAI,EAAE,IAHR;QAIE,IAAI,EAAE,MAJR;QAKE,OAAO,EAAE,MAAM;UACbhB,oCAAoC,CAAC;YAAEQ,eAAF;YAAmBD;UAAnB,CAAD,EAA+B,YAA/B,EAA6C;YAC/ES,aAAa,EAAEG;UADgE,CAA7C,CAApC;QAGD,CATH;QAAA;MAAA,EADD,GAcG,IAjCN;IAAA,EAPF;EAAA,EADF;AA6CD;;AAED,MAAMT,SAAS,GAAIU,KAAD,KAA0B;EAC1CR,QAAQ,EAAEd,GAAI;AAChB;AACA,sBAAsBsB,KAAK,CAACC,OAAN,CAAcC,EAAG;AACvC,aAAaF,KAAK,CAACG,MAAN,CAAaC,YAAa;AACvC,GAL4C;EAO1CX,GAAG,EAAEf,GAAI;AACX;AACA;AACA;AAV4C,CAA1B,CAAlB"},"metadata":{},"sourceType":"module"}