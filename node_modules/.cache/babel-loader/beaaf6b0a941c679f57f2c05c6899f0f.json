{"ast":null,"code":"import { css, cx } from '@emotion/css';\nimport React, { useMemo, useState } from 'react';\nimport { RgbaStringColorPicker } from 'react-colorful';\nimport { useThrottleFn } from 'react-use';\nimport tinycolor from 'tinycolor2';\nimport { colorManipulator } from '@grafana/data';\nimport { useStyles2, useTheme2 } from '../../themes';\nimport ColorInput from './ColorInput';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst SpectrumPalette = ({\n  color,\n  onChange\n}) => {\n  const [currentColor, setColor] = useState(color);\n  useThrottleFn(c => {\n    onChange(colorManipulator.asHexString(theme.visualization.getColorByName(c)));\n  }, 500, [currentColor]);\n  const theme = useTheme2();\n  const styles = useStyles2(getStyles);\n  const rgbaString = useMemo(() => {\n    return currentColor.startsWith('rgba') ? currentColor : tinycolor(theme.visualization.getColorByName(color)).toRgbString();\n  }, [currentColor, theme, color]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.wrapper,\n    children: [/*#__PURE__*/_jsx(RgbaStringColorPicker, {\n      className: cx(styles.root),\n      color: rgbaString,\n      onChange: setColor\n    }), /*#__PURE__*/_jsx(ColorInput, {\n      theme: theme,\n      color: rgbaString,\n      onChange: setColor,\n      className: styles.colorInput\n    })]\n  });\n};\n\nconst getStyles = theme => ({\n  wrapper: css`\n    flex-grow: 1;\n  `,\n  root: css`\n    &.react-colorful {\n      width: auto;\n    }\n\n    .react-colorful {\n      &__saturation {\n        border-radius: ${theme.v1.border.radius.sm} ${theme.v1.border.radius.sm} 0 0;\n      }\n      &__alpha {\n        border-radius: 0 0 ${theme.v1.border.radius.sm} ${theme.v1.border.radius.sm};\n      }\n      &__alpha,\n      &__hue {\n        height: ${theme.spacing(2)};\n        position: relative;\n      }\n      &__pointer {\n        height: ${theme.spacing(2)};\n        width: ${theme.spacing(2)};\n      }\n    }\n  `,\n  colorInput: css`\n    margin-top: ${theme.spacing(2)};\n  `\n});\n\nexport default SpectrumPalette;","map":{"version":3,"names":["css","cx","React","useMemo","useState","RgbaStringColorPicker","useThrottleFn","tinycolor","colorManipulator","useStyles2","useTheme2","ColorInput","SpectrumPalette","color","onChange","currentColor","setColor","c","asHexString","theme","visualization","getColorByName","styles","getStyles","rgbaString","startsWith","toRgbString","wrapper","root","colorInput","v1","border","radius","sm","spacing"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/ColorPicker/SpectrumPalette.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { useMemo, useState } from 'react';\nimport { RgbaStringColorPicker } from 'react-colorful';\nimport { useThrottleFn } from 'react-use';\nimport tinycolor from 'tinycolor2';\n\nimport { GrafanaTheme2, colorManipulator } from '@grafana/data';\n\nimport { useStyles2, useTheme2 } from '../../themes';\n\nimport ColorInput from './ColorInput';\n\nexport interface SpectrumPaletteProps {\n  color: string;\n  onChange: (color: string) => void;\n}\n\nconst SpectrumPalette: React.FunctionComponent<SpectrumPaletteProps> = ({ color, onChange }) => {\n  const [currentColor, setColor] = useState(color);\n\n  useThrottleFn(\n    (c) => {\n      onChange(colorManipulator.asHexString(theme.visualization.getColorByName(c)));\n    },\n    500,\n    [currentColor]\n  );\n\n  const theme = useTheme2();\n  const styles = useStyles2(getStyles);\n\n  const rgbaString = useMemo(() => {\n    return currentColor.startsWith('rgba')\n      ? currentColor\n      : tinycolor(theme.visualization.getColorByName(color)).toRgbString();\n  }, [currentColor, theme, color]);\n\n  return (\n    <div className={styles.wrapper}>\n      <RgbaStringColorPicker className={cx(styles.root)} color={rgbaString} onChange={setColor} />\n      <ColorInput theme={theme} color={rgbaString} onChange={setColor} className={styles.colorInput} />\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  wrapper: css`\n    flex-grow: 1;\n  `,\n  root: css`\n    &.react-colorful {\n      width: auto;\n    }\n\n    .react-colorful {\n      &__saturation {\n        border-radius: ${theme.v1.border.radius.sm} ${theme.v1.border.radius.sm} 0 0;\n      }\n      &__alpha {\n        border-radius: 0 0 ${theme.v1.border.radius.sm} ${theme.v1.border.radius.sm};\n      }\n      &__alpha,\n      &__hue {\n        height: ${theme.spacing(2)};\n        position: relative;\n      }\n      &__pointer {\n        height: ${theme.spacing(2)};\n        width: ${theme.spacing(2)};\n      }\n    }\n  `,\n  colorInput: css`\n    margin-top: ${theme.spacing(2)};\n  `,\n});\n\nexport default SpectrumPalette;\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,EAAd,QAAwB,cAAxB;AACA,OAAOC,KAAP,IAAgBC,OAAhB,EAAyBC,QAAzB,QAAyC,OAAzC;AACA,SAASC,qBAAT,QAAsC,gBAAtC;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAAwBC,gBAAxB,QAAgD,eAAhD;AAEA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,cAAtC;AAEA,OAAOC,UAAP,MAAuB,cAAvB;;;;AAOA,MAAMC,eAA8D,GAAG,CAAC;EAAEC,KAAF;EAASC;AAAT,CAAD,KAAyB;EAC9F,MAAM,CAACC,YAAD,EAAeC,QAAf,IAA2BZ,QAAQ,CAACS,KAAD,CAAzC;EAEAP,aAAa,CACVW,CAAD,IAAO;IACLH,QAAQ,CAACN,gBAAgB,CAACU,WAAjB,CAA6BC,KAAK,CAACC,aAAN,CAAoBC,cAApB,CAAmCJ,CAAnC,CAA7B,CAAD,CAAR;EACD,CAHU,EAIX,GAJW,EAKX,CAACF,YAAD,CALW,CAAb;EAQA,MAAMI,KAAK,GAAGT,SAAS,EAAvB;EACA,MAAMY,MAAM,GAAGb,UAAU,CAACc,SAAD,CAAzB;EAEA,MAAMC,UAAU,GAAGrB,OAAO,CAAC,MAAM;IAC/B,OAAOY,YAAY,CAACU,UAAb,CAAwB,MAAxB,IACHV,YADG,GAEHR,SAAS,CAACY,KAAK,CAACC,aAAN,CAAoBC,cAApB,CAAmCR,KAAnC,CAAD,CAAT,CAAqDa,WAArD,EAFJ;EAGD,CAJyB,EAIvB,CAACX,YAAD,EAAeI,KAAf,EAAsBN,KAAtB,CAJuB,CAA1B;EAMA,oBACE;IAAK,SAAS,EAAES,MAAM,CAACK,OAAvB;IAAA,wBACE,KAAC,qBAAD;MAAuB,SAAS,EAAE1B,EAAE,CAACqB,MAAM,CAACM,IAAR,CAApC;MAAmD,KAAK,EAAEJ,UAA1D;MAAsE,QAAQ,EAAER;IAAhF,EADF,eAEE,KAAC,UAAD;MAAY,KAAK,EAAEG,KAAnB;MAA0B,KAAK,EAAEK,UAAjC;MAA6C,QAAQ,EAAER,QAAvD;MAAiE,SAAS,EAAEM,MAAM,CAACO;IAAnF,EAFF;EAAA,EADF;AAMD,CA1BD;;AA4BA,MAAMN,SAAS,GAAIJ,KAAD,KAA2B;EAC3CQ,OAAO,EAAE3B,GAAI;AACf;AACA,GAH6C;EAI3C4B,IAAI,EAAE5B,GAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyBmB,KAAK,CAACW,EAAN,CAASC,MAAT,CAAgBC,MAAhB,CAAuBC,EAAG,IAAGd,KAAK,CAACW,EAAN,CAASC,MAAT,CAAgBC,MAAhB,CAAuBC,EAAG;AAChF;AACA;AACA,6BAA6Bd,KAAK,CAACW,EAAN,CAASC,MAAT,CAAgBC,MAAhB,CAAuBC,EAAG,IAAGd,KAAK,CAACW,EAAN,CAASC,MAAT,CAAgBC,MAAhB,CAAuBC,EAAG;AACpF;AACA;AACA;AACA,kBAAkBd,KAAK,CAACe,OAAN,CAAc,CAAd,CAAiB;AACnC;AACA;AACA;AACA,kBAAkBf,KAAK,CAACe,OAAN,CAAc,CAAd,CAAiB;AACnC,iBAAiBf,KAAK,CAACe,OAAN,CAAc,CAAd,CAAiB;AAClC;AACA;AACA,GA1B6C;EA2B3CL,UAAU,EAAE7B,GAAI;AAClB,kBAAkBmB,KAAK,CAACe,OAAN,CAAc,CAAd,CAAiB;AACnC;AA7B6C,CAA3B,CAAlB;;AAgCA,eAAetB,eAAf"},"metadata":{},"sourceType":"module"}