{"ast":null,"code":"const _excluded = [\"key\"],\n      _excluded2 = [\"key\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable react/jsx-no-undef */\nimport { css } from '@emotion/css';\nimport React, { useEffect, useMemo, useRef, useCallback } from 'react';\nimport { useTable, useAbsoluteLayout } from 'react-table';\nimport { FixedSizeList } from 'react-window';\nimport InfiniteLoader from 'react-window-infinite-loader';\nimport { useStyles2 } from '@grafana/ui';\nimport { TableCell } from '@grafana/ui/src/components/Table/TableCell';\nimport { getTableStyles } from '@grafana/ui/src/components/Table/styles';\nimport { useSearchKeyboardNavigation } from '../../hooks/useSearchKeyboardSelection';\nimport { generateColumns } from './columns';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst HEADER_HEIGHT = 36; // pixels\n\nexport const SearchResultsTable = /*#__PURE__*/React.memo(({\n  response,\n  width,\n  height,\n  selection,\n  selectionToggle,\n  clearSelection,\n  onTagSelected,\n  onDatasourceChange,\n  keyboardEvents\n}) => {\n  var _response$view$fields2;\n\n  const styles = useStyles2(getStyles);\n  const tableStyles = useStyles2(getTableStyles);\n  const infiniteLoaderRef = useRef(null);\n  const listRef = useRef(null);\n  const highlightIndex = useSearchKeyboardNavigation(keyboardEvents, 0, response);\n  const memoizedData = useMemo(() => {\n    var _response$view;\n\n    if (!(response !== null && response !== void 0 && (_response$view = response.view) !== null && _response$view !== void 0 && _response$view.dataFrame.fields.length)) {\n      return [];\n    } // as we only use this to fake the length of our data set for react-table we need to make sure we always return an array\n    // filled with values at each index otherwise we'll end up trying to call accessRow for null|undefined value in\n    // https://github.com/tannerlinsley/react-table/blob/7be2fc9d8b5e223fc998af88865ae86a88792fdb/src/hooks/useTable.js#L585\n\n\n    return Array(response.totalRows).fill(0);\n  }, [response]); // Scroll to the top and clear loader cache when the query results change\n\n  useEffect(() => {\n    if (infiniteLoaderRef.current) {\n      infiniteLoaderRef.current.resetloadMoreItemsCache();\n    }\n\n    if (listRef.current) {\n      listRef.current.scrollTo(0);\n    }\n  }, [memoizedData]); // React-table column definitions\n\n  const memoizedColumns = useMemo(() => {\n    return generateColumns(response, width, selection, selectionToggle, clearSelection, styles, onTagSelected, onDatasourceChange);\n  }, [response, width, styles, selection, selectionToggle, clearSelection, onTagSelected, onDatasourceChange]);\n  const options = useMemo(() => ({\n    columns: memoizedColumns,\n    data: memoizedData\n  }), [memoizedColumns, memoizedData]);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable(options, useAbsoluteLayout);\n  const RenderRow = useCallback(({\n    index: rowIndex,\n    style\n  }) => {\n    var _response$view$fields;\n\n    const row = rows[rowIndex];\n    prepareRow(row);\n    const url = (_response$view$fields = response.view.fields.url) === null || _response$view$fields === void 0 ? void 0 : _response$view$fields.values.get(rowIndex);\n    let className = styles.rowContainer;\n\n    if (rowIndex === highlightIndex.y) {\n      className += ' ' + styles.selectedRow;\n    }\n\n    return /*#__PURE__*/_jsx(\"div\", Object.assign({}, row.getRowProps({\n      style\n    }), {\n      className: className,\n      children: row.cells.map((cell, index) => {\n        return /*#__PURE__*/_jsx(TableCell, {\n          tableStyles: tableStyles,\n          cell: cell,\n          columnIndex: index,\n          columnCount: row.cells.length,\n          userProps: {\n            href: url\n          }\n        }, index);\n      })\n    }));\n  }, [rows, prepareRow, (_response$view$fields2 = response.view.fields.url) === null || _response$view$fields2 === void 0 ? void 0 : _response$view$fields2.values, highlightIndex, styles, tableStyles]);\n\n  if (!rows.length) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: styles.noData,\n      children: \"No data\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", Object.assign({}, getTableProps(), {\n    \"aria-label\": \"Search result table\",\n    role: \"table\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      children: headerGroups.map(headerGroup => {\n        const _headerGroup$getHeade = headerGroup.getHeaderGroupProps(),\n              {\n          key\n        } = _headerGroup$getHeade,\n              headerGroupProps = _objectWithoutPropertiesLoose(_headerGroup$getHeade, _excluded);\n\n        return /*#__PURE__*/_jsx(\"div\", Object.assign({}, headerGroupProps, {\n          className: styles.headerRow,\n          children: headerGroup.headers.map(column => {\n            const _column$getHeaderProp = column.getHeaderProps(),\n                  {\n              key\n            } = _column$getHeaderProp,\n                  headerProps = _objectWithoutPropertiesLoose(_column$getHeaderProp, _excluded2);\n\n            return /*#__PURE__*/_jsx(\"div\", Object.assign({}, headerProps, {\n              role: \"columnheader\",\n              className: styles.headerCell,\n              children: column.render('Header')\n            }), key);\n          })\n        }), key);\n      })\n    }), /*#__PURE__*/_jsx(\"div\", Object.assign({}, getTableBodyProps(), {\n      children: /*#__PURE__*/_jsx(InfiniteLoader, {\n        ref: infiniteLoaderRef,\n        isItemLoaded: response.isItemLoaded,\n        itemCount: rows.length,\n        loadMoreItems: response.loadMoreItems,\n        children: ({\n          onItemsRendered\n        }) => /*#__PURE__*/_jsx(FixedSizeList, {\n          ref: listRef,\n          onItemsRendered: onItemsRendered,\n          height: height - HEADER_HEIGHT,\n          itemCount: rows.length,\n          itemSize: tableStyles.rowHeight,\n          width: \"100%\",\n          style: {\n            overflow: 'hidden auto'\n          },\n          children: RenderRow\n        })\n      })\n    }))]\n  }));\n});\nSearchResultsTable.displayName = 'SearchResultsTable';\n\nconst getStyles = theme => {\n  const rowHoverBg = theme.colors.emphasize(theme.colors.background.primary, 0.03);\n  return {\n    noData: css`\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n    `,\n    table: css`\n      width: 100%;\n    `,\n    cellIcon: css`\n      display: flex;\n      align-items: center;\n    `,\n    nameCellStyle: css`\n      border-right: none;\n      padding: ${theme.spacing(1)} ${theme.spacing(1)} ${theme.spacing(1)} ${theme.spacing(2)};\n      overflow: hidden;\n      text-overflow: ellipsis;\n      user-select: text;\n      white-space: nowrap;\n      &:hover {\n        box-shadow: none;\n      }\n    `,\n    headerNameStyle: css`\n      padding-left: ${theme.spacing(1)};\n    `,\n    headerCell: css`\n      padding: ${theme.spacing(1)};\n    `,\n    headerRow: css`\n      background-color: ${theme.colors.background.secondary};\n      height: ${HEADER_HEIGHT}px;\n      align-items: center;\n    `,\n    selectedRow: css`\n      background-color: ${rowHoverBg};\n      box-shadow: inset 3px 0px ${theme.colors.primary.border};\n    `,\n    rowContainer: css`\n      label: row;\n      &:hover {\n        background-color: ${rowHoverBg};\n      }\n\n      &:not(:hover) div[role='cell'] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,\n    typeIcon: css`\n      margin-left: 5px;\n      margin-right: 9.5px;\n      vertical-align: middle;\n      display: inline-block;\n      margin-bottom: ${theme.v1.spacing.xxs};\n      fill: ${theme.colors.text.secondary};\n    `,\n    datasourceItem: css`\n      span {\n        &:hover {\n          color: ${theme.colors.text.link};\n        }\n      }\n    `,\n    missingTitleText: css`\n      color: ${theme.colors.text.disabled};\n      font-style: italic;\n    `,\n    invalidDatasourceItem: css`\n      color: ${theme.colors.error.main};\n      text-decoration: line-through;\n    `,\n    typeText: css`\n      color: ${theme.colors.text.secondary};\n      padding-top: ${theme.spacing(1)};\n    `,\n    locationItem: css`\n      color: ${theme.colors.text.secondary};\n      margin-right: 12px;\n    `,\n    sortedHeader: css`\n      text-align: right;\n      padding-right: ${theme.spacing(2)};\n    `,\n    sortedItems: css`\n      text-align: right;\n      padding: ${theme.spacing(1)} ${theme.spacing(3)} ${theme.spacing(1)} ${theme.spacing(1)};\n    `,\n    locationCellStyle: css`\n      padding-top: ${theme.spacing(1)};\n      padding-right: ${theme.spacing(1)};\n    `,\n    checkboxHeader: css`\n      margin-left: 2px;\n    `,\n    checkbox: css`\n      margin-left: 10px;\n      margin-right: 10px;\n      margin-top: 5px;\n    `,\n    infoWrap: css`\n      color: ${theme.colors.text.secondary};\n      span {\n        margin-right: 10px;\n      }\n    `,\n    tagList: css`\n      padding-top: ${theme.spacing(0.5)};\n      justify-content: flex-start;\n      flex-wrap: nowrap;\n    `\n  };\n};","map":{"version":3,"names":["css","React","useEffect","useMemo","useRef","useCallback","useTable","useAbsoluteLayout","FixedSizeList","InfiniteLoader","useStyles2","TableCell","getTableStyles","useSearchKeyboardNavigation","generateColumns","HEADER_HEIGHT","SearchResultsTable","memo","response","width","height","selection","selectionToggle","clearSelection","onTagSelected","onDatasourceChange","keyboardEvents","styles","getStyles","tableStyles","infiniteLoaderRef","listRef","highlightIndex","memoizedData","view","dataFrame","fields","length","Array","totalRows","fill","current","resetloadMoreItemsCache","scrollTo","memoizedColumns","options","columns","data","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","RenderRow","index","rowIndex","style","row","url","values","get","className","rowContainer","y","selectedRow","getRowProps","cells","map","cell","href","noData","headerGroup","getHeaderGroupProps","key","headerGroupProps","headerRow","headers","column","getHeaderProps","headerProps","headerCell","render","isItemLoaded","loadMoreItems","onItemsRendered","rowHeight","overflow","displayName","theme","rowHoverBg","colors","emphasize","background","primary","table","cellIcon","nameCellStyle","spacing","headerNameStyle","secondary","border","typeIcon","v1","xxs","text","datasourceItem","link","missingTitleText","disabled","invalidDatasourceItem","error","main","typeText","locationItem","sortedHeader","sortedItems","locationCellStyle","checkboxHeader","checkbox","infoWrap","tagList"],"sources":["/home/soula/grafana/public/app/features/search/page/components/SearchResultsTable.tsx"],"sourcesContent":["/* eslint-disable react/jsx-no-undef */\nimport { css } from '@emotion/css';\nimport React, { useEffect, useMemo, useRef, useCallback } from 'react';\nimport { useTable, Column, TableOptions, Cell, useAbsoluteLayout } from 'react-table';\nimport { FixedSizeList } from 'react-window';\nimport InfiniteLoader from 'react-window-infinite-loader';\nimport { Observable } from 'rxjs';\n\nimport { Field, GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { TableCell } from '@grafana/ui/src/components/Table/TableCell';\nimport { getTableStyles } from '@grafana/ui/src/components/Table/styles';\n\nimport { useSearchKeyboardNavigation } from '../../hooks/useSearchKeyboardSelection';\nimport { QueryResponse } from '../../service';\nimport { SelectionChecker, SelectionToggle } from '../selection';\n\nimport { generateColumns } from './columns';\n\nexport type SearchResultsProps = {\n  response: QueryResponse;\n  width: number;\n  height: number;\n  selection?: SelectionChecker;\n  selectionToggle?: SelectionToggle;\n  clearSelection: () => void;\n  onTagSelected: (tag: string) => void;\n  onDatasourceChange?: (datasource?: string) => void;\n  keyboardEvents: Observable<React.KeyboardEvent>;\n};\n\nexport type TableColumn = Column & {\n  field?: Field;\n};\n\nconst HEADER_HEIGHT = 36; // pixels\n\nexport const SearchResultsTable = React.memo(\n  ({\n    response,\n    width,\n    height,\n    selection,\n    selectionToggle,\n    clearSelection,\n    onTagSelected,\n    onDatasourceChange,\n    keyboardEvents,\n  }: SearchResultsProps) => {\n    const styles = useStyles2(getStyles);\n    const tableStyles = useStyles2(getTableStyles);\n    const infiniteLoaderRef = useRef<InfiniteLoader>(null);\n    const listRef = useRef<FixedSizeList>(null);\n    const highlightIndex = useSearchKeyboardNavigation(keyboardEvents, 0, response);\n\n    const memoizedData = useMemo(() => {\n      if (!response?.view?.dataFrame.fields.length) {\n        return [];\n      }\n\n      // as we only use this to fake the length of our data set for react-table we need to make sure we always return an array\n      // filled with values at each index otherwise we'll end up trying to call accessRow for null|undefined value in\n      // https://github.com/tannerlinsley/react-table/blob/7be2fc9d8b5e223fc998af88865ae86a88792fdb/src/hooks/useTable.js#L585\n      return Array(response.totalRows).fill(0);\n    }, [response]);\n\n    // Scroll to the top and clear loader cache when the query results change\n    useEffect(() => {\n      if (infiniteLoaderRef.current) {\n        infiniteLoaderRef.current.resetloadMoreItemsCache();\n      }\n      if (listRef.current) {\n        listRef.current.scrollTo(0);\n      }\n    }, [memoizedData]);\n\n    // React-table column definitions\n    const memoizedColumns = useMemo(() => {\n      return generateColumns(\n        response,\n        width,\n        selection,\n        selectionToggle,\n        clearSelection,\n        styles,\n        onTagSelected,\n        onDatasourceChange\n      );\n    }, [response, width, styles, selection, selectionToggle, clearSelection, onTagSelected, onDatasourceChange]);\n\n    const options: TableOptions<{}> = useMemo(\n      () => ({\n        columns: memoizedColumns,\n        data: memoizedData,\n      }),\n      [memoizedColumns, memoizedData]\n    );\n\n    const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } = useTable(options, useAbsoluteLayout);\n\n    const RenderRow = useCallback(\n      ({ index: rowIndex, style }) => {\n        const row = rows[rowIndex];\n        prepareRow(row);\n\n        const url = response.view.fields.url?.values.get(rowIndex);\n        let className = styles.rowContainer;\n        if (rowIndex === highlightIndex.y) {\n          className += ' ' + styles.selectedRow;\n        }\n\n        return (\n          <div {...row.getRowProps({ style })} className={className}>\n            {row.cells.map((cell: Cell, index: number) => {\n              return (\n                <TableCell\n                  key={index}\n                  tableStyles={tableStyles}\n                  cell={cell}\n                  columnIndex={index}\n                  columnCount={row.cells.length}\n                  userProps={{ href: url }}\n                />\n              );\n            })}\n          </div>\n        );\n      },\n      [rows, prepareRow, response.view.fields.url?.values, highlightIndex, styles, tableStyles]\n    );\n\n    if (!rows.length) {\n      return <div className={styles.noData}>No data</div>;\n    }\n\n    return (\n      <div {...getTableProps()} aria-label=\"Search result table\" role=\"table\">\n        <div>\n          {headerGroups.map((headerGroup) => {\n            const { key, ...headerGroupProps } = headerGroup.getHeaderGroupProps();\n\n            return (\n              <div key={key} {...headerGroupProps} className={styles.headerRow}>\n                {headerGroup.headers.map((column) => {\n                  const { key, ...headerProps } = column.getHeaderProps();\n                  return (\n                    <div key={key} {...headerProps} role=\"columnheader\" className={styles.headerCell}>\n                      {column.render('Header')}\n                    </div>\n                  );\n                })}\n              </div>\n            );\n          })}\n        </div>\n\n        <div {...getTableBodyProps()}>\n          <InfiniteLoader\n            ref={infiniteLoaderRef}\n            isItemLoaded={response.isItemLoaded}\n            itemCount={rows.length}\n            loadMoreItems={response.loadMoreItems}\n          >\n            {({ onItemsRendered }) => (\n              <FixedSizeList\n                ref={listRef}\n                onItemsRendered={onItemsRendered}\n                height={height - HEADER_HEIGHT}\n                itemCount={rows.length}\n                itemSize={tableStyles.rowHeight}\n                width=\"100%\"\n                style={{ overflow: 'hidden auto' }}\n              >\n                {RenderRow}\n              </FixedSizeList>\n            )}\n          </InfiniteLoader>\n        </div>\n      </div>\n    );\n  }\n);\nSearchResultsTable.displayName = 'SearchResultsTable';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  const rowHoverBg = theme.colors.emphasize(theme.colors.background.primary, 0.03);\n\n  return {\n    noData: css`\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n    `,\n    table: css`\n      width: 100%;\n    `,\n    cellIcon: css`\n      display: flex;\n      align-items: center;\n    `,\n    nameCellStyle: css`\n      border-right: none;\n      padding: ${theme.spacing(1)} ${theme.spacing(1)} ${theme.spacing(1)} ${theme.spacing(2)};\n      overflow: hidden;\n      text-overflow: ellipsis;\n      user-select: text;\n      white-space: nowrap;\n      &:hover {\n        box-shadow: none;\n      }\n    `,\n    headerNameStyle: css`\n      padding-left: ${theme.spacing(1)};\n    `,\n    headerCell: css`\n      padding: ${theme.spacing(1)};\n    `,\n    headerRow: css`\n      background-color: ${theme.colors.background.secondary};\n      height: ${HEADER_HEIGHT}px;\n      align-items: center;\n    `,\n    selectedRow: css`\n      background-color: ${rowHoverBg};\n      box-shadow: inset 3px 0px ${theme.colors.primary.border};\n    `,\n    rowContainer: css`\n      label: row;\n      &:hover {\n        background-color: ${rowHoverBg};\n      }\n\n      &:not(:hover) div[role='cell'] {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    `,\n    typeIcon: css`\n      margin-left: 5px;\n      margin-right: 9.5px;\n      vertical-align: middle;\n      display: inline-block;\n      margin-bottom: ${theme.v1.spacing.xxs};\n      fill: ${theme.colors.text.secondary};\n    `,\n    datasourceItem: css`\n      span {\n        &:hover {\n          color: ${theme.colors.text.link};\n        }\n      }\n    `,\n    missingTitleText: css`\n      color: ${theme.colors.text.disabled};\n      font-style: italic;\n    `,\n    invalidDatasourceItem: css`\n      color: ${theme.colors.error.main};\n      text-decoration: line-through;\n    `,\n    typeText: css`\n      color: ${theme.colors.text.secondary};\n      padding-top: ${theme.spacing(1)};\n    `,\n    locationItem: css`\n      color: ${theme.colors.text.secondary};\n      margin-right: 12px;\n    `,\n    sortedHeader: css`\n      text-align: right;\n      padding-right: ${theme.spacing(2)};\n    `,\n    sortedItems: css`\n      text-align: right;\n      padding: ${theme.spacing(1)} ${theme.spacing(3)} ${theme.spacing(1)} ${theme.spacing(1)};\n    `,\n    locationCellStyle: css`\n      padding-top: ${theme.spacing(1)};\n      padding-right: ${theme.spacing(1)};\n    `,\n    checkboxHeader: css`\n      margin-left: 2px;\n    `,\n    checkbox: css`\n      margin-left: 10px;\n      margin-right: 10px;\n      margin-top: 5px;\n    `,\n    infoWrap: css`\n      color: ${theme.colors.text.secondary};\n      span {\n        margin-right: 10px;\n      }\n    `,\n    tagList: css`\n      padding-top: ${theme.spacing(0.5)};\n      justify-content: flex-start;\n      flex-wrap: nowrap;\n    `,\n  };\n};\n"],"mappings":";;;;;AAAA;AACA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,EAA4CC,WAA5C,QAA+D,OAA/D;AACA,SAASC,QAAT,EAA+CC,iBAA/C,QAAwE,aAAxE;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AAIA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,SAAT,QAA0B,4CAA1B;AACA,SAASC,cAAT,QAA+B,yCAA/B;AAEA,SAASC,2BAAT,QAA4C,wCAA5C;AAIA,SAASC,eAAT,QAAgC,WAAhC;;;AAkBA,MAAMC,aAAa,GAAG,EAAtB,C,CAA0B;;AAE1B,OAAO,MAAMC,kBAAkB,gBAAGf,KAAK,CAACgB,IAAN,CAChC,CAAC;EACCC,QADD;EAECC,KAFD;EAGCC,MAHD;EAICC,SAJD;EAKCC,eALD;EAMCC,cAND;EAOCC,aAPD;EAQCC,kBARD;EASCC;AATD,CAAD,KAU0B;EAAA;;EACxB,MAAMC,MAAM,GAAGjB,UAAU,CAACkB,SAAD,CAAzB;EACA,MAAMC,WAAW,GAAGnB,UAAU,CAACE,cAAD,CAA9B;EACA,MAAMkB,iBAAiB,GAAG1B,MAAM,CAAiB,IAAjB,CAAhC;EACA,MAAM2B,OAAO,GAAG3B,MAAM,CAAgB,IAAhB,CAAtB;EACA,MAAM4B,cAAc,GAAGnB,2BAA2B,CAACa,cAAD,EAAiB,CAAjB,EAAoBR,QAApB,CAAlD;EAEA,MAAMe,YAAY,GAAG9B,OAAO,CAAC,MAAM;IAAA;;IACjC,IAAI,EAACe,QAAD,aAACA,QAAD,iCAACA,QAAQ,CAAEgB,IAAX,2CAAC,eAAgBC,SAAhB,CAA0BC,MAA1B,CAAiCC,MAAlC,CAAJ,EAA8C;MAC5C,OAAO,EAAP;IACD,CAHgC,CAKjC;IACA;IACA;;;IACA,OAAOC,KAAK,CAACpB,QAAQ,CAACqB,SAAV,CAAL,CAA0BC,IAA1B,CAA+B,CAA/B,CAAP;EACD,CAT2B,EASzB,CAACtB,QAAD,CATyB,CAA5B,CAPwB,CAkBxB;;EACAhB,SAAS,CAAC,MAAM;IACd,IAAI4B,iBAAiB,CAACW,OAAtB,EAA+B;MAC7BX,iBAAiB,CAACW,OAAlB,CAA0BC,uBAA1B;IACD;;IACD,IAAIX,OAAO,CAACU,OAAZ,EAAqB;MACnBV,OAAO,CAACU,OAAR,CAAgBE,QAAhB,CAAyB,CAAzB;IACD;EACF,CAPQ,EAON,CAACV,YAAD,CAPM,CAAT,CAnBwB,CA4BxB;;EACA,MAAMW,eAAe,GAAGzC,OAAO,CAAC,MAAM;IACpC,OAAOW,eAAe,CACpBI,QADoB,EAEpBC,KAFoB,EAGpBE,SAHoB,EAIpBC,eAJoB,EAKpBC,cALoB,EAMpBI,MANoB,EAOpBH,aAPoB,EAQpBC,kBARoB,CAAtB;EAUD,CAX8B,EAW5B,CAACP,QAAD,EAAWC,KAAX,EAAkBQ,MAAlB,EAA0BN,SAA1B,EAAqCC,eAArC,EAAsDC,cAAtD,EAAsEC,aAAtE,EAAqFC,kBAArF,CAX4B,CAA/B;EAaA,MAAMoB,OAAyB,GAAG1C,OAAO,CACvC,OAAO;IACL2C,OAAO,EAAEF,eADJ;IAELG,IAAI,EAAEd;EAFD,CAAP,CADuC,EAKvC,CAACW,eAAD,EAAkBX,YAAlB,CALuC,CAAzC;EAQA,MAAM;IAAEe,aAAF;IAAiBC,iBAAjB;IAAoCC,YAApC;IAAkDC,IAAlD;IAAwDC;EAAxD,IAAuE9C,QAAQ,CAACuC,OAAD,EAAUtC,iBAAV,CAArF;EAEA,MAAM8C,SAAS,GAAGhD,WAAW,CAC3B,CAAC;IAAEiD,KAAK,EAAEC,QAAT;IAAmBC;EAAnB,CAAD,KAAgC;IAAA;;IAC9B,MAAMC,GAAG,GAAGN,IAAI,CAACI,QAAD,CAAhB;IACAH,UAAU,CAACK,GAAD,CAAV;IAEA,MAAMC,GAAG,4BAAGxC,QAAQ,CAACgB,IAAT,CAAcE,MAAd,CAAqBsB,GAAxB,0DAAG,sBAA0BC,MAA1B,CAAiCC,GAAjC,CAAqCL,QAArC,CAAZ;IACA,IAAIM,SAAS,GAAGlC,MAAM,CAACmC,YAAvB;;IACA,IAAIP,QAAQ,KAAKvB,cAAc,CAAC+B,CAAhC,EAAmC;MACjCF,SAAS,IAAI,MAAMlC,MAAM,CAACqC,WAA1B;IACD;;IAED,oBACE,8BAASP,GAAG,CAACQ,WAAJ,CAAgB;MAAET;IAAF,CAAhB,CAAT;MAAqC,SAAS,EAAEK,SAAhD;MAAA,UACGJ,GAAG,CAACS,KAAJ,CAAUC,GAAV,CAAc,CAACC,IAAD,EAAad,KAAb,KAA+B;QAC5C,oBACE,KAAC,SAAD;UAEE,WAAW,EAAEzB,WAFf;UAGE,IAAI,EAAEuC,IAHR;UAIE,WAAW,EAAEd,KAJf;UAKE,WAAW,EAAEG,GAAG,CAACS,KAAJ,CAAU7B,MALzB;UAME,SAAS,EAAE;YAAEgC,IAAI,EAAEX;UAAR;QANb,GACOJ,KADP,CADF;MAUD,CAXA;IADH,GADF;EAgBD,CA3B0B,EA4B3B,CAACH,IAAD,EAAOC,UAAP,4BAAmBlC,QAAQ,CAACgB,IAAT,CAAcE,MAAd,CAAqBsB,GAAxC,2DAAmB,uBAA0BC,MAA7C,EAAqD3B,cAArD,EAAqEL,MAArE,EAA6EE,WAA7E,CA5B2B,CAA7B;;EA+BA,IAAI,CAACsB,IAAI,CAACd,MAAV,EAAkB;IAChB,oBAAO;MAAK,SAAS,EAAEV,MAAM,CAAC2C,MAAvB;MAAA;IAAA,EAAP;EACD;;EAED,oBACE,+BAAStB,aAAa,EAAtB;IAA0B,cAAW,qBAArC;IAA2D,IAAI,EAAC,OAAhE;IAAA,wBACE;MAAA,UACGE,YAAY,CAACiB,GAAb,CAAkBI,WAAD,IAAiB;QACjC,8BAAqCA,WAAW,CAACC,mBAAZ,EAArC;QAAA,MAAM;UAAEC;QAAF,CAAN;QAAA,MAAgBC,gBAAhB;;QAEA,oBACE,8BAAmBA,gBAAnB;UAAqC,SAAS,EAAE/C,MAAM,CAACgD,SAAvD;UAAA,UACGJ,WAAW,CAACK,OAAZ,CAAoBT,GAApB,CAAyBU,MAAD,IAAY;YACnC,8BAAgCA,MAAM,CAACC,cAAP,EAAhC;YAAA,MAAM;cAAEL;YAAF,CAAN;YAAA,MAAgBM,WAAhB;;YACA,oBACE,8BAAmBA,WAAnB;cAAgC,IAAI,EAAC,cAArC;cAAoD,SAAS,EAAEpD,MAAM,CAACqD,UAAtE;cAAA,UACGH,MAAM,CAACI,MAAP,CAAc,QAAd;YADH,IAAUR,GAAV,CADF;UAKD,CAPA;QADH,IAAUA,GAAV,CADF;MAYD,CAfA;IADH,EADF,eAoBE,8BAASxB,iBAAiB,EAA1B;MAAA,uBACE,KAAC,cAAD;QACE,GAAG,EAAEnB,iBADP;QAEE,YAAY,EAAEZ,QAAQ,CAACgE,YAFzB;QAGE,SAAS,EAAE/B,IAAI,CAACd,MAHlB;QAIE,aAAa,EAAEnB,QAAQ,CAACiE,aAJ1B;QAAA,UAMG,CAAC;UAAEC;QAAF,CAAD,kBACC,KAAC,aAAD;UACE,GAAG,EAAErD,OADP;UAEE,eAAe,EAAEqD,eAFnB;UAGE,MAAM,EAAEhE,MAAM,GAAGL,aAHnB;UAIE,SAAS,EAAEoC,IAAI,CAACd,MAJlB;UAKE,QAAQ,EAAER,WAAW,CAACwD,SALxB;UAME,KAAK,EAAC,MANR;UAOE,KAAK,EAAE;YAAEC,QAAQ,EAAE;UAAZ,CAPT;UAAA,UASGjC;QATH;MAPJ;IADF,GApBF;EAAA,GADF;AA6CD,CA/I+B,CAA3B;AAiJPrC,kBAAkB,CAACuE,WAAnB,GAAiC,oBAAjC;;AAEA,MAAM3D,SAAS,GAAI4D,KAAD,IAA0B;EAC1C,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAN,CAAaC,SAAb,CAAuBH,KAAK,CAACE,MAAN,CAAaE,UAAb,CAAwBC,OAA/C,EAAwD,IAAxD,CAAnB;EAEA,OAAO;IACLvB,MAAM,EAAEtE,GAAI;AAChB;AACA;AACA;AACA;AACA;AACA,KAPS;IAQL8F,KAAK,EAAE9F,GAAI;AACf;AACA,KAVS;IAWL+F,QAAQ,EAAE/F,GAAI;AAClB;AACA;AACA,KAdS;IAeLgG,aAAa,EAAEhG,GAAI;AACvB;AACA,iBAAiBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzBS;IA0BLC,eAAe,EAAElG,GAAI;AACzB,sBAAsBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AACvC,KA5BS;IA6BLjB,UAAU,EAAEhF,GAAI;AACpB,iBAAiBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AAClC,KA/BS;IAgCLtB,SAAS,EAAE3E,GAAI;AACnB,0BAA0BwF,KAAK,CAACE,MAAN,CAAaE,UAAb,CAAwBO,SAAU;AAC5D,gBAAgBpF,aAAc;AAC9B;AACA,KApCS;IAqCLiD,WAAW,EAAEhE,GAAI;AACrB,0BAA0ByF,UAAW;AACrC,kCAAkCD,KAAK,CAACE,MAAN,CAAaG,OAAb,CAAqBO,MAAO;AAC9D,KAxCS;IAyCLtC,YAAY,EAAE9D,GAAI;AACtB;AACA;AACA,4BAA4ByF,UAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApDS;IAqDLY,QAAQ,EAAErG,GAAI;AAClB;AACA;AACA;AACA;AACA,uBAAuBwF,KAAK,CAACc,EAAN,CAASL,OAAT,CAAiBM,GAAI;AAC5C,cAAcf,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBL,SAAU;AAC1C,KA5DS;IA6DLM,cAAc,EAAEzG,GAAI;AACxB;AACA;AACA,mBAAmBwF,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBE,IAAK;AAC1C;AACA;AACA,KAnES;IAoELC,gBAAgB,EAAE3G,GAAI;AAC1B,eAAewF,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBI,QAAS;AAC1C;AACA,KAvES;IAwELC,qBAAqB,EAAE7G,GAAI;AAC/B,eAAewF,KAAK,CAACE,MAAN,CAAaoB,KAAb,CAAmBC,IAAK;AACvC;AACA,KA3ES;IA4ELC,QAAQ,EAAEhH,GAAI;AAClB,eAAewF,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBL,SAAU;AAC3C,qBAAqBX,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AACtC,KA/ES;IAgFLgB,YAAY,EAAEjH,GAAI;AACtB,eAAewF,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBL,SAAU;AAC3C;AACA,KAnFS;IAoFLe,YAAY,EAAElH,GAAI;AACtB;AACA,uBAAuBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AACxC,KAvFS;IAwFLkB,WAAW,EAAEnH,GAAI;AACrB;AACA,iBAAiBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB,IAAGT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AAC9F,KA3FS;IA4FLmB,iBAAiB,EAAEpH,GAAI;AAC3B,qBAAqBwF,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AACtC,uBAAuBT,KAAK,CAACS,OAAN,CAAc,CAAd,CAAiB;AACxC,KA/FS;IAgGLoB,cAAc,EAAErH,GAAI;AACxB;AACA,KAlGS;IAmGLsH,QAAQ,EAAEtH,GAAI;AAClB;AACA;AACA;AACA,KAvGS;IAwGLuH,QAAQ,EAAEvH,GAAI;AAClB,eAAewF,KAAK,CAACE,MAAN,CAAac,IAAb,CAAkBL,SAAU;AAC3C;AACA;AACA;AACA,KA7GS;IA8GLqB,OAAO,EAAExH,GAAI;AACjB,qBAAqBwF,KAAK,CAACS,OAAN,CAAc,GAAd,CAAmB;AACxC;AACA;AACA;EAlHS,CAAP;AAoHD,CAvHD"},"metadata":{},"sourceType":"module"}