{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { Provider } from 'react-redux';\nimport { reportInteraction } from '@grafana/runtime';\nimport { Button } from '@grafana/ui';\nimport { store } from '../../../store/store';\nimport { NetworkGraphModal } from './NetworkGraphModal';\nimport { createDependencyEdges, createDependencyNodes, filterNodesWithDependencies } from './utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const UnProvidedVariablesDependenciesButton = ({\n  variables\n}) => {\n  const nodes = useMemo(() => createDependencyNodes(variables), [variables]);\n  const edges = useMemo(() => createDependencyEdges(variables), [variables]);\n\n  if (!edges.length) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(NetworkGraphModal, {\n    show: false,\n    title: \"Dependencies\",\n    nodes: filterNodesWithDependencies(nodes, edges),\n    edges: edges,\n    children: ({\n      showModal\n    }) => {\n      return /*#__PURE__*/_jsx(Button, {\n        onClick: () => {\n          reportInteraction('Show variable dependencies');\n          showModal();\n        },\n        icon: \"channel-add\",\n        variant: \"secondary\",\n        children: \"Show dependencies\"\n      });\n    }\n  });\n};\nexport const VariablesDependenciesButton = props => /*#__PURE__*/_jsx(Provider, {\n  store: store,\n  children: /*#__PURE__*/_jsx(UnProvidedVariablesDependenciesButton, Object.assign({}, props))\n});","map":{"version":3,"names":["React","useMemo","Provider","reportInteraction","Button","store","NetworkGraphModal","createDependencyEdges","createDependencyNodes","filterNodesWithDependencies","UnProvidedVariablesDependenciesButton","variables","nodes","edges","length","showModal","VariablesDependenciesButton","props"],"sources":["/home/soula/grafana/public/app/features/variables/inspect/VariablesDependenciesButton.tsx"],"sourcesContent":["import React, { FC, useMemo } from 'react';\nimport { Provider } from 'react-redux';\n\nimport { reportInteraction } from '@grafana/runtime';\nimport { Button } from '@grafana/ui';\n\nimport { store } from '../../../store/store';\nimport { VariableModel } from '../types';\n\nimport { NetworkGraphModal } from './NetworkGraphModal';\nimport { createDependencyEdges, createDependencyNodes, filterNodesWithDependencies } from './utils';\n\ninterface OwnProps {\n  variables: VariableModel[];\n}\n\ninterface ConnectedProps {}\n\ninterface DispatchProps {}\n\ntype Props = OwnProps & ConnectedProps & DispatchProps;\n\nexport const UnProvidedVariablesDependenciesButton: FC<Props> = ({ variables }) => {\n  const nodes = useMemo(() => createDependencyNodes(variables), [variables]);\n  const edges = useMemo(() => createDependencyEdges(variables), [variables]);\n\n  if (!edges.length) {\n    return null;\n  }\n\n  return (\n    <NetworkGraphModal\n      show={false}\n      title=\"Dependencies\"\n      nodes={filterNodesWithDependencies(nodes, edges)}\n      edges={edges}\n    >\n      {({ showModal }) => {\n        return (\n          <Button\n            onClick={() => {\n              reportInteraction('Show variable dependencies');\n              showModal();\n            }}\n            icon=\"channel-add\"\n            variant=\"secondary\"\n          >\n            Show dependencies\n          </Button>\n        );\n      }}\n    </NetworkGraphModal>\n  );\n};\n\nexport const VariablesDependenciesButton: FC<Props> = (props) => (\n  <Provider store={store}>\n    <UnProvidedVariablesDependenciesButton {...props} />\n  </Provider>\n);\n"],"mappings":"AAAA,OAAOA,KAAP,IAAoBC,OAApB,QAAmC,OAAnC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,SAASC,iBAAT,QAAkC,kBAAlC;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,SAASC,KAAT,QAAsB,sBAAtB;AAGA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,SAASC,qBAAT,EAAgCC,qBAAhC,EAAuDC,2BAAvD,QAA0F,SAA1F;;AAYA,OAAO,MAAMC,qCAAgD,GAAG,CAAC;EAAEC;AAAF,CAAD,KAAmB;EACjF,MAAMC,KAAK,GAAGX,OAAO,CAAC,MAAMO,qBAAqB,CAACG,SAAD,CAA5B,EAAyC,CAACA,SAAD,CAAzC,CAArB;EACA,MAAME,KAAK,GAAGZ,OAAO,CAAC,MAAMM,qBAAqB,CAACI,SAAD,CAA5B,EAAyC,CAACA,SAAD,CAAzC,CAArB;;EAEA,IAAI,CAACE,KAAK,CAACC,MAAX,EAAmB;IACjB,OAAO,IAAP;EACD;;EAED,oBACE,KAAC,iBAAD;IACE,IAAI,EAAE,KADR;IAEE,KAAK,EAAC,cAFR;IAGE,KAAK,EAAEL,2BAA2B,CAACG,KAAD,EAAQC,KAAR,CAHpC;IAIE,KAAK,EAAEA,KAJT;IAAA,UAMG,CAAC;MAAEE;IAAF,CAAD,KAAmB;MAClB,oBACE,KAAC,MAAD;QACE,OAAO,EAAE,MAAM;UACbZ,iBAAiB,CAAC,4BAAD,CAAjB;UACAY,SAAS;QACV,CAJH;QAKE,IAAI,EAAC,aALP;QAME,OAAO,EAAC,WANV;QAAA;MAAA,EADF;IAYD;EAnBH,EADF;AAuBD,CA/BM;AAiCP,OAAO,MAAMC,2BAAsC,GAAIC,KAAD,iBACpD,KAAC,QAAD;EAAU,KAAK,EAAEZ,KAAjB;EAAA,uBACE,KAAC,qCAAD,oBAA2CY,KAA3C;AADF,EADK"},"metadata":{},"sourceType":"module"}