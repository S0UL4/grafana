{"ast":null,"code":"export const alignCurrentWithMulti = (current, value) => {\n  if (!current) {\n    return current;\n  }\n\n  if (value && !Array.isArray(current.value)) {\n    return Object.assign({}, current, {\n      value: convertToMulti(current.value),\n      text: convertToMulti(current.text)\n    });\n  }\n\n  if (!value && Array.isArray(current.value)) {\n    return Object.assign({}, current, {\n      value: convertToSingle(current.value),\n      text: convertToSingle(current.text)\n    });\n  }\n\n  return current;\n};\n\nconst convertToSingle = value => {\n  if (!Array.isArray(value)) {\n    return value;\n  }\n\n  if (value.length > 0) {\n    return value[0];\n  }\n\n  return '';\n};\n\nconst convertToMulti = value => {\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [value];\n};","map":{"version":3,"names":["alignCurrentWithMulti","current","value","Array","isArray","convertToMulti","text","convertToSingle","length"],"sources":["/home/soula/grafana/public/app/features/variables/shared/multiOptions.ts"],"sourcesContent":["import { VariableOption } from 'app/features/variables/types';\n\nexport const alignCurrentWithMulti = (current: VariableOption, value: boolean): VariableOption => {\n  if (!current) {\n    return current;\n  }\n\n  if (value && !Array.isArray(current.value)) {\n    return {\n      ...current,\n      value: convertToMulti(current.value),\n      text: convertToMulti(current.text),\n    };\n  }\n\n  if (!value && Array.isArray(current.value)) {\n    return {\n      ...current,\n      value: convertToSingle(current.value),\n      text: convertToSingle(current.text),\n    };\n  }\n\n  return current;\n};\n\nconst convertToSingle = (value: string | string[]): string => {\n  if (!Array.isArray(value)) {\n    return value;\n  }\n\n  if (value.length > 0) {\n    return value[0];\n  }\n\n  return '';\n};\n\nconst convertToMulti = (value: string | string[]): string[] => {\n  if (Array.isArray(value)) {\n    return value;\n  }\n  return [value];\n};\n"],"mappings":"AAEA,OAAO,MAAMA,qBAAqB,GAAG,CAACC,OAAD,EAA0BC,KAA1B,KAA6D;EAChG,IAAI,CAACD,OAAL,EAAc;IACZ,OAAOA,OAAP;EACD;;EAED,IAAIC,KAAK,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,OAAO,CAACC,KAAtB,CAAd,EAA4C;IAC1C,yBACKD,OADL;MAEEC,KAAK,EAAEG,cAAc,CAACJ,OAAO,CAACC,KAAT,CAFvB;MAGEI,IAAI,EAAED,cAAc,CAACJ,OAAO,CAACK,IAAT;IAHtB;EAKD;;EAED,IAAI,CAACJ,KAAD,IAAUC,KAAK,CAACC,OAAN,CAAcH,OAAO,CAACC,KAAtB,CAAd,EAA4C;IAC1C,yBACKD,OADL;MAEEC,KAAK,EAAEK,eAAe,CAACN,OAAO,CAACC,KAAT,CAFxB;MAGEI,IAAI,EAAEC,eAAe,CAACN,OAAO,CAACK,IAAT;IAHvB;EAKD;;EAED,OAAOL,OAAP;AACD,CAtBM;;AAwBP,MAAMM,eAAe,GAAIL,KAAD,IAAsC;EAC5D,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAL,EAA2B;IACzB,OAAOA,KAAP;EACD;;EAED,IAAIA,KAAK,CAACM,MAAN,GAAe,CAAnB,EAAsB;IACpB,OAAON,KAAK,CAAC,CAAD,CAAZ;EACD;;EAED,OAAO,EAAP;AACD,CAVD;;AAYA,MAAMG,cAAc,GAAIH,KAAD,IAAwC;EAC7D,IAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;IACxB,OAAOA,KAAP;EACD;;EACD,OAAO,CAACA,KAAD,CAAP;AACD,CALD"},"metadata":{},"sourceType":"module"}