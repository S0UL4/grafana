{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { isNumber } from 'lodash';\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\nexport class SemVersion {\n  constructor(version) {\n    _defineProperty(this, \"major\", void 0);\n\n    _defineProperty(this, \"minor\", void 0);\n\n    _defineProperty(this, \"patch\", void 0);\n\n    _defineProperty(this, \"meta\", void 0);\n\n    this.major = 0;\n    this.minor = 0;\n    this.patch = 0;\n    this.meta = '';\n    const match = versionPattern.exec(version);\n\n    if (match) {\n      this.major = Number(match[1]);\n      this.minor = Number(match[2] || 0);\n      this.patch = Number(match[3] || 0);\n      this.meta = match[4];\n    }\n  }\n\n  isGtOrEq(version) {\n    const compared = new SemVersion(version);\n\n    for (let i = 0; i < this.comparable.length; ++i) {\n      if (this.comparable[i] > compared.comparable[i]) {\n        return true;\n      }\n\n      if (this.comparable[i] < compared.comparable[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  isValid() {\n    return isNumber(this.major);\n  }\n\n  get comparable() {\n    return [this.major, this.minor, this.patch];\n  }\n\n}\nexport function isVersionGtOrEq(a, b) {\n  const aSemver = new SemVersion(a);\n  return aSemver.isGtOrEq(b);\n}","map":{"version":3,"names":["isNumber","versionPattern","SemVersion","constructor","version","major","minor","patch","meta","match","exec","Number","isGtOrEq","compared","i","comparable","length","isValid","isVersionGtOrEq","a","b","aSemver"],"sources":["/home/soula/grafana/public/app/core/utils/version.ts"],"sourcesContent":["import { isNumber } from 'lodash';\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\n\nexport class SemVersion {\n  major: number;\n  minor: number;\n  patch: number;\n  meta: string;\n\n  constructor(version: string) {\n    this.major = 0;\n    this.minor = 0;\n    this.patch = 0;\n    this.meta = '';\n    const match = versionPattern.exec(version);\n    if (match) {\n      this.major = Number(match[1]);\n      this.minor = Number(match[2] || 0);\n      this.patch = Number(match[3] || 0);\n      this.meta = match[4];\n    }\n  }\n\n  isGtOrEq(version: string): boolean {\n    const compared = new SemVersion(version);\n\n    for (let i = 0; i < this.comparable.length; ++i) {\n      if (this.comparable[i] > compared.comparable[i]) {\n        return true;\n      }\n      if (this.comparable[i] < compared.comparable[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  isValid(): boolean {\n    return isNumber(this.major);\n  }\n\n  get comparable() {\n    return [this.major, this.minor, this.patch];\n  }\n}\n\nexport function isVersionGtOrEq(a: string, b: string): boolean {\n  const aSemver = new SemVersion(a);\n  return aSemver.isGtOrEq(b);\n}\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,QAAzB;AAEA,MAAMC,cAAc,GAAG,sDAAvB;AAEA,OAAO,MAAMC,UAAN,CAAiB;EAMtBC,WAAW,CAACC,OAAD,EAAkB;IAAA;;IAAA;;IAAA;;IAAA;;IAC3B,KAAKC,KAAL,GAAa,CAAb;IACA,KAAKC,KAAL,GAAa,CAAb;IACA,KAAKC,KAAL,GAAa,CAAb;IACA,KAAKC,IAAL,GAAY,EAAZ;IACA,MAAMC,KAAK,GAAGR,cAAc,CAACS,IAAf,CAAoBN,OAApB,CAAd;;IACA,IAAIK,KAAJ,EAAW;MACT,KAAKJ,KAAL,GAAaM,MAAM,CAACF,KAAK,CAAC,CAAD,CAAN,CAAnB;MACA,KAAKH,KAAL,GAAaK,MAAM,CAACF,KAAK,CAAC,CAAD,CAAL,IAAY,CAAb,CAAnB;MACA,KAAKF,KAAL,GAAaI,MAAM,CAACF,KAAK,CAAC,CAAD,CAAL,IAAY,CAAb,CAAnB;MACA,KAAKD,IAAL,GAAYC,KAAK,CAAC,CAAD,CAAjB;IACD;EACF;;EAEDG,QAAQ,CAACR,OAAD,EAA2B;IACjC,MAAMS,QAAQ,GAAG,IAAIX,UAAJ,CAAeE,OAAf,CAAjB;;IAEA,KAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,UAAL,CAAgBC,MAApC,EAA4C,EAAEF,CAA9C,EAAiD;MAC/C,IAAI,KAAKC,UAAL,CAAgBD,CAAhB,IAAqBD,QAAQ,CAACE,UAAT,CAAoBD,CAApB,CAAzB,EAAiD;QAC/C,OAAO,IAAP;MACD;;MACD,IAAI,KAAKC,UAAL,CAAgBD,CAAhB,IAAqBD,QAAQ,CAACE,UAAT,CAAoBD,CAApB,CAAzB,EAAiD;QAC/C,OAAO,KAAP;MACD;IACF;;IACD,OAAO,IAAP;EACD;;EAEDG,OAAO,GAAY;IACjB,OAAOjB,QAAQ,CAAC,KAAKK,KAAN,CAAf;EACD;;EAEa,IAAVU,UAAU,GAAG;IACf,OAAO,CAAC,KAAKV,KAAN,EAAa,KAAKC,KAAlB,EAAyB,KAAKC,KAA9B,CAAP;EACD;;AAxCqB;AA2CxB,OAAO,SAASW,eAAT,CAAyBC,CAAzB,EAAoCC,CAApC,EAAwD;EAC7D,MAAMC,OAAO,GAAG,IAAInB,UAAJ,CAAeiB,CAAf,CAAhB;EACA,OAAOE,OAAO,CAACT,QAAR,CAAiBQ,CAAjB,CAAP;AACD"},"metadata":{},"sourceType":"module"}