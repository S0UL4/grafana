{"ast":null,"code":"import { css, cx } from '@emotion/css';\nimport { isString } from 'lodash';\nimport React from 'react';\nimport { dateTimeFormat } from '@grafana/data';\nimport { useTheme, stylesFactory } from '../../../themes';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport const TimeZoneOffset = props => {\n  const theme = useTheme();\n  const {\n    timestamp,\n    timeZone,\n    className\n  } = props;\n  const styles = getStyles(theme);\n\n  if (!isString(timeZone)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsx(\"span\", {\n      className: cx(styles.offset, className),\n      children: formatUtcOffset(timestamp, timeZone)\n    })\n  });\n};\nexport const formatUtcOffset = (timestamp, timeZone) => {\n  const offset = dateTimeFormat(timestamp, {\n    timeZone,\n    format: 'Z'\n  });\n\n  if (offset === '+00:00') {\n    return 'UTC';\n  }\n\n  return `UTC${offset}`;\n};\nconst getStyles = stylesFactory(theme => {\n  const textBase = css`\n    font-weight: normal;\n    font-size: ${theme.typography.size.sm};\n    color: ${theme.colors.textWeak};\n    white-space: normal;\n  `;\n  return {\n    offset: css`\n      ${textBase};\n      color: ${theme.colors.text};\n      background: ${theme.colors.bg2};\n      padding: 2px 5px;\n      border-radius: 2px;\n      margin-left: 4px;\n    `\n  };\n});","map":{"version":3,"names":["css","cx","isString","React","dateTimeFormat","useTheme","stylesFactory","TimeZoneOffset","props","theme","timestamp","timeZone","className","styles","getStyles","offset","formatUtcOffset","format","textBase","typography","size","sm","colors","textWeak","text","bg2"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/DateTimePickers/TimeZonePicker/TimeZoneOffset.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { isString } from 'lodash';\nimport React, { PropsWithChildren } from 'react';\n\nimport { GrafanaTheme, TimeZone, dateTimeFormat } from '@grafana/data';\n\nimport { useTheme, stylesFactory } from '../../../themes';\n\ninterface Props {\n  timestamp: number;\n  timeZone: TimeZone | undefined;\n  className?: string;\n}\n\nexport const TimeZoneOffset: React.FC<PropsWithChildren<Props>> = (props) => {\n  const theme = useTheme();\n  const { timestamp, timeZone, className } = props;\n  const styles = getStyles(theme);\n\n  if (!isString(timeZone)) {\n    return null;\n  }\n\n  return (\n    <>\n      <span className={cx(styles.offset, className)}>{formatUtcOffset(timestamp, timeZone)}</span>\n    </>\n  );\n};\n\nexport const formatUtcOffset = (timestamp: number, timeZone: TimeZone): string => {\n  const offset = dateTimeFormat(timestamp, {\n    timeZone,\n    format: 'Z',\n  });\n\n  if (offset === '+00:00') {\n    return 'UTC';\n  }\n  return `UTC${offset}`;\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const textBase = css`\n    font-weight: normal;\n    font-size: ${theme.typography.size.sm};\n    color: ${theme.colors.textWeak};\n    white-space: normal;\n  `;\n\n  return {\n    offset: css`\n      ${textBase};\n      color: ${theme.colors.text};\n      background: ${theme.colors.bg2};\n      padding: 2px 5px;\n      border-radius: 2px;\n      margin-left: 4px;\n    `,\n  };\n});\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,EAAd,QAAwB,cAAxB;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,OAAOC,KAAP,MAAyC,OAAzC;AAEA,SAAiCC,cAAjC,QAAuD,eAAvD;AAEA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,iBAAxC;;;AAQA,OAAO,MAAMC,cAAkD,GAAIC,KAAD,IAAW;EAC3E,MAAMC,KAAK,GAAGJ,QAAQ,EAAtB;EACA,MAAM;IAAEK,SAAF;IAAaC,QAAb;IAAuBC;EAAvB,IAAqCJ,KAA3C;EACA,MAAMK,MAAM,GAAGC,SAAS,CAACL,KAAD,CAAxB;;EAEA,IAAI,CAACP,QAAQ,CAACS,QAAD,CAAb,EAAyB;IACvB,OAAO,IAAP;EACD;;EAED,oBACE;IAAA,uBACE;MAAM,SAAS,EAAEV,EAAE,CAACY,MAAM,CAACE,MAAR,EAAgBH,SAAhB,CAAnB;MAAA,UAAgDI,eAAe,CAACN,SAAD,EAAYC,QAAZ;IAA/D;EADF,EADF;AAKD,CAdM;AAgBP,OAAO,MAAMK,eAAe,GAAG,CAACN,SAAD,EAAoBC,QAApB,KAAmD;EAChF,MAAMI,MAAM,GAAGX,cAAc,CAACM,SAAD,EAAY;IACvCC,QADuC;IAEvCM,MAAM,EAAE;EAF+B,CAAZ,CAA7B;;EAKA,IAAIF,MAAM,KAAK,QAAf,EAAyB;IACvB,OAAO,KAAP;EACD;;EACD,OAAQ,MAAKA,MAAO,EAApB;AACD,CAVM;AAYP,MAAMD,SAAS,GAAGR,aAAa,CAAEG,KAAD,IAAyB;EACvD,MAAMS,QAAQ,GAAGlB,GAAI;AACvB;AACA,iBAAiBS,KAAK,CAACU,UAAN,CAAiBC,IAAjB,CAAsBC,EAAG;AAC1C,aAAaZ,KAAK,CAACa,MAAN,CAAaC,QAAS;AACnC;AACA,GALE;EAOA,OAAO;IACLR,MAAM,EAAEf,GAAI;AAChB,QAAQkB,QAAS;AACjB,eAAeT,KAAK,CAACa,MAAN,CAAaE,IAAK;AACjC,oBAAoBf,KAAK,CAACa,MAAN,CAAaG,GAAI;AACrC;AACA;AACA;AACA;EARS,CAAP;AAUD,CAlB8B,CAA/B"},"metadata":{},"sourceType":"module"}