{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BusEventWithPayload, LoadingState } from '@grafana/data';\nimport { NEW_VARIABLE_ID } from './constants';\nexport let TransactionStatus;\n\n(function (TransactionStatus) {\n  TransactionStatus[\"NotStarted\"] = \"Not started\";\n  TransactionStatus[\"Fetching\"] = \"Fetching\";\n  TransactionStatus[\"Completed\"] = \"Completed\";\n})(TransactionStatus || (TransactionStatus = {}));\n\nexport let VariableRefresh;\n\n(function (VariableRefresh) {\n  VariableRefresh[VariableRefresh[\"never\"] = 0] = \"never\";\n  VariableRefresh[VariableRefresh[\"onDashboardLoad\"] = 1] = \"onDashboardLoad\";\n  VariableRefresh[VariableRefresh[\"onTimeRangeChanged\"] = 2] = \"onTimeRangeChanged\";\n})(VariableRefresh || (VariableRefresh = {}));\n\nexport let VariableHide;\n\n(function (VariableHide) {\n  VariableHide[VariableHide[\"dontHide\"] = 0] = \"dontHide\";\n  VariableHide[VariableHide[\"hideLabel\"] = 1] = \"hideLabel\";\n  VariableHide[VariableHide[\"hideVariable\"] = 2] = \"hideVariable\";\n})(VariableHide || (VariableHide = {}));\n\nexport let VariableSort;\n\n(function (VariableSort) {\n  VariableSort[VariableSort[\"disabled\"] = 0] = \"disabled\";\n  VariableSort[VariableSort[\"alphabeticalAsc\"] = 1] = \"alphabeticalAsc\";\n  VariableSort[VariableSort[\"alphabeticalDesc\"] = 2] = \"alphabeticalDesc\";\n  VariableSort[VariableSort[\"numericalAsc\"] = 3] = \"numericalAsc\";\n  VariableSort[VariableSort[\"numericalDesc\"] = 4] = \"numericalDesc\";\n  VariableSort[VariableSort[\"alphabeticalCaseInsensitiveAsc\"] = 5] = \"alphabeticalCaseInsensitiveAsc\";\n  VariableSort[VariableSort[\"alphabeticalCaseInsensitiveDesc\"] = 6] = \"alphabeticalCaseInsensitiveDesc\";\n})(VariableSort || (VariableSort = {}));\n\nexport const initialVariableModelState = {\n  id: NEW_VARIABLE_ID,\n  rootStateKey: null,\n  name: '',\n  type: '',\n  global: false,\n  index: -1,\n  hide: VariableHide.dontHide,\n  skipUrlSync: false,\n  state: LoadingState.NotStarted,\n  error: null,\n  description: null\n};\nexport class VariablesChanged extends BusEventWithPayload {}\n\n_defineProperty(VariablesChanged, \"type\", 'variables-changed');\n\nexport class VariablesTimeRangeProcessDone extends BusEventWithPayload {}\n\n_defineProperty(VariablesTimeRangeProcessDone, \"type\", 'variables-time-range-process-done');\n\nexport class VariablesChangedInUrl extends BusEventWithPayload {}\n\n_defineProperty(VariablesChangedInUrl, \"type\", 'variables-changed-in-url');","map":{"version":3,"names":["BusEventWithPayload","LoadingState","NEW_VARIABLE_ID","TransactionStatus","VariableRefresh","VariableHide","VariableSort","initialVariableModelState","id","rootStateKey","name","type","global","index","hide","dontHide","skipUrlSync","state","NotStarted","error","description","VariablesChanged","VariablesTimeRangeProcessDone","VariablesChangedInUrl"],"sources":["/home/soula/grafana/public/app/features/variables/types.ts"],"sourcesContent":["import { ComponentType } from 'react';\n\nimport {\n  BusEventWithPayload,\n  DataQuery,\n  DataSourceJsonData,\n  DataSourceRef,\n  LoadingState,\n  QueryEditorProps,\n  VariableModel as BaseVariableModel,\n  VariableType,\n} from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\n\nimport { NEW_VARIABLE_ID } from './constants';\n\nexport enum TransactionStatus {\n  NotStarted = 'Not started',\n  Fetching = 'Fetching',\n  Completed = 'Completed',\n}\n\nexport enum VariableRefresh {\n  never, // removed from the UI\n  onDashboardLoad,\n  onTimeRangeChanged,\n}\n\nexport enum VariableHide {\n  dontHide,\n  hideLabel,\n  hideVariable,\n}\n\nexport enum VariableSort {\n  disabled,\n  alphabeticalAsc,\n  alphabeticalDesc,\n  numericalAsc,\n  numericalDesc,\n  alphabeticalCaseInsensitiveAsc,\n  alphabeticalCaseInsensitiveDesc,\n}\n\nexport interface VariableOption {\n  selected: boolean;\n  text: string | string[];\n  value: string | string[];\n  isNone?: boolean;\n}\n\nexport interface AdHocVariableFilter {\n  key: string;\n  operator: string;\n  value: string;\n  condition: string;\n}\n\nexport interface AdHocVariableModel extends VariableModel {\n  datasource: DataSourceRef | null;\n  filters: AdHocVariableFilter[];\n}\n\nexport interface IntervalVariableModel extends VariableWithOptions {\n  auto: boolean;\n  auto_min: string;\n  auto_count: number;\n  refresh: VariableRefresh;\n}\n\nexport interface CustomVariableModel extends VariableWithMultiSupport {}\n\nexport interface DataSourceVariableModel extends VariableWithMultiSupport {\n  regex: string;\n  refresh: VariableRefresh;\n}\n\nexport interface QueryVariableModel extends DataSourceVariableModel {\n  datasource: DataSourceRef | null;\n  definition: string;\n  sort: VariableSort;\n  queryValue?: string;\n  query: any;\n}\n\nexport interface TextBoxVariableModel extends VariableWithOptions {\n  originalQuery: string | null;\n}\n\nexport interface ConstantVariableModel extends VariableWithOptions {}\n\nexport interface VariableWithMultiSupport extends VariableWithOptions {\n  multi: boolean;\n  includeAll: boolean;\n  allValue?: string | null;\n}\n\nexport interface VariableWithOptions extends VariableModel {\n  current: VariableOption;\n  options: VariableOption[];\n  query: string;\n}\n\nexport interface DashboardProps {\n  name: string;\n  uid: string;\n  toString: () => string;\n}\n\nexport interface DashboardVariableModel extends SystemVariable<DashboardProps> {}\n\nexport interface OrgProps {\n  name: string;\n  id: number;\n  toString: () => string;\n}\n\nexport interface OrgVariableModel extends SystemVariable<OrgProps> {}\n\nexport interface UserProps {\n  login: string;\n  id: number;\n  email?: string;\n  toString: () => string;\n}\n\nexport interface UserVariableModel extends SystemVariable<UserProps> {}\n\nexport interface SystemVariable<TProps extends { toString: () => string }> extends VariableModel {\n  current: { value: TProps };\n}\n\nexport interface VariableModel extends BaseVariableModel {\n  id: string;\n  rootStateKey: string | null;\n  global: boolean;\n  hide: VariableHide;\n  skipUrlSync: boolean;\n  index: number;\n  state: LoadingState;\n  error: any | null;\n  description: string | null;\n}\n\nexport const initialVariableModelState: VariableModel = {\n  id: NEW_VARIABLE_ID,\n  rootStateKey: null,\n  name: '',\n  type: '' as unknown as VariableType,\n  global: false,\n  index: -1,\n  hide: VariableHide.dontHide,\n  skipUrlSync: false,\n  state: LoadingState.NotStarted,\n  error: null,\n  description: null,\n};\n\nexport interface VariableQueryEditorProps {\n  query: any;\n  onChange: (query: any, definition: string) => void;\n  datasource: any;\n  templateSrv: TemplateSrv;\n}\n\nexport type VariableQueryEditorType<\n  TQuery extends DataQuery = DataQuery,\n  TOptions extends DataSourceJsonData = DataSourceJsonData\n> = ComponentType<VariableQueryEditorProps> | ComponentType<QueryEditorProps<any, TQuery, TOptions, any>> | null;\n\nexport interface VariablesChangedEvent {\n  refreshAll: boolean;\n  panelIds: number[];\n}\n\nexport class VariablesChanged extends BusEventWithPayload<VariablesChangedEvent> {\n  static type = 'variables-changed';\n}\n\nexport interface VariablesTimeRangeProcessDoneEvent {\n  variableIds: string[];\n}\n\nexport class VariablesTimeRangeProcessDone extends BusEventWithPayload<VariablesTimeRangeProcessDoneEvent> {\n  static type = 'variables-time-range-process-done';\n}\n\nexport class VariablesChangedInUrl extends BusEventWithPayload<VariablesChangedEvent> {\n  static type = 'variables-changed-in-url';\n}\n"],"mappings":";;AAEA,SACEA,mBADF,EAKEC,YALF,QASO,eATP;AAYA,SAASC,eAAT,QAAgC,aAAhC;AAEA,WAAYC,iBAAZ;;WAAYA,iB;EAAAA,iB;EAAAA,iB;EAAAA,iB;GAAAA,iB,KAAAA,iB;;AAMZ,WAAYC,eAAZ;;WAAYA,e;EAAAA,e,CAAAA,e;EAAAA,e,CAAAA,e;EAAAA,e,CAAAA,e;GAAAA,e,KAAAA,e;;AAMZ,WAAYC,YAAZ;;WAAYA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;GAAAA,Y,KAAAA,Y;;AAMZ,WAAYC,YAAZ;;WAAYA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;EAAAA,Y,CAAAA,Y;GAAAA,Y,KAAAA,Y;;AA8GZ,OAAO,MAAMC,yBAAwC,GAAG;EACtDC,EAAE,EAAEN,eADkD;EAEtDO,YAAY,EAAE,IAFwC;EAGtDC,IAAI,EAAE,EAHgD;EAItDC,IAAI,EAAE,EAJgD;EAKtDC,MAAM,EAAE,KAL8C;EAMtDC,KAAK,EAAE,CAAC,CAN8C;EAOtDC,IAAI,EAAET,YAAY,CAACU,QAPmC;EAQtDC,WAAW,EAAE,KARyC;EAStDC,KAAK,EAAEhB,YAAY,CAACiB,UATkC;EAUtDC,KAAK,EAAE,IAV+C;EAWtDC,WAAW,EAAE;AAXyC,CAAjD;AA+BP,OAAO,MAAMC,gBAAN,SAA+BrB,mBAA/B,CAA0E;;gBAApEqB,gB,UACG,mB;;AAOhB,OAAO,MAAMC,6BAAN,SAA4CtB,mBAA5C,CAAoG;;gBAA9FsB,6B,UACG,mC;;AAGhB,OAAO,MAAMC,qBAAN,SAAoCvB,mBAApC,CAA+E;;gBAAzEuB,qB,UACG,0B"},"metadata":{},"sourceType":"module"}