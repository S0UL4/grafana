{"ast":null,"code":"var _Label;\n\nimport { css } from '@emotion/css';\nimport { capitalize } from 'lodash';\nimport React from 'react';\nimport { Label, RadioButtonGroup, Tag, useStyles2 } from '@grafana/ui';\nimport { GrafanaAlertState, PromAlertingRuleState } from 'app/types/unified-alerting-dto';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const AlertInstanceStateFilter = ({\n  className,\n  onStateFilterChange,\n  stateFilter,\n  filterType,\n  itemPerStateStats\n}) => {\n  const styles = useStyles2(getStyles);\n\n  const getOptionComponent = state => {\n    return function InstanceStateCounter() {\n      return itemPerStateStats && itemPerStateStats[state] ? /*#__PURE__*/_jsx(Tag, {\n        name: itemPerStateStats[state].toFixed(0),\n        colorIndex: 9,\n        className: styles.tag\n      }) : null;\n    };\n  };\n\n  const grafanaOptions = Object.values(GrafanaAlertState).map(state => ({\n    label: state,\n    value: state,\n    component: getOptionComponent(state)\n  }));\n  const promOptionValues = [PromAlertingRuleState.Firing, PromAlertingRuleState.Pending];\n  const promOptions = promOptionValues.map(state => ({\n    label: capitalize(state),\n    value: state,\n    component: getOptionComponent(state)\n  }));\n  const stateOptions = filterType === 'grafana' ? grafanaOptions : promOptions;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: className,\n    \"data-testid\": \"alert-instance-state-filter\",\n    children: [_Label || (_Label = /*#__PURE__*/_jsx(Label, {\n      children: \"State\"\n    })), /*#__PURE__*/_jsx(RadioButtonGroup, {\n      options: stateOptions,\n      value: stateFilter,\n      onChange: onStateFilterChange,\n      onClick: v => {\n        if (v === stateFilter) {\n          onStateFilterChange(undefined);\n        }\n      }\n    })]\n  });\n};\n\nfunction getStyles(theme) {\n  return {\n    tag: css`\n      font-size: 11px;\n      font-weight: normal;\n      padding: ${theme.spacing(0.25, 0.5)};\n      vertical-align: middle;\n      margin-left: ${theme.spacing(0.5)};\n    `\n  };\n}","map":{"version":3,"names":["css","capitalize","React","Label","RadioButtonGroup","Tag","useStyles2","GrafanaAlertState","PromAlertingRuleState","AlertInstanceStateFilter","className","onStateFilterChange","stateFilter","filterType","itemPerStateStats","styles","getStyles","getOptionComponent","state","InstanceStateCounter","toFixed","tag","grafanaOptions","Object","values","map","label","value","component","promOptionValues","Firing","Pending","promOptions","stateOptions","v","undefined","theme","spacing"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/components/rules/AlertInstanceStateFilter.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { capitalize } from 'lodash';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data/src';\nimport { Label, RadioButtonGroup, Tag, useStyles2 } from '@grafana/ui';\nimport { GrafanaAlertState, PromAlertingRuleState } from 'app/types/unified-alerting-dto';\n\nexport type InstanceStateFilter = GrafanaAlertState | PromAlertingRuleState.Pending | PromAlertingRuleState.Firing;\n\ninterface Props {\n  className?: string;\n  filterType: 'grafana' | 'prometheus';\n  stateFilter?: InstanceStateFilter;\n  onStateFilterChange: (value?: InstanceStateFilter) => void;\n  itemPerStateStats?: Record<string, number>;\n}\n\nexport const AlertInstanceStateFilter = ({\n  className,\n  onStateFilterChange,\n  stateFilter,\n  filterType,\n  itemPerStateStats,\n}: Props) => {\n  const styles = useStyles2(getStyles);\n\n  const getOptionComponent = (state: InstanceStateFilter) => {\n    return function InstanceStateCounter() {\n      return itemPerStateStats && itemPerStateStats[state] ? (\n        <Tag name={itemPerStateStats[state].toFixed(0)} colorIndex={9} className={styles.tag} />\n      ) : null;\n    };\n  };\n\n  const grafanaOptions = Object.values(GrafanaAlertState).map((state) => ({\n    label: state,\n    value: state,\n    component: getOptionComponent(state),\n  }));\n\n  const promOptionValues = [PromAlertingRuleState.Firing, PromAlertingRuleState.Pending] as const;\n  const promOptions = promOptionValues.map((state) => ({\n    label: capitalize(state),\n    value: state,\n    component: getOptionComponent(state),\n  }));\n\n  const stateOptions = filterType === 'grafana' ? grafanaOptions : promOptions;\n\n  return (\n    <div className={className} data-testid=\"alert-instance-state-filter\">\n      <Label>State</Label>\n      <RadioButtonGroup\n        options={stateOptions}\n        value={stateFilter}\n        onChange={onStateFilterChange}\n        onClick={(v) => {\n          if (v === stateFilter) {\n            onStateFilterChange(undefined);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    tag: css`\n      font-size: 11px;\n      font-weight: normal;\n      padding: ${theme.spacing(0.25, 0.5)};\n      vertical-align: middle;\n      margin-left: ${theme.spacing(0.5)};\n    `,\n  };\n}\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,SAASC,UAAT,QAA2B,QAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,KAAT,EAAgBC,gBAAhB,EAAkCC,GAAlC,EAAuCC,UAAvC,QAAyD,aAAzD;AACA,SAASC,iBAAT,EAA4BC,qBAA5B,QAAyD,gCAAzD;;;AAYA,OAAO,MAAMC,wBAAwB,GAAG,CAAC;EACvCC,SADuC;EAEvCC,mBAFuC;EAGvCC,WAHuC;EAIvCC,UAJuC;EAKvCC;AALuC,CAAD,KAM3B;EACX,MAAMC,MAAM,GAAGT,UAAU,CAACU,SAAD,CAAzB;;EAEA,MAAMC,kBAAkB,GAAIC,KAAD,IAAgC;IACzD,OAAO,SAASC,oBAAT,GAAgC;MACrC,OAAOL,iBAAiB,IAAIA,iBAAiB,CAACI,KAAD,CAAtC,gBACL,KAAC,GAAD;QAAK,IAAI,EAAEJ,iBAAiB,CAACI,KAAD,CAAjB,CAAyBE,OAAzB,CAAiC,CAAjC,CAAX;QAAgD,UAAU,EAAE,CAA5D;QAA+D,SAAS,EAAEL,MAAM,CAACM;MAAjF,EADK,GAEH,IAFJ;IAGD,CAJD;EAKD,CAND;;EAQA,MAAMC,cAAc,GAAGC,MAAM,CAACC,MAAP,CAAcjB,iBAAd,EAAiCkB,GAAjC,CAAsCP,KAAD,KAAY;IACtEQ,KAAK,EAAER,KAD+D;IAEtES,KAAK,EAAET,KAF+D;IAGtEU,SAAS,EAAEX,kBAAkB,CAACC,KAAD;EAHyC,CAAZ,CAArC,CAAvB;EAMA,MAAMW,gBAAgB,GAAG,CAACrB,qBAAqB,CAACsB,MAAvB,EAA+BtB,qBAAqB,CAACuB,OAArD,CAAzB;EACA,MAAMC,WAAW,GAAGH,gBAAgB,CAACJ,GAAjB,CAAsBP,KAAD,KAAY;IACnDQ,KAAK,EAAEzB,UAAU,CAACiB,KAAD,CADkC;IAEnDS,KAAK,EAAET,KAF4C;IAGnDU,SAAS,EAAEX,kBAAkB,CAACC,KAAD;EAHsB,CAAZ,CAArB,CAApB;EAMA,MAAMe,YAAY,GAAGpB,UAAU,KAAK,SAAf,GAA2BS,cAA3B,GAA4CU,WAAjE;EAEA,oBACE;IAAK,SAAS,EAAEtB,SAAhB;IAA2B,eAAY,6BAAvC;IAAA,4CACE,KAAC,KAAD;MAAA;IAAA,EADF,gBAEE,KAAC,gBAAD;MACE,OAAO,EAAEuB,YADX;MAEE,KAAK,EAAErB,WAFT;MAGE,QAAQ,EAAED,mBAHZ;MAIE,OAAO,EAAGuB,CAAD,IAAO;QACd,IAAIA,CAAC,KAAKtB,WAAV,EAAuB;UACrBD,mBAAmB,CAACwB,SAAD,CAAnB;QACD;MACF;IARH,EAFF;EAAA,EADF;AAeD,CA/CM;;AAiDP,SAASnB,SAAT,CAAmBoB,KAAnB,EAAyC;EACvC,OAAO;IACLf,GAAG,EAAErB,GAAI;AACb;AACA;AACA,iBAAiBoC,KAAK,CAACC,OAAN,CAAc,IAAd,EAAoB,GAApB,CAAyB;AAC1C;AACA,qBAAqBD,KAAK,CAACC,OAAN,CAAc,GAAd,CAAmB;AACxC;EAPS,CAAP;AASD"},"metadata":{},"sourceType":"module"}