{"ast":null,"code":"var _Button;\n\nconst _excluded = [\"ref\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { locationUtil } from '@grafana/data';\nimport { locationService } from '@grafana/runtime';\nimport { HorizontalGroup, Button, LinkButton, Input, Switch, RadioButtonGroup, Form, Field, InputControl } from '@grafana/ui';\nimport { getConfig } from 'app/core/config';\nimport { OrgRole, useDispatch } from 'app/types';\nimport { addInvitee } from '../invites/state/actions';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nconst roles = [{\n  label: 'Viewer',\n  value: OrgRole.Viewer\n}, {\n  label: 'Editor',\n  value: OrgRole.Editor\n}, {\n  label: 'Admin',\n  value: OrgRole.Admin\n}];\nconst defaultValues = {\n  name: '',\n  email: '',\n  role: OrgRole.Editor,\n  sendEmail: true\n};\nexport const UserInviteForm = () => {\n  const dispatch = useDispatch();\n\n  const onSubmit = async formData => {\n    await dispatch(addInvitee(formData)).unwrap();\n    locationService.push('/org/users/');\n  };\n\n  return /*#__PURE__*/_jsx(Form, {\n    defaultValues: defaultValues,\n    onSubmit: onSubmit,\n    children: ({\n      register,\n      control,\n      errors\n    }) => {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Field, {\n          invalid: !!errors.loginOrEmail,\n          error: !!errors.loginOrEmail ? 'Email or username is required' : undefined,\n          label: \"Email or username\",\n          children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('loginOrEmail', {\n            required: true\n          }), {\n            placeholder: \"email@example.com\"\n          }))\n        }), /*#__PURE__*/_jsx(Field, {\n          invalid: !!errors.name,\n          label: \"Name\",\n          children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('name'), {\n            placeholder: \"(optional)\"\n          }))\n        }), /*#__PURE__*/_jsx(Field, {\n          invalid: !!errors.role,\n          label: \"Role\",\n          children: /*#__PURE__*/_jsx(InputControl, {\n            render: _ref => {\n              let {} = _ref,\n                  field = _objectWithoutPropertiesLoose(_ref.field, _excluded);\n\n              return /*#__PURE__*/_jsx(RadioButtonGroup, Object.assign({}, field, {\n                options: roles\n              }));\n            },\n            control: control,\n            name: \"role\"\n          })\n        }), /*#__PURE__*/_jsx(Field, {\n          label: \"Send invite email\",\n          children: /*#__PURE__*/_jsx(Switch, Object.assign({\n            id: \"send-email-switch\"\n          }, register('sendEmail')))\n        }), /*#__PURE__*/_jsxs(HorizontalGroup, {\n          children: [_Button || (_Button = /*#__PURE__*/_jsx(Button, {\n            type: \"submit\",\n            children: \"Submit\"\n          })), /*#__PURE__*/_jsx(LinkButton, {\n            href: locationUtil.assureBaseUrl(getConfig().appSubUrl + '/org/users'),\n            variant: \"secondary\",\n            children: \"Back\"\n          })]\n        })]\n      });\n    }\n  });\n};\nexport default UserInviteForm;","map":{"version":3,"names":["React","locationUtil","locationService","HorizontalGroup","Button","LinkButton","Input","Switch","RadioButtonGroup","Form","Field","InputControl","getConfig","OrgRole","useDispatch","addInvitee","roles","label","value","Viewer","Editor","Admin","defaultValues","name","email","role","sendEmail","UserInviteForm","dispatch","onSubmit","formData","unwrap","push","register","control","errors","loginOrEmail","undefined","required","field","assureBaseUrl","appSubUrl"],"sources":["/home/soula/grafana/public/app/features/org/UserInviteForm.tsx"],"sourcesContent":["import React from 'react';\n\nimport { locationUtil } from '@grafana/data';\nimport { locationService } from '@grafana/runtime';\nimport {\n  HorizontalGroup,\n  Button,\n  LinkButton,\n  Input,\n  Switch,\n  RadioButtonGroup,\n  Form,\n  Field,\n  InputControl,\n} from '@grafana/ui';\nimport { getConfig } from 'app/core/config';\nimport { OrgRole, useDispatch } from 'app/types';\n\nimport { addInvitee } from '../invites/state/actions';\n\nconst roles = [\n  { label: 'Viewer', value: OrgRole.Viewer },\n  { label: 'Editor', value: OrgRole.Editor },\n  { label: 'Admin', value: OrgRole.Admin },\n];\n\nexport interface FormModel {\n  role: OrgRole;\n  name: string;\n  loginOrEmail?: string;\n  sendEmail: boolean;\n  email: string;\n}\n\nconst defaultValues: FormModel = {\n  name: '',\n  email: '',\n  role: OrgRole.Editor,\n  sendEmail: true,\n};\n\nexport const UserInviteForm = () => {\n  const dispatch = useDispatch();\n\n  const onSubmit = async (formData: FormModel) => {\n    await dispatch(addInvitee(formData)).unwrap();\n    locationService.push('/org/users/');\n  };\n\n  return (\n    <Form defaultValues={defaultValues} onSubmit={onSubmit}>\n      {({ register, control, errors }) => {\n        return (\n          <>\n            <Field\n              invalid={!!errors.loginOrEmail}\n              error={!!errors.loginOrEmail ? 'Email or username is required' : undefined}\n              label=\"Email or username\"\n            >\n              <Input {...register('loginOrEmail', { required: true })} placeholder=\"email@example.com\" />\n            </Field>\n            <Field invalid={!!errors.name} label=\"Name\">\n              <Input {...register('name')} placeholder=\"(optional)\" />\n            </Field>\n            <Field invalid={!!errors.role} label=\"Role\">\n              <InputControl\n                render={({ field: { ref, ...field } }) => <RadioButtonGroup {...field} options={roles} />}\n                control={control}\n                name=\"role\"\n              />\n            </Field>\n            <Field label=\"Send invite email\">\n              <Switch id=\"send-email-switch\" {...register('sendEmail')} />\n            </Field>\n            <HorizontalGroup>\n              <Button type=\"submit\">Submit</Button>\n              <LinkButton href={locationUtil.assureBaseUrl(getConfig().appSubUrl + '/org/users')} variant=\"secondary\">\n                Back\n              </LinkButton>\n            </HorizontalGroup>\n          </>\n        );\n      }}\n    </Form>\n  );\n};\n\nexport default UserInviteForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}