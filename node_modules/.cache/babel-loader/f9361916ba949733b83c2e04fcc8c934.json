{"ast":null,"code":"import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchFolderIfNotFetchedAction } from '../state/actions';\nimport { initialAsyncRequestState } from '../utils/redux';\nimport { useUnifiedAlertingSelector } from './useUnifiedAlertingSelector';\nexport function useFolder(uid) {\n  const dispatch = useDispatch();\n  const folderRequests = useUnifiedAlertingSelector(state => state.folders);\n  useEffect(() => {\n    if (uid) {\n      dispatch(fetchFolderIfNotFetchedAction(uid));\n    }\n  }, [dispatch, uid]);\n\n  if (uid) {\n    const request = folderRequests[uid] || initialAsyncRequestState;\n    return {\n      folder: request.result,\n      loading: request.loading\n    };\n  }\n\n  return {\n    loading: false\n  };\n}","map":{"version":3,"names":["useEffect","useDispatch","fetchFolderIfNotFetchedAction","initialAsyncRequestState","useUnifiedAlertingSelector","useFolder","uid","dispatch","folderRequests","state","folders","request","folder","result","loading"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/hooks/useFolder.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { FolderDTO } from 'app/types';\n\nimport { fetchFolderIfNotFetchedAction } from '../state/actions';\nimport { initialAsyncRequestState } from '../utils/redux';\n\nimport { useUnifiedAlertingSelector } from './useUnifiedAlertingSelector';\n\ninterface ReturnBag {\n  folder?: FolderDTO;\n  loading: boolean;\n}\n\nexport function useFolder(uid?: string): ReturnBag {\n  const dispatch = useDispatch();\n  const folderRequests = useUnifiedAlertingSelector((state) => state.folders);\n  useEffect(() => {\n    if (uid) {\n      dispatch(fetchFolderIfNotFetchedAction(uid));\n    }\n  }, [dispatch, uid]);\n\n  if (uid) {\n    const request = folderRequests[uid] || initialAsyncRequestState;\n    return {\n      folder: request.result,\n      loading: request.loading,\n    };\n  }\n  return {\n    loading: false,\n  };\n}\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAIA,SAASC,6BAAT,QAA8C,kBAA9C;AACA,SAASC,wBAAT,QAAyC,gBAAzC;AAEA,SAASC,0BAAT,QAA2C,8BAA3C;AAOA,OAAO,SAASC,SAAT,CAAmBC,GAAnB,EAA4C;EACjD,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAMO,cAAc,GAAGJ,0BAA0B,CAAEK,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAAjD;EACAV,SAAS,CAAC,MAAM;IACd,IAAIM,GAAJ,EAAS;MACPC,QAAQ,CAACL,6BAA6B,CAACI,GAAD,CAA9B,CAAR;IACD;EACF,CAJQ,EAIN,CAACC,QAAD,EAAWD,GAAX,CAJM,CAAT;;EAMA,IAAIA,GAAJ,EAAS;IACP,MAAMK,OAAO,GAAGH,cAAc,CAACF,GAAD,CAAd,IAAuBH,wBAAvC;IACA,OAAO;MACLS,MAAM,EAAED,OAAO,CAACE,MADX;MAELC,OAAO,EAAEH,OAAO,CAACG;IAFZ,CAAP;EAID;;EACD,OAAO;IACLA,OAAO,EAAE;EADJ,CAAP;AAGD"},"metadata":{},"sourceType":"module"}