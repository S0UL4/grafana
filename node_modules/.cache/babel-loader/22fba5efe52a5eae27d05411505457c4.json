{"ast":null,"code":"import { useCallback } from 'react';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../utils/datasource';\nimport { useUnifiedAlertingSelector } from './useUnifiedAlertingSelector'; // datasource has ruler if it's grafana managed or if we're able to load rules from it\n\nexport function useHasRuler() {\n  const rulerRules = useUnifiedAlertingSelector(state => state.rulerRules);\n  return useCallback(rulesSource => {\n    var _rulerRules$rulesSour;\n\n    const rulesSourceName = typeof rulesSource === 'string' ? rulesSource : rulesSource.name;\n    return rulesSourceName === GRAFANA_RULES_SOURCE_NAME || !!((_rulerRules$rulesSour = rulerRules[rulesSourceName]) !== null && _rulerRules$rulesSour !== void 0 && _rulerRules$rulesSour.result);\n  }, [rulerRules]);\n}","map":{"version":3,"names":["useCallback","GRAFANA_RULES_SOURCE_NAME","useUnifiedAlertingSelector","useHasRuler","rulerRules","state","rulesSource","rulesSourceName","name","result"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/hooks/useHasRuler.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport { RulesSource } from 'app/types/unified-alerting';\n\nimport { GRAFANA_RULES_SOURCE_NAME } from '../utils/datasource';\n\nimport { useUnifiedAlertingSelector } from './useUnifiedAlertingSelector';\n\n// datasource has ruler if it's grafana managed or if we're able to load rules from it\nexport function useHasRuler(): (rulesSource: string | RulesSource) => boolean {\n  const rulerRules = useUnifiedAlertingSelector((state) => state.rulerRules);\n  return useCallback(\n    (rulesSource: string | RulesSource) => {\n      const rulesSourceName = typeof rulesSource === 'string' ? rulesSource : rulesSource.name;\n      return rulesSourceName === GRAFANA_RULES_SOURCE_NAME || !!rulerRules[rulesSourceName]?.result;\n    },\n    [rulerRules]\n  );\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AAIA,SAASC,yBAAT,QAA0C,qBAA1C;AAEA,SAASC,0BAAT,QAA2C,8BAA3C,C,CAEA;;AACA,OAAO,SAASC,WAAT,GAAuE;EAC5E,MAAMC,UAAU,GAAGF,0BAA0B,CAAEG,KAAD,IAAWA,KAAK,CAACD,UAAlB,CAA7C;EACA,OAAOJ,WAAW,CACfM,WAAD,IAAuC;IAAA;;IACrC,MAAMC,eAAe,GAAG,OAAOD,WAAP,KAAuB,QAAvB,GAAkCA,WAAlC,GAAgDA,WAAW,CAACE,IAApF;IACA,OAAOD,eAAe,KAAKN,yBAApB,IAAiD,CAAC,2BAACG,UAAU,CAACG,eAAD,CAAX,kDAAC,sBAA6BE,MAA9B,CAAzD;EACD,CAJe,EAKhB,CAACL,UAAD,CALgB,CAAlB;AAOD"},"metadata":{},"sourceType":"module"}