{"ast":null,"code":"import { useTheme2 } from '@grafana/ui';\nimport { STAT, TIMESERIES } from '../utils/constants';\nexport function useVizHeight(data, pluginId, frameIndex) {\n  const theme = useTheme2();\n\n  if (pluginId === TIMESERIES || pluginId === STAT || dataIsEmpty(data)) {\n    return 200;\n  }\n\n  const values = data.series[frameIndex].fields[0].values.length;\n  const rowHeight = theme.spacing.gridSize * 5;\n  /*\n   Calculate how if we can make  the table smaller than 200px\n   for when we only have 1-2 values\n   The extra rowHeight is to accommodate the header.\n  */\n\n  const tableHeight = values * rowHeight + rowHeight;\n  return tableHeight >= 200 ? 200 : tableHeight;\n}\n\nfunction dataIsEmpty(data) {\n  return !data || !data.series[0] || !data.series[0].fields[0] || !data.series[0].fields[0].values;\n}","map":{"version":3,"names":["useTheme2","STAT","TIMESERIES","useVizHeight","data","pluginId","frameIndex","theme","dataIsEmpty","values","series","fields","length","rowHeight","spacing","gridSize","tableHeight"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/hooks/useVizHeight.ts"],"sourcesContent":["import { PanelData } from '@grafana/data';\nimport { useTheme2 } from '@grafana/ui';\n\nimport { STAT, TIMESERIES } from '../utils/constants';\n\nexport function useVizHeight(data: PanelData, pluginId: string, frameIndex: number) {\n  const theme = useTheme2();\n  if (pluginId === TIMESERIES || pluginId === STAT || dataIsEmpty(data)) {\n    return 200;\n  }\n\n  const values = data.series[frameIndex].fields[0].values.length;\n  const rowHeight = theme.spacing.gridSize * 5;\n\n  /*\n   Calculate how if we can make  the table smaller than 200px\n   for when we only have 1-2 values\n   The extra rowHeight is to accommodate the header.\n  */\n  const tableHeight = values * rowHeight + rowHeight;\n\n  return tableHeight >= 200 ? 200 : tableHeight;\n}\n\nfunction dataIsEmpty(data: PanelData) {\n  return !data || !data.series[0] || !data.series[0].fields[0] || !data.series[0].fields[0].values;\n}\n"],"mappings":"AACA,SAASA,SAAT,QAA0B,aAA1B;AAEA,SAASC,IAAT,EAAeC,UAAf,QAAiC,oBAAjC;AAEA,OAAO,SAASC,YAAT,CAAsBC,IAAtB,EAAuCC,QAAvC,EAAyDC,UAAzD,EAA6E;EAClF,MAAMC,KAAK,GAAGP,SAAS,EAAvB;;EACA,IAAIK,QAAQ,KAAKH,UAAb,IAA2BG,QAAQ,KAAKJ,IAAxC,IAAgDO,WAAW,CAACJ,IAAD,CAA/D,EAAuE;IACrE,OAAO,GAAP;EACD;;EAED,MAAMK,MAAM,GAAGL,IAAI,CAACM,MAAL,CAAYJ,UAAZ,EAAwBK,MAAxB,CAA+B,CAA/B,EAAkCF,MAAlC,CAAyCG,MAAxD;EACA,MAAMC,SAAS,GAAGN,KAAK,CAACO,OAAN,CAAcC,QAAd,GAAyB,CAA3C;EAEA;AACF;AACA;AACA;AACA;;EACE,MAAMC,WAAW,GAAGP,MAAM,GAAGI,SAAT,GAAqBA,SAAzC;EAEA,OAAOG,WAAW,IAAI,GAAf,GAAqB,GAArB,GAA2BA,WAAlC;AACD;;AAED,SAASR,WAAT,CAAqBJ,IAArB,EAAsC;EACpC,OAAO,CAACA,IAAD,IAAS,CAACA,IAAI,CAACM,MAAL,CAAY,CAAZ,CAAV,IAA4B,CAACN,IAAI,CAACM,MAAL,CAAY,CAAZ,EAAeC,MAAf,CAAsB,CAAtB,CAA7B,IAAyD,CAACP,IAAI,CAACM,MAAL,CAAY,CAAZ,EAAeC,MAAf,CAAsB,CAAtB,EAAyBF,MAA1F;AACD"},"metadata":{},"sourceType":"module"}