{"ast":null,"code":"import { css } from '@emotion/css';\nimport React, { memo } from 'react';\nimport { stylesFactory, useTheme } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst nodeR = 40;\nconst getStyles = stylesFactory(theme => ({\n  mainGroup: css`\n    cursor: pointer;\n    font-size: 10px;\n  `,\n  mainCircle: css`\n    fill: ${theme.colors.panelBg};\n    stroke: ${theme.colors.border3};\n  `,\n  text: css`\n    width: 50px;\n    height: 50px;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `\n}));\nexport const Marker = /*#__PURE__*/memo(function Marker(props) {\n  const {\n    marker,\n    onClick\n  } = props;\n  const {\n    node\n  } = marker;\n  const styles = getStyles(useTheme());\n\n  if (!(node.x !== undefined && node.y !== undefined)) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"g\", {\n    \"data-node-id\": node.id,\n    className: styles.mainGroup,\n    onClick: event => {\n      onClick === null || onClick === void 0 ? void 0 : onClick(event, marker);\n    },\n    \"aria-label\": `Hidden nodes marker: ${node.id}`,\n    children: [/*#__PURE__*/_jsx(\"circle\", {\n      className: styles.mainCircle,\n      r: nodeR,\n      cx: node.x,\n      cy: node.y\n    }), /*#__PURE__*/_jsx(\"g\", {\n      children: /*#__PURE__*/_jsx(\"foreignObject\", {\n        x: node.x - 25,\n        y: node.y - 25,\n        width: \"50\",\n        height: \"50\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: styles.text,\n          children: /*#__PURE__*/_jsxs(\"span\", {\n            children: [marker.count > 100 ? '>100' : marker.count, \" nodes\"]\n          })\n        })\n      })\n    })]\n  });\n});","map":{"version":3,"names":["css","React","memo","stylesFactory","useTheme","nodeR","getStyles","theme","mainGroup","mainCircle","colors","panelBg","border3","text","Marker","props","marker","onClick","node","styles","x","undefined","y","id","event","count"],"sources":["/home/soula/grafana/public/app/plugins/panel/nodeGraph/Marker.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { MouseEvent, memo } from 'react';\n\nimport { GrafanaTheme } from '@grafana/data';\nimport { stylesFactory, useTheme } from '@grafana/ui';\n\nimport { NodesMarker } from './types';\n\nconst nodeR = 40;\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => ({\n  mainGroup: css`\n    cursor: pointer;\n    font-size: 10px;\n  `,\n\n  mainCircle: css`\n    fill: ${theme.colors.panelBg};\n    stroke: ${theme.colors.border3};\n  `,\n  text: css`\n    width: 50px;\n    height: 50px;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `,\n}));\n\nexport const Marker = memo(function Marker(props: {\n  marker: NodesMarker;\n  onClick?: (event: MouseEvent<SVGElement>, marker: NodesMarker) => void;\n}) {\n  const { marker, onClick } = props;\n  const { node } = marker;\n  const styles = getStyles(useTheme());\n\n  if (!(node.x !== undefined && node.y !== undefined)) {\n    return null;\n  }\n\n  return (\n    <g\n      data-node-id={node.id}\n      className={styles.mainGroup}\n      onClick={(event) => {\n        onClick?.(event, marker);\n      }}\n      aria-label={`Hidden nodes marker: ${node.id}`}\n    >\n      <circle className={styles.mainCircle} r={nodeR} cx={node.x} cy={node.y} />\n      <g>\n        <foreignObject x={node.x - 25} y={node.y - 25} width=\"50\" height=\"50\">\n          <div className={styles.text}>\n            {/* we limit the count to 101 so if we have more than 100 nodes we don't have exact count */}\n            <span>{marker.count > 100 ? '>100' : marker.count} nodes</span>\n          </div>\n        </foreignObject>\n      </g>\n    </g>\n  );\n});\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAA4BC,IAA5B,QAAwC,OAAxC;AAGA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,aAAxC;;;AAIA,MAAMC,KAAK,GAAG,EAAd;AAEA,MAAMC,SAAS,GAAGH,aAAa,CAAEI,KAAD,KAA0B;EACxDC,SAAS,EAAER,GAAI;AACjB;AACA;AACA,GAJ0D;EAMxDS,UAAU,EAAET,GAAI;AAClB,YAAYO,KAAK,CAACG,MAAN,CAAaC,OAAQ;AACjC,cAAcJ,KAAK,CAACG,MAAN,CAAaE,OAAQ;AACnC,GAT0D;EAUxDC,IAAI,EAAEb,GAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AAjB0D,CAA1B,CAAD,CAA/B;AAoBA,OAAO,MAAMc,MAAM,gBAAGZ,IAAI,CAAC,SAASY,MAAT,CAAgBC,KAAhB,EAGxB;EACD,MAAM;IAAEC,MAAF;IAAUC;EAAV,IAAsBF,KAA5B;EACA,MAAM;IAAEG;EAAF,IAAWF,MAAjB;EACA,MAAMG,MAAM,GAAGb,SAAS,CAACF,QAAQ,EAAT,CAAxB;;EAEA,IAAI,EAAEc,IAAI,CAACE,CAAL,KAAWC,SAAX,IAAwBH,IAAI,CAACI,CAAL,KAAWD,SAArC,CAAJ,EAAqD;IACnD,OAAO,IAAP;EACD;;EAED,oBACE;IACE,gBAAcH,IAAI,CAACK,EADrB;IAEE,SAAS,EAAEJ,MAAM,CAACX,SAFpB;IAGE,OAAO,EAAGgB,KAAD,IAAW;MAClBP,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAGO,KAAH,EAAUR,MAAV,CAAP;IACD,CALH;IAME,cAAa,wBAAuBE,IAAI,CAACK,EAAG,EAN9C;IAAA,wBAQE;MAAQ,SAAS,EAAEJ,MAAM,CAACV,UAA1B;MAAsC,CAAC,EAAEJ,KAAzC;MAAgD,EAAE,EAAEa,IAAI,CAACE,CAAzD;MAA4D,EAAE,EAAEF,IAAI,CAACI;IAArE,EARF,eASE;MAAA,uBACE;QAAe,CAAC,EAAEJ,IAAI,CAACE,CAAL,GAAS,EAA3B;QAA+B,CAAC,EAAEF,IAAI,CAACI,CAAL,GAAS,EAA3C;QAA+C,KAAK,EAAC,IAArD;QAA0D,MAAM,EAAC,IAAjE;QAAA,uBACE;UAAK,SAAS,EAAEH,MAAM,CAACN,IAAvB;UAAA,uBAEE;YAAA,WAAOG,MAAM,CAACS,KAAP,GAAe,GAAf,GAAqB,MAArB,GAA8BT,MAAM,CAACS,KAA5C;UAAA;QAFF;MADF;IADF,EATF;EAAA,EADF;AAoBD,CAhCyB,CAAnB"},"metadata":{},"sourceType":"module"}