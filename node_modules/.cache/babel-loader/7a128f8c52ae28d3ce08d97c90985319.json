{"ast":null,"code":"var _h, _InlineFormLabel;\n\nimport React from 'react';\nimport { SIGV4ConnectionConfig } from '@grafana/aws-sdk';\nimport { DataSourceHttpSettings, InlineFormLabel, Select } from '@grafana/ui';\nimport { config } from 'app/core/config';\nimport { AlertManagerImplementation } from './types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nconst IMPL_OPTIONS = [{\n  value: AlertManagerImplementation.mimir,\n  icon: 'public/img/alerting/mimir_logo.svg',\n  label: 'Mimir',\n  description: `https://grafana.com/oss/mimir/. An open source, horizontally scalable, highly available, multi-tenant, long-term storage for Prometheus.`\n}, {\n  value: AlertManagerImplementation.cortex,\n  label: 'Cortex',\n  description: `https://cortexmetrics.io/`\n}, {\n  value: AlertManagerImplementation.prometheus,\n  label: 'Prometheus',\n  description: 'https://prometheus.io/. Does not support editing configuration via API, so contact points and notification policies are read-only.'\n}];\nexport const ConfigEditor = props => {\n  const {\n    options,\n    onOptionsChange\n  } = props;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h3\", {\n      className: \"page-heading\",\n      children: \"Alertmanager\"\n    })), /*#__PURE__*/_jsx(\"div\", {\n      className: \"gf-form-group\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"gf-form-inline\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"gf-form\",\n          children: [_InlineFormLabel || (_InlineFormLabel = /*#__PURE__*/_jsx(InlineFormLabel, {\n            width: 13,\n            children: \"Implementation\"\n          })), /*#__PURE__*/_jsx(Select, {\n            width: 40,\n            options: IMPL_OPTIONS,\n            value: options.jsonData.implementation || AlertManagerImplementation.mimir,\n            onChange: value => onOptionsChange(Object.assign({}, options, {\n              jsonData: Object.assign({}, options.jsonData, {\n                implementation: value.value\n              })\n            }))\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(DataSourceHttpSettings, {\n      defaultUrl: '',\n      dataSourceConfig: options,\n      showAccessOptions: true,\n      onChange: onOptionsChange,\n      sigV4AuthToggleEnabled: config.sigV4AuthEnabled,\n      renderSigV4Editor: /*#__PURE__*/_jsx(SIGV4ConnectionConfig, Object.assign({}, props))\n    })]\n  });\n};","map":{"version":3,"names":["React","SIGV4ConnectionConfig","DataSourceHttpSettings","InlineFormLabel","Select","config","AlertManagerImplementation","IMPL_OPTIONS","value","mimir","icon","label","description","cortex","prometheus","ConfigEditor","props","options","onOptionsChange","jsonData","implementation","sigV4AuthEnabled"],"sources":["/home/soula/grafana/public/app/plugins/datasource/alertmanager/ConfigEditor.tsx"],"sourcesContent":["import React from 'react';\n\nimport { SIGV4ConnectionConfig } from '@grafana/aws-sdk';\nimport { DataSourcePluginOptionsEditorProps, SelectableValue } from '@grafana/data';\nimport { DataSourceHttpSettings, InlineFormLabel, Select } from '@grafana/ui';\nimport { config } from 'app/core/config';\n\nimport { AlertManagerDataSourceJsonData, AlertManagerImplementation } from './types';\n\nexport type Props = DataSourcePluginOptionsEditorProps<AlertManagerDataSourceJsonData>;\n\nconst IMPL_OPTIONS: SelectableValue[] = [\n  {\n    value: AlertManagerImplementation.mimir,\n    icon: 'public/img/alerting/mimir_logo.svg',\n    label: 'Mimir',\n    description: `https://grafana.com/oss/mimir/. An open source, horizontally scalable, highly available, multi-tenant, long-term storage for Prometheus.`,\n  },\n  {\n    value: AlertManagerImplementation.cortex,\n    label: 'Cortex',\n    description: `https://cortexmetrics.io/`,\n  },\n  {\n    value: AlertManagerImplementation.prometheus,\n    label: 'Prometheus',\n    description:\n      'https://prometheus.io/. Does not support editing configuration via API, so contact points and notification policies are read-only.',\n  },\n];\n\nexport const ConfigEditor = (props: Props) => {\n  const { options, onOptionsChange } = props;\n\n  return (\n    <>\n      <h3 className=\"page-heading\">Alertmanager</h3>\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form-inline\">\n          <div className=\"gf-form\">\n            <InlineFormLabel width={13}>Implementation</InlineFormLabel>\n            <Select\n              width={40}\n              options={IMPL_OPTIONS}\n              value={options.jsonData.implementation || AlertManagerImplementation.mimir}\n              onChange={(value) =>\n                onOptionsChange({\n                  ...options,\n                  jsonData: {\n                    ...options.jsonData,\n                    implementation: value.value as AlertManagerImplementation,\n                  },\n                })\n              }\n            />\n          </div>\n        </div>\n      </div>\n      <DataSourceHttpSettings\n        defaultUrl={''}\n        dataSourceConfig={options}\n        showAccessOptions={true}\n        onChange={onOptionsChange}\n        sigV4AuthToggleEnabled={config.sigV4AuthEnabled}\n        renderSigV4Editor={<SIGV4ConnectionConfig {...props}></SIGV4ConnectionConfig>}\n      />\n    </>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,qBAAT,QAAsC,kBAAtC;AAEA,SAASC,sBAAT,EAAiCC,eAAjC,EAAkDC,MAAlD,QAAgE,aAAhE;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,SAAyCC,0BAAzC,QAA2E,SAA3E;;;;AAIA,MAAMC,YAA+B,GAAG,CACtC;EACEC,KAAK,EAAEF,0BAA0B,CAACG,KADpC;EAEEC,IAAI,EAAE,oCAFR;EAGEC,KAAK,EAAE,OAHT;EAIEC,WAAW,EAAG;AAJhB,CADsC,EAOtC;EACEJ,KAAK,EAAEF,0BAA0B,CAACO,MADpC;EAEEF,KAAK,EAAE,QAFT;EAGEC,WAAW,EAAG;AAHhB,CAPsC,EAYtC;EACEJ,KAAK,EAAEF,0BAA0B,CAACQ,UADpC;EAEEH,KAAK,EAAE,YAFT;EAGEC,WAAW,EACT;AAJJ,CAZsC,CAAxC;AAoBA,OAAO,MAAMG,YAAY,GAAIC,KAAD,IAAkB;EAC5C,MAAM;IAAEC,OAAF;IAAWC;EAAX,IAA+BF,KAArC;EAEA,oBACE;IAAA,oCACE;MAAI,SAAS,EAAC,cAAd;MAAA;IAAA,EADF,gBAEE;MAAK,SAAS,EAAC,eAAf;MAAA,uBACE;QAAK,SAAS,EAAC,gBAAf;QAAA,uBACE;UAAK,SAAS,EAAC,SAAf;UAAA,gEACE,KAAC,eAAD;YAAiB,KAAK,EAAE,EAAxB;YAAA;UAAA,EADF,gBAEE,KAAC,MAAD;YACE,KAAK,EAAE,EADT;YAEE,OAAO,EAAET,YAFX;YAGE,KAAK,EAAEU,OAAO,CAACE,QAAR,CAAiBC,cAAjB,IAAmCd,0BAA0B,CAACG,KAHvE;YAIE,QAAQ,EAAGD,KAAD,IACRU,eAAe,mBACVD,OADU;cAEbE,QAAQ,oBACHF,OAAO,CAACE,QADL;gBAENC,cAAc,EAAEZ,KAAK,CAACA;cAFhB;YAFK;UALnB,EAFF;QAAA;MADF;IADF,EAFF,eAuBE,KAAC,sBAAD;MACE,UAAU,EAAE,EADd;MAEE,gBAAgB,EAAES,OAFpB;MAGE,iBAAiB,EAAE,IAHrB;MAIE,QAAQ,EAAEC,eAJZ;MAKE,sBAAsB,EAAEb,MAAM,CAACgB,gBALjC;MAME,iBAAiB,eAAE,KAAC,qBAAD,oBAA2BL,KAA3B;IANrB,EAvBF;EAAA,EADF;AAkCD,CArCM"},"metadata":{},"sourceType":"module"}