{"ast":null,"code":"var _h;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { VariableOrigin, DataLinkBuiltInVars } from '@grafana/data';\nimport { Button, useStyles2 } from '@grafana/ui';\nimport { DataLink } from './DataLink';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst getStyles = theme => {\n  return {\n    infoText: css`\n      padding-bottom: ${theme.spacing(2)};\n      color: ${theme.colors.text.secondary};\n    `,\n    dataLink: css`\n      margin-bottom: ${theme.spacing(1)};\n    `\n  };\n};\n\nexport const DataLinks = props => {\n  const {\n    value,\n    onChange\n  } = props;\n  const styles = useStyles2(getStyles);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h3\", {\n      className: \"page-heading\",\n      children: \"Data links\"\n    })), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.infoText,\n      children: \"Add links to existing fields. Links will be shown in log row details next to the field value.\"\n    }), value && value.length > 0 && /*#__PURE__*/_jsx(\"div\", {\n      className: \"gf-form-group\",\n      children: value.map((field, index) => {\n        return /*#__PURE__*/_jsx(DataLink, {\n          className: styles.dataLink,\n          value: field,\n          onChange: newField => {\n            const newDataLinks = [...value];\n            newDataLinks.splice(index, 1, newField);\n            onChange(newDataLinks);\n          },\n          onDelete: () => {\n            const newDataLinks = [...value];\n            newDataLinks.splice(index, 1);\n            onChange(newDataLinks);\n          },\n          suggestions: [{\n            value: DataLinkBuiltInVars.valueRaw,\n            label: 'Raw value',\n            documentation: 'Raw value of the field',\n            origin: VariableOrigin.Value\n          }]\n        }, index);\n      })\n    }), /*#__PURE__*/_jsx(Button, {\n      type: \"button\",\n      variant: 'secondary',\n      className: css`\n          margin-right: 10px;\n        `,\n      icon: \"plus\",\n      onClick: event => {\n        event.preventDefault();\n        const newDataLinks = [...(value || []), {\n          field: '',\n          url: ''\n        }];\n        onChange(newDataLinks);\n      },\n      children: \"Add\"\n    })]\n  });\n};","map":{"version":3,"names":["css","React","VariableOrigin","DataLinkBuiltInVars","Button","useStyles2","DataLink","getStyles","theme","infoText","spacing","colors","text","secondary","dataLink","DataLinks","props","value","onChange","styles","length","map","field","index","newField","newDataLinks","splice","valueRaw","label","documentation","origin","Value","event","preventDefault","url"],"sources":["/home/soula/grafana/public/app/plugins/datasource/elasticsearch/configuration/DataLinks.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2, VariableOrigin, DataLinkBuiltInVars } from '@grafana/data';\nimport { Button, useStyles2 } from '@grafana/ui';\n\nimport { DataLinkConfig } from '../types';\n\nimport { DataLink } from './DataLink';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    infoText: css`\n      padding-bottom: ${theme.spacing(2)};\n      color: ${theme.colors.text.secondary};\n    `,\n    dataLink: css`\n      margin-bottom: ${theme.spacing(1)};\n    `,\n  };\n};\n\nexport type Props = {\n  value?: DataLinkConfig[];\n  onChange: (value: DataLinkConfig[]) => void;\n};\nexport const DataLinks = (props: Props) => {\n  const { value, onChange } = props;\n  const styles = useStyles2(getStyles);\n\n  return (\n    <>\n      <h3 className=\"page-heading\">Data links</h3>\n\n      <div className={styles.infoText}>\n        Add links to existing fields. Links will be shown in log row details next to the field value.\n      </div>\n\n      {value && value.length > 0 && (\n        <div className=\"gf-form-group\">\n          {value.map((field, index) => {\n            return (\n              <DataLink\n                className={styles.dataLink}\n                key={index}\n                value={field}\n                onChange={(newField) => {\n                  const newDataLinks = [...value];\n                  newDataLinks.splice(index, 1, newField);\n                  onChange(newDataLinks);\n                }}\n                onDelete={() => {\n                  const newDataLinks = [...value];\n                  newDataLinks.splice(index, 1);\n                  onChange(newDataLinks);\n                }}\n                suggestions={[\n                  {\n                    value: DataLinkBuiltInVars.valueRaw,\n                    label: 'Raw value',\n                    documentation: 'Raw value of the field',\n                    origin: VariableOrigin.Value,\n                  },\n                ]}\n              />\n            );\n          })}\n        </div>\n      )}\n\n      <Button\n        type=\"button\"\n        variant={'secondary'}\n        className={css`\n          margin-right: 10px;\n        `}\n        icon=\"plus\"\n        onClick={(event) => {\n          event.preventDefault();\n          const newDataLinks = [...(value || []), { field: '', url: '' }];\n          onChange(newDataLinks);\n        }}\n      >\n        Add\n      </Button>\n    </>\n  );\n};\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAAwBC,cAAxB,EAAwCC,mBAAxC,QAAmE,eAAnE;AACA,SAASC,MAAT,EAAiBC,UAAjB,QAAmC,aAAnC;AAIA,SAASC,QAAT,QAAyB,YAAzB;;;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAA0B;EAC1C,OAAO;IACLC,QAAQ,EAAET,GAAI;AAClB,wBAAwBQ,KAAK,CAACE,OAAN,CAAc,CAAd,CAAiB;AACzC,eAAeF,KAAK,CAACG,MAAN,CAAaC,IAAb,CAAkBC,SAAU;AAC3C,KAJS;IAKLC,QAAQ,EAAEd,GAAI;AAClB,uBAAuBQ,KAAK,CAACE,OAAN,CAAc,CAAd,CAAiB;AACxC;EAPS,CAAP;AASD,CAVD;;AAgBA,OAAO,MAAMK,SAAS,GAAIC,KAAD,IAAkB;EACzC,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAsBF,KAA5B;EACA,MAAMG,MAAM,GAAGd,UAAU,CAACE,SAAD,CAAzB;EAEA,oBACE;IAAA,oCACE;MAAI,SAAS,EAAC,cAAd;MAAA;IAAA,EADF,gBAGE;MAAK,SAAS,EAAEY,MAAM,CAACV,QAAvB;MAAA;IAAA,EAHF,EAOGQ,KAAK,IAAIA,KAAK,CAACG,MAAN,GAAe,CAAxB,iBACC;MAAK,SAAS,EAAC,eAAf;MAAA,UACGH,KAAK,CAACI,GAAN,CAAU,CAACC,KAAD,EAAQC,KAAR,KAAkB;QAC3B,oBACE,KAAC,QAAD;UACE,SAAS,EAAEJ,MAAM,CAACL,QADpB;UAGE,KAAK,EAAEQ,KAHT;UAIE,QAAQ,EAAGE,QAAD,IAAc;YACtB,MAAMC,YAAY,GAAG,CAAC,GAAGR,KAAJ,CAArB;YACAQ,YAAY,CAACC,MAAb,CAAoBH,KAApB,EAA2B,CAA3B,EAA8BC,QAA9B;YACAN,QAAQ,CAACO,YAAD,CAAR;UACD,CARH;UASE,QAAQ,EAAE,MAAM;YACd,MAAMA,YAAY,GAAG,CAAC,GAAGR,KAAJ,CAArB;YACAQ,YAAY,CAACC,MAAb,CAAoBH,KAApB,EAA2B,CAA3B;YACAL,QAAQ,CAACO,YAAD,CAAR;UACD,CAbH;UAcE,WAAW,EAAE,CACX;YACER,KAAK,EAAEd,mBAAmB,CAACwB,QAD7B;YAEEC,KAAK,EAAE,WAFT;YAGEC,aAAa,EAAE,wBAHjB;YAIEC,MAAM,EAAE5B,cAAc,CAAC6B;UAJzB,CADW;QAdf,GAEOR,KAFP,CADF;MAyBD,CA1BA;IADH,EARJ,eAuCE,KAAC,MAAD;MACE,IAAI,EAAC,QADP;MAEE,OAAO,EAAE,WAFX;MAGE,SAAS,EAAEvB,GAAI;AACvB;AACA,SALM;MAME,IAAI,EAAC,MANP;MAOE,OAAO,EAAGgC,KAAD,IAAW;QAClBA,KAAK,CAACC,cAAN;QACA,MAAMR,YAAY,GAAG,CAAC,IAAIR,KAAK,IAAI,EAAb,CAAD,EAAmB;UAAEK,KAAK,EAAE,EAAT;UAAaY,GAAG,EAAE;QAAlB,CAAnB,CAArB;QACAhB,QAAQ,CAACO,YAAD,CAAR;MACD,CAXH;MAAA;IAAA,EAvCF;EAAA,EADF;AAyDD,CA7DM"},"metadata":{},"sourceType":"module"}