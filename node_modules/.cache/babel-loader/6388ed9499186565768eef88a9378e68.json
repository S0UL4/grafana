{"ast":null,"code":"import { useCallback, useEffect, useMemo, useState } from 'react';\nexport function usePagination(items, initialPage, itemsPerPage) {\n  const [page, setPage] = useState(initialPage);\n  const numberOfPages = Math.ceil(items.length / itemsPerPage);\n  const firstItemOnPageIndex = itemsPerPage * (page - 1);\n  const pageItems = useMemo(() => items.slice(firstItemOnPageIndex, firstItemOnPageIndex + itemsPerPage), [items, firstItemOnPageIndex, itemsPerPage]);\n  const onPageChange = useCallback(newPage => {\n    setPage(newPage);\n  }, [setPage]); // Reset the current page when number of pages has been changed\n\n  useEffect(() => setPage(1), [numberOfPages]);\n  return {\n    page,\n    onPageChange,\n    numberOfPages,\n    pageItems\n  };\n}","map":{"version":3,"names":["useCallback","useEffect","useMemo","useState","usePagination","items","initialPage","itemsPerPage","page","setPage","numberOfPages","Math","ceil","length","firstItemOnPageIndex","pageItems","slice","onPageChange","newPage"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/hooks/usePagination.ts"],"sourcesContent":["import { useCallback, useEffect, useMemo, useState } from 'react';\n\nexport function usePagination<T>(items: T[], initialPage: number, itemsPerPage: number) {\n  const [page, setPage] = useState(initialPage);\n\n  const numberOfPages = Math.ceil(items.length / itemsPerPage);\n  const firstItemOnPageIndex = itemsPerPage * (page - 1);\n\n  const pageItems = useMemo(\n    () => items.slice(firstItemOnPageIndex, firstItemOnPageIndex + itemsPerPage),\n    [items, firstItemOnPageIndex, itemsPerPage]\n  );\n\n  const onPageChange = useCallback(\n    (newPage: number) => {\n      setPage(newPage);\n    },\n    [setPage]\n  );\n\n  // Reset the current page when number of pages has been changed\n  useEffect(() => setPage(1), [numberOfPages]);\n\n  return { page, onPageChange, numberOfPages, pageItems };\n}\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0CC,QAA1C,QAA0D,OAA1D;AAEA,OAAO,SAASC,aAAT,CAA0BC,KAA1B,EAAsCC,WAAtC,EAA2DC,YAA3D,EAAiF;EACtF,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAACG,WAAD,CAAhC;EAEA,MAAMI,aAAa,GAAGC,IAAI,CAACC,IAAL,CAAUP,KAAK,CAACQ,MAAN,GAAeN,YAAzB,CAAtB;EACA,MAAMO,oBAAoB,GAAGP,YAAY,IAAIC,IAAI,GAAG,CAAX,CAAzC;EAEA,MAAMO,SAAS,GAAGb,OAAO,CACvB,MAAMG,KAAK,CAACW,KAAN,CAAYF,oBAAZ,EAAkCA,oBAAoB,GAAGP,YAAzD,CADiB,EAEvB,CAACF,KAAD,EAAQS,oBAAR,EAA8BP,YAA9B,CAFuB,CAAzB;EAKA,MAAMU,YAAY,GAAGjB,WAAW,CAC7BkB,OAAD,IAAqB;IACnBT,OAAO,CAACS,OAAD,CAAP;EACD,CAH6B,EAI9B,CAACT,OAAD,CAJ8B,CAAhC,CAXsF,CAkBtF;;EACAR,SAAS,CAAC,MAAMQ,OAAO,CAAC,CAAD,CAAd,EAAmB,CAACC,aAAD,CAAnB,CAAT;EAEA,OAAO;IAAEF,IAAF;IAAQS,YAAR;IAAsBP,aAAtB;IAAqCK;EAArC,CAAP;AACD"},"metadata":{},"sourceType":"module"}