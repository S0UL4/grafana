{"ast":null,"code":"import { isArray } from 'lodash';\nimport coreModule from './core_module';\nexport function arrayJoin() {\n  'use strict';\n\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: (scope, element, attr, ngModel) => {\n      function split_array(text) {\n        return (text || '').split(',');\n      }\n\n      function join_array(text) {\n        if (isArray(text)) {\n          return (text || '').join(',');\n        } else {\n          return text;\n        }\n      }\n\n      ngModel.$parsers.push(split_array);\n      ngModel.$formatters.push(join_array);\n    }\n  };\n}\ncoreModule.directive('arrayJoin', arrayJoin);","map":{"version":3,"names":["isArray","coreModule","arrayJoin","restrict","require","link","scope","element","attr","ngModel","split_array","text","split","join_array","join","$parsers","push","$formatters","directive"],"sources":["/home/soula/grafana/public/app/angular/array_join.ts"],"sourcesContent":["import { isArray } from 'lodash';\n\nimport coreModule from './core_module';\n\nexport function arrayJoin() {\n  'use strict';\n\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: (scope: any, element: any, attr: any, ngModel: any) => {\n      function split_array(text: string) {\n        return (text || '').split(',');\n      }\n\n      function join_array(text: string) {\n        if (isArray(text)) {\n          return ((text || '') as any).join(',');\n        } else {\n          return text;\n        }\n      }\n\n      ngModel.$parsers.push(split_array);\n      ngModel.$formatters.push(join_array);\n    },\n  };\n}\n\ncoreModule.directive('arrayJoin', arrayJoin);\n"],"mappings":"AAAA,SAASA,OAAT,QAAwB,QAAxB;AAEA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,OAAO,SAASC,SAAT,GAAqB;EAC1B;;EAEA,OAAO;IACLC,QAAQ,EAAE,GADL;IAELC,OAAO,EAAE,SAFJ;IAGLC,IAAI,EAAE,CAACC,KAAD,EAAaC,OAAb,EAA2BC,IAA3B,EAAsCC,OAAtC,KAAuD;MAC3D,SAASC,WAAT,CAAqBC,IAArB,EAAmC;QACjC,OAAO,CAACA,IAAI,IAAI,EAAT,EAAaC,KAAb,CAAmB,GAAnB,CAAP;MACD;;MAED,SAASC,UAAT,CAAoBF,IAApB,EAAkC;QAChC,IAAIX,OAAO,CAACW,IAAD,CAAX,EAAmB;UACjB,OAAO,CAAEA,IAAI,IAAI,EAAV,EAAsBG,IAAtB,CAA2B,GAA3B,CAAP;QACD,CAFD,MAEO;UACL,OAAOH,IAAP;QACD;MACF;;MAEDF,OAAO,CAACM,QAAR,CAAiBC,IAAjB,CAAsBN,WAAtB;MACAD,OAAO,CAACQ,WAAR,CAAoBD,IAApB,CAAyBH,UAAzB;IACD;EAlBI,CAAP;AAoBD;AAEDZ,UAAU,CAACiB,SAAX,CAAqB,WAArB,EAAkChB,SAAlC"},"metadata":{},"sourceType":"module"}