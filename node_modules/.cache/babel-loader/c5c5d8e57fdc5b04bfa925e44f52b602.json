{"ast":null,"code":"import React from 'react';\nimport { InlineField, InlineFieldRow, Input, Select } from '@grafana/ui';\nimport { downsamplingTypes, upsamplingTypes } from '../types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport const Resample = ({\n  labelWidth,\n  onChange,\n  refIds,\n  query\n}) => {\n  const downsampler = downsamplingTypes.find(o => o.value === query.downsampler);\n  const upsampler = upsamplingTypes.find(o => o.value === query.upsampler);\n\n  const onWindowChange = event => {\n    onChange(Object.assign({}, query, {\n      window: event.target.value\n    }));\n  };\n\n  const onRefIdChange = value => {\n    onChange(Object.assign({}, query, {\n      expression: value.value\n    }));\n  };\n\n  const onSelectDownsampler = value => {\n    onChange(Object.assign({}, query, {\n      downsampler: value.value\n    }));\n  };\n\n  const onSelectUpsampler = value => {\n    onChange(Object.assign({}, query, {\n      upsampler: value.value\n    }));\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(InlineFieldRow, {\n      children: /*#__PURE__*/_jsx(InlineField, {\n        label: \"Input\",\n        labelWidth: labelWidth,\n        children: /*#__PURE__*/_jsx(Select, {\n          onChange: onRefIdChange,\n          options: refIds,\n          value: query.expression,\n          width: 20\n        })\n      })\n    }), /*#__PURE__*/_jsxs(InlineFieldRow, {\n      children: [/*#__PURE__*/_jsx(InlineField, {\n        label: \"Resample to\",\n        labelWidth: labelWidth,\n        tooltip: \"10s, 1m, 30m, 1h\",\n        children: /*#__PURE__*/_jsx(Input, {\n          onChange: onWindowChange,\n          value: query.window,\n          width: 15\n        })\n      }), /*#__PURE__*/_jsx(InlineField, {\n        label: \"Downsample\",\n        children: /*#__PURE__*/_jsx(Select, {\n          options: downsamplingTypes,\n          value: downsampler,\n          onChange: onSelectDownsampler,\n          width: 25\n        })\n      }), /*#__PURE__*/_jsx(InlineField, {\n        label: \"Upsample\",\n        children: /*#__PURE__*/_jsx(Select, {\n          options: upsamplingTypes,\n          value: upsampler,\n          onChange: onSelectUpsampler,\n          width: 25\n        })\n      })]\n    })]\n  });\n};","map":{"version":3,"names":["React","InlineField","InlineFieldRow","Input","Select","downsamplingTypes","upsamplingTypes","Resample","labelWidth","onChange","refIds","query","downsampler","find","o","value","upsampler","onWindowChange","event","window","target","onRefIdChange","expression","onSelectDownsampler","onSelectUpsampler"],"sources":["/home/soula/grafana/public/app/features/expressions/components/Resample.tsx"],"sourcesContent":["import React, { ChangeEvent, FC } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { InlineField, InlineFieldRow, Input, Select } from '@grafana/ui';\n\nimport { downsamplingTypes, ExpressionQuery, upsamplingTypes } from '../types';\n\ninterface Props {\n  refIds: Array<SelectableValue<string>>;\n  query: ExpressionQuery;\n  labelWidth: number;\n  onChange: (query: ExpressionQuery) => void;\n}\n\nexport const Resample: FC<Props> = ({ labelWidth, onChange, refIds, query }) => {\n  const downsampler = downsamplingTypes.find((o) => o.value === query.downsampler);\n  const upsampler = upsamplingTypes.find((o) => o.value === query.upsampler);\n\n  const onWindowChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onChange({ ...query, window: event.target.value });\n  };\n\n  const onRefIdChange = (value: SelectableValue<string>) => {\n    onChange({ ...query, expression: value.value });\n  };\n\n  const onSelectDownsampler = (value: SelectableValue<string>) => {\n    onChange({ ...query, downsampler: value.value });\n  };\n\n  const onSelectUpsampler = (value: SelectableValue<string>) => {\n    onChange({ ...query, upsampler: value.value });\n  };\n\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"Input\" labelWidth={labelWidth}>\n          <Select onChange={onRefIdChange} options={refIds} value={query.expression} width={20} />\n        </InlineField>\n      </InlineFieldRow>\n      <InlineFieldRow>\n        <InlineField label=\"Resample to\" labelWidth={labelWidth} tooltip=\"10s, 1m, 30m, 1h\">\n          <Input onChange={onWindowChange} value={query.window} width={15} />\n        </InlineField>\n        <InlineField label=\"Downsample\">\n          <Select options={downsamplingTypes} value={downsampler} onChange={onSelectDownsampler} width={25} />\n        </InlineField>\n        <InlineField label=\"Upsample\">\n          <Select options={upsamplingTypes} value={upsampler} onChange={onSelectUpsampler} width={25} />\n        </InlineField>\n      </InlineFieldRow>\n    </>\n  );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAuC,OAAvC;AAGA,SAASC,WAAT,EAAsBC,cAAtB,EAAsCC,KAAtC,EAA6CC,MAA7C,QAA2D,aAA3D;AAEA,SAASC,iBAAT,EAA6CC,eAA7C,QAAoE,UAApE;;;;AASA,OAAO,MAAMC,QAAmB,GAAG,CAAC;EAAEC,UAAF;EAAcC,QAAd;EAAwBC,MAAxB;EAAgCC;AAAhC,CAAD,KAA6C;EAC9E,MAAMC,WAAW,GAAGP,iBAAiB,CAACQ,IAAlB,CAAwBC,CAAD,IAAOA,CAAC,CAACC,KAAF,KAAYJ,KAAK,CAACC,WAAhD,CAApB;EACA,MAAMI,SAAS,GAAGV,eAAe,CAACO,IAAhB,CAAsBC,CAAD,IAAOA,CAAC,CAACC,KAAF,KAAYJ,KAAK,CAACK,SAA9C,CAAlB;;EAEA,MAAMC,cAAc,GAAIC,KAAD,IAA0C;IAC/DT,QAAQ,mBAAME,KAAN;MAAaQ,MAAM,EAAED,KAAK,CAACE,MAAN,CAAaL;IAAlC,GAAR;EACD,CAFD;;EAIA,MAAMM,aAAa,GAAIN,KAAD,IAAoC;IACxDN,QAAQ,mBAAME,KAAN;MAAaW,UAAU,EAAEP,KAAK,CAACA;IAA/B,GAAR;EACD,CAFD;;EAIA,MAAMQ,mBAAmB,GAAIR,KAAD,IAAoC;IAC9DN,QAAQ,mBAAME,KAAN;MAAaC,WAAW,EAAEG,KAAK,CAACA;IAAhC,GAAR;EACD,CAFD;;EAIA,MAAMS,iBAAiB,GAAIT,KAAD,IAAoC;IAC5DN,QAAQ,mBAAME,KAAN;MAAaK,SAAS,EAAED,KAAK,CAACA;IAA9B,GAAR;EACD,CAFD;;EAIA,oBACE;IAAA,wBACE,KAAC,cAAD;MAAA,uBACE,KAAC,WAAD;QAAa,KAAK,EAAC,OAAnB;QAA2B,UAAU,EAAEP,UAAvC;QAAA,uBACE,KAAC,MAAD;UAAQ,QAAQ,EAAEa,aAAlB;UAAiC,OAAO,EAAEX,MAA1C;UAAkD,KAAK,EAAEC,KAAK,CAACW,UAA/D;UAA2E,KAAK,EAAE;QAAlF;MADF;IADF,EADF,eAME,MAAC,cAAD;MAAA,wBACE,KAAC,WAAD;QAAa,KAAK,EAAC,aAAnB;QAAiC,UAAU,EAAEd,UAA7C;QAAyD,OAAO,EAAC,kBAAjE;QAAA,uBACE,KAAC,KAAD;UAAO,QAAQ,EAAES,cAAjB;UAAiC,KAAK,EAAEN,KAAK,CAACQ,MAA9C;UAAsD,KAAK,EAAE;QAA7D;MADF,EADF,eAIE,KAAC,WAAD;QAAa,KAAK,EAAC,YAAnB;QAAA,uBACE,KAAC,MAAD;UAAQ,OAAO,EAAEd,iBAAjB;UAAoC,KAAK,EAAEO,WAA3C;UAAwD,QAAQ,EAAEW,mBAAlE;UAAuF,KAAK,EAAE;QAA9F;MADF,EAJF,eAOE,KAAC,WAAD;QAAa,KAAK,EAAC,UAAnB;QAAA,uBACE,KAAC,MAAD;UAAQ,OAAO,EAAEjB,eAAjB;UAAkC,KAAK,EAAEU,SAAzC;UAAoD,QAAQ,EAAEQ,iBAA9D;UAAiF,KAAK,EAAE;QAAxF;MADF,EAPF;IAAA,EANF;EAAA,EADF;AAoBD,CAxCM"},"metadata":{},"sourceType":"module"}