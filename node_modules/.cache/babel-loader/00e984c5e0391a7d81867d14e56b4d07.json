{"ast":null,"code":"var _Space, _Space2, _Space3, _Space4;\n\nimport { cx } from '@emotion/css';\nimport React, { useCallback, useEffect } from 'react';\nimport { Checkbox, IconButton, useStyles2, useTheme2 } from '@grafana/ui';\nimport { Space } from '../Space';\nimport { EntryIcon } from './EntryIcon';\nimport getStyles from './styles';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const NestedEntry = ({\n  entry,\n  isSelected,\n  isDisabled,\n  isOpen,\n  isSelectable,\n  level,\n  scrollIntoView,\n  onToggleCollapse,\n  onSelectedChange\n}) => {\n  const theme = useTheme2();\n  const styles = useStyles2(getStyles);\n  const hasChildren = !!entry.children;\n  const handleToggleCollapse = useCallback(() => {\n    onToggleCollapse(entry);\n  }, [onToggleCollapse, entry]);\n  const handleSelectedChanged = useCallback(ev => {\n    const isSelected = ev.target.checked;\n    onSelectedChange(entry, isSelected);\n  }, [entry, onSelectedChange]);\n  const checkboxId = `${scrollIntoView ? 'table' : 'summary'}_checkbox_${entry.uri}`; // Scroll to the selected element if it's not in the view\n  // Only do it once, when the component is mounted\n\n  useEffect(() => {\n    if (isSelected && scrollIntoView) {\n      var _document$getElementB;\n\n      (_document$getElementB = document.getElementById(checkboxId)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center'\n      });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.nestedEntry,\n    style: {\n      marginLeft: level * (3 * theme.spacing.gridSize)\n    },\n    children: [hasChildren ? /*#__PURE__*/_jsx(IconButton, {\n      className: styles.collapseButton,\n      name: isOpen ? 'angle-down' : 'angle-right',\n      \"aria-label\": isOpen ? `Collapse ${entry.name}` : `Expand ${entry.name}`,\n      onClick: handleToggleCollapse,\n      id: entry.id\n    }) : _Space || (_Space = /*#__PURE__*/_jsx(Space, {\n      layout: \"inline\",\n      h: 2\n    })), _Space2 || (_Space2 = /*#__PURE__*/_jsx(Space, {\n      layout: \"inline\",\n      h: 2\n    })), isSelectable && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Checkbox, {\n        id: checkboxId,\n        onChange: handleSelectedChanged,\n        disabled: isDisabled,\n        value: isSelected,\n        className: styles.nestedRowCheckbox\n      }), _Space3 || (_Space3 = /*#__PURE__*/_jsx(Space, {\n        layout: \"inline\",\n        h: 2\n      }))]\n    }), /*#__PURE__*/_jsx(EntryIcon, {\n      entry: entry,\n      isOpen: isOpen\n    }), _Space4 || (_Space4 = /*#__PURE__*/_jsx(Space, {\n      layout: \"inline\",\n      h: 1\n    })), /*#__PURE__*/_jsx(\"label\", {\n      htmlFor: checkboxId,\n      className: cx(styles.entryContentItem, styles.truncated),\n      children: entry.name\n    })]\n  });\n};","map":{"version":3,"names":["cx","React","useCallback","useEffect","Checkbox","IconButton","useStyles2","useTheme2","Space","EntryIcon","getStyles","NestedEntry","entry","isSelected","isDisabled","isOpen","isSelectable","level","scrollIntoView","onToggleCollapse","onSelectedChange","theme","styles","hasChildren","children","handleToggleCollapse","handleSelectedChanged","ev","target","checked","checkboxId","uri","document","getElementById","behavior","block","nestedEntry","marginLeft","spacing","gridSize","collapseButton","name","id","nestedRowCheckbox","entryContentItem","truncated"],"sources":["/home/soula/grafana/public/app/plugins/datasource/grafana-azure-monitor-datasource/components/ResourcePicker/NestedEntry.tsx"],"sourcesContent":["import { cx } from '@emotion/css';\nimport React, { useCallback, useEffect } from 'react';\n\nimport { Checkbox, IconButton, useStyles2, useTheme2 } from '@grafana/ui';\n\nimport { Space } from '../Space';\n\nimport { EntryIcon } from './EntryIcon';\nimport getStyles from './styles';\nimport { ResourceRow } from './types';\n\ninterface NestedEntryProps {\n  level: number;\n  entry: ResourceRow;\n  isSelected: boolean;\n  isSelectable: boolean;\n  isOpen: boolean;\n  isDisabled: boolean;\n  scrollIntoView?: boolean;\n  onToggleCollapse: (row: ResourceRow) => void;\n  onSelectedChange: (row: ResourceRow, selected: boolean) => void;\n}\n\nexport const NestedEntry: React.FC<NestedEntryProps> = ({\n  entry,\n  isSelected,\n  isDisabled,\n  isOpen,\n  isSelectable,\n  level,\n  scrollIntoView,\n  onToggleCollapse,\n  onSelectedChange,\n}) => {\n  const theme = useTheme2();\n  const styles = useStyles2(getStyles);\n  const hasChildren = !!entry.children;\n\n  const handleToggleCollapse = useCallback(() => {\n    onToggleCollapse(entry);\n  }, [onToggleCollapse, entry]);\n\n  const handleSelectedChanged = useCallback(\n    (ev: React.ChangeEvent<HTMLInputElement>) => {\n      const isSelected = ev.target.checked;\n      onSelectedChange(entry, isSelected);\n    },\n    [entry, onSelectedChange]\n  );\n\n  const checkboxId = `${scrollIntoView ? 'table' : 'summary'}_checkbox_${entry.uri}`;\n\n  // Scroll to the selected element if it's not in the view\n  // Only do it once, when the component is mounted\n  useEffect(() => {\n    if (isSelected && scrollIntoView) {\n      document.getElementById(checkboxId)?.scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n      });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <div className={styles.nestedEntry} style={{ marginLeft: level * (3 * theme.spacing.gridSize) }}>\n      {hasChildren ? (\n        <IconButton\n          className={styles.collapseButton}\n          name={isOpen ? 'angle-down' : 'angle-right'}\n          aria-label={isOpen ? `Collapse ${entry.name}` : `Expand ${entry.name}`}\n          onClick={handleToggleCollapse}\n          id={entry.id}\n        />\n      ) : (\n        <Space layout=\"inline\" h={2} />\n      )}\n\n      <Space layout=\"inline\" h={2} />\n\n      {isSelectable && (\n        <>\n          <Checkbox\n            id={checkboxId}\n            onChange={handleSelectedChanged}\n            disabled={isDisabled}\n            value={isSelected}\n            className={styles.nestedRowCheckbox}\n          />\n          <Space layout=\"inline\" h={2} />\n        </>\n      )}\n\n      <EntryIcon entry={entry} isOpen={isOpen} />\n      <Space layout=\"inline\" h={1} />\n\n      <label htmlFor={checkboxId} className={cx(styles.entryContentItem, styles.truncated)}>\n        {entry.name}\n      </label>\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}