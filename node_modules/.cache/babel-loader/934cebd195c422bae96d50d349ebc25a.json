{"ast":null,"code":"import { isString, isUndefined } from 'lodash';\nimport { FieldType } from '@grafana/data';\nexport function convertToType(value, field) {\n  switch (field.type) {\n    case FieldType.boolean:\n      if (isUndefined(value)) {\n        return false;\n      }\n\n      return convertToBool(value);\n\n    case FieldType.number:\n      if (isNaN(value)) {\n        return 0;\n      }\n\n      return parseFloat(value);\n\n    case FieldType.string:\n      if (!value) {\n        return '';\n      }\n\n      return String(value);\n\n    default:\n      return value;\n  }\n}\n\nconst convertToBool = value => {\n  if (isString(value)) {\n    return !(value[0] === 'F' || value[0] === 'f' || value[0] === '0');\n  }\n\n  return !!value;\n};","map":{"version":3,"names":["isString","isUndefined","FieldType","convertToType","value","field","type","boolean","convertToBool","number","isNaN","parseFloat","string","String"],"sources":["/home/soula/grafana/public/app/features/transformers/FilterByValueTransformer/ValueMatchers/utils.ts"],"sourcesContent":["import { isString, isUndefined } from 'lodash';\n\nimport { Field, FieldType } from '@grafana/data';\n\nexport function convertToType(value: any, field: Field): any {\n  switch (field.type) {\n    case FieldType.boolean:\n      if (isUndefined(value)) {\n        return false;\n      }\n      return convertToBool(value);\n\n    case FieldType.number:\n      if (isNaN(value)) {\n        return 0;\n      }\n      return parseFloat(value);\n\n    case FieldType.string:\n      if (!value) {\n        return '';\n      }\n      return String(value);\n\n    default:\n      return value;\n  }\n}\n\nconst convertToBool = (value: any): boolean => {\n  if (isString(value)) {\n    return !(value[0] === 'F' || value[0] === 'f' || value[0] === '0');\n  }\n  return !!value;\n};\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,QAAtC;AAEA,SAAgBC,SAAhB,QAAiC,eAAjC;AAEA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAAmCC,KAAnC,EAAsD;EAC3D,QAAQA,KAAK,CAACC,IAAd;IACE,KAAKJ,SAAS,CAACK,OAAf;MACE,IAAIN,WAAW,CAACG,KAAD,CAAf,EAAwB;QACtB,OAAO,KAAP;MACD;;MACD,OAAOI,aAAa,CAACJ,KAAD,CAApB;;IAEF,KAAKF,SAAS,CAACO,MAAf;MACE,IAAIC,KAAK,CAACN,KAAD,CAAT,EAAkB;QAChB,OAAO,CAAP;MACD;;MACD,OAAOO,UAAU,CAACP,KAAD,CAAjB;;IAEF,KAAKF,SAAS,CAACU,MAAf;MACE,IAAI,CAACR,KAAL,EAAY;QACV,OAAO,EAAP;MACD;;MACD,OAAOS,MAAM,CAACT,KAAD,CAAb;;IAEF;MACE,OAAOA,KAAP;EApBJ;AAsBD;;AAED,MAAMI,aAAa,GAAIJ,KAAD,IAAyB;EAC7C,IAAIJ,QAAQ,CAACI,KAAD,CAAZ,EAAqB;IACnB,OAAO,EAAEA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAb,IAAoBA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAjC,IAAwCA,KAAK,CAAC,CAAD,CAAL,KAAa,GAAvD,CAAP;EACD;;EACD,OAAO,CAAC,CAACA,KAAT;AACD,CALD"},"metadata":{},"sourceType":"module"}