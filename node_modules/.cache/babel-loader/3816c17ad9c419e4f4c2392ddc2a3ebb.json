{"ast":null,"code":"export function processAclItems(items) {\n  return items.map(processAclItem).sort((a, b) => b.sortRank - a.sortRank || a.name.localeCompare(b.name));\n}\n\nfunction processAclItem(dto) {\n  const item = dto;\n  item.sortRank = 0;\n\n  if (item.userId > 0) {\n    item.name = item.userLogin;\n    item.sortRank = 10;\n  } else if (item.teamId > 0) {\n    item.name = item.team;\n    item.sortRank = 20;\n  } else if (item.role) {\n    item.icon = 'fa fa-fw fa-street-view';\n    item.name = item.role;\n    item.sortRank = 30;\n\n    if (item.role === 'Editor') {\n      item.sortRank += 1;\n    }\n  }\n\n  if (item.inherited) {\n    item.sortRank += 100;\n  }\n\n  return item;\n}","map":{"version":3,"names":["processAclItems","items","map","processAclItem","sort","a","b","sortRank","name","localeCompare","dto","item","userId","userLogin","teamId","team","role","icon","inherited"],"sources":["/home/soula/grafana/public/app/core/utils/acl.ts"],"sourcesContent":["import { DashboardAcl, DashboardAclDTO } from 'app/types/acl';\n\nexport function processAclItems(items: DashboardAclDTO[]): DashboardAcl[] {\n  return items.map(processAclItem).sort((a, b) => b.sortRank! - a.sortRank! || a.name!.localeCompare(b.name!));\n}\n\nfunction processAclItem(dto: DashboardAclDTO): DashboardAcl {\n  const item = dto as DashboardAcl;\n\n  item.sortRank = 0;\n\n  if (item.userId! > 0) {\n    item.name = item.userLogin;\n    item.sortRank = 10;\n  } else if (item.teamId! > 0) {\n    item.name = item.team;\n    item.sortRank = 20;\n  } else if (item.role) {\n    item.icon = 'fa fa-fw fa-street-view';\n    item.name = item.role;\n    item.sortRank = 30;\n    if (item.role === 'Editor') {\n      item.sortRank += 1;\n    }\n  }\n\n  if (item.inherited) {\n    item.sortRank += 100;\n  }\n\n  return item;\n}\n"],"mappings":"AAEA,OAAO,SAASA,eAAT,CAAyBC,KAAzB,EAAmE;EACxE,OAAOA,KAAK,CAACC,GAAN,CAAUC,cAAV,EAA0BC,IAA1B,CAA+B,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,QAAF,GAAcF,CAAC,CAACE,QAAhB,IAA6BF,CAAC,CAACG,IAAF,CAAQC,aAAR,CAAsBH,CAAC,CAACE,IAAxB,CAAtE,CAAP;AACD;;AAED,SAASL,cAAT,CAAwBO,GAAxB,EAA4D;EAC1D,MAAMC,IAAI,GAAGD,GAAb;EAEAC,IAAI,CAACJ,QAAL,GAAgB,CAAhB;;EAEA,IAAII,IAAI,CAACC,MAAL,GAAe,CAAnB,EAAsB;IACpBD,IAAI,CAACH,IAAL,GAAYG,IAAI,CAACE,SAAjB;IACAF,IAAI,CAACJ,QAAL,GAAgB,EAAhB;EACD,CAHD,MAGO,IAAII,IAAI,CAACG,MAAL,GAAe,CAAnB,EAAsB;IAC3BH,IAAI,CAACH,IAAL,GAAYG,IAAI,CAACI,IAAjB;IACAJ,IAAI,CAACJ,QAAL,GAAgB,EAAhB;EACD,CAHM,MAGA,IAAII,IAAI,CAACK,IAAT,EAAe;IACpBL,IAAI,CAACM,IAAL,GAAY,yBAAZ;IACAN,IAAI,CAACH,IAAL,GAAYG,IAAI,CAACK,IAAjB;IACAL,IAAI,CAACJ,QAAL,GAAgB,EAAhB;;IACA,IAAII,IAAI,CAACK,IAAL,KAAc,QAAlB,EAA4B;MAC1BL,IAAI,CAACJ,QAAL,IAAiB,CAAjB;IACD;EACF;;EAED,IAAII,IAAI,CAACO,SAAT,EAAoB;IAClBP,IAAI,CAACJ,QAAL,IAAiB,GAAjB;EACD;;EAED,OAAOI,IAAP;AACD"},"metadata":{},"sourceType":"module"}