{"ast":null,"code":"import { createAction } from '@reduxjs/toolkit';\nexport const initialLibraryPanelsSearchState = {\n  searchQuery: '',\n  panelFilter: [],\n  folderFilter: [],\n  sortDirection: undefined\n};\nexport const searchChanged = createAction('libraryPanels/search/searchChanged');\nexport const sortChanged = createAction('libraryPanels/search/sortChanged');\nexport const panelFilterChanged = createAction('libraryPanels/search/panelFilterChanged');\nexport const folderFilterChanged = createAction('libraryPanels/search/folderFilterChanged');\nexport const libraryPanelsSearchReducer = (state, action) => {\n  if (searchChanged.match(action)) {\n    return Object.assign({}, state, {\n      searchQuery: action.payload\n    });\n  }\n\n  if (sortChanged.match(action)) {\n    return Object.assign({}, state, {\n      sortDirection: action.payload.value\n    });\n  }\n\n  if (panelFilterChanged.match(action)) {\n    return Object.assign({}, state, {\n      panelFilter: action.payload.map(p => p.id)\n    });\n  }\n\n  if (folderFilterChanged.match(action)) {\n    return Object.assign({}, state, {\n      folderFilter: action.payload.map(f => String(f.id))\n    });\n  }\n\n  return state;\n};","map":{"version":3,"names":["createAction","initialLibraryPanelsSearchState","searchQuery","panelFilter","folderFilter","sortDirection","undefined","searchChanged","sortChanged","panelFilterChanged","folderFilterChanged","libraryPanelsSearchReducer","state","action","match","payload","value","map","p","id","f","String"],"sources":["/home/soula/grafana/public/app/features/library-panels/components/LibraryPanelsSearch/reducer.ts"],"sourcesContent":["import { createAction } from '@reduxjs/toolkit';\nimport { AnyAction } from 'redux';\n\nimport { PanelPluginMeta, SelectableValue } from '@grafana/data';\n\nimport { FolderInfo } from '../../../../types';\n\nexport interface LibraryPanelsSearchState {\n  searchQuery: string;\n  sortDirection?: string;\n  panelFilter: string[];\n  folderFilter: string[];\n}\n\nexport const initialLibraryPanelsSearchState: LibraryPanelsSearchState = {\n  searchQuery: '',\n  panelFilter: [],\n  folderFilter: [],\n  sortDirection: undefined,\n};\n\nexport const searchChanged = createAction<string>('libraryPanels/search/searchChanged');\nexport const sortChanged = createAction<SelectableValue<string>>('libraryPanels/search/sortChanged');\nexport const panelFilterChanged = createAction<PanelPluginMeta[]>('libraryPanels/search/panelFilterChanged');\nexport const folderFilterChanged = createAction<FolderInfo[]>('libraryPanels/search/folderFilterChanged');\n\nexport const libraryPanelsSearchReducer = (state: LibraryPanelsSearchState, action: AnyAction) => {\n  if (searchChanged.match(action)) {\n    return { ...state, searchQuery: action.payload };\n  }\n\n  if (sortChanged.match(action)) {\n    return { ...state, sortDirection: action.payload.value };\n  }\n\n  if (panelFilterChanged.match(action)) {\n    return { ...state, panelFilter: action.payload.map((p) => p.id) };\n  }\n\n  if (folderFilterChanged.match(action)) {\n    return { ...state, folderFilter: action.payload.map((f) => String(f.id!)) };\n  }\n\n  return state;\n};\n"],"mappings":"AAAA,SAASA,YAAT,QAA6B,kBAA7B;AAcA,OAAO,MAAMC,+BAAyD,GAAG;EACvEC,WAAW,EAAE,EAD0D;EAEvEC,WAAW,EAAE,EAF0D;EAGvEC,YAAY,EAAE,EAHyD;EAIvEC,aAAa,EAAEC;AAJwD,CAAlE;AAOP,OAAO,MAAMC,aAAa,GAAGP,YAAY,CAAS,oCAAT,CAAlC;AACP,OAAO,MAAMQ,WAAW,GAAGR,YAAY,CAA0B,kCAA1B,CAAhC;AACP,OAAO,MAAMS,kBAAkB,GAAGT,YAAY,CAAoB,yCAApB,CAAvC;AACP,OAAO,MAAMU,mBAAmB,GAAGV,YAAY,CAAe,0CAAf,CAAxC;AAEP,OAAO,MAAMW,0BAA0B,GAAG,CAACC,KAAD,EAAkCC,MAAlC,KAAwD;EAChG,IAAIN,aAAa,CAACO,KAAd,CAAoBD,MAApB,CAAJ,EAAiC;IAC/B,yBAAYD,KAAZ;MAAmBV,WAAW,EAAEW,MAAM,CAACE;IAAvC;EACD;;EAED,IAAIP,WAAW,CAACM,KAAZ,CAAkBD,MAAlB,CAAJ,EAA+B;IAC7B,yBAAYD,KAAZ;MAAmBP,aAAa,EAAEQ,MAAM,CAACE,OAAP,CAAeC;IAAjD;EACD;;EAED,IAAIP,kBAAkB,CAACK,KAAnB,CAAyBD,MAAzB,CAAJ,EAAsC;IACpC,yBAAYD,KAAZ;MAAmBT,WAAW,EAAEU,MAAM,CAACE,OAAP,CAAeE,GAAf,CAAoBC,CAAD,IAAOA,CAAC,CAACC,EAA5B;IAAhC;EACD;;EAED,IAAIT,mBAAmB,CAACI,KAApB,CAA0BD,MAA1B,CAAJ,EAAuC;IACrC,yBAAYD,KAAZ;MAAmBR,YAAY,EAAES,MAAM,CAACE,OAAP,CAAeE,GAAf,CAAoBG,CAAD,IAAOC,MAAM,CAACD,CAAC,CAACD,EAAH,CAAhC;IAAjC;EACD;;EAED,OAAOP,KAAP;AACD,CAlBM"},"metadata":{},"sourceType":"module"}