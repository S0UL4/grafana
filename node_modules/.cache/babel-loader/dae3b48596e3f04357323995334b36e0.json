{"ast":null,"code":"var _div;\n\nimport React, { useLayoutEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useTheme2 } from '../../themes';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function Portal(props) {\n  const {\n    children,\n    className,\n    root,\n    forwardedRef\n  } = props;\n  const theme = useTheme2();\n  const node = useRef(null);\n  const portalRoot = root !== null && root !== void 0 ? root : getPortalContainer();\n\n  if (!node.current) {\n    node.current = document.createElement('div');\n\n    if (className) {\n      node.current.className = className;\n    }\n\n    node.current.style.position = 'relative';\n    node.current.style.zIndex = `${theme.zIndex.portal}`;\n  }\n\n  useLayoutEffect(() => {\n    if (node.current) {\n      portalRoot.appendChild(node.current);\n    }\n\n    return () => {\n      if (node.current) {\n        portalRoot.removeChild(node.current);\n      }\n    };\n  }, [portalRoot]);\n  return /*#__PURE__*/ReactDOM.createPortal( /*#__PURE__*/_jsx(\"div\", {\n    ref: forwardedRef,\n    children: children\n  }), node.current);\n}\n/** @internal */\n\nexport function getPortalContainer() {\n  var _window$document$getE;\n\n  return (_window$document$getE = window.document.getElementById('grafana-portal-container')) !== null && _window$document$getE !== void 0 ? _window$document$getE : document.body;\n}\n/** @internal */\n\nexport function PortalContainer() {\n  return _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n    id: \"grafana-portal-container\"\n  }));\n}\nexport const RefForwardingPortal = /*#__PURE__*/React.forwardRef((props, ref) => {\n  return /*#__PURE__*/_jsx(Portal, Object.assign({}, props, {\n    forwardedRef: ref\n  }));\n});\nRefForwardingPortal.displayName = 'RefForwardingPortal';","map":{"version":3,"names":["React","useLayoutEffect","useRef","ReactDOM","useTheme2","Portal","props","children","className","root","forwardedRef","theme","node","portalRoot","getPortalContainer","current","document","createElement","style","position","zIndex","portal","appendChild","removeChild","createPortal","window","getElementById","body","PortalContainer","RefForwardingPortal","forwardRef","ref","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Portal/Portal.tsx"],"sourcesContent":["import React, { PropsWithChildren, useLayoutEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { useTheme2 } from '../../themes';\n\ninterface Props {\n  className?: string;\n  root?: HTMLElement;\n  forwardedRef?: any;\n}\n\nexport function Portal(props: PropsWithChildren<Props>) {\n  const { children, className, root, forwardedRef } = props;\n  const theme = useTheme2();\n  const node = useRef<HTMLDivElement | null>(null);\n  const portalRoot = root ?? getPortalContainer();\n\n  if (!node.current) {\n    node.current = document.createElement('div');\n    if (className) {\n      node.current.className = className;\n    }\n    node.current.style.position = 'relative';\n    node.current.style.zIndex = `${theme.zIndex.portal}`;\n  }\n\n  useLayoutEffect(() => {\n    if (node.current) {\n      portalRoot.appendChild(node.current);\n    }\n\n    return () => {\n      if (node.current) {\n        portalRoot.removeChild(node.current);\n      }\n    };\n  }, [portalRoot]);\n\n  return ReactDOM.createPortal(<div ref={forwardedRef}>{children}</div>, node.current);\n}\n\n/** @internal */\nexport function getPortalContainer() {\n  return window.document.getElementById('grafana-portal-container') ?? document.body;\n}\n\n/** @internal */\nexport function PortalContainer() {\n  return <div id=\"grafana-portal-container\" />;\n}\n\nexport const RefForwardingPortal = React.forwardRef<HTMLDivElement, Props>((props, ref) => {\n  return <Portal {...props} forwardedRef={ref} />;\n});\n\nRefForwardingPortal.displayName = 'RefForwardingPortal';\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAmCC,eAAnC,EAAoDC,MAApD,QAAkE,OAAlE;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,SAASC,SAAT,QAA0B,cAA1B;;AAQA,OAAO,SAASC,MAAT,CAAgBC,KAAhB,EAAiD;EACtD,MAAM;IAAEC,QAAF;IAAYC,SAAZ;IAAuBC,IAAvB;IAA6BC;EAA7B,IAA8CJ,KAApD;EACA,MAAMK,KAAK,GAAGP,SAAS,EAAvB;EACA,MAAMQ,IAAI,GAAGV,MAAM,CAAwB,IAAxB,CAAnB;EACA,MAAMW,UAAU,GAAGJ,IAAH,aAAGA,IAAH,cAAGA,IAAH,GAAWK,kBAAkB,EAA7C;;EAEA,IAAI,CAACF,IAAI,CAACG,OAAV,EAAmB;IACjBH,IAAI,CAACG,OAAL,GAAeC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;;IACA,IAAIT,SAAJ,EAAe;MACbI,IAAI,CAACG,OAAL,CAAaP,SAAb,GAAyBA,SAAzB;IACD;;IACDI,IAAI,CAACG,OAAL,CAAaG,KAAb,CAAmBC,QAAnB,GAA8B,UAA9B;IACAP,IAAI,CAACG,OAAL,CAAaG,KAAb,CAAmBE,MAAnB,GAA6B,GAAET,KAAK,CAACS,MAAN,CAAaC,MAAO,EAAnD;EACD;;EAEDpB,eAAe,CAAC,MAAM;IACpB,IAAIW,IAAI,CAACG,OAAT,EAAkB;MAChBF,UAAU,CAACS,WAAX,CAAuBV,IAAI,CAACG,OAA5B;IACD;;IAED,OAAO,MAAM;MACX,IAAIH,IAAI,CAACG,OAAT,EAAkB;QAChBF,UAAU,CAACU,WAAX,CAAuBX,IAAI,CAACG,OAA5B;MACD;IACF,CAJD;EAKD,CAVc,EAUZ,CAACF,UAAD,CAVY,CAAf;EAYA,oBAAOV,QAAQ,CAACqB,YAAT,eAAsB;IAAK,GAAG,EAAEd,YAAV;IAAA,UAAyBH;EAAzB,EAAtB,EAAgEK,IAAI,CAACG,OAArE,CAAP;AACD;AAED;;AACA,OAAO,SAASD,kBAAT,GAA8B;EAAA;;EACnC,gCAAOW,MAAM,CAACT,QAAP,CAAgBU,cAAhB,CAA+B,0BAA/B,CAAP,yEAAqEV,QAAQ,CAACW,IAA9E;AACD;AAED;;AACA,OAAO,SAASC,eAAT,GAA2B;EAChC,oCAAO;IAAK,EAAE,EAAC;EAAR,EAAP;AACD;AAED,OAAO,MAAMC,mBAAmB,gBAAG7B,KAAK,CAAC8B,UAAN,CAAwC,CAACxB,KAAD,EAAQyB,GAAR,KAAgB;EACzF,oBAAO,KAAC,MAAD,oBAAYzB,KAAZ;IAAmB,YAAY,EAAEyB;EAAjC,GAAP;AACD,CAFkC,CAA5B;AAIPF,mBAAmB,CAACG,WAApB,GAAkC,qBAAlC"},"metadata":{},"sourceType":"module"}