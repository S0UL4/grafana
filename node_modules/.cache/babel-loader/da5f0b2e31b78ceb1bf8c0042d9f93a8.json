{"ast":null,"code":"var _Icon;\n\nimport { css, cx } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2, Icon, HorizontalGroup } from '@grafana/ui';\nimport { getLatestCompatibleVersion } from '../helpers';\nimport { PluginDisabledBadge } from './Badges';\nimport { GetStartedWithPlugin } from './GetStartedWithPlugin';\nimport { InstallControls } from './InstallControls';\nimport { PluginDetailsHeaderDependencies } from './PluginDetailsHeaderDependencies';\nimport { PluginDetailsHeaderSignature } from './PluginDetailsHeaderSignature';\nimport { PluginLogo } from './PluginLogo';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function PluginDetailsHeader({\n  plugin,\n  currentUrl,\n  parentUrl\n}) {\n  var _plugin$details, _plugin$details2;\n\n  const styles = useStyles2(getStyles);\n  const latestCompatibleVersion = getLatestCompatibleVersion((_plugin$details = plugin.details) === null || _plugin$details === void 0 ? void 0 : _plugin$details.versions);\n  const version = plugin.installedVersion || (latestCompatibleVersion === null || latestCompatibleVersion === void 0 ? void 0 : latestCompatibleVersion.version);\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-container\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.headerContainer,\n        children: [/*#__PURE__*/_jsx(PluginLogo, {\n          alt: `${plugin.name} logo`,\n          src: plugin.info.logos.small,\n          className: css`\n              object-fit: contain;\n              width: 100%;\n              height: 68px;\n              max-width: 68px;\n            `\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.headerWrapper,\n          children: [/*#__PURE__*/_jsx(\"nav\", {\n            className: styles.breadcrumb,\n            \"aria-label\": \"Breadcrumb\",\n            children: /*#__PURE__*/_jsxs(\"ol\", {\n              children: [/*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  className: styles.textUnderline,\n                  href: parentUrl,\n                  children: \"Plugins\"\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  href: currentUrl,\n                  \"aria-current\": \"page\",\n                  children: plugin.name\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.headerInformationRow,\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              children: plugin.orgName\n            }), (_plugin$details2 = plugin.details) === null || _plugin$details2 === void 0 ? void 0 : _plugin$details2.links.map(link => /*#__PURE__*/_jsx(\"a\", {\n              href: link.url,\n              children: link.name\n            }, link.name)), plugin.downloads > 0 && /*#__PURE__*/_jsxs(\"span\", {\n              children: [_Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n                name: \"cloud-download\"\n              })), ` ${new Intl.NumberFormat().format(plugin.downloads)}`, ' ']\n            }), Boolean(version) && /*#__PURE__*/_jsx(\"span\", {\n              children: version\n            }), /*#__PURE__*/_jsx(PluginDetailsHeaderSignature, {\n              plugin: plugin\n            }), plugin.isDisabled && /*#__PURE__*/_jsx(PluginDisabledBadge, {\n              error: plugin.error\n            })]\n          }), /*#__PURE__*/_jsx(PluginDetailsHeaderDependencies, {\n            plugin: plugin,\n            latestCompatibleVersion: latestCompatibleVersion,\n            className: cx(styles.headerInformationRow, styles.headerInformationRowSecondary)\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: plugin.description\n          }), /*#__PURE__*/_jsxs(HorizontalGroup, {\n            height: \"auto\",\n            children: [/*#__PURE__*/_jsx(InstallControls, {\n              plugin: plugin,\n              latestCompatibleVersion: latestCompatibleVersion\n            }), /*#__PURE__*/_jsx(GetStartedWithPlugin, {\n              plugin: plugin\n            })]\n          })]\n        })]\n      })\n    })\n  });\n}\nexport const getStyles = theme => {\n  return {\n    headerContainer: css`\n      display: flex;\n      margin-bottom: ${theme.spacing(3)};\n      margin-top: ${theme.spacing(3)};\n      min-height: 120px;\n    `,\n    headerWrapper: css`\n      margin-left: ${theme.spacing(3)};\n    `,\n    breadcrumb: css`\n      font-size: ${theme.typography.h2.fontSize};\n      li {\n        display: inline;\n        list-style: none;\n        &::after {\n          content: '/';\n          padding: 0 0.25ch;\n        }\n        &:last-child::after {\n          content: '';\n        }\n      }\n    `,\n    headerInformationRow: css`\n      display: flex;\n      align-items: center;\n      margin-top: ${theme.spacing()};\n      margin-bottom: ${theme.spacing()};\n      flex-flow: wrap;\n      & > * {\n        &::after {\n          content: '|';\n          padding: 0 ${theme.spacing()};\n        }\n        &:last-child::after {\n          content: '';\n          padding-right: 0;\n        }\n      }\n      font-size: ${theme.typography.h4.fontSize};\n\n      a {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n    `,\n    headerInformationRowSecondary: css`\n      font-size: ${theme.typography.body.fontSize};\n    `,\n    headerOrgName: css`\n      font-size: ${theme.typography.h4.fontSize};\n    `,\n    signature: css`\n      margin: ${theme.spacing(3)};\n      margin-bottom: 0;\n    `,\n    textUnderline: css`\n      text-decoration: underline;\n    `\n  };\n};","map":{"version":3,"names":["css","cx","React","useStyles2","Icon","HorizontalGroup","getLatestCompatibleVersion","PluginDisabledBadge","GetStartedWithPlugin","InstallControls","PluginDetailsHeaderDependencies","PluginDetailsHeaderSignature","PluginLogo","PluginDetailsHeader","plugin","currentUrl","parentUrl","styles","getStyles","latestCompatibleVersion","details","versions","version","installedVersion","headerContainer","name","info","logos","small","headerWrapper","breadcrumb","textUnderline","headerInformationRow","orgName","links","map","link","url","downloads","Intl","NumberFormat","format","Boolean","isDisabled","error","headerInformationRowSecondary","description","theme","spacing","typography","h2","fontSize","h4","body","headerOrgName","signature"],"sources":["/home/soula/grafana/public/app/features/plugins/admin/components/PluginDetailsHeader.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2, Icon, HorizontalGroup } from '@grafana/ui';\n\nimport { getLatestCompatibleVersion } from '../helpers';\nimport { CatalogPlugin } from '../types';\n\nimport { PluginDisabledBadge } from './Badges';\nimport { GetStartedWithPlugin } from './GetStartedWithPlugin';\nimport { InstallControls } from './InstallControls';\nimport { PluginDetailsHeaderDependencies } from './PluginDetailsHeaderDependencies';\nimport { PluginDetailsHeaderSignature } from './PluginDetailsHeaderSignature';\nimport { PluginLogo } from './PluginLogo';\n\ntype Props = {\n  currentUrl: string;\n  parentUrl: string;\n  plugin: CatalogPlugin;\n};\n\nexport function PluginDetailsHeader({ plugin, currentUrl, parentUrl }: Props): React.ReactElement {\n  const styles = useStyles2(getStyles);\n  const latestCompatibleVersion = getLatestCompatibleVersion(plugin.details?.versions);\n  const version = plugin.installedVersion || latestCompatibleVersion?.version;\n\n  return (\n    <div>\n      <div className=\"page-container\">\n        <div className={styles.headerContainer}>\n          <PluginLogo\n            alt={`${plugin.name} logo`}\n            src={plugin.info.logos.small}\n            className={css`\n              object-fit: contain;\n              width: 100%;\n              height: 68px;\n              max-width: 68px;\n            `}\n          />\n\n          <div className={styles.headerWrapper}>\n            {/* Title & navigation */}\n            <nav className={styles.breadcrumb} aria-label=\"Breadcrumb\">\n              <ol>\n                <li>\n                  <a className={styles.textUnderline} href={parentUrl}>\n                    Plugins\n                  </a>\n                </li>\n                <li>\n                  <a href={currentUrl} aria-current=\"page\">\n                    {plugin.name}\n                  </a>\n                </li>\n              </ol>\n            </nav>\n\n            <div className={styles.headerInformationRow}>\n              {/* Org name */}\n              <span>{plugin.orgName}</span>\n\n              {/* Links */}\n              {plugin.details?.links.map((link: any) => (\n                <a key={link.name} href={link.url}>\n                  {link.name}\n                </a>\n              ))}\n\n              {/* Downloads */}\n              {plugin.downloads > 0 && (\n                <span>\n                  <Icon name=\"cloud-download\" />\n                  {` ${new Intl.NumberFormat().format(plugin.downloads)}`}{' '}\n                </span>\n              )}\n\n              {/* Version */}\n              {Boolean(version) && <span>{version}</span>}\n\n              {/* Signature information */}\n              <PluginDetailsHeaderSignature plugin={plugin} />\n\n              {plugin.isDisabled && <PluginDisabledBadge error={plugin.error!} />}\n            </div>\n\n            <PluginDetailsHeaderDependencies\n              plugin={plugin}\n              latestCompatibleVersion={latestCompatibleVersion}\n              className={cx(styles.headerInformationRow, styles.headerInformationRowSecondary)}\n            />\n\n            <p>{plugin.description}</p>\n\n            <HorizontalGroup height=\"auto\">\n              <InstallControls plugin={plugin} latestCompatibleVersion={latestCompatibleVersion} />\n              <GetStartedWithPlugin plugin={plugin} />\n            </HorizontalGroup>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    headerContainer: css`\n      display: flex;\n      margin-bottom: ${theme.spacing(3)};\n      margin-top: ${theme.spacing(3)};\n      min-height: 120px;\n    `,\n    headerWrapper: css`\n      margin-left: ${theme.spacing(3)};\n    `,\n    breadcrumb: css`\n      font-size: ${theme.typography.h2.fontSize};\n      li {\n        display: inline;\n        list-style: none;\n        &::after {\n          content: '/';\n          padding: 0 0.25ch;\n        }\n        &:last-child::after {\n          content: '';\n        }\n      }\n    `,\n    headerInformationRow: css`\n      display: flex;\n      align-items: center;\n      margin-top: ${theme.spacing()};\n      margin-bottom: ${theme.spacing()};\n      flex-flow: wrap;\n      & > * {\n        &::after {\n          content: '|';\n          padding: 0 ${theme.spacing()};\n        }\n        &:last-child::after {\n          content: '';\n          padding-right: 0;\n        }\n      }\n      font-size: ${theme.typography.h4.fontSize};\n\n      a {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n    `,\n    headerInformationRowSecondary: css`\n      font-size: ${theme.typography.body.fontSize};\n    `,\n    headerOrgName: css`\n      font-size: ${theme.typography.h4.fontSize};\n    `,\n    signature: css`\n      margin: ${theme.spacing(3)};\n      margin-bottom: 0;\n    `,\n    textUnderline: css`\n      text-decoration: underline;\n    `,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}