{"ast":null,"code":"import React from 'react';\nimport { PluginState } from '@grafana/data';\nimport { FieldToConfigMappingEditor } from '../fieldToConfigMapping/FieldToConfigMappingEditor';\nimport { rowsToFieldsTransformer } from './rowsToFields';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function RowsToFieldsTransformerEditor({\n  input,\n  options,\n  onChange\n}) {\n  var _options$mappings;\n\n  if (input.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(FieldToConfigMappingEditor, {\n      frame: input[0],\n      mappings: (_options$mappings = options.mappings) !== null && _options$mappings !== void 0 ? _options$mappings : [],\n      onChange: mappings => onChange(Object.assign({}, options, {\n        mappings\n      })),\n      withNameAndValue: true\n    })\n  });\n}\nexport const rowsToFieldsTransformRegistryItem = {\n  id: rowsToFieldsTransformer.id,\n  editor: RowsToFieldsTransformerEditor,\n  transformation: rowsToFieldsTransformer,\n  name: rowsToFieldsTransformer.name,\n  description: rowsToFieldsTransformer.description,\n  state: PluginState.beta,\n  help: `\n### Use cases \n\nThis transforms rows into separate fields. This can be useful as fields can be styled and configured \nindividually, something rows cannot. It can also use additional fields as sources for dynamic field \nconfiguration or map them to field labels. The additional labels can then be used to define better \ndisplay names for the resulting fields.\n\nUseful when visualization data in:\n- Gauge\n- Stat\n- Pie chart\n\n## Example\n\nInput:\n\n| Name    | Value | Max |\n| ------- | ----- | --- |\n| ServerA | 10    | 100 |\n| ServerB | 20    | 200 |\n| ServerC | 30    | 300 |\n\nOutput:\n\n| ServerA (config: max=100) | ServerB (config: max=200) | ServerC (config: max=300) |\n| ------------------------- | ------------------------- | ------------------------- |\n| 10                        | 20                        | 30                        |\n\nAs you can see each row in the source data becomes a separate field. Each field now also has a max \nconfig option set. Options like **Min**, **Max**, **Unit** and **Thresholds** are all part of field \nconfiguration and if set like this will be used by the visualization instead of any options manually \nconfigured in the panel editor options pane.\n\n`\n};","map":{"version":3,"names":["React","PluginState","FieldToConfigMappingEditor","rowsToFieldsTransformer","RowsToFieldsTransformerEditor","input","options","onChange","length","mappings","rowsToFieldsTransformRegistryItem","id","editor","transformation","name","description","state","beta","help"],"sources":["/home/soula/grafana/public/app/features/transformers/rowsToFields/RowsToFieldsTransformerEditor.tsx"],"sourcesContent":["import React from 'react';\n\nimport { PluginState, TransformerRegistryItem, TransformerUIProps } from '@grafana/data';\n\nimport { FieldToConfigMappingEditor } from '../fieldToConfigMapping/FieldToConfigMappingEditor';\n\nimport { rowsToFieldsTransformer, RowToFieldsTransformOptions } from './rowsToFields';\n\nexport interface Props extends TransformerUIProps<RowToFieldsTransformOptions> {}\n\nexport function RowsToFieldsTransformerEditor({ input, options, onChange }: Props) {\n  if (input.length === 0) {\n    return null;\n  }\n\n  return (\n    <div>\n      <FieldToConfigMappingEditor\n        frame={input[0]}\n        mappings={options.mappings ?? []}\n        onChange={(mappings) => onChange({ ...options, mappings })}\n        withNameAndValue={true}\n      />\n    </div>\n  );\n}\n\nexport const rowsToFieldsTransformRegistryItem: TransformerRegistryItem<RowToFieldsTransformOptions> = {\n  id: rowsToFieldsTransformer.id,\n  editor: RowsToFieldsTransformerEditor,\n  transformation: rowsToFieldsTransformer,\n  name: rowsToFieldsTransformer.name,\n  description: rowsToFieldsTransformer.description,\n  state: PluginState.beta,\n  help: `\n### Use cases \n\nThis transforms rows into separate fields. This can be useful as fields can be styled and configured \nindividually, something rows cannot. It can also use additional fields as sources for dynamic field \nconfiguration or map them to field labels. The additional labels can then be used to define better \ndisplay names for the resulting fields.\n\nUseful when visualization data in:\n- Gauge\n- Stat\n- Pie chart\n\n## Example\n\nInput:\n\n| Name    | Value | Max |\n| ------- | ----- | --- |\n| ServerA | 10    | 100 |\n| ServerB | 20    | 200 |\n| ServerC | 30    | 300 |\n\nOutput:\n\n| ServerA (config: max=100) | ServerB (config: max=200) | ServerC (config: max=300) |\n| ------------------------- | ------------------------- | ------------------------- |\n| 10                        | 20                        | 30                        |\n\nAs you can see each row in the source data becomes a separate field. Each field now also has a max \nconfig option set. Options like **Min**, **Max**, **Unit** and **Thresholds** are all part of field \nconfiguration and if set like this will be used by the visualization instead of any options manually \nconfigured in the panel editor options pane.\n\n`,\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAAyE,eAAzE;AAEA,SAASC,0BAAT,QAA2C,oDAA3C;AAEA,SAASC,uBAAT,QAAqE,gBAArE;;AAIA,OAAO,SAASC,6BAAT,CAAuC;EAAEC,KAAF;EAASC,OAAT;EAAkBC;AAAlB,CAAvC,EAA4E;EAAA;;EACjF,IAAIF,KAAK,CAACG,MAAN,KAAiB,CAArB,EAAwB;IACtB,OAAO,IAAP;EACD;;EAED,oBACE;IAAA,uBACE,KAAC,0BAAD;MACE,KAAK,EAAEH,KAAK,CAAC,CAAD,CADd;MAEE,QAAQ,uBAAEC,OAAO,CAACG,QAAV,iEAAsB,EAFhC;MAGE,QAAQ,EAAGA,QAAD,IAAcF,QAAQ,mBAAMD,OAAN;QAAeG;MAAf,GAHlC;MAIE,gBAAgB,EAAE;IAJpB;EADF,EADF;AAUD;AAED,OAAO,MAAMC,iCAAuF,GAAG;EACrGC,EAAE,EAAER,uBAAuB,CAACQ,EADyE;EAErGC,MAAM,EAAER,6BAF6F;EAGrGS,cAAc,EAAEV,uBAHqF;EAIrGW,IAAI,EAAEX,uBAAuB,CAACW,IAJuE;EAKrGC,WAAW,EAAEZ,uBAAuB,CAACY,WALgE;EAMrGC,KAAK,EAAEf,WAAW,CAACgB,IANkF;EAOrGC,IAAI,EAAG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCuG,CAAhG"},"metadata":{},"sourceType":"module"}