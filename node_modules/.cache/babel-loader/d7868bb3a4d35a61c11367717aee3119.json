{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { toKeyedVariableIdentifier } from '../../utils';\nimport { addFilter, changeFilter, removeFilter } from '../actions';\nimport { AdHocFilter } from './AdHocFilter';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst mapDispatchToProps = {\n  addFilter,\n  removeFilter,\n  changeFilter\n};\nconst connector = connect(null, mapDispatchToProps);\n\n/**\n * Thin wrapper over AdHocFilter to add redux actions and change the props so it can be used for ad hoc variable\n * control.\n */\nexport class AdHocPickerUnconnected extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"addFilter\", filter => {\n      this.props.addFilter(toKeyedVariableIdentifier(this.props.variable), filter);\n    });\n\n    _defineProperty(this, \"removeFilter\", index => {\n      this.props.removeFilter(toKeyedVariableIdentifier(this.props.variable), index);\n    });\n\n    _defineProperty(this, \"changeFilter\", (index, filter) => {\n      this.props.changeFilter(toKeyedVariableIdentifier(this.props.variable), {\n        index,\n        filter\n      });\n    });\n  }\n\n  render() {\n    const {\n      filters,\n      datasource\n    } = this.props.variable;\n    return /*#__PURE__*/_jsx(AdHocFilter, {\n      datasource: datasource,\n      filters: filters,\n      addFilter: this.addFilter,\n      removeFilter: this.removeFilter,\n      changeFilter: this.changeFilter\n    });\n  }\n\n}\nexport const AdHocPicker = connector(AdHocPickerUnconnected);\nAdHocPicker.displayName = 'AdHocPicker';","map":{"version":3,"names":["React","PureComponent","connect","toKeyedVariableIdentifier","addFilter","changeFilter","removeFilter","AdHocFilter","mapDispatchToProps","connector","AdHocPickerUnconnected","filter","props","variable","index","render","filters","datasource","AdHocPicker","displayName"],"sources":["/home/soula/grafana/public/app/features/variables/adhoc/picker/AdHocPicker.tsx"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { AdHocVariableFilter, AdHocVariableModel } from 'app/features/variables/types';\n\nimport { VariablePickerProps } from '../../pickers/types';\nimport { toKeyedVariableIdentifier } from '../../utils';\nimport { addFilter, changeFilter, removeFilter } from '../actions';\n\nimport { AdHocFilter } from './AdHocFilter';\n\nconst mapDispatchToProps = {\n  addFilter,\n  removeFilter,\n  changeFilter,\n};\n\nconst connector = connect(null, mapDispatchToProps);\n\ninterface OwnProps extends VariablePickerProps<AdHocVariableModel> {}\n\ntype Props = OwnProps & ConnectedProps<typeof connector>;\n\n/**\n * Thin wrapper over AdHocFilter to add redux actions and change the props so it can be used for ad hoc variable\n * control.\n */\nexport class AdHocPickerUnconnected extends PureComponent<Props> {\n  addFilter = (filter: AdHocVariableFilter) => {\n    this.props.addFilter(toKeyedVariableIdentifier(this.props.variable), filter);\n  };\n\n  removeFilter = (index: number) => {\n    this.props.removeFilter(toKeyedVariableIdentifier(this.props.variable), index);\n  };\n\n  changeFilter = (index: number, filter: AdHocVariableFilter) => {\n    this.props.changeFilter(toKeyedVariableIdentifier(this.props.variable), {\n      index,\n      filter,\n    });\n  };\n\n  render() {\n    const { filters, datasource } = this.props.variable;\n\n    return (\n      <AdHocFilter\n        datasource={datasource}\n        filters={filters}\n        addFilter={this.addFilter}\n        removeFilter={this.removeFilter}\n        changeFilter={this.changeFilter}\n      />\n    );\n  }\n}\n\nexport const AdHocPicker = connector(AdHocPickerUnconnected);\nAdHocPicker.displayName = 'AdHocPicker';\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwC,aAAxC;AAKA,SAASC,yBAAT,QAA0C,aAA1C;AACA,SAASC,SAAT,EAAoBC,YAApB,EAAkCC,YAAlC,QAAsD,YAAtD;AAEA,SAASC,WAAT,QAA4B,eAA5B;;AAEA,MAAMC,kBAAkB,GAAG;EACzBJ,SADyB;EAEzBE,YAFyB;EAGzBD;AAHyB,CAA3B;AAMA,MAAMI,SAAS,GAAGP,OAAO,CAAC,IAAD,EAAOM,kBAAP,CAAzB;;AAMA;AACA;AACA;AACA;AACA,OAAO,MAAME,sBAAN,SAAqCT,aAArC,CAA0D;EAAA;IAAA;;IAAA,mCAClDU,MAAD,IAAiC;MAC3C,KAAKC,KAAL,CAAWR,SAAX,CAAqBD,yBAAyB,CAAC,KAAKS,KAAL,CAAWC,QAAZ,CAA9C,EAAqEF,MAArE;IACD,CAH8D;;IAAA,sCAK/CG,KAAD,IAAmB;MAChC,KAAKF,KAAL,CAAWN,YAAX,CAAwBH,yBAAyB,CAAC,KAAKS,KAAL,CAAWC,QAAZ,CAAjD,EAAwEC,KAAxE;IACD,CAP8D;;IAAA,sCAShD,CAACA,KAAD,EAAgBH,MAAhB,KAAgD;MAC7D,KAAKC,KAAL,CAAWP,YAAX,CAAwBF,yBAAyB,CAAC,KAAKS,KAAL,CAAWC,QAAZ,CAAjD,EAAwE;QACtEC,KADsE;QAEtEH;MAFsE,CAAxE;IAID,CAd8D;EAAA;;EAgB/DI,MAAM,GAAG;IACP,MAAM;MAAEC,OAAF;MAAWC;IAAX,IAA0B,KAAKL,KAAL,CAAWC,QAA3C;IAEA,oBACE,KAAC,WAAD;MACE,UAAU,EAAEI,UADd;MAEE,OAAO,EAAED,OAFX;MAGE,SAAS,EAAE,KAAKZ,SAHlB;MAIE,YAAY,EAAE,KAAKE,YAJrB;MAKE,YAAY,EAAE,KAAKD;IALrB,EADF;EASD;;AA5B8D;AA+BjE,OAAO,MAAMa,WAAW,GAAGT,SAAS,CAACC,sBAAD,CAA7B;AACPQ,WAAW,CAACC,WAAZ,GAA0B,aAA1B"},"metadata":{},"sourceType":"module"}