{"ast":null,"code":"var _p;\n\nimport { css, cx } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2 } from '@grafana/ui';\nimport { VersionList } from '../components/VersionList';\nimport { usePluginConfig } from '../hooks/usePluginConfig';\nimport { PluginTabIds } from '../types';\nimport { AppConfigCtrlWrapper } from './AppConfigWrapper';\nimport { PluginDashboards } from './PluginDashboards';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function PluginDetailsBody({\n  plugin,\n  queryParams,\n  pageId\n}) {\n  const styles = useStyles2(getStyles);\n  const {\n    value: pluginConfig\n  } = usePluginConfig(plugin);\n\n  if (pageId === PluginTabIds.OVERVIEW) {\n    var _plugin$details$readm, _plugin$details;\n\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: cx(styles.readme, styles.container),\n      dangerouslySetInnerHTML: {\n        __html: (_plugin$details$readm = (_plugin$details = plugin.details) === null || _plugin$details === void 0 ? void 0 : _plugin$details.readme) !== null && _plugin$details$readm !== void 0 ? _plugin$details$readm : 'No plugin help or readme markdown file was found'\n      }\n    });\n  }\n\n  if (pageId === PluginTabIds.VERSIONS) {\n    var _plugin$details2;\n\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsx(VersionList, {\n        versions: (_plugin$details2 = plugin.details) === null || _plugin$details2 === void 0 ? void 0 : _plugin$details2.versions,\n        installedVersion: plugin.installedVersion\n      })\n    });\n  }\n\n  if (pageId === PluginTabIds.CONFIG && pluginConfig !== null && pluginConfig !== void 0 && pluginConfig.angularConfigCtrl) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsx(AppConfigCtrlWrapper, {\n        app: pluginConfig\n      })\n    });\n  }\n\n  if (pluginConfig !== null && pluginConfig !== void 0 && pluginConfig.configPages) {\n    for (const configPage of pluginConfig.configPages) {\n      if (pageId === configPage.id) {\n        return /*#__PURE__*/_jsx(\"div\", {\n          className: styles.container,\n          children: /*#__PURE__*/_jsx(configPage.body, {\n            plugin: pluginConfig,\n            query: queryParams\n          })\n        });\n      }\n    }\n  }\n\n  if (pageId === PluginTabIds.DASHBOARDS && pluginConfig) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: styles.container,\n      children: /*#__PURE__*/_jsx(PluginDashboards, {\n        plugin: pluginConfig === null || pluginConfig === void 0 ? void 0 : pluginConfig.meta\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.container,\n    children: _p || (_p = /*#__PURE__*/_jsx(\"p\", {\n      children: \"Page not found.\"\n    }))\n  });\n}\nexport const getStyles = theme => ({\n  container: css`\n    padding: ${theme.spacing(3, 4)};\n  `,\n  readme: css`\n    & img {\n      max-width: 100%;\n    }\n\n    h1,\n    h2,\n    h3 {\n      margin-top: ${theme.spacing(3)};\n      margin-bottom: ${theme.spacing(2)};\n    }\n\n    *:first-child {\n      margin-top: 0;\n    }\n\n    li {\n      margin-left: ${theme.spacing(2)};\n      & > p {\n        margin: ${theme.spacing()} 0;\n      }\n    }\n\n    a {\n      color: ${theme.colors.text.link};\n\n      &:hover {\n        color: ${theme.colors.text.link};\n        text-decoration: underline;\n      }\n    }\n  `\n});","map":{"version":3,"names":["css","cx","React","useStyles2","VersionList","usePluginConfig","PluginTabIds","AppConfigCtrlWrapper","PluginDashboards","PluginDetailsBody","plugin","queryParams","pageId","styles","getStyles","value","pluginConfig","OVERVIEW","readme","container","__html","details","VERSIONS","versions","installedVersion","CONFIG","angularConfigCtrl","configPages","configPage","id","DASHBOARDS","meta","theme","spacing","colors","text","link"],"sources":["/home/soula/grafana/public/app/features/plugins/admin/components/PluginDetailsBody.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { AppPlugin, GrafanaTheme2, UrlQueryMap } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { VersionList } from '../components/VersionList';\nimport { usePluginConfig } from '../hooks/usePluginConfig';\nimport { CatalogPlugin, PluginTabIds } from '../types';\n\nimport { AppConfigCtrlWrapper } from './AppConfigWrapper';\nimport { PluginDashboards } from './PluginDashboards';\n\ntype Props = {\n  plugin: CatalogPlugin;\n  queryParams: UrlQueryMap;\n  pageId: string;\n};\n\nexport function PluginDetailsBody({ plugin, queryParams, pageId }: Props): JSX.Element {\n  const styles = useStyles2(getStyles);\n  const { value: pluginConfig } = usePluginConfig(plugin);\n\n  if (pageId === PluginTabIds.OVERVIEW) {\n    return (\n      <div\n        className={cx(styles.readme, styles.container)}\n        dangerouslySetInnerHTML={{\n          __html: plugin.details?.readme ?? 'No plugin help or readme markdown file was found',\n        }}\n      />\n    );\n  }\n\n  if (pageId === PluginTabIds.VERSIONS) {\n    return (\n      <div className={styles.container}>\n        <VersionList versions={plugin.details?.versions} installedVersion={plugin.installedVersion} />\n      </div>\n    );\n  }\n\n  if (pageId === PluginTabIds.CONFIG && pluginConfig?.angularConfigCtrl) {\n    return (\n      <div className={styles.container}>\n        <AppConfigCtrlWrapper app={pluginConfig as AppPlugin} />\n      </div>\n    );\n  }\n\n  if (pluginConfig?.configPages) {\n    for (const configPage of pluginConfig.configPages) {\n      if (pageId === configPage.id) {\n        return (\n          <div className={styles.container}>\n            <configPage.body plugin={pluginConfig} query={queryParams} />\n          </div>\n        );\n      }\n    }\n  }\n\n  if (pageId === PluginTabIds.DASHBOARDS && pluginConfig) {\n    return (\n      <div className={styles.container}>\n        <PluginDashboards plugin={pluginConfig?.meta} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <p>Page not found.</p>\n    </div>\n  );\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => ({\n  container: css`\n    padding: ${theme.spacing(3, 4)};\n  `,\n  readme: css`\n    & img {\n      max-width: 100%;\n    }\n\n    h1,\n    h2,\n    h3 {\n      margin-top: ${theme.spacing(3)};\n      margin-bottom: ${theme.spacing(2)};\n    }\n\n    *:first-child {\n      margin-top: 0;\n    }\n\n    li {\n      margin-left: ${theme.spacing(2)};\n      & > p {\n        margin: ${theme.spacing()} 0;\n      }\n    }\n\n    a {\n      color: ${theme.colors.text.link};\n\n      &:hover {\n        color: ${theme.colors.text.link};\n        text-decoration: underline;\n      }\n    }\n  `,\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}