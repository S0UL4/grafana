{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { getPanelStateForModel } from 'app/features/panel/state/selectors';\nimport { getPanelMenu } from '../../utils/getPanelMenu';\nexport const PanelHeaderMenuProvider = ({\n  panel,\n  dashboard,\n  children\n}) => {\n  const [items, setItems] = useState([]);\n  const angularComponent = useSelector(state => {\n    var _getPanelStateForMode;\n\n    return (_getPanelStateForMode = getPanelStateForModel(state, panel)) === null || _getPanelStateForMode === void 0 ? void 0 : _getPanelStateForMode.angularComponent;\n  });\n  useEffect(() => {\n    setItems(getPanelMenu(dashboard, panel, angularComponent));\n  }, [dashboard, panel, angularComponent, setItems]);\n  return children({\n    items\n  });\n};","map":{"version":3,"names":["useEffect","useState","useSelector","getPanelStateForModel","getPanelMenu","PanelHeaderMenuProvider","panel","dashboard","children","items","setItems","angularComponent","state"],"sources":["/home/soula/grafana/public/app/features/dashboard/dashgrid/PanelHeader/PanelHeaderMenuProvider.tsx"],"sourcesContent":["import { FC, ReactElement, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { PanelMenuItem } from '@grafana/data';\nimport { getPanelStateForModel } from 'app/features/panel/state/selectors';\n\nimport { StoreState } from '../../../../types';\nimport { DashboardModel, PanelModel } from '../../state';\nimport { getPanelMenu } from '../../utils/getPanelMenu';\n\ninterface PanelHeaderMenuProviderApi {\n  items: PanelMenuItem[];\n}\n\ninterface Props {\n  panel: PanelModel;\n  dashboard: DashboardModel;\n  children: (props: PanelHeaderMenuProviderApi) => ReactElement;\n}\n\nexport const PanelHeaderMenuProvider: FC<Props> = ({ panel, dashboard, children }) => {\n  const [items, setItems] = useState<PanelMenuItem[]>([]);\n  const angularComponent = useSelector((state: StoreState) => getPanelStateForModel(state, panel)?.angularComponent);\n\n  useEffect(() => {\n    setItems(getPanelMenu(dashboard, panel, angularComponent));\n  }, [dashboard, panel, angularComponent, setItems]);\n\n  return children({ items });\n};\n"],"mappings":"AAAA,SAA2BA,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,WAAT,QAA4B,aAA5B;AAGA,SAASC,qBAAT,QAAsC,oCAAtC;AAIA,SAASC,YAAT,QAA6B,0BAA7B;AAYA,OAAO,MAAMC,uBAAkC,GAAG,CAAC;EAAEC,KAAF;EAASC,SAAT;EAAoBC;AAApB,CAAD,KAAoC;EACpF,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAkB,EAAlB,CAAlC;EACA,MAAMU,gBAAgB,GAAGT,WAAW,CAAEU,KAAD;IAAA;;IAAA,gCAAuBT,qBAAqB,CAACS,KAAD,EAAQN,KAAR,CAA5C,0DAAuB,sBAAqCK,gBAA5D;EAAA,CAAD,CAApC;EAEAX,SAAS,CAAC,MAAM;IACdU,QAAQ,CAACN,YAAY,CAACG,SAAD,EAAYD,KAAZ,EAAmBK,gBAAnB,CAAb,CAAR;EACD,CAFQ,EAEN,CAACJ,SAAD,EAAYD,KAAZ,EAAmBK,gBAAnB,EAAqCD,QAArC,CAFM,CAAT;EAIA,OAAOF,QAAQ,CAAC;IAAEC;EAAF,CAAD,CAAf;AACD,CATM"},"metadata":{},"sourceType":"module"}