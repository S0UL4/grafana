{"ast":null,"code":"import { css, cx } from '@emotion/css';\nimport React from 'react';\nimport { isUnsignedPluginSignature, PluginState } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { IconButton, PluginSignatureBadge, useStyles2 } from '@grafana/ui';\nimport { PluginStateInfo } from 'app/features/plugins/components/PluginStateInfo';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const PanelTypeCard = ({\n  isCurrent,\n  title,\n  plugin,\n  onClick,\n  onDelete,\n  disabled,\n  showBadge,\n  description,\n  children\n}) => {\n  const styles = useStyles2(getStyles);\n  const cssClass = cx({\n    [styles.item]: true,\n    [styles.disabled]: disabled || plugin.state === PluginState.deprecated,\n    [styles.current]: isCurrent\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: cssClass,\n    \"aria-label\": selectors.components.PluginVisualization.item(plugin.name),\n    onClick: disabled ? undefined : onClick,\n    title: isCurrent ? 'Click again to close this section' : plugin.name,\n    children: [/*#__PURE__*/_jsx(\"img\", {\n      className: styles.img,\n      src: plugin.info.logos.small,\n      alt: \"\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.itemContent,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: styles.name,\n        children: title\n      }), description ? /*#__PURE__*/_jsx(\"span\", {\n        className: styles.description,\n        children: description\n      }) : null, children]\n    }), showBadge && /*#__PURE__*/_jsx(\"div\", {\n      className: cx(styles.badge, disabled && styles.disabled),\n      children: /*#__PURE__*/_jsx(PanelPluginBadge, {\n        plugin: plugin\n      })\n    }), onDelete && /*#__PURE__*/_jsx(IconButton, {\n      name: \"trash-alt\",\n      onClick: e => {\n        e.stopPropagation();\n        onDelete();\n      },\n      className: styles.deleteButton,\n      \"aria-label\": \"Delete button on panel type card\"\n    })]\n  });\n};\nPanelTypeCard.displayName = 'PanelTypeCard';\n\nconst getStyles = theme => {\n  return {\n    item: css`\n      position: relative;\n      display: flex;\n      flex-shrink: 0;\n      cursor: pointer;\n      background: ${theme.colors.background.secondary};\n      border-radius: ${theme.shape.borderRadius()};\n      box-shadow: ${theme.shadows.z1};\n      border: 1px solid ${theme.colors.background.secondary};\n      align-items: center;\n      padding: 8px;\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n      transition: ${theme.transitions.create(['background'], {\n      duration: theme.transitions.duration.short\n    })};\n\n      &:hover {\n        background: ${theme.colors.emphasize(theme.colors.background.secondary, 0.03)};\n      }\n    `,\n    itemContent: css`\n      overflow: hidden;\n      position: relative;\n      padding: ${theme.spacing(0, 1)};\n    `,\n    current: css`\n      label: currentVisualizationItem;\n      border: 1px solid ${theme.colors.primary.border};\n      background: ${theme.colors.action.selected};\n    `,\n    disabled: css`\n      opacity: 0.2;\n      filter: grayscale(1);\n      cursor: default;\n      pointer-events: none;\n    `,\n    name: css`\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-size: ${theme.typography.size.sm};\n      font-weight: ${theme.typography.fontWeightMedium};\n      width: 100%;\n    `,\n    description: css`\n      display: block;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      font-weight: ${theme.typography.fontWeightLight};\n      width: 100%;\n      max-height: 4.5em;\n    `,\n    img: css`\n      max-height: 38px;\n      width: 38px;\n      display: flex;\n      align-items: center;\n    `,\n    badge: css`\n      background: ${theme.colors.background.primary};\n    `,\n    deleteButton: css`\n      margin-left: auto;\n    `\n  };\n};\n\nconst PanelPluginBadge = ({\n  plugin\n}) => {\n  if (isUnsignedPluginSignature(plugin.signature)) {\n    return /*#__PURE__*/_jsx(PluginSignatureBadge, {\n      status: plugin.signature\n    });\n  }\n\n  return /*#__PURE__*/_jsx(PluginStateInfo, {\n    state: plugin.state\n  });\n};\n\nPanelPluginBadge.displayName = 'PanelPluginBadge';","map":{"version":3,"names":["css","cx","React","isUnsignedPluginSignature","PluginState","selectors","IconButton","PluginSignatureBadge","useStyles2","PluginStateInfo","PanelTypeCard","isCurrent","title","plugin","onClick","onDelete","disabled","showBadge","description","children","styles","getStyles","cssClass","item","state","deprecated","current","components","PluginVisualization","name","undefined","img","info","logos","small","itemContent","badge","e","stopPropagation","deleteButton","displayName","theme","colors","background","secondary","shape","borderRadius","shadows","z1","transitions","create","duration","short","emphasize","spacing","primary","border","action","selected","typography","size","sm","fontWeightMedium","text","bodySmall","fontSize","fontWeightLight","PanelPluginBadge","signature"],"sources":["/home/soula/grafana/public/app/features/panel/components/VizTypePicker/PanelTypeCard.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { MouseEventHandler } from 'react';\n\nimport { GrafanaTheme2, isUnsignedPluginSignature, PanelPluginMeta, PluginState } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { IconButton, PluginSignatureBadge, useStyles2 } from '@grafana/ui';\nimport { PluginStateInfo } from 'app/features/plugins/components/PluginStateInfo';\n\ninterface Props {\n  isCurrent: boolean;\n  plugin: PanelPluginMeta;\n  title: string;\n  onClick: MouseEventHandler<HTMLDivElement>;\n  onDelete?: () => void;\n  disabled?: boolean;\n  showBadge?: boolean;\n  description?: string;\n}\n\nexport const PanelTypeCard: React.FC<Props> = ({\n  isCurrent,\n  title,\n  plugin,\n  onClick,\n  onDelete,\n  disabled,\n  showBadge,\n  description,\n  children,\n}) => {\n  const styles = useStyles2(getStyles);\n  const cssClass = cx({\n    [styles.item]: true,\n    [styles.disabled]: disabled || plugin.state === PluginState.deprecated,\n    [styles.current]: isCurrent,\n  });\n\n  return (\n    <div\n      className={cssClass}\n      aria-label={selectors.components.PluginVisualization.item(plugin.name)}\n      onClick={disabled ? undefined : onClick}\n      title={isCurrent ? 'Click again to close this section' : plugin.name}\n    >\n      <img className={styles.img} src={plugin.info.logos.small} alt=\"\" />\n\n      <div className={styles.itemContent}>\n        <div className={styles.name}>{title}</div>\n        {description ? <span className={styles.description}>{description}</span> : null}\n        {children}\n      </div>\n      {showBadge && (\n        <div className={cx(styles.badge, disabled && styles.disabled)}>\n          <PanelPluginBadge plugin={plugin} />\n        </div>\n      )}\n      {onDelete && (\n        <IconButton\n          name=\"trash-alt\"\n          onClick={(e) => {\n            e.stopPropagation();\n            onDelete();\n          }}\n          className={styles.deleteButton}\n          aria-label=\"Delete button on panel type card\"\n        />\n      )}\n    </div>\n  );\n};\n\nPanelTypeCard.displayName = 'PanelTypeCard';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    item: css`\n      position: relative;\n      display: flex;\n      flex-shrink: 0;\n      cursor: pointer;\n      background: ${theme.colors.background.secondary};\n      border-radius: ${theme.shape.borderRadius()};\n      box-shadow: ${theme.shadows.z1};\n      border: 1px solid ${theme.colors.background.secondary};\n      align-items: center;\n      padding: 8px;\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n      transition: ${theme.transitions.create(['background'], {\n        duration: theme.transitions.duration.short,\n      })};\n\n      &:hover {\n        background: ${theme.colors.emphasize(theme.colors.background.secondary, 0.03)};\n      }\n    `,\n    itemContent: css`\n      overflow: hidden;\n      position: relative;\n      padding: ${theme.spacing(0, 1)};\n    `,\n    current: css`\n      label: currentVisualizationItem;\n      border: 1px solid ${theme.colors.primary.border};\n      background: ${theme.colors.action.selected};\n    `,\n    disabled: css`\n      opacity: 0.2;\n      filter: grayscale(1);\n      cursor: default;\n      pointer-events: none;\n    `,\n    name: css`\n      text-overflow: ellipsis;\n      overflow: hidden;\n      font-size: ${theme.typography.size.sm};\n      font-weight: ${theme.typography.fontWeightMedium};\n      width: 100%;\n    `,\n    description: css`\n      display: block;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      font-weight: ${theme.typography.fontWeightLight};\n      width: 100%;\n      max-height: 4.5em;\n    `,\n    img: css`\n      max-height: 38px;\n      width: 38px;\n      display: flex;\n      align-items: center;\n    `,\n    badge: css`\n      background: ${theme.colors.background.primary};\n    `,\n    deleteButton: css`\n      margin-left: auto;\n    `,\n  };\n};\n\ninterface PanelPluginBadgeProps {\n  plugin: PanelPluginMeta;\n}\n\nconst PanelPluginBadge: React.FC<PanelPluginBadgeProps> = ({ plugin }) => {\n  if (isUnsignedPluginSignature(plugin.signature)) {\n    return <PluginSignatureBadge status={plugin.signature} />;\n  }\n\n  return <PluginStateInfo state={plugin.state} />;\n};\n\nPanelPluginBadge.displayName = 'PanelPluginBadge';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}