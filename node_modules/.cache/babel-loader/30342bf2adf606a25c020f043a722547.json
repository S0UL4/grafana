{"ast":null,"code":"var _br, _div;\n\nimport { css } from '@emotion/css';\nimport { useDialog } from '@react-aria/dialog';\nimport { FocusScope } from '@react-aria/focus';\nimport { useOverlay } from '@react-aria/overlays';\nimport React, { memo, createRef, useState } from 'react';\nimport { isDateTime, rangeUtil, dateTimeFormat, timeZoneFormatUserFriendly, dateMath } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { withTheme, useTheme } from '../../themes/ThemeContext';\nimport { stylesFactory } from '../../themes/stylesFactory';\nimport { ButtonGroup } from '../Button';\nimport { ToolbarButton } from '../ToolbarButton';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { TimePickerContent } from './TimeRangePicker/TimePickerContent';\nimport { quickOptions } from './options';\n/** @public */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function UnthemedTimeRangePicker(props) {\n  const [isOpen, setOpen] = useState(false);\n  const {\n    value,\n    onMoveBackward,\n    onMoveForward,\n    onZoom,\n    timeZone,\n    fiscalYearStartMonth,\n    timeSyncButton,\n    isSynced,\n    theme,\n    history,\n    onChangeTimeZone,\n    onChangeFiscalYearStartMonth,\n    hideQuickRanges,\n    widthOverride\n  } = props;\n\n  const onChange = timeRange => {\n    props.onChange(timeRange);\n    setOpen(false);\n  };\n\n  const onOpen = event => {\n    event.stopPropagation();\n    event.preventDefault();\n    setOpen(!isOpen);\n  };\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  const ref = /*#__PURE__*/createRef();\n  const {\n    overlayProps\n  } = useOverlay({\n    onClose,\n    isDismissable: true,\n    isOpen\n  }, ref);\n  const {\n    dialogProps\n  } = useDialog({}, ref);\n  const styles = getStyles(theme);\n  const hasAbsolute = isDateTime(value.raw.from) || isDateTime(value.raw.to);\n  const variant = isSynced ? 'active' : 'default';\n  return /*#__PURE__*/_jsxs(ButtonGroup, {\n    className: styles.container,\n    children: [hasAbsolute && /*#__PURE__*/_jsx(ToolbarButton, {\n      \"aria-label\": \"Move time range backwards\",\n      variant: variant,\n      onClick: onMoveBackward,\n      icon: \"angle-left\",\n      narrow: true\n    }), /*#__PURE__*/_jsx(Tooltip, {\n      content: /*#__PURE__*/_jsx(TimePickerTooltip, {\n        timeRange: value,\n        timeZone: timeZone\n      }),\n      placement: \"bottom\",\n      interactive: true,\n      children: /*#__PURE__*/_jsx(ToolbarButton, {\n        \"data-testid\": selectors.components.TimePicker.openButton,\n        \"aria-label\": `Time range picker with current time range ${formattedRange(value, timeZone)} selected`,\n        \"aria-controls\": \"TimePickerContent\",\n        onClick: onOpen,\n        icon: \"clock-nine\",\n        isOpen: isOpen,\n        variant: variant,\n        children: /*#__PURE__*/_jsx(TimePickerButtonLabel, Object.assign({}, props))\n      })\n    }), isOpen && /*#__PURE__*/_jsx(FocusScope, {\n      contain: true,\n      autoFocus: true,\n      restoreFocus: true,\n      children: /*#__PURE__*/_jsx(\"section\", Object.assign({\n        ref: ref\n      }, overlayProps, dialogProps, {\n        children: /*#__PURE__*/_jsx(TimePickerContent, {\n          timeZone: timeZone,\n          fiscalYearStartMonth: fiscalYearStartMonth,\n          value: value,\n          onChange: onChange,\n          quickOptions: quickOptions,\n          history: history,\n          showHistory: true,\n          widthOverride: widthOverride,\n          onChangeTimeZone: onChangeTimeZone,\n          onChangeFiscalYearStartMonth: onChangeFiscalYearStartMonth,\n          hideQuickRanges: hideQuickRanges\n        })\n      }))\n    }), timeSyncButton, hasAbsolute && /*#__PURE__*/_jsx(ToolbarButton, {\n      \"aria-label\": \"Move time range forwards\",\n      onClick: onMoveForward,\n      icon: \"angle-right\",\n      narrow: true,\n      variant: variant\n    }), /*#__PURE__*/_jsx(Tooltip, {\n      content: ZoomOutTooltip,\n      placement: \"bottom\",\n      children: /*#__PURE__*/_jsx(ToolbarButton, {\n        \"aria-label\": \"Zoom out time range\",\n        onClick: onZoom,\n        icon: \"search-minus\",\n        variant: variant\n      })\n    })]\n  });\n}\n\nconst ZoomOutTooltip = () => /*#__PURE__*/_jsxs(_Fragment, {\n  children: [\"Time range zoom out \", _br || (_br = /*#__PURE__*/_jsx(\"br\", {})), \" CTRL+Z\"]\n});\n\nconst TimePickerTooltip = ({\n  timeRange,\n  timeZone\n}) => {\n  const theme = useTheme();\n  const styles = getLabelStyles(theme);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [dateTimeFormat(timeRange.from, {\n      timeZone\n    }), _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n      className: \"text-center\",\n      children: \"to\"\n    })), dateTimeFormat(timeRange.to, {\n      timeZone\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsx(\"span\", {\n        className: styles.utc,\n        children: timeZoneFormatUserFriendly(timeZone)\n      })\n    })]\n  });\n};\n\nexport const TimePickerButtonLabel = /*#__PURE__*/memo(({\n  hideText,\n  value,\n  timeZone\n}) => {\n  const theme = useTheme();\n  const styles = getLabelStyles(theme);\n\n  if (hideText) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"span\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsx(\"span\", {\n      children: formattedRange(value, timeZone)\n    }), /*#__PURE__*/_jsx(\"span\", {\n      className: styles.utc,\n      children: rangeUtil.describeTimeRangeAbbreviation(value, timeZone)\n    })]\n  });\n});\nTimePickerButtonLabel.displayName = 'TimePickerButtonLabel';\n\nconst formattedRange = (value, timeZone) => {\n  const adjustedTimeRange = {\n    to: dateMath.isMathString(value.raw.to) ? value.raw.to : value.to,\n    from: dateMath.isMathString(value.raw.from) ? value.raw.from : value.from\n  };\n  return rangeUtil.describeTimeRange(adjustedTimeRange, timeZone);\n};\n/** @public */\n\n\nexport const TimeRangePicker = withTheme(UnthemedTimeRangePicker);\nconst getStyles = stylesFactory(theme => {\n  return {\n    container: css`\n      position: relative;\n      display: flex;\n      vertical-align: middle;\n    `\n  };\n});\nconst getLabelStyles = stylesFactory(theme => {\n  return {\n    container: css`\n      display: flex;\n      align-items: center;\n      white-space: nowrap;\n    `,\n    utc: css`\n      color: ${theme.palette.orange};\n      font-size: ${theme.typography.size.sm};\n      padding-left: 6px;\n      line-height: 28px;\n      vertical-align: bottom;\n      font-weight: ${theme.typography.weight.semibold};\n    `\n  };\n});","map":{"version":3,"names":["css","useDialog","FocusScope","useOverlay","React","memo","createRef","useState","isDateTime","rangeUtil","dateTimeFormat","timeZoneFormatUserFriendly","dateMath","selectors","withTheme","useTheme","stylesFactory","ButtonGroup","ToolbarButton","Tooltip","TimePickerContent","quickOptions","UnthemedTimeRangePicker","props","isOpen","setOpen","value","onMoveBackward","onMoveForward","onZoom","timeZone","fiscalYearStartMonth","timeSyncButton","isSynced","theme","history","onChangeTimeZone","onChangeFiscalYearStartMonth","hideQuickRanges","widthOverride","onChange","timeRange","onOpen","event","stopPropagation","preventDefault","onClose","ref","overlayProps","isDismissable","dialogProps","styles","getStyles","hasAbsolute","raw","from","to","variant","container","components","TimePicker","openButton","formattedRange","ZoomOutTooltip","TimePickerTooltip","getLabelStyles","utc","TimePickerButtonLabel","hideText","describeTimeRangeAbbreviation","displayName","adjustedTimeRange","isMathString","describeTimeRange","TimeRangePicker","palette","orange","typography","size","sm","weight","semibold"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/DateTimePickers/TimeRangePicker.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { useDialog } from '@react-aria/dialog';\nimport { FocusScope } from '@react-aria/focus';\nimport { useOverlay } from '@react-aria/overlays';\nimport React, { memo, FormEvent, createRef, useState, ReactElement } from 'react';\n\nimport {\n  isDateTime,\n  rangeUtil,\n  GrafanaTheme,\n  dateTimeFormat,\n  timeZoneFormatUserFriendly,\n  TimeRange,\n  TimeZone,\n  dateMath,\n} from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { withTheme, useTheme } from '../../themes/ThemeContext';\nimport { stylesFactory } from '../../themes/stylesFactory';\nimport { Themeable } from '../../types';\nimport { ButtonGroup } from '../Button';\nimport { ToolbarButton } from '../ToolbarButton';\nimport { Tooltip } from '../Tooltip/Tooltip';\n\nimport { TimePickerContent } from './TimeRangePicker/TimePickerContent';\nimport { quickOptions } from './options';\n\n/** @public */\nexport interface TimeRangePickerProps extends Themeable {\n  hideText?: boolean;\n  value: TimeRange;\n  timeZone?: TimeZone;\n  fiscalYearStartMonth?: number;\n  timeSyncButton?: JSX.Element;\n  isSynced?: boolean;\n  onChange: (timeRange: TimeRange) => void;\n  onChangeTimeZone: (timeZone: TimeZone) => void;\n  onChangeFiscalYearStartMonth?: (month: number) => void;\n  onMoveBackward: () => void;\n  onMoveForward: () => void;\n  onZoom: () => void;\n  history?: TimeRange[];\n  hideQuickRanges?: boolean;\n  widthOverride?: number;\n}\n\nexport interface State {\n  isOpen: boolean;\n}\n\nexport function UnthemedTimeRangePicker(props: TimeRangePickerProps): ReactElement {\n  const [isOpen, setOpen] = useState(false);\n\n  const {\n    value,\n    onMoveBackward,\n    onMoveForward,\n    onZoom,\n    timeZone,\n    fiscalYearStartMonth,\n    timeSyncButton,\n    isSynced,\n    theme,\n    history,\n    onChangeTimeZone,\n    onChangeFiscalYearStartMonth,\n    hideQuickRanges,\n    widthOverride,\n  } = props;\n\n  const onChange = (timeRange: TimeRange) => {\n    props.onChange(timeRange);\n    setOpen(false);\n  };\n\n  const onOpen = (event: FormEvent<HTMLButtonElement>) => {\n    event.stopPropagation();\n    event.preventDefault();\n    setOpen(!isOpen);\n  };\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  const ref = createRef<HTMLElement>();\n  const { overlayProps } = useOverlay({ onClose, isDismissable: true, isOpen }, ref);\n  const { dialogProps } = useDialog({}, ref);\n\n  const styles = getStyles(theme);\n  const hasAbsolute = isDateTime(value.raw.from) || isDateTime(value.raw.to);\n  const variant = isSynced ? 'active' : 'default';\n\n  return (\n    <ButtonGroup className={styles.container}>\n      {hasAbsolute && (\n        <ToolbarButton\n          aria-label=\"Move time range backwards\"\n          variant={variant}\n          onClick={onMoveBackward}\n          icon=\"angle-left\"\n          narrow\n        />\n      )}\n\n      <Tooltip content={<TimePickerTooltip timeRange={value} timeZone={timeZone} />} placement=\"bottom\" interactive>\n        <ToolbarButton\n          data-testid={selectors.components.TimePicker.openButton}\n          aria-label={`Time range picker with current time range ${formattedRange(value, timeZone)} selected`}\n          aria-controls=\"TimePickerContent\"\n          onClick={onOpen}\n          icon=\"clock-nine\"\n          isOpen={isOpen}\n          variant={variant}\n        >\n          <TimePickerButtonLabel {...props} />\n        </ToolbarButton>\n      </Tooltip>\n      {isOpen && (\n        <FocusScope contain autoFocus restoreFocus>\n          <section ref={ref} {...overlayProps} {...dialogProps}>\n            <TimePickerContent\n              timeZone={timeZone}\n              fiscalYearStartMonth={fiscalYearStartMonth}\n              value={value}\n              onChange={onChange}\n              quickOptions={quickOptions}\n              history={history}\n              showHistory\n              widthOverride={widthOverride}\n              onChangeTimeZone={onChangeTimeZone}\n              onChangeFiscalYearStartMonth={onChangeFiscalYearStartMonth}\n              hideQuickRanges={hideQuickRanges}\n            />\n          </section>\n        </FocusScope>\n      )}\n\n      {timeSyncButton}\n\n      {hasAbsolute && (\n        <ToolbarButton\n          aria-label=\"Move time range forwards\"\n          onClick={onMoveForward}\n          icon=\"angle-right\"\n          narrow\n          variant={variant}\n        />\n      )}\n\n      <Tooltip content={ZoomOutTooltip} placement=\"bottom\">\n        <ToolbarButton aria-label=\"Zoom out time range\" onClick={onZoom} icon=\"search-minus\" variant={variant} />\n      </Tooltip>\n    </ButtonGroup>\n  );\n}\n\nconst ZoomOutTooltip = () => (\n  <>\n    Time range zoom out <br /> CTRL+Z\n  </>\n);\n\nconst TimePickerTooltip = ({ timeRange, timeZone }: { timeRange: TimeRange; timeZone?: TimeZone }) => {\n  const theme = useTheme();\n  const styles = getLabelStyles(theme);\n\n  return (\n    <>\n      {dateTimeFormat(timeRange.from, { timeZone })}\n      <div className=\"text-center\">to</div>\n      {dateTimeFormat(timeRange.to, { timeZone })}\n      <div className=\"text-center\">\n        <span className={styles.utc}>{timeZoneFormatUserFriendly(timeZone)}</span>\n      </div>\n    </>\n  );\n};\n\ntype LabelProps = Pick<TimeRangePickerProps, 'hideText' | 'value' | 'timeZone'>;\n\nexport const TimePickerButtonLabel = memo<LabelProps>(({ hideText, value, timeZone }) => {\n  const theme = useTheme();\n  const styles = getLabelStyles(theme);\n\n  if (hideText) {\n    return null;\n  }\n\n  return (\n    <span className={styles.container}>\n      <span>{formattedRange(value, timeZone)}</span>\n      <span className={styles.utc}>{rangeUtil.describeTimeRangeAbbreviation(value, timeZone)}</span>\n    </span>\n  );\n});\n\nTimePickerButtonLabel.displayName = 'TimePickerButtonLabel';\n\nconst formattedRange = (value: TimeRange, timeZone?: TimeZone) => {\n  const adjustedTimeRange = {\n    to: dateMath.isMathString(value.raw.to) ? value.raw.to : value.to,\n    from: dateMath.isMathString(value.raw.from) ? value.raw.from : value.from,\n  };\n  return rangeUtil.describeTimeRange(adjustedTimeRange, timeZone);\n};\n\n/** @public */\nexport const TimeRangePicker = withTheme(UnthemedTimeRangePicker);\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  return {\n    container: css`\n      position: relative;\n      display: flex;\n      vertical-align: middle;\n    `,\n  };\n});\n\nconst getLabelStyles = stylesFactory((theme: GrafanaTheme) => {\n  return {\n    container: css`\n      display: flex;\n      align-items: center;\n      white-space: nowrap;\n    `,\n    utc: css`\n      color: ${theme.palette.orange};\n      font-size: ${theme.typography.size.sm};\n      padding-left: 6px;\n      line-height: 28px;\n      vertical-align: bottom;\n      font-weight: ${theme.typography.weight.semibold};\n    `,\n  };\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}