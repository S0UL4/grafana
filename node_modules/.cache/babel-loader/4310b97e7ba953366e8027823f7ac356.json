{"ast":null,"code":"var _p, _thead;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { dateTimeFormatTimeAgo } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { getLatestCompatibleVersion } from '../helpers';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const VersionList = ({\n  versions = [],\n  installedVersion\n}) => {\n  const styles = useStyles2(getStyles);\n  const latestCompatibleVersion = getLatestCompatibleVersion(versions);\n\n  if (versions.length === 0) {\n    return _p || (_p = /*#__PURE__*/_jsx(\"p\", {\n      children: \"No version history was found.\"\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(\"table\", {\n    className: styles.table,\n    children: [_thead || (_thead = /*#__PURE__*/_jsx(\"thead\", {\n      children: /*#__PURE__*/_jsxs(\"tr\", {\n        children: [/*#__PURE__*/_jsx(\"th\", {\n          children: \"Version\"\n        }), /*#__PURE__*/_jsx(\"th\", {\n          children: \"Last updated\"\n        })]\n      })\n    })), /*#__PURE__*/_jsx(\"tbody\", {\n      children: versions.map(version => {\n        const isInstalledVersion = installedVersion === version.version;\n        return /*#__PURE__*/_jsxs(\"tr\", {\n          children: [isInstalledVersion ? /*#__PURE__*/_jsxs(\"td\", {\n            className: styles.currentVersion,\n            children: [version.version, \" (installed version)\"]\n          }) : version.version === (latestCompatibleVersion === null || latestCompatibleVersion === void 0 ? void 0 : latestCompatibleVersion.version) ? /*#__PURE__*/_jsxs(\"td\", {\n            children: [version.version, \" (latest compatible version)\"]\n          }) : /*#__PURE__*/_jsx(\"td\", {\n            children: version.version\n          }), /*#__PURE__*/_jsx(\"td\", {\n            className: isInstalledVersion ? styles.currentVersion : '',\n            children: dateTimeFormatTimeAgo(version.createdAt)\n          })]\n        }, version.version);\n      })\n    })]\n  });\n};\n\nconst getStyles = theme => ({\n  container: css`\n    padding: ${theme.spacing(2, 4, 3)};\n  `,\n  table: css`\n    table-layout: fixed;\n    width: 100%;\n    td,\n    th {\n      padding: ${theme.spacing()} 0;\n    }\n    th {\n      font-size: ${theme.typography.h5.fontSize};\n    }\n  `,\n  currentVersion: css`\n    font-weight: ${theme.typography.fontWeightBold};\n  `\n});","map":{"version":3,"names":["css","React","dateTimeFormatTimeAgo","useStyles2","getLatestCompatibleVersion","VersionList","versions","installedVersion","styles","getStyles","latestCompatibleVersion","length","table","map","version","isInstalledVersion","currentVersion","createdAt","theme","container","spacing","typography","h5","fontSize","fontWeightBold"],"sources":["/home/soula/grafana/public/app/features/plugins/admin/components/VersionList.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { dateTimeFormatTimeAgo, GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { getLatestCompatibleVersion } from '../helpers';\nimport { Version } from '../types';\n\ninterface Props {\n  versions?: Version[];\n  installedVersion?: string;\n}\n\nexport const VersionList = ({ versions = [], installedVersion }: Props) => {\n  const styles = useStyles2(getStyles);\n  const latestCompatibleVersion = getLatestCompatibleVersion(versions);\n\n  if (versions.length === 0) {\n    return <p>No version history was found.</p>;\n  }\n\n  return (\n    <table className={styles.table}>\n      <thead>\n        <tr>\n          <th>Version</th>\n          <th>Last updated</th>\n        </tr>\n      </thead>\n      <tbody>\n        {versions.map((version) => {\n          const isInstalledVersion = installedVersion === version.version;\n          return (\n            <tr key={version.version}>\n              {/* Version number */}\n              {isInstalledVersion ? (\n                <td className={styles.currentVersion}>{version.version} (installed version)</td>\n              ) : version.version === latestCompatibleVersion?.version ? (\n                <td>{version.version} (latest compatible version)</td>\n              ) : (\n                <td>{version.version}</td>\n              )}\n\n              {/* Last updated */}\n              <td className={isInstalledVersion ? styles.currentVersion : ''}>\n                {dateTimeFormatTimeAgo(version.createdAt)}\n              </td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  container: css`\n    padding: ${theme.spacing(2, 4, 3)};\n  `,\n  table: css`\n    table-layout: fixed;\n    width: 100%;\n    td,\n    th {\n      padding: ${theme.spacing()} 0;\n    }\n    th {\n      font-size: ${theme.typography.h5.fontSize};\n    }\n  `,\n  currentVersion: css`\n    font-weight: ${theme.typography.fontWeightBold};\n  `,\n});\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,qBAAT,QAAqD,eAArD;AACA,SAASC,UAAT,QAA2B,aAA3B;AAEA,SAASC,0BAAT,QAA2C,YAA3C;;;AAQA,OAAO,MAAMC,WAAW,GAAG,CAAC;EAAEC,QAAQ,GAAG,EAAb;EAAiBC;AAAjB,CAAD,KAAgD;EACzE,MAAMC,MAAM,GAAGL,UAAU,CAACM,SAAD,CAAzB;EACA,MAAMC,uBAAuB,GAAGN,0BAA0B,CAACE,QAAD,CAA1D;;EAEA,IAAIA,QAAQ,CAACK,MAAT,KAAoB,CAAxB,EAA2B;IACzB,gCAAO;MAAA;IAAA,EAAP;EACD;;EAED,oBACE;IAAO,SAAS,EAAEH,MAAM,CAACI,KAAzB;IAAA,4CACE;MAAA,uBACE;QAAA,wBACE;UAAA;QAAA,EADF,eAEE;UAAA;QAAA,EAFF;MAAA;IADF,EADF,gBAOE;MAAA,UACGN,QAAQ,CAACO,GAAT,CAAcC,OAAD,IAAa;QACzB,MAAMC,kBAAkB,GAAGR,gBAAgB,KAAKO,OAAO,CAACA,OAAxD;QACA,oBACE;UAAA,WAEGC,kBAAkB,gBACjB;YAAI,SAAS,EAAEP,MAAM,CAACQ,cAAtB;YAAA,WAAuCF,OAAO,CAACA,OAA/C;UAAA,EADiB,GAEfA,OAAO,CAACA,OAAR,MAAoBJ,uBAApB,aAAoBA,uBAApB,uBAAoBA,uBAAuB,CAAEI,OAA7C,iBACF;YAAA,WAAKA,OAAO,CAACA,OAAb;UAAA,EADE,gBAGF;YAAA,UAAKA,OAAO,CAACA;UAAb,EAPJ,eAWE;YAAI,SAAS,EAAEC,kBAAkB,GAAGP,MAAM,CAACQ,cAAV,GAA2B,EAA5D;YAAA,UACGd,qBAAqB,CAACY,OAAO,CAACG,SAAT;UADxB,EAXF;QAAA,GAASH,OAAO,CAACA,OAAjB,CADF;MAiBD,CAnBA;IADH,EAPF;EAAA,EADF;AAgCD,CAxCM;;AA0CP,MAAML,SAAS,GAAIS,KAAD,KAA2B;EAC3CC,SAAS,EAAEnB,GAAI;AACjB,eAAekB,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,CAAuB;AACtC,GAH6C;EAI3CR,KAAK,EAAEZ,GAAI;AACb;AACA;AACA;AACA;AACA,iBAAiBkB,KAAK,CAACE,OAAN,EAAgB;AACjC;AACA;AACA,mBAAmBF,KAAK,CAACG,UAAN,CAAiBC,EAAjB,CAAoBC,QAAS;AAChD;AACA,GAd6C;EAe3CP,cAAc,EAAEhB,GAAI;AACtB,mBAAmBkB,KAAK,CAACG,UAAN,CAAiBG,cAAe;AACnD;AAjB6C,CAA3B,CAAlB"},"metadata":{},"sourceType":"module"}