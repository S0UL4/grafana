{"ast":null,"code":"var _thead, _Tag;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { Checkbox, Button, Tag, ModalsController } from '@grafana/ui';\nimport { RevertDashboardModal } from './RevertDashboardModal';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const VersionHistoryTable = ({\n  versions,\n  canCompare,\n  onCheck\n}) => /*#__PURE__*/_jsxs(\"table\", {\n  className: \"filter-table gf-form-group\",\n  children: [_thead || (_thead = /*#__PURE__*/_jsx(\"thead\", {\n    children: /*#__PURE__*/_jsxs(\"tr\", {\n      children: [/*#__PURE__*/_jsx(\"th\", {\n        className: \"width-4\"\n      }), /*#__PURE__*/_jsx(\"th\", {\n        className: \"width-4\",\n        children: \"Version\"\n      }), /*#__PURE__*/_jsx(\"th\", {\n        className: \"width-14\",\n        children: \"Date\"\n      }), /*#__PURE__*/_jsx(\"th\", {\n        className: \"width-10\",\n        children: \"Updated by\"\n      }), /*#__PURE__*/_jsx(\"th\", {\n        children: \"Notes\"\n      }), /*#__PURE__*/_jsx(\"th\", {})]\n    })\n  })), /*#__PURE__*/_jsx(\"tbody\", {\n    children: versions.map((version, idx) => /*#__PURE__*/_jsxs(\"tr\", {\n      children: [/*#__PURE__*/_jsx(\"td\", {\n        children: /*#__PURE__*/_jsx(Checkbox, {\n          \"aria-label\": `Toggle selection of version ${version.version}`,\n          className: css`\n                display: inline;\n              `,\n          checked: version.checked,\n          onChange: ev => onCheck(ev, version.id),\n          disabled: !version.checked && canCompare\n        })\n      }), /*#__PURE__*/_jsx(\"td\", {\n        children: version.version\n      }), /*#__PURE__*/_jsx(\"td\", {\n        children: version.createdDateString\n      }), /*#__PURE__*/_jsx(\"td\", {\n        children: version.createdBy\n      }), /*#__PURE__*/_jsx(\"td\", {\n        children: version.message\n      }), /*#__PURE__*/_jsx(\"td\", {\n        className: \"text-right\",\n        children: idx === 0 ? _Tag || (_Tag = /*#__PURE__*/_jsx(Tag, {\n          name: \"Latest\",\n          colorIndex: 17\n        })) : /*#__PURE__*/_jsx(ModalsController, {\n          children: ({\n            showModal,\n            hideModal\n          }) => /*#__PURE__*/_jsx(Button, {\n            variant: \"secondary\",\n            size: \"sm\",\n            icon: \"history\",\n            onClick: () => {\n              showModal(RevertDashboardModal, {\n                version: version.version,\n                hideModal\n              });\n            },\n            children: \"Restore\"\n          })\n        })\n      })]\n    }, version.id))\n  })]\n});","map":{"version":3,"names":["css","React","Checkbox","Button","Tag","ModalsController","RevertDashboardModal","VersionHistoryTable","versions","canCompare","onCheck","map","version","idx","checked","ev","id","createdDateString","createdBy","message","showModal","hideModal"],"sources":["/home/soula/grafana/public/app/features/dashboard/components/VersionHistory/VersionHistoryTable.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { Checkbox, Button, Tag, ModalsController } from '@grafana/ui';\n\nimport { DecoratedRevisionModel } from '../DashboardSettings/VersionsSettings';\n\nimport { RevertDashboardModal } from './RevertDashboardModal';\n\ntype VersionsTableProps = {\n  versions: DecoratedRevisionModel[];\n  canCompare: boolean;\n  onCheck: (ev: React.FormEvent<HTMLInputElement>, versionId: number) => void;\n};\n\nexport const VersionHistoryTable = ({ versions, canCompare, onCheck }: VersionsTableProps) => (\n  <table className=\"filter-table gf-form-group\">\n    <thead>\n      <tr>\n        <th className=\"width-4\"></th>\n        <th className=\"width-4\">Version</th>\n        <th className=\"width-14\">Date</th>\n        <th className=\"width-10\">Updated by</th>\n        <th>Notes</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      {versions.map((version, idx) => (\n        <tr key={version.id}>\n          <td>\n            <Checkbox\n              aria-label={`Toggle selection of version ${version.version}`}\n              className={css`\n                display: inline;\n              `}\n              checked={version.checked}\n              onChange={(ev) => onCheck(ev, version.id)}\n              disabled={!version.checked && canCompare}\n            />\n          </td>\n          <td>{version.version}</td>\n          <td>{version.createdDateString}</td>\n          <td>{version.createdBy}</td>\n          <td>{version.message}</td>\n          <td className=\"text-right\">\n            {idx === 0 ? (\n              <Tag name=\"Latest\" colorIndex={17} />\n            ) : (\n              <ModalsController>\n                {({ showModal, hideModal }) => (\n                  <Button\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    icon=\"history\"\n                    onClick={() => {\n                      showModal(RevertDashboardModal, {\n                        version: version.version,\n                        hideModal,\n                      });\n                    }}\n                  >\n                    Restore\n                  </Button>\n                )}\n              </ModalsController>\n            )}\n          </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,GAA3B,EAAgCC,gBAAhC,QAAwD,aAAxD;AAIA,SAASC,oBAAT,QAAqC,wBAArC;;;AAQA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;EAAEC,QAAF;EAAYC,UAAZ;EAAwBC;AAAxB,CAAD,kBACjC;EAAO,SAAS,EAAC,4BAAjB;EAAA,4CACE;IAAA,uBACE;MAAA,wBACE;QAAI,SAAS,EAAC;MAAd,EADF,eAEE;QAAI,SAAS,EAAC,SAAd;QAAA;MAAA,EAFF,eAGE;QAAI,SAAS,EAAC,UAAd;QAAA;MAAA,EAHF,eAIE;QAAI,SAAS,EAAC,UAAd;QAAA;MAAA,EAJF,eAKE;QAAA;MAAA,EALF,eAME,cANF;IAAA;EADF,EADF,gBAWE;IAAA,UACGF,QAAQ,CAACG,GAAT,CAAa,CAACC,OAAD,EAAUC,GAAV,kBACZ;MAAA,wBACE;QAAA,uBACE,KAAC,QAAD;UACE,cAAa,+BAA8BD,OAAO,CAACA,OAAQ,EAD7D;UAEE,SAAS,EAAEZ,GAAI;AAC7B;AACA,eAJY;UAKE,OAAO,EAAEY,OAAO,CAACE,OALnB;UAME,QAAQ,EAAGC,EAAD,IAAQL,OAAO,CAACK,EAAD,EAAKH,OAAO,CAACI,EAAb,CAN3B;UAOE,QAAQ,EAAE,CAACJ,OAAO,CAACE,OAAT,IAAoBL;QAPhC;MADF,EADF,eAYE;QAAA,UAAKG,OAAO,CAACA;MAAb,EAZF,eAaE;QAAA,UAAKA,OAAO,CAACK;MAAb,EAbF,eAcE;QAAA,UAAKL,OAAO,CAACM;MAAb,EAdF,eAeE;QAAA,UAAKN,OAAO,CAACO;MAAb,EAfF,eAgBE;QAAI,SAAS,EAAC,YAAd;QAAA,UACGN,GAAG,KAAK,CAAR,gCACC,KAAC,GAAD;UAAK,IAAI,EAAC,QAAV;UAAmB,UAAU,EAAE;QAA/B,EADD,iBAGC,KAAC,gBAAD;UAAA,UACG,CAAC;YAAEO,SAAF;YAAaC;UAAb,CAAD,kBACC,KAAC,MAAD;YACE,OAAO,EAAC,WADV;YAEE,IAAI,EAAC,IAFP;YAGE,IAAI,EAAC,SAHP;YAIE,OAAO,EAAE,MAAM;cACbD,SAAS,CAACd,oBAAD,EAAuB;gBAC9BM,OAAO,EAAEA,OAAO,CAACA,OADa;gBAE9BS;cAF8B,CAAvB,CAAT;YAID,CATH;YAAA;UAAA;QAFJ;MAJJ,EAhBF;IAAA,GAAST,OAAO,CAACI,EAAjB,CADD;EADH,EAXF;AAAA,EADK"},"metadata":{},"sourceType":"module"}