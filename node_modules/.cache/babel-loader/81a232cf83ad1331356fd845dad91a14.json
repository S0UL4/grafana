{"ast":null,"code":"import { useEffect } from 'react';\nimport { useAsyncFn } from 'react-use';\nimport { locationService } from '@grafana/runtime';\nimport { useAppNotification } from 'app/core/copy/appNotification';\nimport { deleteDashboard } from 'app/features/manage-dashboards/state/actions';\nexport const useDashboardDelete = (uid, cleanUpDashboardAndVariables) => {\n  const [state, onDeleteDashboard] = useAsyncFn(() => deleteDashboard(uid, false), []);\n  const notifyApp = useAppNotification();\n  useEffect(() => {\n    if (state.value) {\n      cleanUpDashboardAndVariables();\n      locationService.replace('/');\n      notifyApp.success('Dashboard Deleted', `${state.value.title} has been deleted`);\n    }\n  }, [state, notifyApp, cleanUpDashboardAndVariables]);\n  return {\n    state,\n    onDeleteDashboard\n  };\n};","map":{"version":3,"names":["useEffect","useAsyncFn","locationService","useAppNotification","deleteDashboard","useDashboardDelete","uid","cleanUpDashboardAndVariables","state","onDeleteDashboard","notifyApp","value","replace","success","title"],"sources":["/home/soula/grafana/public/app/features/dashboard/components/DeleteDashboard/useDashboardDelete.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useAsyncFn } from 'react-use';\n\nimport { locationService } from '@grafana/runtime';\nimport { useAppNotification } from 'app/core/copy/appNotification';\nimport { deleteDashboard } from 'app/features/manage-dashboards/state/actions';\n\nexport const useDashboardDelete = (uid: string, cleanUpDashboardAndVariables: () => void) => {\n  const [state, onDeleteDashboard] = useAsyncFn(() => deleteDashboard(uid, false), []);\n  const notifyApp = useAppNotification();\n\n  useEffect(() => {\n    if (state.value) {\n      cleanUpDashboardAndVariables();\n      locationService.replace('/');\n      notifyApp.success('Dashboard Deleted', `${state.value.title} has been deleted`);\n    }\n  }, [state, notifyApp, cleanUpDashboardAndVariables]);\n\n  return { state, onDeleteDashboard };\n};\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,WAA3B;AAEA,SAASC,eAAT,QAAgC,kBAAhC;AACA,SAASC,kBAAT,QAAmC,+BAAnC;AACA,SAASC,eAAT,QAAgC,8CAAhC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,CAACC,GAAD,EAAcC,4BAAd,KAA2D;EAC3F,MAAM,CAACC,KAAD,EAAQC,iBAAR,IAA6BR,UAAU,CAAC,MAAMG,eAAe,CAACE,GAAD,EAAM,KAAN,CAAtB,EAAoC,EAApC,CAA7C;EACA,MAAMI,SAAS,GAAGP,kBAAkB,EAApC;EAEAH,SAAS,CAAC,MAAM;IACd,IAAIQ,KAAK,CAACG,KAAV,EAAiB;MACfJ,4BAA4B;MAC5BL,eAAe,CAACU,OAAhB,CAAwB,GAAxB;MACAF,SAAS,CAACG,OAAV,CAAkB,mBAAlB,EAAwC,GAAEL,KAAK,CAACG,KAAN,CAAYG,KAAM,mBAA5D;IACD;EACF,CANQ,EAMN,CAACN,KAAD,EAAQE,SAAR,EAAmBH,4BAAnB,CANM,CAAT;EAQA,OAAO;IAAEC,KAAF;IAASC;EAAT,CAAP;AACD,CAbM"},"metadata":{},"sourceType":"module"}