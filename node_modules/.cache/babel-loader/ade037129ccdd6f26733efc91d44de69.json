{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { ConfirmModal } from '@grafana/ui';\nimport { useDashboardRestore } from './useDashboardRestore';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const RevertDashboardModal = ({\n  hideModal,\n  version\n}) => {\n  // TODO: how should state.error be handled?\n  const {\n    state,\n    onRestoreDashboard\n  } = useDashboardRestore(version);\n  useEffect(() => {\n    if (state.loading === false && state.value) {\n      hideModal();\n    }\n  }, [state, hideModal]);\n  return /*#__PURE__*/_jsx(ConfirmModal, {\n    isOpen: true,\n    title: \"Restore Version\",\n    icon: \"history\",\n    onDismiss: hideModal,\n    onConfirm: onRestoreDashboard,\n    body: /*#__PURE__*/_jsxs(\"p\", {\n      children: [\"Are you sure you want to restore the dashboard to version \", version, \"? All unsaved changes will be lost.\"]\n    }),\n    confirmText: `Yes, restore to version ${version}`\n  });\n};","map":{"version":3,"names":["React","useEffect","ConfirmModal","useDashboardRestore","RevertDashboardModal","hideModal","version","state","onRestoreDashboard","loading","value"],"sources":["/home/soula/grafana/public/app/features/dashboard/components/VersionHistory/RevertDashboardModal.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport { ConfirmModal } from '@grafana/ui';\n\nimport { useDashboardRestore } from './useDashboardRestore';\nexport interface RevertDashboardModalProps {\n  hideModal: () => void;\n  version: number;\n}\n\nexport const RevertDashboardModal: React.FC<RevertDashboardModalProps> = ({ hideModal, version }) => {\n  // TODO: how should state.error be handled?\n  const { state, onRestoreDashboard } = useDashboardRestore(version);\n\n  useEffect(() => {\n    if (state.loading === false && state.value) {\n      hideModal();\n    }\n  }, [state, hideModal]);\n\n  return (\n    <ConfirmModal\n      isOpen={true}\n      title=\"Restore Version\"\n      icon=\"history\"\n      onDismiss={hideModal}\n      onConfirm={onRestoreDashboard}\n      body={\n        <p>Are you sure you want to restore the dashboard to version {version}? All unsaved changes will be lost.</p>\n      }\n      confirmText={`Yes, restore to version ${version}`}\n    />\n  );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,YAAT,QAA6B,aAA7B;AAEA,SAASC,mBAAT,QAAoC,uBAApC;;;AAMA,OAAO,MAAMC,oBAAyD,GAAG,CAAC;EAAEC,SAAF;EAAaC;AAAb,CAAD,KAA4B;EACnG;EACA,MAAM;IAAEC,KAAF;IAASC;EAAT,IAAgCL,mBAAmB,CAACG,OAAD,CAAzD;EAEAL,SAAS,CAAC,MAAM;IACd,IAAIM,KAAK,CAACE,OAAN,KAAkB,KAAlB,IAA2BF,KAAK,CAACG,KAArC,EAA4C;MAC1CL,SAAS;IACV;EACF,CAJQ,EAIN,CAACE,KAAD,EAAQF,SAAR,CAJM,CAAT;EAMA,oBACE,KAAC,YAAD;IACE,MAAM,EAAE,IADV;IAEE,KAAK,EAAC,iBAFR;IAGE,IAAI,EAAC,SAHP;IAIE,SAAS,EAAEA,SAJb;IAKE,SAAS,EAAEG,kBALb;IAME,IAAI,eACF;MAAA,yEAA8DF,OAA9D;IAAA,EAPJ;IASE,WAAW,EAAG,2BAA0BA,OAAQ;EATlD,EADF;AAaD,CAvBM"},"metadata":{},"sourceType":"module"}