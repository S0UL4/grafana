{"ast":null,"code":"/**\n * Describes config override rules created when interacting with Grafana.\n *\n * @internal\n */\n\n/**\n * Guard functionality to check if an override rule is of type {@link SystemConfigOverrideRule}.\n * It will only return true if the {@link SystemConfigOverrideRule} has the passed systemRef.\n *\n * @param ref system override reference\n * @internal\n */\nexport function isSystemOverrideWithRef(ref) {\n  return override => {\n    const overrideAs = override;\n    return overrideAs.__systemRef === ref;\n  };\n}\n/**\n * Guard functionality to check if an override rule is of type {@link SystemConfigOverrideRule}.\n * It will return true if the {@link SystemConfigOverrideRule} has any systemRef set.\n *\n * @internal\n */\n\nexport const isSystemOverride = override => {\n  return typeof (override === null || override === void 0 ? void 0 : override.__systemRef) === 'string';\n};\nexport let FieldConfigProperty;\n\n(function (FieldConfigProperty) {\n  FieldConfigProperty[\"Unit\"] = \"unit\";\n  FieldConfigProperty[\"Min\"] = \"min\";\n  FieldConfigProperty[\"Max\"] = \"max\";\n  FieldConfigProperty[\"Decimals\"] = \"decimals\";\n  FieldConfigProperty[\"DisplayName\"] = \"displayName\";\n  FieldConfigProperty[\"NoValue\"] = \"noValue\";\n  FieldConfigProperty[\"Thresholds\"] = \"thresholds\";\n  FieldConfigProperty[\"Mappings\"] = \"mappings\";\n  FieldConfigProperty[\"Links\"] = \"links\";\n  FieldConfigProperty[\"Color\"] = \"color\";\n})(FieldConfigProperty || (FieldConfigProperty = {}));","map":{"version":3,"names":["isSystemOverrideWithRef","ref","override","overrideAs","__systemRef","isSystemOverride","FieldConfigProperty"],"sources":["/home/soula/grafana/packages/grafana-data/src/types/fieldOverrides.ts"],"sourcesContent":["import { ComponentType } from 'react';\n\nimport { StandardEditorProps, FieldConfigOptionsRegistry, StandardEditorContext } from '../field';\nimport { GrafanaTheme2 } from '../themes';\nimport { MatcherConfig, FieldConfig, Field, DataFrame, TimeZone } from '../types';\n\nimport { OptionsEditorItem } from './OptionsUIRegistryBuilder';\nimport { OptionEditorConfig } from './options';\nimport { InterpolateFunction } from './panel';\n\nexport interface DynamicConfigValue {\n  id: string;\n  value?: any;\n}\n\nexport interface ConfigOverrideRule {\n  matcher: MatcherConfig;\n  properties: DynamicConfigValue[];\n}\n\n/**\n * Describes config override rules created when interacting with Grafana.\n *\n * @internal\n */\nexport interface SystemConfigOverrideRule extends ConfigOverrideRule {\n  __systemRef: string;\n}\n\n/**\n * Guard functionality to check if an override rule is of type {@link SystemConfigOverrideRule}.\n * It will only return true if the {@link SystemConfigOverrideRule} has the passed systemRef.\n *\n * @param ref system override reference\n * @internal\n */\nexport function isSystemOverrideWithRef<T extends SystemConfigOverrideRule>(ref: string) {\n  return (override: ConfigOverrideRule): override is T => {\n    const overrideAs = override as T;\n    return overrideAs.__systemRef === ref;\n  };\n}\n\n/**\n * Guard functionality to check if an override rule is of type {@link SystemConfigOverrideRule}.\n * It will return true if the {@link SystemConfigOverrideRule} has any systemRef set.\n *\n * @internal\n */\nexport const isSystemOverride = (override: ConfigOverrideRule): override is SystemConfigOverrideRule => {\n  return typeof (override as SystemConfigOverrideRule)?.__systemRef === 'string';\n};\n\nexport interface FieldConfigSource<TOptions = any> {\n  // Defaults applied to all numeric fields\n  defaults: FieldConfig<TOptions>;\n\n  // Rules to override individual values\n  overrides: ConfigOverrideRule[];\n}\n\nexport interface FieldOverrideContext extends StandardEditorContext<any, any> {\n  field?: Field;\n  dataFrameIndex?: number; // The index for the selected field frame\n}\nexport interface FieldConfigEditorProps<TValue, TSettings>\n  extends Omit<StandardEditorProps<TValue, TSettings>, 'item'> {\n  item: FieldConfigPropertyItem<any, TValue, TSettings>; // The property info\n  value: TValue;\n  context: FieldOverrideContext;\n  onChange: (value?: TValue) => void;\n}\n\nexport interface FieldOverrideEditorProps<TValue, TSettings> extends Omit<StandardEditorProps<TValue>, 'item'> {\n  item: FieldConfigPropertyItem<TValue, TSettings>;\n  context: FieldOverrideContext;\n}\n\nexport interface FieldConfigEditorConfig<TOptions, TSettings = any, TValue = any>\n  extends OptionEditorConfig<TOptions, TSettings, TValue> {\n  /**\n   * Function that allows specifying whether or not this field config should apply to a given field.\n   * @param field\n   */\n  shouldApply?: (field: Field) => boolean;\n\n  /** Indicates that option shoukd not be available in the Field config tab */\n  hideFromDefaults?: boolean;\n\n  /** Indicates that option should not be available for the overrides */\n  hideFromOverrides?: boolean;\n}\n\nexport interface FieldConfigPropertyItem<TOptions = any, TValue = any, TSettings extends {} = any>\n  extends OptionsEditorItem<TOptions, TSettings, FieldConfigEditorProps<TValue, TSettings>, TValue> {\n  // An editor that can be filled in with context info (template variables etc)\n  override: ComponentType<FieldOverrideEditorProps<TValue, TSettings>>;\n\n  /** true for plugin field config properties */\n  isCustom?: boolean;\n\n  /** Hides option from the Field config tab */\n  hideFromDefaults?: boolean;\n\n  /** Indicates that option should not be available for the overrides */\n  hideFromOverrides?: boolean;\n\n  /** Convert the override value to a well typed value */\n  process: (value: any, context: FieldOverrideContext, settings?: TSettings) => TValue | undefined | null;\n\n  /** Checks if field should be processed */\n  shouldApply: (field: Field) => boolean;\n}\n\nexport interface ApplyFieldOverrideOptions {\n  data?: DataFrame[];\n  fieldConfig: FieldConfigSource;\n  fieldConfigRegistry?: FieldConfigOptionsRegistry;\n  replaceVariables: InterpolateFunction;\n  theme: GrafanaTheme2;\n  timeZone?: TimeZone;\n}\n\nexport enum FieldConfigProperty {\n  Unit = 'unit',\n  Min = 'min',\n  Max = 'max',\n  Decimals = 'decimals',\n  DisplayName = 'displayName',\n  NoValue = 'noValue',\n  Thresholds = 'thresholds',\n  Mappings = 'mappings',\n  Links = 'links',\n  Color = 'color',\n}\n"],"mappings":"AAoBA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,uBAAT,CAAqEC,GAArE,EAAkF;EACvF,OAAQC,QAAD,IAAiD;IACtD,MAAMC,UAAU,GAAGD,QAAnB;IACA,OAAOC,UAAU,CAACC,WAAX,KAA2BH,GAAlC;EACD,CAHD;AAID;AAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMI,gBAAgB,GAAIH,QAAD,IAAwE;EACtG,OAAO,QAAQA,QAAR,aAAQA,QAAR,uBAAQA,QAAD,CAAwCE,WAA/C,MAA+D,QAAtE;AACD,CAFM;AA0EP,WAAYE,mBAAZ;;WAAYA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;EAAAA,mB;GAAAA,mB,KAAAA,mB"},"metadata":{},"sourceType":"module"}