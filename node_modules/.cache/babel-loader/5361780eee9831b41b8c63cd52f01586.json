{"ast":null,"code":"import { config, reportInteraction } from '@grafana/runtime';\nimport { SearchLayout } from '../types';\nexport const reportDashboardListViewed = (dashboardListType, query) => {\n  var _query$starred, _query$sortValue, _query$tagCount, _query$query$length, _query$query;\n\n  const showPreviews = query.layout === SearchLayout.Grid;\n  const previewsEnabled = Boolean(config.featureToggles.panelTitleSearch);\n  const previews = previewsEnabled ? showPreviews ? 'on' : 'off' : 'feature_disabled';\n  reportInteraction(`${dashboardListType}_viewed`, {\n    previews,\n    layout: query.layout,\n    starredFilter: (_query$starred = query.starred) !== null && _query$starred !== void 0 ? _query$starred : false,\n    sort: (_query$sortValue = query.sortValue) !== null && _query$sortValue !== void 0 ? _query$sortValue : '',\n    tagCount: (_query$tagCount = query.tagCount) !== null && _query$tagCount !== void 0 ? _query$tagCount : 0,\n    queryLength: (_query$query$length = (_query$query = query.query) === null || _query$query === void 0 ? void 0 : _query$query.length) !== null && _query$query$length !== void 0 ? _query$query$length : 0\n  });\n};","map":{"version":3,"names":["config","reportInteraction","SearchLayout","reportDashboardListViewed","dashboardListType","query","showPreviews","layout","Grid","previewsEnabled","Boolean","featureToggles","panelTitleSearch","previews","starredFilter","starred","sort","sortValue","tagCount","queryLength","length"],"sources":["/home/soula/grafana/public/app/features/search/page/reporting.ts"],"sourcesContent":["import { config, reportInteraction } from '@grafana/runtime';\n\nimport { SearchLayout } from '../types';\n\nexport const reportDashboardListViewed = (\n  dashboardListType: 'manage_dashboards' | 'dashboard_search',\n  query: {\n    layout?: SearchLayout;\n    starred?: boolean;\n    sortValue?: string;\n    query?: string;\n    tagCount?: number;\n  }\n) => {\n  const showPreviews = query.layout === SearchLayout.Grid;\n  const previewsEnabled = Boolean(config.featureToggles.panelTitleSearch);\n  const previews = previewsEnabled ? (showPreviews ? 'on' : 'off') : 'feature_disabled';\n  reportInteraction(`${dashboardListType}_viewed`, {\n    previews,\n    layout: query.layout,\n    starredFilter: query.starred ?? false,\n    sort: query.sortValue ?? '',\n    tagCount: query.tagCount ?? 0,\n    queryLength: query.query?.length ?? 0,\n  });\n};\n"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,iBAAjB,QAA0C,kBAA1C;AAEA,SAASC,YAAT,QAA6B,UAA7B;AAEA,OAAO,MAAMC,yBAAyB,GAAG,CACvCC,iBADuC,EAEvCC,KAFuC,KASpC;EAAA;;EACH,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAAN,KAAiBL,YAAY,CAACM,IAAnD;EACA,MAAMC,eAAe,GAAGC,OAAO,CAACV,MAAM,CAACW,cAAP,CAAsBC,gBAAvB,CAA/B;EACA,MAAMC,QAAQ,GAAGJ,eAAe,GAAIH,YAAY,GAAG,IAAH,GAAU,KAA1B,GAAmC,kBAAnE;EACAL,iBAAiB,CAAE,GAAEG,iBAAkB,SAAtB,EAAgC;IAC/CS,QAD+C;IAE/CN,MAAM,EAAEF,KAAK,CAACE,MAFiC;IAG/CO,aAAa,oBAAET,KAAK,CAACU,OAAR,2DAAmB,KAHe;IAI/CC,IAAI,sBAAEX,KAAK,CAACY,SAAR,+DAAqB,EAJsB;IAK/CC,QAAQ,qBAAEb,KAAK,CAACa,QAAR,6DAAoB,CALmB;IAM/CC,WAAW,yCAAEd,KAAK,CAACA,KAAR,iDAAE,aAAae,MAAf,qEAAyB;EANW,CAAhC,CAAjB;AAQD,CArBM"},"metadata":{},"sourceType":"module"}