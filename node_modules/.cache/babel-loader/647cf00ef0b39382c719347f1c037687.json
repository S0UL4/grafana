{"ast":null,"code":"var _span;\n\nimport React, { Suspense } from 'react';\nimport { Icon, Tooltip } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst FunctionDescription = /*#__PURE__*/React.lazy(async () => {\n  // @ts-ignore\n  const {\n    default: rst2html\n  } = await import(\n  /* webpackChunkName: \"rst2html\" */\n  'rst2html');\n  return {\n    default(props) {\n      var _props$description;\n\n      return /*#__PURE__*/_jsx(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: rst2html((_props$description = props.description) !== null && _props$description !== void 0 ? _props$description : '')\n        }\n      });\n    }\n\n  };\n});\n\nconst FunctionHelpButton = props => {\n  if (props.description) {\n    let tooltip = /*#__PURE__*/_jsx(Suspense, {\n      fallback: _span || (_span = /*#__PURE__*/_jsx(\"span\", {\n        children: \"Loading description...\"\n      })),\n      children: /*#__PURE__*/_jsx(FunctionDescription, {\n        description: props.description\n      })\n    });\n\n    return /*#__PURE__*/_jsx(Tooltip, {\n      content: tooltip,\n      placement: 'bottom-end',\n      children: /*#__PURE__*/_jsx(Icon, {\n        className: props.description ? undefined : 'pointer',\n        name: \"question-circle\"\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(Icon, {\n    className: \"pointer\",\n    name: \"question-circle\",\n    onClick: () => {\n      window.open('http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions.' + props.name, '_blank');\n    }\n  });\n};\n\nexport const FunctionEditorControls = props => {\n  const {\n    func,\n    onMoveLeft,\n    onMoveRight,\n    onRemove\n  } = props;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    style: {\n      display: 'flex',\n      width: '60px',\n      justifyContent: 'space-between'\n    },\n    children: [/*#__PURE__*/_jsx(Icon, {\n      name: \"arrow-left\",\n      onClick: () => onMoveLeft(func)\n    }), /*#__PURE__*/_jsx(FunctionHelpButton, {\n      name: func.def.name,\n      description: func.def.description\n    }), /*#__PURE__*/_jsx(Icon, {\n      name: \"times\",\n      onClick: () => onRemove(func)\n    }), /*#__PURE__*/_jsx(Icon, {\n      name: \"arrow-right\",\n      onClick: () => onMoveRight(func)\n    })]\n  });\n};","map":{"version":3,"names":["React","Suspense","Icon","Tooltip","FunctionDescription","lazy","default","rst2html","props","__html","description","FunctionHelpButton","tooltip","undefined","window","open","name","FunctionEditorControls","func","onMoveLeft","onMoveRight","onRemove","display","width","justifyContent","def"],"sources":["/home/soula/grafana/public/app/plugins/datasource/graphite/components/FunctionEditorControls.tsx"],"sourcesContent":["import React, { Suspense } from 'react';\n\nimport { Icon, Tooltip } from '@grafana/ui';\n\nimport { FuncInstance } from '../gfunc';\n\nexport interface FunctionEditorControlsProps {\n  onMoveLeft: (func: FuncInstance) => void;\n  onMoveRight: (func: FuncInstance) => void;\n  onRemove: (func: FuncInstance) => void;\n}\n\nconst FunctionDescription = React.lazy(async () => {\n  // @ts-ignore\n  const { default: rst2html } = await import(/* webpackChunkName: \"rst2html\" */ 'rst2html');\n  return {\n    default(props: { description?: string }) {\n      return <div dangerouslySetInnerHTML={{ __html: rst2html(props.description ?? '') }} />;\n    },\n  };\n});\n\nconst FunctionHelpButton = (props: { description?: string; name: string }) => {\n  if (props.description) {\n    let tooltip = (\n      <Suspense fallback={<span>Loading description...</span>}>\n        <FunctionDescription description={props.description} />\n      </Suspense>\n    );\n    return (\n      <Tooltip content={tooltip} placement={'bottom-end'}>\n        <Icon className={props.description ? undefined : 'pointer'} name=\"question-circle\" />\n      </Tooltip>\n    );\n  }\n\n  return (\n    <Icon\n      className=\"pointer\"\n      name=\"question-circle\"\n      onClick={() => {\n        window.open(\n          'http://graphite.readthedocs.org/en/latest/functions.html#graphite.render.functions.' + props.name,\n          '_blank'\n        );\n      }}\n    />\n  );\n};\n\nexport const FunctionEditorControls = (\n  props: FunctionEditorControlsProps & {\n    func: FuncInstance;\n  }\n) => {\n  const { func, onMoveLeft, onMoveRight, onRemove } = props;\n  return (\n    <div\n      style={{\n        display: 'flex',\n        width: '60px',\n        justifyContent: 'space-between',\n      }}\n    >\n      <Icon name=\"arrow-left\" onClick={() => onMoveLeft(func)} />\n      <FunctionHelpButton name={func.def.name} description={func.def.description} />\n      <Icon name=\"times\" onClick={() => onRemove(func)} />\n      <Icon name=\"arrow-right\" onClick={() => onMoveRight(func)} />\n    </div>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,IAAT,EAAeC,OAAf,QAA8B,aAA9B;;;AAUA,MAAMC,mBAAmB,gBAAGJ,KAAK,CAACK,IAAN,CAAW,YAAY;EACjD;EACA,MAAM;IAAEC,OAAO,EAAEC;EAAX,IAAwB,MAAM;EAAO;EAAmC,UAA1C,CAApC;EACA,OAAO;IACLD,OAAO,CAACE,KAAD,EAAkC;MAAA;;MACvC,oBAAO;QAAK,uBAAuB,EAAE;UAAEC,MAAM,EAAEF,QAAQ,uBAACC,KAAK,CAACE,WAAP,mEAAsB,EAAtB;QAAlB;MAA9B,EAAP;IACD;;EAHI,CAAP;AAKD,CAR2B,CAA5B;;AAUA,MAAMC,kBAAkB,GAAIH,KAAD,IAAmD;EAC5E,IAAIA,KAAK,CAACE,WAAV,EAAuB;IACrB,IAAIE,OAAO,gBACT,KAAC,QAAD;MAAU,QAAQ,iCAAE;QAAA;MAAA,EAAF,CAAlB;MAAA,uBACE,KAAC,mBAAD;QAAqB,WAAW,EAAEJ,KAAK,CAACE;MAAxC;IADF,EADF;;IAKA,oBACE,KAAC,OAAD;MAAS,OAAO,EAAEE,OAAlB;MAA2B,SAAS,EAAE,YAAtC;MAAA,uBACE,KAAC,IAAD;QAAM,SAAS,EAAEJ,KAAK,CAACE,WAAN,GAAoBG,SAApB,GAAgC,SAAjD;QAA4D,IAAI,EAAC;MAAjE;IADF,EADF;EAKD;;EAED,oBACE,KAAC,IAAD;IACE,SAAS,EAAC,SADZ;IAEE,IAAI,EAAC,iBAFP;IAGE,OAAO,EAAE,MAAM;MACbC,MAAM,CAACC,IAAP,CACE,wFAAwFP,KAAK,CAACQ,IADhG,EAEE,QAFF;IAID;EARH,EADF;AAYD,CA1BD;;AA4BA,OAAO,MAAMC,sBAAsB,GACjCT,KADoC,IAIjC;EACH,MAAM;IAAEU,IAAF;IAAQC,UAAR;IAAoBC,WAApB;IAAiCC;EAAjC,IAA8Cb,KAApD;EACA,oBACE;IACE,KAAK,EAAE;MACLc,OAAO,EAAE,MADJ;MAELC,KAAK,EAAE,MAFF;MAGLC,cAAc,EAAE;IAHX,CADT;IAAA,wBAOE,KAAC,IAAD;MAAM,IAAI,EAAC,YAAX;MAAwB,OAAO,EAAE,MAAML,UAAU,CAACD,IAAD;IAAjD,EAPF,eAQE,KAAC,kBAAD;MAAoB,IAAI,EAAEA,IAAI,CAACO,GAAL,CAAST,IAAnC;MAAyC,WAAW,EAAEE,IAAI,CAACO,GAAL,CAASf;IAA/D,EARF,eASE,KAAC,IAAD;MAAM,IAAI,EAAC,OAAX;MAAmB,OAAO,EAAE,MAAMW,QAAQ,CAACH,IAAD;IAA1C,EATF,eAUE,KAAC,IAAD;MAAM,IAAI,EAAC,aAAX;MAAyB,OAAO,EAAE,MAAME,WAAW,CAACF,IAAD;IAAnD,EAVF;EAAA,EADF;AAcD,CApBM"},"metadata":{},"sourceType":"module"}