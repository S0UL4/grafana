{"ast":null,"code":"var _div;\n\nimport { sortBy } from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Button } from '@grafana/ui';\nimport { SlideDown } from 'app/core/components/Animations/SlideDown';\nimport { getBackendSrv } from 'app/core/services/backend_srv';\nimport { AddPermission } from './AddPermission';\nimport { PermissionList } from './PermissionList';\nimport { PermissionTarget } from './types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst EMPTY_PERMISSION = '';\nconst INITIAL_DESCRIPTION = {\n  permissions: [],\n  assignments: {\n    teams: false,\n    users: false,\n    builtInRoles: false\n  }\n};\nexport const Permissions = ({\n  title = 'Permissions',\n  buttonLabel = 'Add a permission',\n  resource,\n  resourceId,\n  canSetPermissions,\n  addPermissionTitle\n}) => {\n  const [isAdding, setIsAdding] = useState(false);\n  const [items, setItems] = useState([]);\n  const [desc, setDesc] = useState(INITIAL_DESCRIPTION);\n  const fetchItems = useCallback(() => {\n    return getPermissions(resource, resourceId).then(r => setItems(r));\n  }, [resource, resourceId]);\n  useEffect(() => {\n    getDescription(resource).then(r => {\n      setDesc(r);\n      return fetchItems();\n    });\n  }, [resource, resourceId, fetchItems]);\n\n  const onAdd = state => {\n    let promise = null;\n\n    if (state.target === PermissionTarget.User) {\n      promise = setUserPermission(resource, resourceId, state.userId, state.permission);\n    } else if (state.target === PermissionTarget.Team) {\n      promise = setTeamPermission(resource, resourceId, state.teamId, state.permission);\n    } else if (state.target === PermissionTarget.BuiltInRole) {\n      promise = setBuiltInRolePermission(resource, resourceId, state.builtInRole, state.permission);\n    }\n\n    if (promise !== null) {\n      promise.then(fetchItems);\n    }\n  };\n\n  const onRemove = item => {\n    let promise = null;\n\n    if (item.userId) {\n      promise = setUserPermission(resource, resourceId, item.userId, EMPTY_PERMISSION);\n    } else if (item.teamId) {\n      promise = setTeamPermission(resource, resourceId, item.teamId, EMPTY_PERMISSION);\n    } else if (item.builtInRole) {\n      promise = setBuiltInRolePermission(resource, resourceId, item.builtInRole, EMPTY_PERMISSION);\n    }\n\n    if (promise !== null) {\n      promise.then(fetchItems);\n    }\n  };\n\n  const onChange = (item, permission) => {\n    if (item.permission === permission) {\n      return;\n    }\n\n    if (item.userId) {\n      onAdd({\n        permission,\n        userId: item.userId,\n        target: PermissionTarget.User\n      });\n    } else if (item.teamId) {\n      onAdd({\n        permission,\n        teamId: item.teamId,\n        target: PermissionTarget.Team\n      });\n    } else if (item.builtInRole) {\n      onAdd({\n        permission,\n        builtInRole: item.builtInRole,\n        target: PermissionTarget.BuiltInRole\n      });\n    }\n  };\n\n  const teams = useMemo(() => sortBy(items.filter(i => i.teamId), ['team']), [items]);\n  const users = useMemo(() => sortBy(items.filter(i => i.userId), ['userLogin']), [items]);\n  const builtInRoles = useMemo(() => sortBy(items.filter(i => i.builtInRole), ['builtInRole']), [items]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"page-action-bar\",\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        className: \"page-sub-heading\",\n        children: title\n      }), _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n        className: \"page-action-bar__spacer\"\n      })), canSetPermissions && /*#__PURE__*/_jsx(Button, {\n        variant: 'primary',\n        onClick: () => setIsAdding(true),\n        children: buttonLabel\n      }, \"add-permission\")]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(SlideDown, {\n        in: isAdding,\n        children: /*#__PURE__*/_jsx(AddPermission, {\n          title: addPermissionTitle,\n          onAdd: onAdd,\n          permissions: desc.permissions,\n          assignments: desc.assignments,\n          onCancel: () => setIsAdding(false)\n        })\n      }), /*#__PURE__*/_jsx(PermissionList, {\n        title: \"Role\",\n        items: builtInRoles,\n        permissionLevels: desc.permissions,\n        onChange: onChange,\n        onRemove: onRemove,\n        canSet: canSetPermissions\n      }), /*#__PURE__*/_jsx(PermissionList, {\n        title: \"User\",\n        items: users,\n        permissionLevels: desc.permissions,\n        onChange: onChange,\n        onRemove: onRemove,\n        canSet: canSetPermissions\n      }), /*#__PURE__*/_jsx(PermissionList, {\n        title: \"Team\",\n        items: teams,\n        permissionLevels: desc.permissions,\n        onChange: onChange,\n        onRemove: onRemove,\n        canSet: canSetPermissions\n      })]\n    })]\n  });\n};\n\nconst getDescription = async resource => {\n  try {\n    return await getBackendSrv().get(`/api/access-control/${resource}/description`);\n  } catch (e) {\n    console.error('failed to load resource description: ', e);\n    return INITIAL_DESCRIPTION;\n  }\n};\n\nconst getPermissions = (resource, resourceId) => getBackendSrv().get(`/api/access-control/${resource}/${resourceId}`);\n\nconst setUserPermission = (resource, resourceId, userId, permission) => setPermission(resource, resourceId, 'users', userId, permission);\n\nconst setTeamPermission = (resource, resourceId, teamId, permission) => setPermission(resource, resourceId, 'teams', teamId, permission);\n\nconst setBuiltInRolePermission = (resource, resourceId, builtInRole, permission) => setPermission(resource, resourceId, 'builtInRoles', builtInRole, permission);\n\nconst setPermission = (resource, resourceId, type, typeId, permission) => getBackendSrv().post(`/api/access-control/${resource}/${resourceId}/${type}/${typeId}`, {\n  permission\n});","map":{"version":3,"names":["sortBy","React","useCallback","useEffect","useMemo","useState","Button","SlideDown","getBackendSrv","AddPermission","PermissionList","PermissionTarget","EMPTY_PERMISSION","INITIAL_DESCRIPTION","permissions","assignments","teams","users","builtInRoles","Permissions","title","buttonLabel","resource","resourceId","canSetPermissions","addPermissionTitle","isAdding","setIsAdding","items","setItems","desc","setDesc","fetchItems","getPermissions","then","r","getDescription","onAdd","state","promise","target","User","setUserPermission","userId","permission","Team","setTeamPermission","teamId","BuiltInRole","setBuiltInRolePermission","builtInRole","onRemove","item","onChange","filter","i","get","e","console","error","setPermission","type","typeId","post"],"sources":["/home/soula/grafana/public/app/core/components/AccessControl/Permissions.tsx"],"sourcesContent":["import { sortBy } from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { Button } from '@grafana/ui';\nimport { SlideDown } from 'app/core/components/Animations/SlideDown';\nimport { getBackendSrv } from 'app/core/services/backend_srv';\n\nimport { AddPermission } from './AddPermission';\nimport { PermissionList } from './PermissionList';\nimport { PermissionTarget, ResourcePermission, SetPermission, Description } from './types';\n\nconst EMPTY_PERMISSION = '';\n\nconst INITIAL_DESCRIPTION: Description = {\n  permissions: [],\n  assignments: {\n    teams: false,\n    users: false,\n    builtInRoles: false,\n  },\n};\n\ntype ResourceId = string | number;\ntype Type = 'users' | 'teams' | 'builtInRoles';\n\nexport type Props = {\n  title?: string;\n  buttonLabel?: string;\n  addPermissionTitle?: string;\n  resource: string;\n  resourceId: ResourceId;\n  canSetPermissions: boolean;\n};\n\nexport const Permissions = ({\n  title = 'Permissions',\n  buttonLabel = 'Add a permission',\n  resource,\n  resourceId,\n  canSetPermissions,\n  addPermissionTitle,\n}: Props) => {\n  const [isAdding, setIsAdding] = useState(false);\n  const [items, setItems] = useState<ResourcePermission[]>([]);\n  const [desc, setDesc] = useState(INITIAL_DESCRIPTION);\n\n  const fetchItems = useCallback(() => {\n    return getPermissions(resource, resourceId).then((r) => setItems(r));\n  }, [resource, resourceId]);\n\n  useEffect(() => {\n    getDescription(resource).then((r) => {\n      setDesc(r);\n      return fetchItems();\n    });\n  }, [resource, resourceId, fetchItems]);\n\n  const onAdd = (state: SetPermission) => {\n    let promise: Promise<void> | null = null;\n    if (state.target === PermissionTarget.User) {\n      promise = setUserPermission(resource, resourceId, state.userId!, state.permission);\n    } else if (state.target === PermissionTarget.Team) {\n      promise = setTeamPermission(resource, resourceId, state.teamId!, state.permission);\n    } else if (state.target === PermissionTarget.BuiltInRole) {\n      promise = setBuiltInRolePermission(resource, resourceId, state.builtInRole!, state.permission);\n    }\n\n    if (promise !== null) {\n      promise.then(fetchItems);\n    }\n  };\n\n  const onRemove = (item: ResourcePermission) => {\n    let promise: Promise<void> | null = null;\n    if (item.userId) {\n      promise = setUserPermission(resource, resourceId, item.userId, EMPTY_PERMISSION);\n    } else if (item.teamId) {\n      promise = setTeamPermission(resource, resourceId, item.teamId, EMPTY_PERMISSION);\n    } else if (item.builtInRole) {\n      promise = setBuiltInRolePermission(resource, resourceId, item.builtInRole, EMPTY_PERMISSION);\n    }\n\n    if (promise !== null) {\n      promise.then(fetchItems);\n    }\n  };\n\n  const onChange = (item: ResourcePermission, permission: string) => {\n    if (item.permission === permission) {\n      return;\n    }\n    if (item.userId) {\n      onAdd({ permission, userId: item.userId, target: PermissionTarget.User });\n    } else if (item.teamId) {\n      onAdd({ permission, teamId: item.teamId, target: PermissionTarget.Team });\n    } else if (item.builtInRole) {\n      onAdd({ permission, builtInRole: item.builtInRole, target: PermissionTarget.BuiltInRole });\n    }\n  };\n\n  const teams = useMemo(\n    () =>\n      sortBy(\n        items.filter((i) => i.teamId),\n        ['team']\n      ),\n    [items]\n  );\n  const users = useMemo(\n    () =>\n      sortBy(\n        items.filter((i) => i.userId),\n        ['userLogin']\n      ),\n    [items]\n  );\n  const builtInRoles = useMemo(\n    () =>\n      sortBy(\n        items.filter((i) => i.builtInRole),\n        ['builtInRole']\n      ),\n    [items]\n  );\n\n  return (\n    <div>\n      <div className=\"page-action-bar\">\n        <h3 className=\"page-sub-heading\">{title}</h3>\n        <div className=\"page-action-bar__spacer\" />\n        {canSetPermissions && (\n          <Button variant={'primary'} key=\"add-permission\" onClick={() => setIsAdding(true)}>\n            {buttonLabel}\n          </Button>\n        )}\n      </div>\n\n      <div>\n        <SlideDown in={isAdding}>\n          <AddPermission\n            title={addPermissionTitle}\n            onAdd={onAdd}\n            permissions={desc.permissions}\n            assignments={desc.assignments}\n            onCancel={() => setIsAdding(false)}\n          />\n        </SlideDown>\n        <PermissionList\n          title=\"Role\"\n          items={builtInRoles}\n          permissionLevels={desc.permissions}\n          onChange={onChange}\n          onRemove={onRemove}\n          canSet={canSetPermissions}\n        />\n        <PermissionList\n          title=\"User\"\n          items={users}\n          permissionLevels={desc.permissions}\n          onChange={onChange}\n          onRemove={onRemove}\n          canSet={canSetPermissions}\n        />\n        <PermissionList\n          title=\"Team\"\n          items={teams}\n          permissionLevels={desc.permissions}\n          onChange={onChange}\n          onRemove={onRemove}\n          canSet={canSetPermissions}\n        />\n      </div>\n    </div>\n  );\n};\n\nconst getDescription = async (resource: string): Promise<Description> => {\n  try {\n    return await getBackendSrv().get(`/api/access-control/${resource}/description`);\n  } catch (e) {\n    console.error('failed to load resource description: ', e);\n    return INITIAL_DESCRIPTION;\n  }\n};\n\nconst getPermissions = (resource: string, resourceId: ResourceId): Promise<ResourcePermission[]> =>\n  getBackendSrv().get(`/api/access-control/${resource}/${resourceId}`);\n\nconst setUserPermission = (resource: string, resourceId: ResourceId, userId: number, permission: string) =>\n  setPermission(resource, resourceId, 'users', userId, permission);\n\nconst setTeamPermission = (resource: string, resourceId: ResourceId, teamId: number, permission: string) =>\n  setPermission(resource, resourceId, 'teams', teamId, permission);\n\nconst setBuiltInRolePermission = (resource: string, resourceId: ResourceId, builtInRole: string, permission: string) =>\n  setPermission(resource, resourceId, 'builtInRoles', builtInRole, permission);\n\nconst setPermission = (\n  resource: string,\n  resourceId: ResourceId,\n  type: Type,\n  typeId: number | string,\n  permission: string\n): Promise<void> =>\n  getBackendSrv().post(`/api/access-control/${resource}/${resourceId}/${type}/${typeId}`, { permission });\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}