{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { AppEvents } from '@grafana/data';\nimport { VerticalGroup } from '@grafana/ui';\nimport { notifyApp, hideAppNotification } from 'app/core/actions';\nimport appEvents from 'app/core/app_events';\nimport { selectVisible } from 'app/core/reducers/appNotification';\nimport { createErrorNotification, createSuccessNotification, createWarningNotification } from '../../copy/appNotification';\nimport AppNotificationItem from './AppNotificationItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst mapStateToProps = (state, props) => ({\n  appNotifications: selectVisible(state.appNotifications)\n});\n\nconst mapDispatchToProps = {\n  notifyApp,\n  hideAppNotification\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport class AppNotificationListUnConnected extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onClearAppNotification\", id => {\n      this.props.hideAppNotification(id);\n    });\n  }\n\n  componentDidMount() {\n    const {\n      notifyApp\n    } = this.props;\n    appEvents.on(AppEvents.alertWarning, payload => notifyApp(createWarningNotification(...payload)));\n    appEvents.on(AppEvents.alertSuccess, payload => notifyApp(createSuccessNotification(...payload)));\n    appEvents.on(AppEvents.alertError, payload => notifyApp(createErrorNotification(...payload)));\n  }\n\n  render() {\n    const {\n      appNotifications\n    } = this.props;\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"page-alert-list\",\n      children: /*#__PURE__*/_jsx(VerticalGroup, {\n        children: appNotifications.map((appNotification, index) => {\n          return /*#__PURE__*/_jsx(AppNotificationItem, {\n            appNotification: appNotification,\n            onClearNotification: id => this.onClearAppNotification(id)\n          }, `${appNotification.id}-${index}`);\n        })\n      })\n    });\n  }\n\n}\nexport const AppNotificationList = connector(AppNotificationListUnConnected);","map":{"version":3,"names":["React","PureComponent","connect","AppEvents","VerticalGroup","notifyApp","hideAppNotification","appEvents","selectVisible","createErrorNotification","createSuccessNotification","createWarningNotification","AppNotificationItem","mapStateToProps","state","props","appNotifications","mapDispatchToProps","connector","AppNotificationListUnConnected","id","componentDidMount","on","alertWarning","payload","alertSuccess","alertError","render","map","appNotification","index","onClearAppNotification","AppNotificationList"],"sources":["/home/soula/grafana/public/app/core/components/AppNotifications/AppNotificationList.tsx"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { AppEvents } from '@grafana/data';\nimport { VerticalGroup } from '@grafana/ui';\nimport { notifyApp, hideAppNotification } from 'app/core/actions';\nimport appEvents from 'app/core/app_events';\nimport { selectVisible } from 'app/core/reducers/appNotification';\nimport { StoreState } from 'app/types';\n\nimport {\n  createErrorNotification,\n  createSuccessNotification,\n  createWarningNotification,\n} from '../../copy/appNotification';\n\nimport AppNotificationItem from './AppNotificationItem';\n\nexport interface OwnProps {}\n\nconst mapStateToProps = (state: StoreState, props: OwnProps) => ({\n  appNotifications: selectVisible(state.appNotifications),\n});\n\nconst mapDispatchToProps = {\n  notifyApp,\n  hideAppNotification,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nexport type Props = OwnProps & ConnectedProps<typeof connector>;\n\nexport class AppNotificationListUnConnected extends PureComponent<Props> {\n  componentDidMount() {\n    const { notifyApp } = this.props;\n\n    appEvents.on(AppEvents.alertWarning, (payload) => notifyApp(createWarningNotification(...payload)));\n    appEvents.on(AppEvents.alertSuccess, (payload) => notifyApp(createSuccessNotification(...payload)));\n    appEvents.on(AppEvents.alertError, (payload) => notifyApp(createErrorNotification(...payload)));\n  }\n\n  onClearAppNotification = (id: string) => {\n    this.props.hideAppNotification(id);\n  };\n\n  render() {\n    const { appNotifications } = this.props;\n\n    return (\n      <div className=\"page-alert-list\">\n        <VerticalGroup>\n          {appNotifications.map((appNotification, index) => {\n            return (\n              <AppNotificationItem\n                key={`${appNotification.id}-${index}`}\n                appNotification={appNotification}\n                onClearNotification={(id) => this.onClearAppNotification(id)}\n              />\n            );\n          })}\n        </VerticalGroup>\n      </div>\n    );\n  }\n}\n\nexport const AppNotificationList = connector(AppNotificationListUnConnected);\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwC,aAAxC;AAEA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,aAAT,QAA8B,aAA9B;AACA,SAASC,SAAT,EAAoBC,mBAApB,QAA+C,kBAA/C;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAASC,aAAT,QAA8B,mCAA9B;AAGA,SACEC,uBADF,EAEEC,yBAFF,EAGEC,yBAHF,QAIO,4BAJP;AAMA,OAAOC,mBAAP,MAAgC,uBAAhC;;;AAIA,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAoBC,KAApB,MAAyC;EAC/DC,gBAAgB,EAAER,aAAa,CAACM,KAAK,CAACE,gBAAP;AADgC,CAAzC,CAAxB;;AAIA,MAAMC,kBAAkB,GAAG;EACzBZ,SADyB;EAEzBC;AAFyB,CAA3B;AAKA,MAAMY,SAAS,GAAGhB,OAAO,CAACW,eAAD,EAAkBI,kBAAlB,CAAzB;AAIA,OAAO,MAAME,8BAAN,SAA6ClB,aAA7C,CAAkE;EAAA;IAAA;;IAAA,gDAS7CmB,EAAD,IAAgB;MACvC,KAAKL,KAAL,CAAWT,mBAAX,CAA+Bc,EAA/B;IACD,CAXsE;EAAA;;EACvEC,iBAAiB,GAAG;IAClB,MAAM;MAAEhB;IAAF,IAAgB,KAAKU,KAA3B;IAEAR,SAAS,CAACe,EAAV,CAAanB,SAAS,CAACoB,YAAvB,EAAsCC,OAAD,IAAanB,SAAS,CAACM,yBAAyB,CAAC,GAAGa,OAAJ,CAA1B,CAA3D;IACAjB,SAAS,CAACe,EAAV,CAAanB,SAAS,CAACsB,YAAvB,EAAsCD,OAAD,IAAanB,SAAS,CAACK,yBAAyB,CAAC,GAAGc,OAAJ,CAA1B,CAA3D;IACAjB,SAAS,CAACe,EAAV,CAAanB,SAAS,CAACuB,UAAvB,EAAoCF,OAAD,IAAanB,SAAS,CAACI,uBAAuB,CAAC,GAAGe,OAAJ,CAAxB,CAAzD;EACD;;EAMDG,MAAM,GAAG;IACP,MAAM;MAAEX;IAAF,IAAuB,KAAKD,KAAlC;IAEA,oBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACE,KAAC,aAAD;QAAA,UACGC,gBAAgB,CAACY,GAAjB,CAAqB,CAACC,eAAD,EAAkBC,KAAlB,KAA4B;UAChD,oBACE,KAAC,mBAAD;YAEE,eAAe,EAAED,eAFnB;YAGE,mBAAmB,EAAGT,EAAD,IAAQ,KAAKW,sBAAL,CAA4BX,EAA5B;UAH/B,GACQ,GAAES,eAAe,CAACT,EAAG,IAAGU,KAAM,EADtC,CADF;QAOD,CARA;MADH;IADF,EADF;EAeD;;AA/BsE;AAkCzE,OAAO,MAAME,mBAAmB,GAAGd,SAAS,CAACC,8BAAD,CAArC"},"metadata":{},"sourceType":"module"}