{"ast":null,"code":"import React, { useState } from 'react';\nimport { ContextMenu } from '../ContextMenu/ContextMenu';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const WithContextMenu = ({\n  children,\n  renderMenuItems,\n  focusOnOpen = true\n}) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [children({\n      openMenu: e => {\n        setIsMenuOpen(true);\n        setMenuPosition({\n          x: e.pageX,\n          y: e.pageY\n        });\n      }\n    }), isMenuOpen && /*#__PURE__*/_jsx(ContextMenu, {\n      onClose: () => setIsMenuOpen(false),\n      x: menuPosition.x,\n      y: menuPosition.y,\n      renderMenuItems: renderMenuItems,\n      focusOnOpen: focusOnOpen\n    })]\n  });\n};","map":{"version":3,"names":["React","useState","ContextMenu","WithContextMenu","children","renderMenuItems","focusOnOpen","isMenuOpen","setIsMenuOpen","menuPosition","setMenuPosition","x","y","openMenu","e","pageX","pageY"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/ContextMenu/WithContextMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { ContextMenu } from '../ContextMenu/ContextMenu';\n\ninterface WithContextMenuProps {\n  /** Menu item trigger that accepts openMenu prop */\n  children: (props: { openMenu: React.MouseEventHandler<HTMLElement> }) => JSX.Element;\n  /** A function that returns an array of menu items */\n  renderMenuItems: () => React.ReactNode;\n  /** On menu open focus the first element */\n  focusOnOpen?: boolean;\n}\n\nexport const WithContextMenu: React.FC<WithContextMenuProps> = ({ children, renderMenuItems, focusOnOpen = true }) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({ x: 0, y: 0 });\n  return (\n    <>\n      {children({\n        openMenu: (e) => {\n          setIsMenuOpen(true);\n          setMenuPosition({\n            x: e.pageX,\n            y: e.pageY,\n          });\n        },\n      })}\n\n      {isMenuOpen && (\n        <ContextMenu\n          onClose={() => setIsMenuOpen(false)}\n          x={menuPosition.x}\n          y={menuPosition.y}\n          renderMenuItems={renderMenuItems}\n          focusOnOpen={focusOnOpen}\n        />\n      )}\n    </>\n  );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,WAAT,QAA4B,4BAA5B;;;;AAWA,OAAO,MAAMC,eAA+C,GAAG,CAAC;EAAEC,QAAF;EAAYC,eAAZ;EAA6BC,WAAW,GAAG;AAA3C,CAAD,KAAuD;EACpH,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,KAAD,CAA5C;EACA,MAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC;IAAEU,CAAC,EAAE,CAAL;IAAQC,CAAC,EAAE;EAAX,CAAD,CAAhD;EACA,oBACE;IAAA,WACGR,QAAQ,CAAC;MACRS,QAAQ,EAAGC,CAAD,IAAO;QACfN,aAAa,CAAC,IAAD,CAAb;QACAE,eAAe,CAAC;UACdC,CAAC,EAAEG,CAAC,CAACC,KADS;UAEdH,CAAC,EAAEE,CAAC,CAACE;QAFS,CAAD,CAAf;MAID;IAPO,CAAD,CADX,EAWGT,UAAU,iBACT,KAAC,WAAD;MACE,OAAO,EAAE,MAAMC,aAAa,CAAC,KAAD,CAD9B;MAEE,CAAC,EAAEC,YAAY,CAACE,CAFlB;MAGE,CAAC,EAAEF,YAAY,CAACG,CAHlB;MAIE,eAAe,EAAEP,eAJnB;MAKE,WAAW,EAAEC;IALf,EAZJ;EAAA,EADF;AAuBD,CA1BM"},"metadata":{},"sourceType":"module"}