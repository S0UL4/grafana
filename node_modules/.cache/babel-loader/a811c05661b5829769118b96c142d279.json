{"ast":null,"code":"import { getProperty } from './feed';\nexport function parseRSSFeed(txt) {\n  const domParser = new DOMParser();\n  const doc = domParser.parseFromString(txt, 'text/xml');\n  const feed = {\n    items: Array.from(doc.querySelectorAll('item')).map(node => {\n      var _node$querySelector;\n\n      return {\n        title: getProperty(node, 'title'),\n        link: getProperty(node, 'link'),\n        content: getProperty(node, 'description'),\n        pubDate: getProperty(node, 'pubDate'),\n        ogImage: (_node$querySelector = node.querySelector(\"meta[property='og:image']\")) === null || _node$querySelector === void 0 ? void 0 : _node$querySelector.getAttribute('content')\n      };\n    })\n  };\n  return feed;\n}","map":{"version":3,"names":["getProperty","parseRSSFeed","txt","domParser","DOMParser","doc","parseFromString","feed","items","Array","from","querySelectorAll","map","node","title","link","content","pubDate","ogImage","querySelector","getAttribute"],"sources":["/home/soula/grafana/public/app/plugins/panel/news/rss.ts"],"sourcesContent":["import { getProperty } from './feed';\nimport { Feed } from './types';\n\nexport function parseRSSFeed(txt: string): Feed {\n  const domParser = new DOMParser();\n  const doc = domParser.parseFromString(txt, 'text/xml');\n\n  const feed: Feed = {\n    items: Array.from(doc.querySelectorAll('item')).map((node) => ({\n      title: getProperty(node, 'title'),\n      link: getProperty(node, 'link'),\n      content: getProperty(node, 'description'),\n      pubDate: getProperty(node, 'pubDate'),\n      ogImage: node.querySelector(\"meta[property='og:image']\")?.getAttribute('content'),\n    })),\n  };\n\n  return feed;\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,QAA5B;AAGA,OAAO,SAASC,YAAT,CAAsBC,GAAtB,EAAyC;EAC9C,MAAMC,SAAS,GAAG,IAAIC,SAAJ,EAAlB;EACA,MAAMC,GAAG,GAAGF,SAAS,CAACG,eAAV,CAA0BJ,GAA1B,EAA+B,UAA/B,CAAZ;EAEA,MAAMK,IAAU,GAAG;IACjBC,KAAK,EAAEC,KAAK,CAACC,IAAN,CAAWL,GAAG,CAACM,gBAAJ,CAAqB,MAArB,CAAX,EAAyCC,GAAzC,CAA8CC,IAAD;MAAA;;MAAA,OAAW;QAC7DC,KAAK,EAAEd,WAAW,CAACa,IAAD,EAAO,OAAP,CAD2C;QAE7DE,IAAI,EAAEf,WAAW,CAACa,IAAD,EAAO,MAAP,CAF4C;QAG7DG,OAAO,EAAEhB,WAAW,CAACa,IAAD,EAAO,aAAP,CAHyC;QAI7DI,OAAO,EAAEjB,WAAW,CAACa,IAAD,EAAO,SAAP,CAJyC;QAK7DK,OAAO,yBAAEL,IAAI,CAACM,aAAL,CAAmB,2BAAnB,CAAF,wDAAE,oBAAiDC,YAAjD,CAA8D,SAA9D;MALoD,CAAX;IAAA,CAA7C;EADU,CAAnB;EAUA,OAAOb,IAAP;AACD"},"metadata":{},"sourceType":"module"}