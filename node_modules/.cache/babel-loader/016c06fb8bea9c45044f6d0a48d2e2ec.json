{"ast":null,"code":"import { toUtc } from '@grafana/data';\nexport const getShiftedTimeRange = (direction, origRange) => {\n  const range = {\n    from: toUtc(origRange.from),\n    to: toUtc(origRange.to)\n  };\n  const timespan = (range.to.valueOf() - range.from.valueOf()) / 2;\n  let to, from;\n\n  if (direction === -1) {\n    to = range.to.valueOf() - timespan;\n    from = range.from.valueOf() - timespan;\n  } else if (direction === 1) {\n    to = range.to.valueOf() + timespan;\n    from = range.from.valueOf() + timespan;\n\n    if (to > Date.now() && range.to.valueOf() < Date.now()) {\n      to = Date.now();\n      from = range.from.valueOf();\n    }\n  } else {\n    to = range.to.valueOf();\n    from = range.from.valueOf();\n  }\n\n  return {\n    from,\n    to\n  };\n};\nexport const getZoomedTimeRange = (range, factor) => {\n  const timespan = range.to.valueOf() - range.from.valueOf();\n  const center = range.to.valueOf() - timespan / 2; // If the timepsan is 0, zooming out would do nothing, so we force a zoom out to 30s\n\n  const newTimespan = timespan === 0 ? 30000 : timespan * factor;\n  const to = center + newTimespan / 2;\n  const from = center - newTimespan / 2;\n  return {\n    from,\n    to\n  };\n};","map":{"version":3,"names":["toUtc","getShiftedTimeRange","direction","origRange","range","from","to","timespan","valueOf","Date","now","getZoomedTimeRange","factor","center","newTimespan"],"sources":["/home/soula/grafana/public/app/core/utils/timePicker.ts"],"sourcesContent":["import { TimeRange, toUtc, AbsoluteTimeRange } from '@grafana/data';\n\nexport const getShiftedTimeRange = (direction: number, origRange: TimeRange): AbsoluteTimeRange => {\n  const range = {\n    from: toUtc(origRange.from),\n    to: toUtc(origRange.to),\n  };\n\n  const timespan = (range.to.valueOf() - range.from.valueOf()) / 2;\n  let to: number, from: number;\n\n  if (direction === -1) {\n    to = range.to.valueOf() - timespan;\n    from = range.from.valueOf() - timespan;\n  } else if (direction === 1) {\n    to = range.to.valueOf() + timespan;\n    from = range.from.valueOf() + timespan;\n    if (to > Date.now() && range.to.valueOf() < Date.now()) {\n      to = Date.now();\n      from = range.from.valueOf();\n    }\n  } else {\n    to = range.to.valueOf();\n    from = range.from.valueOf();\n  }\n\n  return { from, to };\n};\n\nexport const getZoomedTimeRange = (range: TimeRange, factor: number): AbsoluteTimeRange => {\n  const timespan = range.to.valueOf() - range.from.valueOf();\n  const center = range.to.valueOf() - timespan / 2;\n  // If the timepsan is 0, zooming out would do nothing, so we force a zoom out to 30s\n  const newTimespan = timespan === 0 ? 30000 : timespan * factor;\n\n  const to = center + newTimespan / 2;\n  const from = center - newTimespan / 2;\n\n  return { from, to };\n};\n"],"mappings":"AAAA,SAAoBA,KAApB,QAAoD,eAApD;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAACC,SAAD,EAAoBC,SAApB,KAAgE;EACjG,MAAMC,KAAK,GAAG;IACZC,IAAI,EAAEL,KAAK,CAACG,SAAS,CAACE,IAAX,CADC;IAEZC,EAAE,EAAEN,KAAK,CAACG,SAAS,CAACG,EAAX;EAFG,CAAd;EAKA,MAAMC,QAAQ,GAAG,CAACH,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBJ,KAAK,CAACC,IAAN,CAAWG,OAAX,EAAtB,IAA8C,CAA/D;EACA,IAAIF,EAAJ,EAAgBD,IAAhB;;EAEA,IAAIH,SAAS,KAAK,CAAC,CAAnB,EAAsB;IACpBI,EAAE,GAAGF,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBD,QAA1B;IACAF,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWG,OAAX,KAAuBD,QAA9B;EACD,CAHD,MAGO,IAAIL,SAAS,KAAK,CAAlB,EAAqB;IAC1BI,EAAE,GAAGF,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBD,QAA1B;IACAF,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWG,OAAX,KAAuBD,QAA9B;;IACA,IAAID,EAAE,GAAGG,IAAI,CAACC,GAAL,EAAL,IAAmBN,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBC,IAAI,CAACC,GAAL,EAA5C,EAAwD;MACtDJ,EAAE,GAAGG,IAAI,CAACC,GAAL,EAAL;MACAL,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWG,OAAX,EAAP;IACD;EACF,CAPM,MAOA;IACLF,EAAE,GAAGF,KAAK,CAACE,EAAN,CAASE,OAAT,EAAL;IACAH,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWG,OAAX,EAAP;EACD;;EAED,OAAO;IAAEH,IAAF;IAAQC;EAAR,CAAP;AACD,CAzBM;AA2BP,OAAO,MAAMK,kBAAkB,GAAG,CAACP,KAAD,EAAmBQ,MAAnB,KAAyD;EACzF,MAAML,QAAQ,GAAGH,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBJ,KAAK,CAACC,IAAN,CAAWG,OAAX,EAAtC;EACA,MAAMK,MAAM,GAAGT,KAAK,CAACE,EAAN,CAASE,OAAT,KAAqBD,QAAQ,GAAG,CAA/C,CAFyF,CAGzF;;EACA,MAAMO,WAAW,GAAGP,QAAQ,KAAK,CAAb,GAAiB,KAAjB,GAAyBA,QAAQ,GAAGK,MAAxD;EAEA,MAAMN,EAAE,GAAGO,MAAM,GAAGC,WAAW,GAAG,CAAlC;EACA,MAAMT,IAAI,GAAGQ,MAAM,GAAGC,WAAW,GAAG,CAApC;EAEA,OAAO;IAAET,IAAF;IAAQC;EAAR,CAAP;AACD,CAVM"},"metadata":{},"sourceType":"module"}