{"ast":null,"code":"import { css } from '@emotion/css';\nimport React from 'react';\nimport { CoreApp } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\nimport { testIds } from '../../components/LokiQueryEditor';\nimport { LokiQueryField } from '../../components/LokiQueryField';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function LokiQueryCodeEditor({\n  query,\n  datasource,\n  range,\n  onRunQuery,\n  onChange,\n  data,\n  app\n}) {\n  const styles = useStyles2(getStyles); // the inner QueryField works like this when a blur event happens:\n  // - if it has an onBlur prop, it calls it\n  // - else it calls onRunQuery (some extra conditions apply)\n  //\n  // we want it to not do anything when a blur event happens in explore mode,\n  // so we set an empty-function in such case. otherwise we set `undefined`,\n  // which will cause it to run the query when blur happens.\n\n  const onBlur = app === CoreApp.Explore ? () => undefined : undefined;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.wrapper,\n    children: /*#__PURE__*/_jsx(LokiQueryField, {\n      datasource: datasource,\n      query: query,\n      range: range,\n      onRunQuery: onRunQuery,\n      onChange: onChange,\n      onBlur: onBlur,\n      history: [],\n      data: data,\n      \"data-testid\": testIds.editor,\n      app: app\n    })\n  });\n}\n\nconst getStyles = theme => {\n  return {\n    // This wrapper styling can be removed after the old PromQueryEditor is removed.\n    // This is removing margin bottom on the old legacy inline form styles\n    wrapper: css`\n      .gf-form {\n        margin-bottom: 0;\n      }\n    `\n  };\n};","map":{"version":3,"names":["css","React","CoreApp","useStyles2","testIds","LokiQueryField","LokiQueryCodeEditor","query","datasource","range","onRunQuery","onChange","data","app","styles","getStyles","onBlur","Explore","undefined","wrapper","editor","theme"],"sources":["/home/soula/grafana/public/app/plugins/datasource/loki/querybuilder/components/LokiQueryCodeEditor.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { CoreApp, GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { testIds } from '../../components/LokiQueryEditor';\nimport { LokiQueryField } from '../../components/LokiQueryField';\nimport { LokiQueryEditorProps } from '../../components/types';\n\nexport function LokiQueryCodeEditor({\n  query,\n  datasource,\n  range,\n  onRunQuery,\n  onChange,\n  data,\n  app,\n}: LokiQueryEditorProps) {\n  const styles = useStyles2(getStyles);\n\n  // the inner QueryField works like this when a blur event happens:\n  // - if it has an onBlur prop, it calls it\n  // - else it calls onRunQuery (some extra conditions apply)\n  //\n  // we want it to not do anything when a blur event happens in explore mode,\n  // so we set an empty-function in such case. otherwise we set `undefined`,\n  // which will cause it to run the query when blur happens.\n  const onBlur = app === CoreApp.Explore ? () => undefined : undefined;\n\n  return (\n    <div className={styles.wrapper}>\n      <LokiQueryField\n        datasource={datasource}\n        query={query}\n        range={range}\n        onRunQuery={onRunQuery}\n        onChange={onChange}\n        onBlur={onBlur}\n        history={[]}\n        data={data}\n        data-testid={testIds.editor}\n        app={app}\n      />\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    // This wrapper styling can be removed after the old PromQueryEditor is removed.\n    // This is removing margin bottom on the old legacy inline form styles\n    wrapper: css`\n      .gf-form {\n        margin-bottom: 0;\n      }\n    `,\n  };\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAuC,eAAvC;AACA,SAASC,UAAT,QAA2B,aAA3B;AAEA,SAASC,OAAT,QAAwB,kCAAxB;AACA,SAASC,cAAT,QAA+B,iCAA/B;;AAGA,OAAO,SAASC,mBAAT,CAA6B;EAClCC,KADkC;EAElCC,UAFkC;EAGlCC,KAHkC;EAIlCC,UAJkC;EAKlCC,QALkC;EAMlCC,IANkC;EAOlCC;AAPkC,CAA7B,EAQkB;EACvB,MAAMC,MAAM,GAAGX,UAAU,CAACY,SAAD,CAAzB,CADuB,CAGvB;EACA;EACA;EACA;EACA;EACA;EACA;;EACA,MAAMC,MAAM,GAAGH,GAAG,KAAKX,OAAO,CAACe,OAAhB,GAA0B,MAAMC,SAAhC,GAA4CA,SAA3D;EAEA,oBACE;IAAK,SAAS,EAAEJ,MAAM,CAACK,OAAvB;IAAA,uBACE,KAAC,cAAD;MACE,UAAU,EAAEX,UADd;MAEE,KAAK,EAAED,KAFT;MAGE,KAAK,EAAEE,KAHT;MAIE,UAAU,EAAEC,UAJd;MAKE,QAAQ,EAAEC,QALZ;MAME,MAAM,EAAEK,MANV;MAOE,OAAO,EAAE,EAPX;MAQE,IAAI,EAAEJ,IARR;MASE,eAAaR,OAAO,CAACgB,MATvB;MAUE,GAAG,EAAEP;IAVP;EADF,EADF;AAgBD;;AAED,MAAME,SAAS,GAAIM,KAAD,IAA0B;EAC1C,OAAO;IACL;IACA;IACAF,OAAO,EAAEnB,GAAI;AACjB;AACA;AACA;AACA;EAPS,CAAP;AASD,CAVD"},"metadata":{},"sourceType":"module"}