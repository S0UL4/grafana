{"ast":null,"code":"import { config } from '@grafana/runtime';\nimport { prepareHeatmapData } from './fields';\nimport { defaultPanelOptions } from './models.gen';\nexport class HeatmapSuggestionsSupplier {\n  getSuggestionsForData(builder) {\n    var _builder$data;\n\n    const {\n      dataSummary\n    } = builder;\n\n    if (!((_builder$data = builder.data) !== null && _builder$data !== void 0 && _builder$data.series) || !dataSummary.hasData || dataSummary.timeFieldCount < 1 || dataSummary.numberFieldCount < 2 || dataSummary.numberFieldCount > 10) {\n      return;\n    }\n\n    const info = prepareHeatmapData(builder.data, defaultPanelOptions, config.theme2);\n\n    if (!info || info.warning) {\n      return;\n    }\n\n    builder.getListAppender({\n      name: '',\n      pluginId: 'heatmap',\n      options: {},\n      fieldConfig: {\n        defaults: {\n          custom: {}\n        },\n        overrides: []\n      }\n    });\n  }\n\n}","map":{"version":3,"names":["config","prepareHeatmapData","defaultPanelOptions","HeatmapSuggestionsSupplier","getSuggestionsForData","builder","dataSummary","data","series","hasData","timeFieldCount","numberFieldCount","info","theme2","warning","getListAppender","name","pluginId","options","fieldConfig","defaults","custom","overrides"],"sources":["/home/soula/grafana/public/app/plugins/panel/heatmap/suggestions.ts"],"sourcesContent":["import { VisualizationSuggestionsBuilder } from '@grafana/data';\nimport { config } from '@grafana/runtime';\n\nimport { prepareHeatmapData } from './fields';\nimport { PanelOptions, defaultPanelOptions } from './models.gen';\n\nexport class HeatmapSuggestionsSupplier {\n  getSuggestionsForData(builder: VisualizationSuggestionsBuilder) {\n    const { dataSummary } = builder;\n\n    if (\n      !builder.data?.series ||\n      !dataSummary.hasData ||\n      dataSummary.timeFieldCount < 1 ||\n      dataSummary.numberFieldCount < 2 ||\n      dataSummary.numberFieldCount > 10\n    ) {\n      return;\n    }\n\n    const info = prepareHeatmapData(builder.data, defaultPanelOptions, config.theme2);\n    if (!info || info.warning) {\n      return;\n    }\n\n    builder.getListAppender<PanelOptions, {}>({\n      name: '',\n      pluginId: 'heatmap',\n      options: {},\n      fieldConfig: {\n        defaults: {\n          custom: {},\n        },\n        overrides: [],\n      },\n    });\n  }\n}\n"],"mappings":"AACA,SAASA,MAAT,QAAuB,kBAAvB;AAEA,SAASC,kBAAT,QAAmC,UAAnC;AACA,SAAuBC,mBAAvB,QAAkD,cAAlD;AAEA,OAAO,MAAMC,0BAAN,CAAiC;EACtCC,qBAAqB,CAACC,OAAD,EAA2C;IAAA;;IAC9D,MAAM;MAAEC;IAAF,IAAkBD,OAAxB;;IAEA,IACE,mBAACA,OAAO,CAACE,IAAT,0CAAC,cAAcC,MAAf,KACA,CAACF,WAAW,CAACG,OADb,IAEAH,WAAW,CAACI,cAAZ,GAA6B,CAF7B,IAGAJ,WAAW,CAACK,gBAAZ,GAA+B,CAH/B,IAIAL,WAAW,CAACK,gBAAZ,GAA+B,EALjC,EAME;MACA;IACD;;IAED,MAAMC,IAAI,GAAGX,kBAAkB,CAACI,OAAO,CAACE,IAAT,EAAeL,mBAAf,EAAoCF,MAAM,CAACa,MAA3C,CAA/B;;IACA,IAAI,CAACD,IAAD,IAASA,IAAI,CAACE,OAAlB,EAA2B;MACzB;IACD;;IAEDT,OAAO,CAACU,eAAR,CAA0C;MACxCC,IAAI,EAAE,EADkC;MAExCC,QAAQ,EAAE,SAF8B;MAGxCC,OAAO,EAAE,EAH+B;MAIxCC,WAAW,EAAE;QACXC,QAAQ,EAAE;UACRC,MAAM,EAAE;QADA,CADC;QAIXC,SAAS,EAAE;MAJA;IAJ2B,CAA1C;EAWD;;AA9BqC"},"metadata":{},"sourceType":"module"}