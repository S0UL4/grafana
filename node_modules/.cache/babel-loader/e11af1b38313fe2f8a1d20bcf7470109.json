{"ast":null,"code":"// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\nimport IoIosArrowDown from 'react-icons/lib/io/ios-arrow-down';\nimport IoIosArrowRight from 'react-icons/lib/io/ios-arrow-right';\nimport { useStyles2 } from '@grafana/ui';\nimport { autoColor } from '../../Theme';\nimport { uAlignIcon } from '../../uberUtilityStyles';\nimport { getStyles as getAccordianKeyValuesStyles } from './AccordianKeyValues';\nimport TextList from './TextList';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst getStyles = theme => {\n  return {\n    header: css`\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ${autoColor(theme, '#e8e8e8')};\n      }\n    `\n  };\n};\n\nfunction DefaultTextComponent({\n  data\n}) {\n  return /*#__PURE__*/_jsx(TextList, {\n    data: data\n  });\n}\n\nexport default function AccordianText(props) {\n  const {\n    className,\n    data,\n    headerClassName,\n    interactive,\n    isOpen,\n    label,\n    onToggle,\n    TextComponent = DefaultTextComponent\n  } = props;\n  const isEmpty = !Array.isArray(data) || !data.length;\n  const accordianKeyValuesStyles = useStyles2(getAccordianKeyValuesStyles);\n  const iconCls = cx(uAlignIcon, {\n    [accordianKeyValuesStyles.emptyIcon]: isEmpty\n  });\n  let arrow = null;\n  let headerProps = null;\n\n  if (interactive) {\n    arrow = isOpen ? /*#__PURE__*/_jsx(IoIosArrowDown, {\n      className: iconCls\n    }) : /*#__PURE__*/_jsx(IoIosArrowRight, {\n      className: iconCls\n    });\n    headerProps = {\n      'aria-checked': isOpen,\n      onClick: isEmpty ? null : onToggle,\n      role: 'switch'\n    };\n  }\n\n  const styles = useStyles2(getStyles);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: className || '',\n    children: [/*#__PURE__*/_jsxs(\"div\", Object.assign({\n      className: cx(styles.header, headerClassName)\n    }, headerProps, {\n      \"data-testid\": \"AccordianText--header\",\n      children: [arrow, /*#__PURE__*/_jsx(\"strong\", {\n        children: label\n      }), \" (\", data.length, \")\"]\n    })), isOpen && /*#__PURE__*/_jsx(TextComponent, {\n      data: data\n    })]\n  });\n}\nAccordianText.defaultProps = {\n  className: null,\n  highContrast: false,\n  interactive: true,\n  onToggle: null\n};","map":{"version":3,"names":["css","cx","React","IoIosArrowDown","IoIosArrowRight","useStyles2","autoColor","uAlignIcon","getStyles","getAccordianKeyValuesStyles","TextList","theme","header","DefaultTextComponent","data","AccordianText","props","className","headerClassName","interactive","isOpen","label","onToggle","TextComponent","isEmpty","Array","isArray","length","accordianKeyValuesStyles","iconCls","emptyIcon","arrow","headerProps","onClick","role","styles","defaultProps","highContrast"],"sources":["/home/soula/grafana/packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianText.tsx"],"sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\nimport IoIosArrowDown from 'react-icons/lib/io/ios-arrow-down';\nimport IoIosArrowRight from 'react-icons/lib/io/ios-arrow-right';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { autoColor } from '../../Theme';\nimport { TNil } from '../../types';\nimport { uAlignIcon } from '../../uberUtilityStyles';\n\nimport { getStyles as getAccordianKeyValuesStyles } from './AccordianKeyValues';\nimport TextList from './TextList';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    header: css`\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ${autoColor(theme, '#e8e8e8')};\n      }\n    `,\n  };\n};\n\ntype AccordianTextProps = {\n  className?: string | TNil;\n  headerClassName?: string | TNil;\n  data: string[];\n  highContrast?: boolean;\n  interactive?: boolean;\n  isOpen: boolean;\n  label: React.ReactNode | string;\n  onToggle?: null | (() => void);\n  TextComponent?: React.ElementType<{ data: string[] }>;\n};\n\nfunction DefaultTextComponent({ data }: { data: string[] }) {\n  return <TextList data={data} />;\n}\n\nexport default function AccordianText(props: AccordianTextProps) {\n  const {\n    className,\n    data,\n    headerClassName,\n    interactive,\n    isOpen,\n    label,\n    onToggle,\n    TextComponent = DefaultTextComponent,\n  } = props;\n  const isEmpty = !Array.isArray(data) || !data.length;\n  const accordianKeyValuesStyles = useStyles2(getAccordianKeyValuesStyles);\n  const iconCls = cx(uAlignIcon, { [accordianKeyValuesStyles.emptyIcon]: isEmpty });\n  let arrow: React.ReactNode | null = null;\n  let headerProps: {} | null = null;\n  if (interactive) {\n    arrow = isOpen ? <IoIosArrowDown className={iconCls} /> : <IoIosArrowRight className={iconCls} />;\n    headerProps = {\n      'aria-checked': isOpen,\n      onClick: isEmpty ? null : onToggle,\n      role: 'switch',\n    };\n  }\n  const styles = useStyles2(getStyles);\n  return (\n    <div className={className || ''}>\n      <div className={cx(styles.header, headerClassName)} {...headerProps} data-testid=\"AccordianText--header\">\n        {arrow}\n        <strong>{label}</strong> ({data.length})\n      </div>\n      {isOpen && <TextComponent data={data} />}\n    </div>\n  );\n}\n\nAccordianText.defaultProps = {\n  className: null,\n  highContrast: false,\n  interactive: true,\n  onToggle: null,\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AAGA,SAASC,UAAT,QAA2B,aAA3B;AAEA,SAASC,SAAT,QAA0B,aAA1B;AAEA,SAASC,UAAT,QAA2B,yBAA3B;AAEA,SAASC,SAAS,IAAIC,2BAAtB,QAAyD,sBAAzD;AACA,OAAOC,QAAP,MAAqB,YAArB;;;;AAEA,MAAMF,SAAS,GAAIG,KAAD,IAA0B;EAC1C,OAAO;IACLC,MAAM,EAAEZ,GAAI;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBM,SAAS,CAACK,KAAD,EAAQ,SAAR,CAAmB;AAClD;AACA;EAVS,CAAP;AAYD,CAbD;;AA2BA,SAASE,oBAAT,CAA8B;EAAEC;AAAF,CAA9B,EAA4D;EAC1D,oBAAO,KAAC,QAAD;IAAU,IAAI,EAAEA;EAAhB,EAAP;AACD;;AAED,eAAe,SAASC,aAAT,CAAuBC,KAAvB,EAAkD;EAC/D,MAAM;IACJC,SADI;IAEJH,IAFI;IAGJI,eAHI;IAIJC,WAJI;IAKJC,MALI;IAMJC,KANI;IAOJC,QAPI;IAQJC,aAAa,GAAGV;EARZ,IASFG,KATJ;EAUA,MAAMQ,OAAO,GAAG,CAACC,KAAK,CAACC,OAAN,CAAcZ,IAAd,CAAD,IAAwB,CAACA,IAAI,CAACa,MAA9C;EACA,MAAMC,wBAAwB,GAAGvB,UAAU,CAACI,2BAAD,CAA3C;EACA,MAAMoB,OAAO,GAAG5B,EAAE,CAACM,UAAD,EAAa;IAAE,CAACqB,wBAAwB,CAACE,SAA1B,GAAsCN;EAAxC,CAAb,CAAlB;EACA,IAAIO,KAA6B,GAAG,IAApC;EACA,IAAIC,WAAsB,GAAG,IAA7B;;EACA,IAAIb,WAAJ,EAAiB;IACfY,KAAK,GAAGX,MAAM,gBAAG,KAAC,cAAD;MAAgB,SAAS,EAAES;IAA3B,EAAH,gBAA4C,KAAC,eAAD;MAAiB,SAAS,EAAEA;IAA5B,EAA1D;IACAG,WAAW,GAAG;MACZ,gBAAgBZ,MADJ;MAEZa,OAAO,EAAET,OAAO,GAAG,IAAH,GAAUF,QAFd;MAGZY,IAAI,EAAE;IAHM,CAAd;EAKD;;EACD,MAAMC,MAAM,GAAG9B,UAAU,CAACG,SAAD,CAAzB;EACA,oBACE;IAAK,SAAS,EAAES,SAAS,IAAI,EAA7B;IAAA,wBACE;MAAK,SAAS,EAAEhB,EAAE,CAACkC,MAAM,CAACvB,MAAR,EAAgBM,eAAhB;IAAlB,GAAwDc,WAAxD;MAAqE,eAAY,uBAAjF;MAAA,WACGD,KADH,eAEE;QAAA,UAASV;MAAT,EAFF,QAE6BP,IAAI,CAACa,MAFlC;IAAA,GADF,EAKGP,MAAM,iBAAI,KAAC,aAAD;MAAe,IAAI,EAAEN;IAArB,EALb;EAAA,EADF;AASD;AAEDC,aAAa,CAACqB,YAAd,GAA6B;EAC3BnB,SAAS,EAAE,IADgB;EAE3BoB,YAAY,EAAE,KAFa;EAG3BlB,WAAW,EAAE,IAHc;EAI3BG,QAAQ,EAAE;AAJiB,CAA7B"},"metadata":{},"sourceType":"module"}