{"ast":null,"code":"import { css } from '@emotion/css';\nimport React from 'react';\nimport { useStyles2, Icon } from '@grafana/ui';\nimport { PluginIconName } from '../types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function PluginDetailsHeaderDependencies({\n  plugin,\n  latestCompatibleVersion,\n  className\n}) {\n  var _plugin$details, _plugin$details2, _plugin$details3;\n\n  const styles = useStyles2(getStyles);\n  const pluginDependencies = (_plugin$details = plugin.details) === null || _plugin$details === void 0 ? void 0 : _plugin$details.pluginDependencies;\n  const grafanaDependency = plugin.isInstalled ? (_plugin$details2 = plugin.details) === null || _plugin$details2 === void 0 ? void 0 : _plugin$details2.grafanaDependency : (latestCompatibleVersion === null || latestCompatibleVersion === void 0 ? void 0 : latestCompatibleVersion.grafanaDependency) || ((_plugin$details3 = plugin.details) === null || _plugin$details3 === void 0 ? void 0 : _plugin$details3.grafanaDependency);\n  const hasNoDependencyInfo = !grafanaDependency && (!pluginDependencies || !pluginDependencies.length);\n\n  if (hasNoDependencyInfo) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.dependencyTitle,\n      children: \"Dependencies:\"\n    }), Boolean(grafanaDependency) && /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(Icon, {\n        name: \"grafana\",\n        className: styles.icon\n      }), \"Grafana \", grafanaDependency]\n    }), pluginDependencies && pluginDependencies.length > 0 && /*#__PURE__*/_jsx(\"div\", {\n      children: pluginDependencies.map(p => {\n        return /*#__PURE__*/_jsxs(\"span\", {\n          children: [/*#__PURE__*/_jsx(Icon, {\n            name: PluginIconName[p.type],\n            className: styles.icon\n          }), p.name, \" \", p.version]\n        }, p.name);\n      })\n    })]\n  });\n}\nexport const getStyles = theme => {\n  return {\n    dependencyTitle: css`\n      font-weight: ${theme.typography.fontWeightBold};\n      margin-right: ${theme.spacing(0.5)};\n\n      &::after {\n        content: '';\n        padding: 0;\n      }\n    `,\n    icon: css`\n      color: ${theme.colors.text.secondary};\n      margin-right: ${theme.spacing(0.5)};\n    `\n  };\n};","map":{"version":3,"names":["css","React","useStyles2","Icon","PluginIconName","PluginDetailsHeaderDependencies","plugin","latestCompatibleVersion","className","styles","getStyles","pluginDependencies","details","grafanaDependency","isInstalled","hasNoDependencyInfo","length","dependencyTitle","Boolean","icon","map","p","type","name","version","theme","typography","fontWeightBold","spacing","colors","text","secondary"],"sources":["/home/soula/grafana/public/app/features/plugins/admin/components/PluginDetailsHeaderDependencies.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2, Icon } from '@grafana/ui';\n\nimport { Version, CatalogPlugin, PluginIconName } from '../types';\n\ntype Props = {\n  plugin: CatalogPlugin;\n  latestCompatibleVersion?: Version;\n  className?: string;\n};\n\nexport function PluginDetailsHeaderDependencies({\n  plugin,\n  latestCompatibleVersion,\n  className,\n}: Props): React.ReactElement | null {\n  const styles = useStyles2(getStyles);\n  const pluginDependencies = plugin.details?.pluginDependencies;\n  const grafanaDependency = plugin.isInstalled\n    ? plugin.details?.grafanaDependency\n    : latestCompatibleVersion?.grafanaDependency || plugin.details?.grafanaDependency;\n  const hasNoDependencyInfo = !grafanaDependency && (!pluginDependencies || !pluginDependencies.length);\n\n  if (hasNoDependencyInfo) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <div className={styles.dependencyTitle}>Dependencies:</div>\n\n      {/* Grafana dependency */}\n      {Boolean(grafanaDependency) && (\n        <div>\n          <Icon name=\"grafana\" className={styles.icon} />\n          Grafana {grafanaDependency}\n        </div>\n      )}\n\n      {/* Plugin dependencies */}\n      {pluginDependencies && pluginDependencies.length > 0 && (\n        <div>\n          {pluginDependencies.map((p) => {\n            return (\n              <span key={p.name}>\n                <Icon name={PluginIconName[p.type]} className={styles.icon} />\n                {p.name} {p.version}\n              </span>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    dependencyTitle: css`\n      font-weight: ${theme.typography.fontWeightBold};\n      margin-right: ${theme.spacing(0.5)};\n\n      &::after {\n        content: '';\n        padding: 0;\n      }\n    `,\n    icon: css`\n      color: ${theme.colors.text.secondary};\n      margin-right: ${theme.spacing(0.5)};\n    `,\n  };\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,aAAjC;AAEA,SAAiCC,cAAjC,QAAuD,UAAvD;;;AAQA,OAAO,SAASC,+BAAT,CAAyC;EAC9CC,MAD8C;EAE9CC,uBAF8C;EAG9CC;AAH8C,CAAzC,EAI8B;EAAA;;EACnC,MAAMC,MAAM,GAAGP,UAAU,CAACQ,SAAD,CAAzB;EACA,MAAMC,kBAAkB,sBAAGL,MAAM,CAACM,OAAV,oDAAG,gBAAgBD,kBAA3C;EACA,MAAME,iBAAiB,GAAGP,MAAM,CAACQ,WAAP,uBACtBR,MAAM,CAACM,OADe,qDACtB,iBAAgBC,iBADM,GAEtB,CAAAN,uBAAuB,SAAvB,IAAAA,uBAAuB,WAAvB,YAAAA,uBAAuB,CAAEM,iBAAzB,0BAA8CP,MAAM,CAACM,OAArD,qDAA8C,iBAAgBC,iBAA9D,CAFJ;EAGA,MAAME,mBAAmB,GAAG,CAACF,iBAAD,KAAuB,CAACF,kBAAD,IAAuB,CAACA,kBAAkB,CAACK,MAAlE,CAA5B;;EAEA,IAAID,mBAAJ,EAAyB;IACvB,OAAO,IAAP;EACD;;EAED,oBACE;IAAK,SAAS,EAAEP,SAAhB;IAAA,wBACE;MAAK,SAAS,EAAEC,MAAM,CAACQ,eAAvB;MAAA;IAAA,EADF,EAIGC,OAAO,CAACL,iBAAD,CAAP,iBACC;MAAA,wBACE,KAAC,IAAD;QAAM,IAAI,EAAC,SAAX;QAAqB,SAAS,EAAEJ,MAAM,CAACU;MAAvC,EADF,cAEWN,iBAFX;IAAA,EALJ,EAYGF,kBAAkB,IAAIA,kBAAkB,CAACK,MAAnB,GAA4B,CAAlD,iBACC;MAAA,UACGL,kBAAkB,CAACS,GAAnB,CAAwBC,CAAD,IAAO;QAC7B,oBACE;UAAA,wBACE,KAAC,IAAD;YAAM,IAAI,EAAEjB,cAAc,CAACiB,CAAC,CAACC,IAAH,CAA1B;YAAoC,SAAS,EAAEb,MAAM,CAACU;UAAtD,EADF,EAEGE,CAAC,CAACE,IAFL,OAEYF,CAAC,CAACG,OAFd;QAAA,GAAWH,CAAC,CAACE,IAAb,CADF;MAMD,CAPA;IADH,EAbJ;EAAA,EADF;AA2BD;AAED,OAAO,MAAMb,SAAS,GAAIe,KAAD,IAA0B;EACjD,OAAO;IACLR,eAAe,EAAEjB,GAAI;AACzB,qBAAqByB,KAAK,CAACC,UAAN,CAAiBC,cAAe;AACrD,sBAAsBF,KAAK,CAACG,OAAN,CAAc,GAAd,CAAmB;AACzC;AACA;AACA;AACA;AACA;AACA,KATS;IAULT,IAAI,EAAEnB,GAAI;AACd,eAAeyB,KAAK,CAACI,MAAN,CAAaC,IAAb,CAAkBC,SAAU;AAC3C,sBAAsBN,KAAK,CAACG,OAAN,CAAc,GAAd,CAAmB;AACzC;EAbS,CAAP;AAeD,CAhBM"},"metadata":{},"sourceType":"module"}