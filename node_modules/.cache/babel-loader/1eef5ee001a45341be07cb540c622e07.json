{"ast":null,"code":"import { isEmpty } from 'lodash';\nimport { hasAlertState } from 'app/types/unified-alerting';\nimport { GrafanaAlertState, PromAlertingRuleState } from 'app/types/unified-alerting-dto';\nexport function filterAlerts(options, alerts) {\n  const {\n    stateFilter\n  } = options;\n\n  if (isEmpty(stateFilter)) {\n    return alerts;\n  }\n\n  return alerts.filter(alert => {\n    return stateFilter.firing && (hasAlertState(alert, GrafanaAlertState.Alerting) || hasAlertState(alert, PromAlertingRuleState.Firing)) || stateFilter.pending && (hasAlertState(alert, GrafanaAlertState.Pending) || hasAlertState(alert, PromAlertingRuleState.Pending)) || stateFilter.noData && hasAlertState(alert, GrafanaAlertState.NoData) || stateFilter.normal && hasAlertState(alert, GrafanaAlertState.Normal) || stateFilter.error && hasAlertState(alert, GrafanaAlertState.Error) || stateFilter.inactive && hasAlertState(alert, PromAlertingRuleState.Inactive);\n  });\n}\nexport function isPrivateLabel(label) {\n  return !(label.startsWith('__') && label.endsWith('__'));\n}","map":{"version":3,"names":["isEmpty","hasAlertState","GrafanaAlertState","PromAlertingRuleState","filterAlerts","options","alerts","stateFilter","filter","alert","firing","Alerting","Firing","pending","Pending","noData","NoData","normal","Normal","error","Error","inactive","Inactive","isPrivateLabel","label","startsWith","endsWith"],"sources":["/home/soula/grafana/public/app/plugins/panel/alertlist/util.ts"],"sourcesContent":["import { isEmpty } from 'lodash';\n\nimport { PanelProps } from '@grafana/data';\nimport { Alert, hasAlertState } from 'app/types/unified-alerting';\nimport { GrafanaAlertState, PromAlertingRuleState } from 'app/types/unified-alerting-dto';\n\nimport { UnifiedAlertListOptions } from './types';\n\nexport function filterAlerts(options: PanelProps<UnifiedAlertListOptions>['options'], alerts: Alert[]): Alert[] {\n  const { stateFilter } = options;\n\n  if (isEmpty(stateFilter)) {\n    return alerts;\n  }\n\n  return alerts.filter((alert) => {\n    return (\n      (stateFilter.firing &&\n        (hasAlertState(alert, GrafanaAlertState.Alerting) || hasAlertState(alert, PromAlertingRuleState.Firing))) ||\n      (stateFilter.pending &&\n        (hasAlertState(alert, GrafanaAlertState.Pending) || hasAlertState(alert, PromAlertingRuleState.Pending))) ||\n      (stateFilter.noData && hasAlertState(alert, GrafanaAlertState.NoData)) ||\n      (stateFilter.normal && hasAlertState(alert, GrafanaAlertState.Normal)) ||\n      (stateFilter.error && hasAlertState(alert, GrafanaAlertState.Error)) ||\n      (stateFilter.inactive && hasAlertState(alert, PromAlertingRuleState.Inactive))\n    );\n  });\n}\n\nexport function isPrivateLabel(label: string) {\n  return !(label.startsWith('__') && label.endsWith('__'));\n}\n"],"mappings":"AAAA,SAASA,OAAT,QAAwB,QAAxB;AAGA,SAAgBC,aAAhB,QAAqC,4BAArC;AACA,SAASC,iBAAT,EAA4BC,qBAA5B,QAAyD,gCAAzD;AAIA,OAAO,SAASC,YAAT,CAAsBC,OAAtB,EAA+EC,MAA/E,EAAyG;EAC9G,MAAM;IAAEC;EAAF,IAAkBF,OAAxB;;EAEA,IAAIL,OAAO,CAACO,WAAD,CAAX,EAA0B;IACxB,OAAOD,MAAP;EACD;;EAED,OAAOA,MAAM,CAACE,MAAP,CAAeC,KAAD,IAAW;IAC9B,OACGF,WAAW,CAACG,MAAZ,KACET,aAAa,CAACQ,KAAD,EAAQP,iBAAiB,CAACS,QAA1B,CAAb,IAAoDV,aAAa,CAACQ,KAAD,EAAQN,qBAAqB,CAACS,MAA9B,CADnE,CAAD,IAECL,WAAW,CAACM,OAAZ,KACEZ,aAAa,CAACQ,KAAD,EAAQP,iBAAiB,CAACY,OAA1B,CAAb,IAAmDb,aAAa,CAACQ,KAAD,EAAQN,qBAAqB,CAACW,OAA9B,CADlE,CAFD,IAICP,WAAW,CAACQ,MAAZ,IAAsBd,aAAa,CAACQ,KAAD,EAAQP,iBAAiB,CAACc,MAA1B,CAJpC,IAKCT,WAAW,CAACU,MAAZ,IAAsBhB,aAAa,CAACQ,KAAD,EAAQP,iBAAiB,CAACgB,MAA1B,CALpC,IAMCX,WAAW,CAACY,KAAZ,IAAqBlB,aAAa,CAACQ,KAAD,EAAQP,iBAAiB,CAACkB,KAA1B,CANnC,IAOCb,WAAW,CAACc,QAAZ,IAAwBpB,aAAa,CAACQ,KAAD,EAAQN,qBAAqB,CAACmB,QAA9B,CARxC;EAUD,CAXM,CAAP;AAYD;AAED,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAAuC;EAC5C,OAAO,EAAEA,KAAK,CAACC,UAAN,CAAiB,IAAjB,KAA0BD,KAAK,CAACE,QAAN,CAAe,IAAf,CAA5B,CAAP;AACD"},"metadata":{},"sourceType":"module"}