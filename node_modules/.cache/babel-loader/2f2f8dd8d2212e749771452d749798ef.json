{"ast":null,"code":"var _Button;\n\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Tooltip, Form, Field, VerticalGroup, Button } from '@grafana/ui';\nimport { submitButton } from '../Login/LoginForm';\nimport { PasswordField } from '../PasswordField/PasswordField';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport const ChangePassword = ({\n  onSubmit,\n  onSkip\n}) => {\n  const submit = passwords => {\n    onSubmit(passwords.newPassword);\n  };\n\n  return /*#__PURE__*/_jsx(Form, {\n    onSubmit: submit,\n    children: ({\n      errors,\n      register,\n      getValues\n    }) => {\n      var _errors$newPassword, _errors$confirmNew;\n\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Field, {\n          label: \"New password\",\n          invalid: !!errors.newPassword,\n          error: errors === null || errors === void 0 ? void 0 : (_errors$newPassword = errors.newPassword) === null || _errors$newPassword === void 0 ? void 0 : _errors$newPassword.message,\n          children: /*#__PURE__*/_jsx(PasswordField, Object.assign({\n            id: \"new-password\",\n            autoFocus: true,\n            autoComplete: \"new-password\"\n          }, register('newPassword', {\n            required: 'New Password is required'\n          })))\n        }), /*#__PURE__*/_jsx(Field, {\n          label: \"Confirm new password\",\n          invalid: !!errors.confirmNew,\n          error: errors === null || errors === void 0 ? void 0 : (_errors$confirmNew = errors.confirmNew) === null || _errors$confirmNew === void 0 ? void 0 : _errors$confirmNew.message,\n          children: /*#__PURE__*/_jsx(PasswordField, Object.assign({\n            id: \"confirm-new-password\",\n            autoComplete: \"new-password\"\n          }, register('confirmNew', {\n            required: 'Confirmed Password is required',\n            validate: v => v === getValues().newPassword || 'Passwords must match!'\n          })))\n        }), /*#__PURE__*/_jsxs(VerticalGroup, {\n          children: [_Button || (_Button = /*#__PURE__*/_jsx(Button, {\n            type: \"submit\",\n            className: submitButton,\n            children: \"Submit\"\n          })), onSkip && /*#__PURE__*/_jsx(Tooltip, {\n            content: \"If you skip you will be prompted to change password next time you log in.\",\n            placement: \"bottom\",\n            children: /*#__PURE__*/_jsx(Button, {\n              fill: \"text\",\n              onClick: onSkip,\n              type: \"button\",\n              \"aria-label\": selectors.pages.Login.skip,\n              children: \"Skip\"\n            })\n          })]\n        })]\n      });\n    }\n  });\n};","map":{"version":3,"names":["React","selectors","Tooltip","Form","Field","VerticalGroup","Button","submitButton","PasswordField","ChangePassword","onSubmit","onSkip","submit","passwords","newPassword","errors","register","getValues","message","required","confirmNew","validate","v","pages","Login","skip"],"sources":["/home/soula/grafana/public/app/core/components/ForgottenPassword/ChangePassword.tsx"],"sourcesContent":["import React, { FC, SyntheticEvent } from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Tooltip, Form, Field, VerticalGroup, Button } from '@grafana/ui';\n\nimport { submitButton } from '../Login/LoginForm';\nimport { PasswordField } from '../PasswordField/PasswordField';\ninterface Props {\n  onSubmit: (pw: string) => void;\n  onSkip?: (event?: SyntheticEvent) => void;\n}\n\ninterface PasswordDTO {\n  newPassword: string;\n  confirmNew: string;\n}\n\nexport const ChangePassword: FC<Props> = ({ onSubmit, onSkip }) => {\n  const submit = (passwords: PasswordDTO) => {\n    onSubmit(passwords.newPassword);\n  };\n  return (\n    <Form onSubmit={submit}>\n      {({ errors, register, getValues }) => (\n        <>\n          <Field label=\"New password\" invalid={!!errors.newPassword} error={errors?.newPassword?.message}>\n            <PasswordField\n              id=\"new-password\"\n              autoFocus\n              autoComplete=\"new-password\"\n              {...register('newPassword', { required: 'New Password is required' })}\n            />\n          </Field>\n          <Field label=\"Confirm new password\" invalid={!!errors.confirmNew} error={errors?.confirmNew?.message}>\n            <PasswordField\n              id=\"confirm-new-password\"\n              autoComplete=\"new-password\"\n              {...register('confirmNew', {\n                required: 'Confirmed Password is required',\n                validate: (v: string) => v === getValues().newPassword || 'Passwords must match!',\n              })}\n            />\n          </Field>\n          <VerticalGroup>\n            <Button type=\"submit\" className={submitButton}>\n              Submit\n            </Button>\n\n            {onSkip && (\n              <Tooltip\n                content=\"If you skip you will be prompted to change password next time you log in.\"\n                placement=\"bottom\"\n              >\n                <Button fill=\"text\" onClick={onSkip} type=\"button\" aria-label={selectors.pages.Login.skip}>\n                  Skip\n                </Button>\n              </Tooltip>\n            )}\n          </VerticalGroup>\n        </>\n      )}\n    </Form>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,MAA0C,OAA1C;AAEA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,OAAT,EAAkBC,IAAlB,EAAwBC,KAAxB,EAA+BC,aAA/B,EAA8CC,MAA9C,QAA4D,aAA5D;AAEA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAASC,aAAT,QAA8B,gCAA9B;;;;AAWA,OAAO,MAAMC,cAAyB,GAAG,CAAC;EAAEC,QAAF;EAAYC;AAAZ,CAAD,KAA0B;EACjE,MAAMC,MAAM,GAAIC,SAAD,IAA4B;IACzCH,QAAQ,CAACG,SAAS,CAACC,WAAX,CAAR;EACD,CAFD;;EAGA,oBACE,KAAC,IAAD;IAAM,QAAQ,EAAEF,MAAhB;IAAA,UACG,CAAC;MAAEG,MAAF;MAAUC,QAAV;MAAoBC;IAApB,CAAD;MAAA;;MAAA,oBACC;QAAA,wBACE,KAAC,KAAD;UAAO,KAAK,EAAC,cAAb;UAA4B,OAAO,EAAE,CAAC,CAACF,MAAM,CAACD,WAA9C;UAA2D,KAAK,EAAEC,MAAF,aAAEA,MAAF,8CAAEA,MAAM,CAAED,WAAV,wDAAE,oBAAqBI,OAAvF;UAAA,uBACE,KAAC,aAAD;YACE,EAAE,EAAC,cADL;YAEE,SAAS,MAFX;YAGE,YAAY,EAAC;UAHf,GAIMF,QAAQ,CAAC,aAAD,EAAgB;YAAEG,QAAQ,EAAE;UAAZ,CAAhB,CAJd;QADF,EADF,eASE,KAAC,KAAD;UAAO,KAAK,EAAC,sBAAb;UAAoC,OAAO,EAAE,CAAC,CAACJ,MAAM,CAACK,UAAtD;UAAkE,KAAK,EAAEL,MAAF,aAAEA,MAAF,6CAAEA,MAAM,CAAEK,UAAV,uDAAE,mBAAoBF,OAA7F;UAAA,uBACE,KAAC,aAAD;YACE,EAAE,EAAC,sBADL;YAEE,YAAY,EAAC;UAFf,GAGMF,QAAQ,CAAC,YAAD,EAAe;YACzBG,QAAQ,EAAE,gCADe;YAEzBE,QAAQ,EAAGC,CAAD,IAAeA,CAAC,KAAKL,SAAS,GAAGH,WAAlB,IAAiC;UAFjC,CAAf,CAHd;QADF,EATF,eAmBE,MAAC,aAAD;UAAA,8CACE,KAAC,MAAD;YAAQ,IAAI,EAAC,QAAb;YAAsB,SAAS,EAAEP,YAAjC;YAAA;UAAA,EADF,GAKGI,MAAM,iBACL,KAAC,OAAD;YACE,OAAO,EAAC,2EADV;YAEE,SAAS,EAAC,QAFZ;YAAA,uBAIE,KAAC,MAAD;cAAQ,IAAI,EAAC,MAAb;cAAoB,OAAO,EAAEA,MAA7B;cAAqC,IAAI,EAAC,QAA1C;cAAmD,cAAYV,SAAS,CAACsB,KAAV,CAAgBC,KAAhB,CAAsBC,IAArF;cAAA;YAAA;UAJF,EANJ;QAAA,EAnBF;MAAA,EADD;IAAA;EADH,EADF;AA0CD,CA9CM"},"metadata":{},"sourceType":"module"}