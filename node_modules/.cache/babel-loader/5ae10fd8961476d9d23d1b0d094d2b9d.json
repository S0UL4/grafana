{"ast":null,"code":"import { BaseTransport } from '@sentry/browser/dist/transports';\nimport { getEchoSrv, EchoEventType } from '@grafana/runtime';\nexport class EchoSrvTransport extends BaseTransport {\n  sendEvent(event) {\n    getEchoSrv().addEvent({\n      type: EchoEventType.Sentry,\n      payload: event\n    });\n    return Promise.resolve({\n      status: 'success',\n      event\n    });\n  } // not recording sessions for now\n\n\n  sendSession(session) {\n    return Promise.resolve({\n      status: 'skipped'\n    });\n  } // required by BaseTransport definition but not used by this implementation\n\n\n  _sendRequest(sentryRequest, originalPayload) {\n    throw new Error('should not happen');\n  }\n\n}","map":{"version":3,"names":["BaseTransport","getEchoSrv","EchoEventType","EchoSrvTransport","sendEvent","event","addEvent","type","Sentry","payload","Promise","resolve","status","sendSession","session","_sendRequest","sentryRequest","originalPayload","Error"],"sources":["/home/soula/grafana/public/app/core/services/echo/backends/sentry/transports/EchoSrvTransport.ts"],"sourcesContent":["import { Event } from '@sentry/browser';\nimport { BaseTransport } from '@sentry/browser/dist/transports';\nimport { EventStatus, Request, Session, Response } from '@sentry/types';\n\nimport { getEchoSrv, EchoEventType } from '@grafana/runtime';\n\nexport class EchoSrvTransport extends BaseTransport {\n  sendEvent(event: Event) {\n    getEchoSrv().addEvent({\n      type: EchoEventType.Sentry,\n      payload: event,\n    });\n    return Promise.resolve({ status: 'success' as EventStatus, event });\n  }\n  // not recording sessions for now\n  sendSession(session: Session): PromiseLike<Response> {\n    return Promise.resolve({ status: 'skipped' });\n  }\n  // required by BaseTransport definition but not used by this implementation\n  _sendRequest(sentryRequest: Request, originalPayload: Event | Session): PromiseLike<Response> {\n    throw new Error('should not happen');\n  }\n}\n"],"mappings":"AACA,SAASA,aAAT,QAA8B,iCAA9B;AAGA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,kBAA1C;AAEA,OAAO,MAAMC,gBAAN,SAA+BH,aAA/B,CAA6C;EAClDI,SAAS,CAACC,KAAD,EAAe;IACtBJ,UAAU,GAAGK,QAAb,CAAsB;MACpBC,IAAI,EAAEL,aAAa,CAACM,MADA;MAEpBC,OAAO,EAAEJ;IAFW,CAAtB;IAIA,OAAOK,OAAO,CAACC,OAAR,CAAgB;MAAEC,MAAM,EAAE,SAAV;MAAoCP;IAApC,CAAhB,CAAP;EACD,CAPiD,CAQlD;;;EACAQ,WAAW,CAACC,OAAD,EAA0C;IACnD,OAAOJ,OAAO,CAACC,OAAR,CAAgB;MAAEC,MAAM,EAAE;IAAV,CAAhB,CAAP;EACD,CAXiD,CAYlD;;;EACAG,YAAY,CAACC,aAAD,EAAyBC,eAAzB,EAAkF;IAC5F,MAAM,IAAIC,KAAJ,CAAU,mBAAV,CAAN;EACD;;AAfiD"},"metadata":{},"sourceType":"module"}