{"ast":null,"code":"import { css } from '@emotion/css';\nimport React from 'react';\nimport SVG from 'react-inlinesvg';\nimport { Field, Input, Label, useStyles2 } from '@grafana/ui';\nimport { getPublicOrAbsoluteUrl } from '../resource';\nimport { MediaType } from '../types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport const URLPickerTab = props => {\n  const {\n    newValue,\n    setNewValue,\n    mediaType\n  } = props;\n  const styles = useStyles2(getStyles);\n  const imgSrc = getPublicOrAbsoluteUrl(newValue);\n  let shortName = newValue === null || newValue === void 0 ? void 0 : newValue.substring(newValue.lastIndexOf('/') + 1, newValue.lastIndexOf('.'));\n\n  if (shortName.length > 20) {\n    shortName = shortName.substring(0, 20) + '...';\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Field, {\n      children: /*#__PURE__*/_jsx(Input, {\n        onChange: e => setNewValue(e.currentTarget.value),\n        value: newValue\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.iconContainer,\n      children: [/*#__PURE__*/_jsx(Field, {\n        label: \"Preview\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.iconPreview,\n          children: [mediaType === MediaType.Icon && /*#__PURE__*/_jsx(SVG, {\n            src: imgSrc,\n            className: styles.img\n          }), mediaType === MediaType.Image && newValue && /*#__PURE__*/_jsx(\"img\", {\n            src: imgSrc,\n            className: styles.img\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Label, {\n        children: shortName\n      })]\n    })]\n  });\n};\n\nconst getStyles = theme => ({\n  iconContainer: css`\n    display: flex;\n    flex-direction: column;\n    width: 80%;\n    align-items: center;\n    align-self: center;\n  `,\n  iconPreview: css`\n    width: 238px;\n    height: 198px;\n    border: 1px solid ${theme.colors.border.medium};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `,\n  img: css`\n    width: 147px;\n    height: 147px;\n    fill: ${theme.colors.text.primary};\n  `\n});","map":{"version":3,"names":["css","React","SVG","Field","Input","Label","useStyles2","getPublicOrAbsoluteUrl","MediaType","URLPickerTab","props","newValue","setNewValue","mediaType","styles","getStyles","imgSrc","shortName","substring","lastIndexOf","length","e","currentTarget","value","iconContainer","iconPreview","Icon","img","Image","theme","colors","border","medium","text","primary"],"sources":["/home/soula/grafana/public/app/features/dimensions/editors/URLPickerTab.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { Dispatch, SetStateAction } from 'react';\nimport SVG from 'react-inlinesvg';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Field, Input, Label, useStyles2 } from '@grafana/ui';\n\nimport { getPublicOrAbsoluteUrl } from '../resource';\nimport { MediaType } from '../types';\n\ninterface Props {\n  newValue: string;\n  setNewValue: Dispatch<SetStateAction<string>>;\n  mediaType: MediaType;\n}\n\nexport const URLPickerTab = (props: Props) => {\n  const { newValue, setNewValue, mediaType } = props;\n  const styles = useStyles2(getStyles);\n\n  const imgSrc = getPublicOrAbsoluteUrl(newValue!);\n\n  let shortName = newValue?.substring(newValue.lastIndexOf('/') + 1, newValue.lastIndexOf('.'));\n  if (shortName.length > 20) {\n    shortName = shortName.substring(0, 20) + '...';\n  }\n\n  return (\n    <>\n      <Field>\n        <Input onChange={(e) => setNewValue(e.currentTarget.value)} value={newValue} />\n      </Field>\n      <div className={styles.iconContainer}>\n        <Field label=\"Preview\">\n          <div className={styles.iconPreview}>\n            {mediaType === MediaType.Icon && <SVG src={imgSrc} className={styles.img} />}\n            {mediaType === MediaType.Image && newValue && <img src={imgSrc} className={styles.img} />}\n          </div>\n        </Field>\n        <Label>{shortName}</Label>\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  iconContainer: css`\n    display: flex;\n    flex-direction: column;\n    width: 80%;\n    align-items: center;\n    align-self: center;\n  `,\n  iconPreview: css`\n    width: 238px;\n    height: 198px;\n    border: 1px solid ${theme.colors.border.medium};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  `,\n  img: css`\n    width: 147px;\n    height: 147px;\n    fill: ${theme.colors.text.primary};\n  `,\n});\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAgD,OAAhD;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAGA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,KAAvB,EAA8BC,UAA9B,QAAgD,aAAhD;AAEA,SAASC,sBAAT,QAAuC,aAAvC;AACA,SAASC,SAAT,QAA0B,UAA1B;;;;AAQA,OAAO,MAAMC,YAAY,GAAIC,KAAD,IAAkB;EAC5C,MAAM;IAAEC,QAAF;IAAYC,WAAZ;IAAyBC;EAAzB,IAAuCH,KAA7C;EACA,MAAMI,MAAM,GAAGR,UAAU,CAACS,SAAD,CAAzB;EAEA,MAAMC,MAAM,GAAGT,sBAAsB,CAACI,QAAD,CAArC;EAEA,IAAIM,SAAS,GAAGN,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEO,SAAV,CAAoBP,QAAQ,CAACQ,WAAT,CAAqB,GAArB,IAA4B,CAAhD,EAAmDR,QAAQ,CAACQ,WAAT,CAAqB,GAArB,CAAnD,CAAhB;;EACA,IAAIF,SAAS,CAACG,MAAV,GAAmB,EAAvB,EAA2B;IACzBH,SAAS,GAAGA,SAAS,CAACC,SAAV,CAAoB,CAApB,EAAuB,EAAvB,IAA6B,KAAzC;EACD;;EAED,oBACE;IAAA,wBACE,KAAC,KAAD;MAAA,uBACE,KAAC,KAAD;QAAO,QAAQ,EAAGG,CAAD,IAAOT,WAAW,CAACS,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAnC;QAA4D,KAAK,EAAEZ;MAAnE;IADF,EADF,eAIE;MAAK,SAAS,EAAEG,MAAM,CAACU,aAAvB;MAAA,wBACE,KAAC,KAAD;QAAO,KAAK,EAAC,SAAb;QAAA,uBACE;UAAK,SAAS,EAAEV,MAAM,CAACW,WAAvB;UAAA,WACGZ,SAAS,KAAKL,SAAS,CAACkB,IAAxB,iBAAgC,KAAC,GAAD;YAAK,GAAG,EAAEV,MAAV;YAAkB,SAAS,EAAEF,MAAM,CAACa;UAApC,EADnC,EAEGd,SAAS,KAAKL,SAAS,CAACoB,KAAxB,IAAiCjB,QAAjC,iBAA6C;YAAK,GAAG,EAAEK,MAAV;YAAkB,SAAS,EAAEF,MAAM,CAACa;UAApC,EAFhD;QAAA;MADF,EADF,eAOE,KAAC,KAAD;QAAA,UAAQV;MAAR,EAPF;IAAA,EAJF;EAAA,EADF;AAgBD,CA3BM;;AA6BP,MAAMF,SAAS,GAAIc,KAAD,KAA2B;EAC3CL,aAAa,EAAExB,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA,GAP6C;EAQ3CyB,WAAW,EAAEzB,GAAI;AACnB;AACA;AACA,wBAAwB6B,KAAK,CAACC,MAAN,CAAaC,MAAb,CAAoBC,MAAO;AACnD;AACA;AACA;AACA,GAf6C;EAgB3CL,GAAG,EAAE3B,GAAI;AACX;AACA;AACA,YAAY6B,KAAK,CAACC,MAAN,CAAaG,IAAb,CAAkBC,OAAQ;AACtC;AApB6C,CAA3B,CAAlB"},"metadata":{},"sourceType":"module"}