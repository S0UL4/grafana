{"ast":null,"code":"import { isKeyHotkey } from 'is-hotkey';\nconst isSelectLineHotkey = isKeyHotkey('mod+l'); // Clears the rest of the line after the caret\n\nexport function SelectionShortcutsPlugin() {\n  return {\n    onKeyDown(event, editor, next) {\n      const keyEvent = event;\n\n      if (isSelectLineHotkey(keyEvent)) {\n        keyEvent.preventDefault();\n        const {\n          focusBlock,\n          document\n        } = editor.value;\n        editor.moveAnchorToStartOfBlock();\n        const nextBlock = document.getNextBlock(focusBlock.key);\n\n        if (nextBlock) {\n          editor.moveFocusToStartOfNextBlock();\n        } else {\n          editor.moveFocusToEndOfText();\n        }\n      } else {\n        return next();\n      }\n\n      return true;\n    }\n\n  };\n}","map":{"version":3,"names":["isKeyHotkey","isSelectLineHotkey","SelectionShortcutsPlugin","onKeyDown","event","editor","next","keyEvent","preventDefault","focusBlock","document","value","moveAnchorToStartOfBlock","nextBlock","getNextBlock","key","moveFocusToStartOfNextBlock","moveFocusToEndOfText"],"sources":["/home/soula/grafana/packages/grafana-ui/src/slate-plugins/selection_shortcuts.ts"],"sourcesContent":["import { isKeyHotkey } from 'is-hotkey';\nimport { Editor as CoreEditor } from 'slate';\n\nimport { Plugin } from '@grafana/slate-react';\n\nconst isSelectLineHotkey = isKeyHotkey('mod+l');\n\n// Clears the rest of the line after the caret\nexport function SelectionShortcutsPlugin(): Plugin {\n  return {\n    onKeyDown(event: Event, editor: CoreEditor, next: () => any) {\n      const keyEvent = event as KeyboardEvent;\n      if (isSelectLineHotkey(keyEvent)) {\n        keyEvent.preventDefault();\n        const { focusBlock, document } = editor.value;\n\n        editor.moveAnchorToStartOfBlock();\n\n        const nextBlock = document.getNextBlock(focusBlock.key);\n        if (nextBlock) {\n          editor.moveFocusToStartOfNextBlock();\n        } else {\n          editor.moveFocusToEndOfText();\n        }\n      } else {\n        return next();\n      }\n\n      return true;\n    },\n  };\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,WAA5B;AAKA,MAAMC,kBAAkB,GAAGD,WAAW,CAAC,OAAD,CAAtC,C,CAEA;;AACA,OAAO,SAASE,wBAAT,GAA4C;EACjD,OAAO;IACLC,SAAS,CAACC,KAAD,EAAeC,MAAf,EAAmCC,IAAnC,EAAoD;MAC3D,MAAMC,QAAQ,GAAGH,KAAjB;;MACA,IAAIH,kBAAkB,CAACM,QAAD,CAAtB,EAAkC;QAChCA,QAAQ,CAACC,cAAT;QACA,MAAM;UAAEC,UAAF;UAAcC;QAAd,IAA2BL,MAAM,CAACM,KAAxC;QAEAN,MAAM,CAACO,wBAAP;QAEA,MAAMC,SAAS,GAAGH,QAAQ,CAACI,YAAT,CAAsBL,UAAU,CAACM,GAAjC,CAAlB;;QACA,IAAIF,SAAJ,EAAe;UACbR,MAAM,CAACW,2BAAP;QACD,CAFD,MAEO;UACLX,MAAM,CAACY,oBAAP;QACD;MACF,CAZD,MAYO;QACL,OAAOX,IAAI,EAAX;MACD;;MAED,OAAO,IAAP;IACD;;EApBI,CAAP;AAsBD"},"metadata":{},"sourceType":"module"}