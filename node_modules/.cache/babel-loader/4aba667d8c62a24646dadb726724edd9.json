{"ast":null,"code":"var _th, _th2, _br, _small;\n\nimport React, { useState } from 'react';\nimport { Button, ConfirmModal } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction } from 'app/types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function AdminOrgsTable({\n  orgs,\n  onDelete\n}) {\n  const canDeleteOrgs = contextSrv.hasPermission(AccessControlAction.OrgsDelete);\n  const [deleteOrg, setDeleteOrg] = useState();\n  return /*#__PURE__*/_jsxs(\"table\", {\n    className: \"filter-table form-inline filter-table--hover\",\n    children: [/*#__PURE__*/_jsx(\"thead\", {\n      children: /*#__PURE__*/_jsxs(\"tr\", {\n        children: [_th || (_th = /*#__PURE__*/_jsx(\"th\", {\n          children: \"ID\"\n        })), _th2 || (_th2 = /*#__PURE__*/_jsx(\"th\", {\n          children: \"Name\"\n        })), /*#__PURE__*/_jsx(\"th\", {\n          style: {\n            width: '1%'\n          }\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"tbody\", {\n      children: orgs.map(org => /*#__PURE__*/_jsxs(\"tr\", {\n        children: [/*#__PURE__*/_jsx(\"td\", {\n          className: \"link-td\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: `admin/orgs/edit/${org.id}`,\n            children: org.id\n          })\n        }), /*#__PURE__*/_jsx(\"td\", {\n          className: \"link-td\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            href: `admin/orgs/edit/${org.id}`,\n            children: org.name\n          })\n        }), /*#__PURE__*/_jsx(\"td\", {\n          className: \"text-right\",\n          children: /*#__PURE__*/_jsx(Button, {\n            variant: \"destructive\",\n            size: \"sm\",\n            icon: \"times\",\n            onClick: () => setDeleteOrg(org),\n            \"aria-label\": \"Delete org\",\n            disabled: !canDeleteOrgs\n          })\n        })]\n      }, `${org.id}-${org.name}`))\n    }), deleteOrg && /*#__PURE__*/_jsx(ConfirmModal, {\n      isOpen: true,\n      icon: \"trash-alt\",\n      title: \"Delete\",\n      body: /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Are you sure you want to delete '\", deleteOrg.name, \"'?\", _br || (_br = /*#__PURE__*/_jsx(\"br\", {})), \" \", _small || (_small = /*#__PURE__*/_jsx(\"small\", {\n          children: \"All dashboards for this organization will be removed!\"\n        }))]\n      }),\n      confirmText: \"Delete\",\n      onDismiss: () => setDeleteOrg(undefined),\n      onConfirm: () => {\n        onDelete(deleteOrg.id);\n        setDeleteOrg(undefined);\n      }\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","Button","ConfirmModal","contextSrv","AccessControlAction","AdminOrgsTable","orgs","onDelete","canDeleteOrgs","hasPermission","OrgsDelete","deleteOrg","setDeleteOrg","width","map","org","id","name","undefined"],"sources":["/home/soula/grafana/public/app/features/admin/AdminOrgsTable.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { Button, ConfirmModal } from '@grafana/ui';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction, Organization } from 'app/types';\n\ninterface Props {\n  orgs: Organization[];\n  onDelete: (orgId: number) => void;\n}\n\nexport function AdminOrgsTable({ orgs, onDelete }: Props) {\n  const canDeleteOrgs = contextSrv.hasPermission(AccessControlAction.OrgsDelete);\n\n  const [deleteOrg, setDeleteOrg] = useState<Organization>();\n  return (\n    <table className=\"filter-table form-inline filter-table--hover\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th style={{ width: '1%' }}></th>\n        </tr>\n      </thead>\n      <tbody>\n        {orgs.map((org) => (\n          <tr key={`${org.id}-${org.name}`}>\n            <td className=\"link-td\">\n              <a href={`admin/orgs/edit/${org.id}`}>{org.id}</a>\n            </td>\n            <td className=\"link-td\">\n              <a href={`admin/orgs/edit/${org.id}`}>{org.name}</a>\n            </td>\n            <td className=\"text-right\">\n              <Button\n                variant=\"destructive\"\n                size=\"sm\"\n                icon=\"times\"\n                onClick={() => setDeleteOrg(org)}\n                aria-label=\"Delete org\"\n                disabled={!canDeleteOrgs}\n              />\n            </td>\n          </tr>\n        ))}\n      </tbody>\n      {deleteOrg && (\n        <ConfirmModal\n          isOpen\n          icon=\"trash-alt\"\n          title=\"Delete\"\n          body={\n            <div>\n              Are you sure you want to delete &apos;{deleteOrg.name}&apos;?\n              <br /> <small>All dashboards for this organization will be removed!</small>\n            </div>\n          }\n          confirmText=\"Delete\"\n          onDismiss={() => setDeleteOrg(undefined)}\n          onConfirm={() => {\n            onDelete(deleteOrg.id);\n            setDeleteOrg(undefined);\n          }}\n        />\n      )}\n    </table>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,SAASC,MAAT,EAAiBC,YAAjB,QAAqC,aAArC;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,mBAAT,QAAkD,WAAlD;;;AAOA,OAAO,SAASC,cAAT,CAAwB;EAAEC,IAAF;EAAQC;AAAR,CAAxB,EAAmD;EACxD,MAAMC,aAAa,GAAGL,UAAU,CAACM,aAAX,CAAyBL,mBAAmB,CAACM,UAA7C,CAAtB;EAEA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,EAA1C;EACA,oBACE;IAAO,SAAS,EAAC,8CAAjB;IAAA,wBACE;MAAA,uBACE;QAAA,sCACE;UAAA;QAAA,EADF,gCAEE;UAAA;QAAA,EAFF,gBAGE;UAAI,KAAK,EAAE;YAAEa,KAAK,EAAE;UAAT;QAAX,EAHF;MAAA;IADF,EADF,eAQE;MAAA,UACGP,IAAI,CAACQ,GAAL,CAAUC,GAAD,iBACR;QAAA,wBACE;UAAI,SAAS,EAAC,SAAd;UAAA,uBACE;YAAG,IAAI,EAAG,mBAAkBA,GAAG,CAACC,EAAG,EAAnC;YAAA,UAAuCD,GAAG,CAACC;UAA3C;QADF,EADF,eAIE;UAAI,SAAS,EAAC,SAAd;UAAA,uBACE;YAAG,IAAI,EAAG,mBAAkBD,GAAG,CAACC,EAAG,EAAnC;YAAA,UAAuCD,GAAG,CAACE;UAA3C;QADF,EAJF,eAOE;UAAI,SAAS,EAAC,YAAd;UAAA,uBACE,KAAC,MAAD;YACE,OAAO,EAAC,aADV;YAEE,IAAI,EAAC,IAFP;YAGE,IAAI,EAAC,OAHP;YAIE,OAAO,EAAE,MAAML,YAAY,CAACG,GAAD,CAJ7B;YAKE,cAAW,YALb;YAME,QAAQ,EAAE,CAACP;UANb;QADF,EAPF;MAAA,GAAU,GAAEO,GAAG,CAACC,EAAG,IAAGD,GAAG,CAACE,IAAK,EAA/B,CADD;IADH,EARF,EA8BGN,SAAS,iBACR,KAAC,YAAD;MACE,MAAM,MADR;MAEE,IAAI,EAAC,WAFP;MAGE,KAAK,EAAC,QAHR;MAIE,IAAI,eACF;QAAA,gDACyCA,SAAS,CAACM,IADnD,mCAEE,cAFF,yCAES;UAAA;QAAA,EAFT;MAAA,EALJ;MAUE,WAAW,EAAC,QAVd;MAWE,SAAS,EAAE,MAAML,YAAY,CAACM,SAAD,CAX/B;MAYE,SAAS,EAAE,MAAM;QACfX,QAAQ,CAACI,SAAS,CAACK,EAAX,CAAR;QACAJ,YAAY,CAACM,SAAD,CAAZ;MACD;IAfH,EA/BJ;EAAA,EADF;AAoDD"},"metadata":{},"sourceType":"module"}