{"ast":null,"code":"import React, { useMemo } from 'react';\nimport { IconButton } from '@grafana/ui';\nimport { NetworkGraphModal } from './NetworkGraphModal';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const VariablesUnknownButton = ({\n  id,\n  usages\n}) => {\n  const network = useMemo(() => usages.find(n => n.variable.id === id), [id, usages]);\n\n  if (!network) {\n    return null;\n  }\n\n  const nodes = network.nodes.map(n => {\n    if (n.label.includes(`$${id}`)) {\n      return Object.assign({}, n, {\n        color: '#FB7E81'\n      });\n    }\n\n    return n;\n  });\n  return /*#__PURE__*/_jsx(NetworkGraphModal, {\n    show: false,\n    title: `Showing usages for: $${id}`,\n    nodes: nodes,\n    edges: network.edges,\n    children: ({\n      showModal\n    }) => {\n      return /*#__PURE__*/_jsx(IconButton, {\n        onClick: () => showModal(),\n        name: \"code-branch\",\n        title: \"Show usages\",\n        \"data-testid\": \"VariablesUnknownButton\"\n      });\n    }\n  });\n};","map":{"version":3,"names":["React","useMemo","IconButton","NetworkGraphModal","VariablesUnknownButton","id","usages","network","find","n","variable","nodes","map","label","includes","color","edges","showModal"],"sources":["/home/soula/grafana/public/app/features/variables/inspect/VariablesUnknownButton.tsx"],"sourcesContent":["import React, { FC, useMemo } from 'react';\n\nimport { IconButton } from '@grafana/ui';\n\nimport { NetworkGraphModal } from './NetworkGraphModal';\nimport { UsagesToNetwork } from './utils';\n\ninterface Props {\n  id: string;\n  usages: UsagesToNetwork[];\n}\n\nexport const VariablesUnknownButton: FC<Props> = ({ id, usages }) => {\n  const network = useMemo(() => usages.find((n) => n.variable.id === id), [id, usages]);\n\n  if (!network) {\n    return null;\n  }\n\n  const nodes = network.nodes.map((n) => {\n    if (n.label.includes(`$${id}`)) {\n      return { ...n, color: '#FB7E81' };\n    }\n    return n;\n  });\n\n  return (\n    <NetworkGraphModal show={false} title={`Showing usages for: $${id}`} nodes={nodes} edges={network.edges}>\n      {({ showModal }) => {\n        return (\n          <IconButton\n            onClick={() => showModal()}\n            name=\"code-branch\"\n            title=\"Show usages\"\n            data-testid=\"VariablesUnknownButton\"\n          />\n        );\n      }}\n    </NetworkGraphModal>\n  );\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAoBC,OAApB,QAAmC,OAAnC;AAEA,SAASC,UAAT,QAA2B,aAA3B;AAEA,SAASC,iBAAT,QAAkC,qBAAlC;;AAQA,OAAO,MAAMC,sBAAiC,GAAG,CAAC;EAAEC,EAAF;EAAMC;AAAN,CAAD,KAAoB;EACnE,MAAMC,OAAO,GAAGN,OAAO,CAAC,MAAMK,MAAM,CAACE,IAAP,CAAaC,CAAD,IAAOA,CAAC,CAACC,QAAF,CAAWL,EAAX,KAAkBA,EAArC,CAAP,EAAiD,CAACA,EAAD,EAAKC,MAAL,CAAjD,CAAvB;;EAEA,IAAI,CAACC,OAAL,EAAc;IACZ,OAAO,IAAP;EACD;;EAED,MAAMI,KAAK,GAAGJ,OAAO,CAACI,KAAR,CAAcC,GAAd,CAAmBH,CAAD,IAAO;IACrC,IAAIA,CAAC,CAACI,KAAF,CAAQC,QAAR,CAAkB,IAAGT,EAAG,EAAxB,CAAJ,EAAgC;MAC9B,yBAAYI,CAAZ;QAAeM,KAAK,EAAE;MAAtB;IACD;;IACD,OAAON,CAAP;EACD,CALa,CAAd;EAOA,oBACE,KAAC,iBAAD;IAAmB,IAAI,EAAE,KAAzB;IAAgC,KAAK,EAAG,wBAAuBJ,EAAG,EAAlE;IAAqE,KAAK,EAAEM,KAA5E;IAAmF,KAAK,EAAEJ,OAAO,CAACS,KAAlG;IAAA,UACG,CAAC;MAAEC;IAAF,CAAD,KAAmB;MAClB,oBACE,KAAC,UAAD;QACE,OAAO,EAAE,MAAMA,SAAS,EAD1B;QAEE,IAAI,EAAC,aAFP;QAGE,KAAK,EAAC,aAHR;QAIE,eAAY;MAJd,EADF;IAQD;EAVH,EADF;AAcD,CA5BM"},"metadata":{},"sourceType":"module"}