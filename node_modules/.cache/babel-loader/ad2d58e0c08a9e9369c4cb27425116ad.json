{"ast":null,"code":"import { defaultFilter } from '../utils';\nimport { addFilter, changeFilter, removeFilter } from './actions';\nexport const reducer = (state = [], action) => {\n  if (addFilter.match(action)) {\n    return [...state, defaultFilter()];\n  }\n\n  if (removeFilter.match(action)) {\n    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));\n  }\n\n  if (changeFilter.match(action)) {\n    return state.map((filter, index) => {\n      if (index !== action.payload.index) {\n        return filter;\n      }\n\n      return action.payload.filter;\n    });\n  }\n\n  return state;\n};","map":{"version":3,"names":["defaultFilter","addFilter","changeFilter","removeFilter","reducer","state","action","match","slice","payload","concat","map","filter","index"],"sources":["/home/soula/grafana/public/app/plugins/datasource/elasticsearch/components/QueryEditor/BucketAggregationsEditor/SettingsEditor/FiltersSettingsEditor/state/reducer.ts"],"sourcesContent":["import { Action } from 'redux';\n\nimport { Filter } from '../../../aggregations';\nimport { defaultFilter } from '../utils';\n\nimport { addFilter, changeFilter, removeFilter } from './actions';\n\nexport const reducer = (state: Filter[] = [], action: Action) => {\n  if (addFilter.match(action)) {\n    return [...state, defaultFilter()];\n  }\n\n  if (removeFilter.match(action)) {\n    return state.slice(0, action.payload).concat(state.slice(action.payload + 1));\n  }\n\n  if (changeFilter.match(action)) {\n    return state.map((filter, index) => {\n      if (index !== action.payload.index) {\n        return filter;\n      }\n\n      return action.payload.filter;\n    });\n  }\n\n  return state;\n};\n"],"mappings":"AAGA,SAASA,aAAT,QAA8B,UAA9B;AAEA,SAASC,SAAT,EAAoBC,YAApB,EAAkCC,YAAlC,QAAsD,WAAtD;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,KAAe,GAAG,EAAnB,EAAuBC,MAAvB,KAA0C;EAC/D,IAAIL,SAAS,CAACM,KAAV,CAAgBD,MAAhB,CAAJ,EAA6B;IAC3B,OAAO,CAAC,GAAGD,KAAJ,EAAWL,aAAa,EAAxB,CAAP;EACD;;EAED,IAAIG,YAAY,CAACI,KAAb,CAAmBD,MAAnB,CAAJ,EAAgC;IAC9B,OAAOD,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAeF,MAAM,CAACG,OAAtB,EAA+BC,MAA/B,CAAsCL,KAAK,CAACG,KAAN,CAAYF,MAAM,CAACG,OAAP,GAAiB,CAA7B,CAAtC,CAAP;EACD;;EAED,IAAIP,YAAY,CAACK,KAAb,CAAmBD,MAAnB,CAAJ,EAAgC;IAC9B,OAAOD,KAAK,CAACM,GAAN,CAAU,CAACC,MAAD,EAASC,KAAT,KAAmB;MAClC,IAAIA,KAAK,KAAKP,MAAM,CAACG,OAAP,CAAeI,KAA7B,EAAoC;QAClC,OAAOD,MAAP;MACD;;MAED,OAAON,MAAM,CAACG,OAAP,CAAeG,MAAtB;IACD,CANM,CAAP;EAOD;;EAED,OAAOP,KAAP;AACD,CApBM"},"metadata":{},"sourceType":"module"}