{"ast":null,"code":"import { css } from '@emotion/css';\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { linkModelToContextMenuItems } from '../../utils/dataLinks';\nimport { WithContextMenu } from '../ContextMenu/WithContextMenu';\nimport { MenuGroup } from '../Menu/MenuGroup';\nimport { MenuItem } from '../Menu/MenuItem';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const DataLinksContextMenu = ({\n  children,\n  links,\n  config\n}) => {\n  const linksCounter = config.links.length;\n  const itemsGroup = [{\n    items: linkModelToContextMenuItems(links),\n    label: 'Data links'\n  }];\n\n  const renderMenuGroupItems = () => {\n    return itemsGroup.map((group, index) => /*#__PURE__*/_jsx(MenuGroup, {\n      label: group.label,\n      children: (group.items || []).map(item => /*#__PURE__*/_jsx(MenuItem, {\n        url: item.url,\n        label: item.label,\n        target: item.target,\n        icon: item.icon,\n        active: item.active,\n        onClick: item.onClick\n      }, item.label))\n    }, `${group.label}${index}`));\n  }; // Use this class name (exposed via render prop) to add context menu indicator to the click target of the visualization\n\n\n  const targetClassName = css`\n    cursor: context-menu;\n  `;\n\n  if (linksCounter > 1) {\n    return /*#__PURE__*/_jsx(WithContextMenu, {\n      renderMenuItems: renderMenuGroupItems,\n      children: ({\n        openMenu\n      }) => {\n        return children({\n          openMenu,\n          targetClassName\n        });\n      }\n    });\n  } else {\n    const linkModel = links()[0];\n    return /*#__PURE__*/_jsx(\"a\", {\n      href: linkModel.href,\n      onClick: linkModel.onClick,\n      target: linkModel.target,\n      title: linkModel.title,\n      style: {\n        display: 'flex',\n        width: '100%'\n      },\n      \"aria-label\": selectors.components.DataLinksContextMenu.singleLink,\n      children: children({})\n    });\n  }\n};","map":{"version":3,"names":["css","React","selectors","linkModelToContextMenuItems","WithContextMenu","MenuGroup","MenuItem","DataLinksContextMenu","children","links","config","linksCounter","length","itemsGroup","items","label","renderMenuGroupItems","map","group","index","item","url","target","icon","active","onClick","targetClassName","openMenu","linkModel","href","title","display","width","components","singleLink"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/DataLinks/DataLinksContextMenu.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { FieldConfig, LinkModel } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { linkModelToContextMenuItems } from '../../utils/dataLinks';\nimport { WithContextMenu } from '../ContextMenu/WithContextMenu';\nimport { MenuGroup, MenuItemsGroup } from '../Menu/MenuGroup';\nimport { MenuItem } from '../Menu/MenuItem';\n\ninterface DataLinksContextMenuProps {\n  children: (props: DataLinksContextMenuApi) => JSX.Element;\n  links: () => LinkModel[];\n  config: FieldConfig;\n}\n\nexport interface DataLinksContextMenuApi {\n  openMenu?: React.MouseEventHandler<HTMLOrSVGElement>;\n  targetClassName?: string;\n}\n\nexport const DataLinksContextMenu: React.FC<DataLinksContextMenuProps> = ({ children, links, config }) => {\n  const linksCounter = config.links!.length;\n  const itemsGroup: MenuItemsGroup[] = [{ items: linkModelToContextMenuItems(links), label: 'Data links' }];\n  const renderMenuGroupItems = () => {\n    return itemsGroup.map((group, index) => (\n      <MenuGroup key={`${group.label}${index}`} label={group.label}>\n        {(group.items || []).map((item) => (\n          <MenuItem\n            key={item.label}\n            url={item.url}\n            label={item.label}\n            target={item.target}\n            icon={item.icon}\n            active={item.active}\n            onClick={item.onClick}\n          />\n        ))}\n      </MenuGroup>\n    ));\n  };\n\n  // Use this class name (exposed via render prop) to add context menu indicator to the click target of the visualization\n  const targetClassName = css`\n    cursor: context-menu;\n  `;\n\n  if (linksCounter > 1) {\n    return (\n      <WithContextMenu renderMenuItems={renderMenuGroupItems}>\n        {({ openMenu }) => {\n          return children({ openMenu, targetClassName });\n        }}\n      </WithContextMenu>\n    );\n  } else {\n    const linkModel = links()[0];\n    return (\n      <a\n        href={linkModel.href}\n        onClick={linkModel.onClick}\n        target={linkModel.target}\n        title={linkModel.title}\n        style={{ display: 'flex', width: '100%' }}\n        aria-label={selectors.components.DataLinksContextMenu.singleLink}\n      >\n        {children({})}\n      </a>\n    );\n  }\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,SAASC,2BAAT,QAA4C,uBAA5C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,SAAT,QAA0C,mBAA1C;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAaA,OAAO,MAAMC,oBAAyD,GAAG,CAAC;EAAEC,QAAF;EAAYC,KAAZ;EAAmBC;AAAnB,CAAD,KAAiC;EACxG,MAAMC,YAAY,GAAGD,MAAM,CAACD,KAAP,CAAcG,MAAnC;EACA,MAAMC,UAA4B,GAAG,CAAC;IAAEC,KAAK,EAAEX,2BAA2B,CAACM,KAAD,CAApC;IAA6CM,KAAK,EAAE;EAApD,CAAD,CAArC;;EACA,MAAMC,oBAAoB,GAAG,MAAM;IACjC,OAAOH,UAAU,CAACI,GAAX,CAAe,CAACC,KAAD,EAAQC,KAAR,kBACpB,KAAC,SAAD;MAA0C,KAAK,EAAED,KAAK,CAACH,KAAvD;MAAA,UACG,CAACG,KAAK,CAACJ,KAAN,IAAe,EAAhB,EAAoBG,GAApB,CAAyBG,IAAD,iBACvB,KAAC,QAAD;QAEE,GAAG,EAAEA,IAAI,CAACC,GAFZ;QAGE,KAAK,EAAED,IAAI,CAACL,KAHd;QAIE,MAAM,EAAEK,IAAI,CAACE,MAJf;QAKE,IAAI,EAAEF,IAAI,CAACG,IALb;QAME,MAAM,EAAEH,IAAI,CAACI,MANf;QAOE,OAAO,EAAEJ,IAAI,CAACK;MAPhB,GACOL,IAAI,CAACL,KADZ,CADD;IADH,GAAiB,GAAEG,KAAK,CAACH,KAAM,GAAEI,KAAM,EAAvC,CADK,CAAP;EAeD,CAhBD,CAHwG,CAqBxG;;;EACA,MAAMO,eAAe,GAAG1B,GAAI;AAC9B;AACA,GAFE;;EAIA,IAAIW,YAAY,GAAG,CAAnB,EAAsB;IACpB,oBACE,KAAC,eAAD;MAAiB,eAAe,EAAEK,oBAAlC;MAAA,UACG,CAAC;QAAEW;MAAF,CAAD,KAAkB;QACjB,OAAOnB,QAAQ,CAAC;UAAEmB,QAAF;UAAYD;QAAZ,CAAD,CAAf;MACD;IAHH,EADF;EAOD,CARD,MAQO;IACL,MAAME,SAAS,GAAGnB,KAAK,GAAG,CAAH,CAAvB;IACA,oBACE;MACE,IAAI,EAAEmB,SAAS,CAACC,IADlB;MAEE,OAAO,EAAED,SAAS,CAACH,OAFrB;MAGE,MAAM,EAAEG,SAAS,CAACN,MAHpB;MAIE,KAAK,EAAEM,SAAS,CAACE,KAJnB;MAKE,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAX;QAAmBC,KAAK,EAAE;MAA1B,CALT;MAME,cAAY9B,SAAS,CAAC+B,UAAV,CAAqB1B,oBAArB,CAA0C2B,UANxD;MAAA,UAQG1B,QAAQ,CAAC,EAAD;IARX,EADF;EAYD;AACF,CAjDM"},"metadata":{},"sourceType":"module"}