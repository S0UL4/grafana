{"ast":null,"code":"import React, { createElement } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\n/**\n * Flattens parts into a list of indices pointing to the index where a part\n * (highlighted or not highlighted) starts. Adds extra indices if needed\n * at the beginning or the end to ensure the entire text is covered.\n */\nfunction getStartIndices(parts, length) {\n  const indices = [];\n  parts.forEach(part => {\n    indices.push(part.start, part.end + 1);\n  });\n\n  if (indices[0] !== 0) {\n    indices.unshift(0);\n  }\n\n  if (indices[indices.length - 1] !== length) {\n    indices.push(length);\n  }\n\n  return indices;\n}\n\nexport const PartialHighlighter = props => {\n  let {\n    highlightParts,\n    text,\n    highlightClassName\n  } = props;\n\n  if (!(highlightParts !== null && highlightParts !== void 0 && highlightParts.length)) {\n    return null;\n  }\n\n  let children = [];\n  let indices = getStartIndices(highlightParts, text.length);\n  let highlighted = highlightParts[0].start === 0;\n\n  for (let i = 1; i < indices.length; i++) {\n    let start = indices[i - 1];\n    let end = indices[i];\n    children.push( /*#__PURE__*/createElement(highlighted ? 'mark' : 'span', {\n      key: i - 1,\n      className: highlighted ? highlightClassName : undefined\n    }, text.substring(start, end)));\n    highlighted = !highlighted;\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: children\n  });\n};","map":{"version":3,"names":["React","createElement","getStartIndices","parts","length","indices","forEach","part","push","start","end","unshift","PartialHighlighter","props","highlightParts","text","highlightClassName","children","highlighted","i","key","className","undefined","substring"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Typeahead/PartialHighlighter.tsx"],"sourcesContent":["import React, { createElement } from 'react';\n\nimport { HighlightPart } from '../../types';\n\ninterface Props {\n  text: string;\n  highlightParts: HighlightPart[];\n  highlightClassName: string;\n}\n\n/**\n * Flattens parts into a list of indices pointing to the index where a part\n * (highlighted or not highlighted) starts. Adds extra indices if needed\n * at the beginning or the end to ensure the entire text is covered.\n */\nfunction getStartIndices(parts: HighlightPart[], length: number): number[] {\n  const indices: number[] = [];\n  parts.forEach((part) => {\n    indices.push(part.start, part.end + 1);\n  });\n  if (indices[0] !== 0) {\n    indices.unshift(0);\n  }\n  if (indices[indices.length - 1] !== length) {\n    indices.push(length);\n  }\n  return indices;\n}\n\nexport const PartialHighlighter: React.FC<Props> = (props: Props) => {\n  let { highlightParts, text, highlightClassName } = props;\n\n  if (!highlightParts?.length) {\n    return null;\n  }\n\n  let children = [];\n  let indices = getStartIndices(highlightParts, text.length);\n  let highlighted = highlightParts[0].start === 0;\n\n  for (let i = 1; i < indices.length; i++) {\n    let start = indices[i - 1];\n    let end = indices[i];\n\n    children.push(\n      createElement(\n        highlighted ? 'mark' : 'span',\n        {\n          key: i - 1,\n          className: highlighted ? highlightClassName : undefined,\n        },\n        text.substring(start, end)\n      )\n    );\n    highlighted = !highlighted;\n  }\n\n  return <div>{children}</div>;\n};\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;;;AAUA;AACA;AACA;AACA;AACA;AACA,SAASC,eAAT,CAAyBC,KAAzB,EAAiDC,MAAjD,EAA2E;EACzE,MAAMC,OAAiB,GAAG,EAA1B;EACAF,KAAK,CAACG,OAAN,CAAeC,IAAD,IAAU;IACtBF,OAAO,CAACG,IAAR,CAAaD,IAAI,CAACE,KAAlB,EAAyBF,IAAI,CAACG,GAAL,GAAW,CAApC;EACD,CAFD;;EAGA,IAAIL,OAAO,CAAC,CAAD,CAAP,KAAe,CAAnB,EAAsB;IACpBA,OAAO,CAACM,OAAR,CAAgB,CAAhB;EACD;;EACD,IAAIN,OAAO,CAACA,OAAO,CAACD,MAAR,GAAiB,CAAlB,CAAP,KAAgCA,MAApC,EAA4C;IAC1CC,OAAO,CAACG,IAAR,CAAaJ,MAAb;EACD;;EACD,OAAOC,OAAP;AACD;;AAED,OAAO,MAAMO,kBAAmC,GAAIC,KAAD,IAAkB;EACnE,IAAI;IAAEC,cAAF;IAAkBC,IAAlB;IAAwBC;EAAxB,IAA+CH,KAAnD;;EAEA,IAAI,EAACC,cAAD,aAACA,cAAD,eAACA,cAAc,CAAEV,MAAjB,CAAJ,EAA6B;IAC3B,OAAO,IAAP;EACD;;EAED,IAAIa,QAAQ,GAAG,EAAf;EACA,IAAIZ,OAAO,GAAGH,eAAe,CAACY,cAAD,EAAiBC,IAAI,CAACX,MAAtB,CAA7B;EACA,IAAIc,WAAW,GAAGJ,cAAc,CAAC,CAAD,CAAd,CAAkBL,KAAlB,KAA4B,CAA9C;;EAEA,KAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,OAAO,CAACD,MAA5B,EAAoCe,CAAC,EAArC,EAAyC;IACvC,IAAIV,KAAK,GAAGJ,OAAO,CAACc,CAAC,GAAG,CAAL,CAAnB;IACA,IAAIT,GAAG,GAAGL,OAAO,CAACc,CAAD,CAAjB;IAEAF,QAAQ,CAACT,IAAT,eACEP,aAAa,CACXiB,WAAW,GAAG,MAAH,GAAY,MADZ,EAEX;MACEE,GAAG,EAAED,CAAC,GAAG,CADX;MAEEE,SAAS,EAAEH,WAAW,GAAGF,kBAAH,GAAwBM;IAFhD,CAFW,EAMXP,IAAI,CAACQ,SAAL,CAAed,KAAf,EAAsBC,GAAtB,CANW,CADf;IAUAQ,WAAW,GAAG,CAACA,WAAf;EACD;;EAED,oBAAO;IAAA,UAAMD;EAAN,EAAP;AACD,CA7BM"},"metadata":{},"sourceType":"module"}