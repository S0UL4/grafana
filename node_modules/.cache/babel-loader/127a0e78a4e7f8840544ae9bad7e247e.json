{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent, createRef } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport class ClickOutsideWrapper extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"myRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(this, \"state\", {\n      hasEventListener: false\n    });\n\n    _defineProperty(this, \"onOutsideClick\", event => {\n      const domNode = this.myRef.current;\n\n      if (!domNode || !domNode.contains(event.target)) {\n        this.props.onClick();\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.props.parent.addEventListener('click', this.onOutsideClick, this.props.useCapture);\n\n    if (this.props.includeButtonPress) {\n      // Use keyup since keydown already has an event listener on window\n      this.props.parent.addEventListener('keyup', this.onOutsideClick, this.props.useCapture);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.parent.removeEventListener('click', this.onOutsideClick, this.props.useCapture);\n\n    if (this.props.includeButtonPress) {\n      this.props.parent.removeEventListener('keyup', this.onOutsideClick, this.props.useCapture);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      ref: this.myRef,\n      children: this.props.children\n    });\n  }\n\n}\n\n_defineProperty(ClickOutsideWrapper, \"defaultProps\", {\n  includeButtonPress: true,\n  parent: typeof window !== 'undefined' ? window : null,\n  useCapture: false\n});","map":{"version":3,"names":["React","PureComponent","createRef","ClickOutsideWrapper","hasEventListener","event","domNode","myRef","current","contains","target","props","onClick","componentDidMount","parent","addEventListener","onOutsideClick","useCapture","includeButtonPress","componentWillUnmount","removeEventListener","render","children","window"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx"],"sourcesContent":["import React, { PureComponent, createRef } from 'react';\n\nexport interface Props {\n  /**\n   *  Callback to trigger when clicking outside of current element occurs.\n   */\n  onClick: () => void;\n  /**\n   *  Runs the 'onClick' function when pressing a key outside of the current element. Defaults to true.\n   */\n  includeButtonPress: boolean;\n  /** Object to attach the click event listener to. */\n  parent: Window | Document;\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener. Defaults to false.\n   */\n  useCapture?: boolean;\n}\n\ninterface State {\n  hasEventListener: boolean;\n}\n\nexport class ClickOutsideWrapper extends PureComponent<Props, State> {\n  static defaultProps = {\n    includeButtonPress: true,\n    parent: typeof window !== 'undefined' ? window : null,\n    useCapture: false,\n  };\n  myRef = createRef<HTMLDivElement>();\n  state = {\n    hasEventListener: false,\n  };\n\n  componentDidMount() {\n    this.props.parent.addEventListener('click', this.onOutsideClick, this.props.useCapture);\n    if (this.props.includeButtonPress) {\n      // Use keyup since keydown already has an event listener on window\n      this.props.parent.addEventListener('keyup', this.onOutsideClick, this.props.useCapture);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.parent.removeEventListener('click', this.onOutsideClick, this.props.useCapture);\n    if (this.props.includeButtonPress) {\n      this.props.parent.removeEventListener('keyup', this.onOutsideClick, this.props.useCapture);\n    }\n  }\n\n  onOutsideClick = (event: any) => {\n    const domNode = this.myRef.current;\n\n    if (!domNode || !domNode.contains(event.target)) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    return <div ref={this.myRef}>{this.props.children}</div>;\n  }\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,QAAgD,OAAhD;;AAuBA,OAAO,MAAMC,mBAAN,SAAkCF,aAAlC,CAA8D;EAAA;IAAA;;IAAA,4CAM3DC,SAAS,EANkD;;IAAA,+BAO3D;MACNE,gBAAgB,EAAE;IADZ,CAP2D;;IAAA,wCA0BjDC,KAAD,IAAgB;MAC/B,MAAMC,OAAO,GAAG,KAAKC,KAAL,CAAWC,OAA3B;;MAEA,IAAI,CAACF,OAAD,IAAY,CAACA,OAAO,CAACG,QAAR,CAAiBJ,KAAK,CAACK,MAAvB,CAAjB,EAAiD;QAC/C,KAAKC,KAAL,CAAWC,OAAX;MACD;IACF,CAhCkE;EAAA;;EAWnEC,iBAAiB,GAAG;IAClB,KAAKF,KAAL,CAAWG,MAAX,CAAkBC,gBAAlB,CAAmC,OAAnC,EAA4C,KAAKC,cAAjD,EAAiE,KAAKL,KAAL,CAAWM,UAA5E;;IACA,IAAI,KAAKN,KAAL,CAAWO,kBAAf,EAAmC;MACjC;MACA,KAAKP,KAAL,CAAWG,MAAX,CAAkBC,gBAAlB,CAAmC,OAAnC,EAA4C,KAAKC,cAAjD,EAAiE,KAAKL,KAAL,CAAWM,UAA5E;IACD;EACF;;EAEDE,oBAAoB,GAAG;IACrB,KAAKR,KAAL,CAAWG,MAAX,CAAkBM,mBAAlB,CAAsC,OAAtC,EAA+C,KAAKJ,cAApD,EAAoE,KAAKL,KAAL,CAAWM,UAA/E;;IACA,IAAI,KAAKN,KAAL,CAAWO,kBAAf,EAAmC;MACjC,KAAKP,KAAL,CAAWG,MAAX,CAAkBM,mBAAlB,CAAsC,OAAtC,EAA+C,KAAKJ,cAApD,EAAoE,KAAKL,KAAL,CAAWM,UAA/E;IACD;EACF;;EAUDI,MAAM,GAAG;IACP,oBAAO;MAAK,GAAG,EAAE,KAAKd,KAAf;MAAA,UAAuB,KAAKI,KAAL,CAAWW;IAAlC,EAAP;EACD;;AApCkE;;gBAAxDnB,mB,kBACW;EACpBe,kBAAkB,EAAE,IADA;EAEpBJ,MAAM,EAAE,OAAOS,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAF7B;EAGpBN,UAAU,EAAE;AAHQ,C"},"metadata":{},"sourceType":"module"}