{"ast":null,"code":"const _excluded = [\"key\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles2 } from '../../themes';\nimport { EmptyCell, FooterCell } from './FooterCell';\nimport { getTableStyles } from './styles';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createElement as _createElement } from \"react\";\nexport const FooterRow = props => {\n  const {\n    totalColumnsWidth,\n    footerGroups,\n    height,\n    isPaginationVisible\n  } = props;\n  const e2eSelectorsTable = selectors.components.Panels.Visualization.Table;\n  const tableStyles = useStyles2(getTableStyles);\n  return /*#__PURE__*/_jsx(\"table\", {\n    style: {\n      position: isPaginationVisible ? 'relative' : 'absolute',\n      width: totalColumnsWidth ? `${totalColumnsWidth}px` : '100%',\n      bottom: '0px'\n    },\n    children: footerGroups.map(footerGroup => {\n      const _footerGroup$getFoote = footerGroup.getFooterGroupProps(),\n            {\n        key\n      } = _footerGroup$getFoote,\n            footerGroupProps = _objectWithoutPropertiesLoose(_footerGroup$getFoote, _excluded);\n\n      return /*#__PURE__*/_createElement(\"tfoot\", Object.assign({\n        className: tableStyles.tfoot\n      }, footerGroupProps, {\n        key: key,\n        \"data-testid\": e2eSelectorsTable.footer,\n        style: height ? {\n          height: `${height}px`\n        } : undefined\n      }), /*#__PURE__*/_jsx(\"tr\", {\n        children: footerGroup.headers.map((column, index) => renderFooterCell(column, tableStyles, height))\n      }));\n    })\n  });\n};\n\nfunction renderFooterCell(column, tableStyles, height) {\n  var _footerProps$style;\n\n  const footerProps = column.getHeaderProps();\n\n  if (!footerProps) {\n    return null;\n  }\n\n  footerProps.style = (_footerProps$style = footerProps.style) !== null && _footerProps$style !== void 0 ? _footerProps$style : {};\n  footerProps.style.position = 'absolute';\n  footerProps.style.justifyContent = column.justifyContent;\n\n  if (height) {\n    footerProps.style.height = height;\n  }\n\n  return /*#__PURE__*/_jsx(\"th\", Object.assign({\n    className: tableStyles.headerCell\n  }, footerProps, {\n    children: column.render('Footer')\n  }));\n}\n\nexport function getFooterValue(index, footerValues) {\n  if (footerValues === undefined) {\n    return EmptyCell;\n  }\n\n  return FooterCell({\n    value: footerValues[index]\n  });\n}","map":{"version":3,"names":["React","selectors","useStyles2","EmptyCell","FooterCell","getTableStyles","FooterRow","props","totalColumnsWidth","footerGroups","height","isPaginationVisible","e2eSelectorsTable","components","Panels","Visualization","Table","tableStyles","position","width","bottom","map","footerGroup","getFooterGroupProps","key","footerGroupProps","tfoot","footer","undefined","headers","column","index","renderFooterCell","footerProps","getHeaderProps","style","justifyContent","headerCell","render","getFooterValue","footerValues","value"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Table/FooterRow.tsx"],"sourcesContent":["import React from 'react';\nimport { ColumnInstance, HeaderGroup } from 'react-table';\n\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useStyles2 } from '../../themes';\n\nimport { EmptyCell, FooterCell } from './FooterCell';\nimport { getTableStyles, TableStyles } from './styles';\nimport { FooterItem } from './types';\n\nexport interface FooterRowProps {\n  totalColumnsWidth: number;\n  footerGroups: HeaderGroup[];\n  footerValues: FooterItem[];\n  isPaginationVisible: boolean;\n  height: number;\n}\n\nexport const FooterRow = (props: FooterRowProps) => {\n  const { totalColumnsWidth, footerGroups, height, isPaginationVisible } = props;\n  const e2eSelectorsTable = selectors.components.Panels.Visualization.Table;\n  const tableStyles = useStyles2(getTableStyles);\n\n  return (\n    <table\n      style={{\n        position: isPaginationVisible ? 'relative' : 'absolute',\n        width: totalColumnsWidth ? `${totalColumnsWidth}px` : '100%',\n        bottom: '0px',\n      }}\n    >\n      {footerGroups.map((footerGroup: HeaderGroup) => {\n        const { key, ...footerGroupProps } = footerGroup.getFooterGroupProps();\n        return (\n          <tfoot\n            className={tableStyles.tfoot}\n            {...footerGroupProps}\n            key={key}\n            data-testid={e2eSelectorsTable.footer}\n            style={height ? { height: `${height}px` } : undefined}\n          >\n            <tr>\n              {footerGroup.headers.map((column: ColumnInstance, index: number) =>\n                renderFooterCell(column, tableStyles, height)\n              )}\n            </tr>\n          </tfoot>\n        );\n      })}\n    </table>\n  );\n};\n\nfunction renderFooterCell(column: ColumnInstance, tableStyles: TableStyles, height?: number) {\n  const footerProps = column.getHeaderProps();\n\n  if (!footerProps) {\n    return null;\n  }\n\n  footerProps.style = footerProps.style ?? {};\n  footerProps.style.position = 'absolute';\n  footerProps.style.justifyContent = (column as any).justifyContent;\n  if (height) {\n    footerProps.style.height = height;\n  }\n\n  return (\n    <th className={tableStyles.headerCell} {...footerProps}>\n      {column.render('Footer')}\n    </th>\n  );\n}\n\nexport function getFooterValue(index: number, footerValues?: FooterItem[]) {\n  if (footerValues === undefined) {\n    return EmptyCell;\n  }\n\n  return FooterCell({ value: footerValues[index] });\n}\n"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,SAASC,UAAT,QAA2B,cAA3B;AAEA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,cAAtC;AACA,SAASC,cAAT,QAA4C,UAA5C;;;AAWA,OAAO,MAAMC,SAAS,GAAIC,KAAD,IAA2B;EAClD,MAAM;IAAEC,iBAAF;IAAqBC,YAArB;IAAmCC,MAAnC;IAA2CC;EAA3C,IAAmEJ,KAAzE;EACA,MAAMK,iBAAiB,GAAGX,SAAS,CAACY,UAAV,CAAqBC,MAArB,CAA4BC,aAA5B,CAA0CC,KAApE;EACA,MAAMC,WAAW,GAAGf,UAAU,CAACG,cAAD,CAA9B;EAEA,oBACE;IACE,KAAK,EAAE;MACLa,QAAQ,EAAEP,mBAAmB,GAAG,UAAH,GAAgB,UADxC;MAELQ,KAAK,EAAEX,iBAAiB,GAAI,GAAEA,iBAAkB,IAAxB,GAA8B,MAFjD;MAGLY,MAAM,EAAE;IAHH,CADT;IAAA,UAOGX,YAAY,CAACY,GAAb,CAAkBC,WAAD,IAA8B;MAC9C,8BAAqCA,WAAW,CAACC,mBAAZ,EAArC;MAAA,MAAM;QAAEC;MAAF,CAAN;MAAA,MAAgBC,gBAAhB;;MACA,oBACE;QACE,SAAS,EAAER,WAAW,CAACS;MADzB,GAEMD,gBAFN;QAGE,GAAG,EAAED,GAHP;QAIE,eAAaZ,iBAAiB,CAACe,MAJjC;QAKE,KAAK,EAAEjB,MAAM,GAAG;UAAEA,MAAM,EAAG,GAAEA,MAAO;QAApB,CAAH,GAA+BkB;MAL9C,iBAOE;QAAA,UACGN,WAAW,CAACO,OAAZ,CAAoBR,GAApB,CAAwB,CAACS,MAAD,EAAyBC,KAAzB,KACvBC,gBAAgB,CAACF,MAAD,EAASb,WAAT,EAAsBP,MAAtB,CADjB;MADH,EAPF,CADF;IAeD,CAjBA;EAPH,EADF;AA4BD,CAjCM;;AAmCP,SAASsB,gBAAT,CAA0BF,MAA1B,EAAkDb,WAAlD,EAA4EP,MAA5E,EAA6F;EAAA;;EAC3F,MAAMuB,WAAW,GAAGH,MAAM,CAACI,cAAP,EAApB;;EAEA,IAAI,CAACD,WAAL,EAAkB;IAChB,OAAO,IAAP;EACD;;EAEDA,WAAW,CAACE,KAAZ,yBAAoBF,WAAW,CAACE,KAAhC,mEAAyC,EAAzC;EACAF,WAAW,CAACE,KAAZ,CAAkBjB,QAAlB,GAA6B,UAA7B;EACAe,WAAW,CAACE,KAAZ,CAAkBC,cAAlB,GAAoCN,MAAD,CAAgBM,cAAnD;;EACA,IAAI1B,MAAJ,EAAY;IACVuB,WAAW,CAACE,KAAZ,CAAkBzB,MAAlB,GAA2BA,MAA3B;EACD;;EAED,oBACE;IAAI,SAAS,EAAEO,WAAW,CAACoB;EAA3B,GAA2CJ,WAA3C;IAAA,UACGH,MAAM,CAACQ,MAAP,CAAc,QAAd;EADH,GADF;AAKD;;AAED,OAAO,SAASC,cAAT,CAAwBR,KAAxB,EAAuCS,YAAvC,EAAoE;EACzE,IAAIA,YAAY,KAAKZ,SAArB,EAAgC;IAC9B,OAAOzB,SAAP;EACD;;EAED,OAAOC,UAAU,CAAC;IAAEqC,KAAK,EAAED,YAAY,CAACT,KAAD;EAArB,CAAD,CAAjB;AACD"},"metadata":{},"sourceType":"module"}