{"ast":null,"code":"var _TooltipContent, _span;\n\nconst _excluded = [\"onMoveLeft\", \"onMoveRight\", \"func\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { Icon, Tooltip, useStyles2 } from '@grafana/ui';\nimport { FunctionEditorControls } from './FunctionEditorControls';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst getStyles = theme => {\n  return {\n    icon: css`\n      margin-right: ${theme.spacing(0.5)};\n    `,\n    label: css({\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.bodySmall.fontSize,\n      // to match .gf-form-label\n      cursor: 'pointer',\n      display: 'inline-block'\n    })\n  };\n};\n\nconst FunctionEditor = _ref => {\n  let {\n    onMoveLeft,\n    onMoveRight,\n    func\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const styles = useStyles2(getStyles);\n\n  const renderContent = ({\n    updatePopperPosition\n  }) => /*#__PURE__*/_jsx(FunctionEditorControls, Object.assign({}, props, {\n    func: func,\n    onMoveLeft: () => {\n      onMoveLeft(func);\n      updatePopperPosition();\n    },\n    onMoveRight: () => {\n      onMoveRight(func);\n      updatePopperPosition();\n    }\n  }));\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [func.def.unknown && /*#__PURE__*/_jsx(Tooltip, {\n      content: _TooltipContent || (_TooltipContent = /*#__PURE__*/_jsx(TooltipContent, {})),\n      placement: \"bottom\",\n      interactive: true,\n      children: /*#__PURE__*/_jsx(Icon, {\n        \"data-testid\": \"warning-icon\",\n        name: \"exclamation-triangle\",\n        size: \"xs\",\n        className: styles.icon\n      })\n    }), /*#__PURE__*/_jsx(Tooltip, {\n      content: renderContent,\n      placement: \"top\",\n      interactive: true,\n      children: /*#__PURE__*/_jsx(\"span\", {\n        className: styles.label,\n        children: func.def.name\n      })\n    })]\n  });\n};\n\nconst TooltipContent = /*#__PURE__*/React.memo(() => {\n  return _span || (_span = /*#__PURE__*/_jsxs(\"span\", {\n    children: [\"This function is not supported. Check your function for typos and\", ' ', /*#__PURE__*/_jsx(\"a\", {\n      target: \"_blank\",\n      className: \"external-link\",\n      rel: \"noreferrer noopener\",\n      href: \"https://graphite.readthedocs.io/en/latest/functions.html\",\n      children: \"read the docs\"\n    }), ' ', \"to see whether you need to upgrade your data source\\u2019s version to make this function available.\"]\n  }));\n});\nTooltipContent.displayName = 'FunctionEditorTooltipContent';\nexport { FunctionEditor };","map":{"version":3,"names":["css","React","Icon","Tooltip","useStyles2","FunctionEditorControls","getStyles","theme","icon","spacing","label","fontWeight","typography","fontWeightMedium","fontSize","bodySmall","cursor","display","FunctionEditor","onMoveLeft","onMoveRight","func","props","styles","renderContent","updatePopperPosition","def","unknown","name","TooltipContent","memo","displayName"],"sources":["/home/soula/grafana/public/app/plugins/datasource/graphite/components/FunctionEditor.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, Tooltip, useStyles2 } from '@grafana/ui';\n\nimport { FuncInstance } from '../gfunc';\n\nimport { FunctionEditorControls, FunctionEditorControlsProps } from './FunctionEditorControls';\n\ninterface FunctionEditorProps extends FunctionEditorControlsProps {\n  func: FuncInstance;\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    icon: css`\n      margin-right: ${theme.spacing(0.5)};\n    `,\n    label: css({\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.bodySmall.fontSize, // to match .gf-form-label\n      cursor: 'pointer',\n      display: 'inline-block',\n    }),\n  };\n};\n\nconst FunctionEditor: React.FC<FunctionEditorProps> = ({ onMoveLeft, onMoveRight, func, ...props }) => {\n  const styles = useStyles2(getStyles);\n\n  const renderContent = ({ updatePopperPosition }: any) => (\n    <FunctionEditorControls\n      {...props}\n      func={func}\n      onMoveLeft={() => {\n        onMoveLeft(func);\n        updatePopperPosition();\n      }}\n      onMoveRight={() => {\n        onMoveRight(func);\n        updatePopperPosition();\n      }}\n    />\n  );\n\n  return (\n    <>\n      {func.def.unknown && (\n        <Tooltip content={<TooltipContent />} placement=\"bottom\" interactive>\n          <Icon data-testid=\"warning-icon\" name=\"exclamation-triangle\" size=\"xs\" className={styles.icon} />\n        </Tooltip>\n      )}\n      <Tooltip content={renderContent} placement=\"top\" interactive>\n        <span className={styles.label}>{func.def.name}</span>\n      </Tooltip>\n    </>\n  );\n};\n\nconst TooltipContent = React.memo(() => {\n  return (\n    <span>\n      This function is not supported. Check your function for typos and{' '}\n      <a\n        target=\"_blank\"\n        className=\"external-link\"\n        rel=\"noreferrer noopener\"\n        href=\"https://graphite.readthedocs.io/en/latest/functions.html\"\n      >\n        read the docs\n      </a>{' '}\n      to see whether you need to upgrade your data sourceâ€™s version to make this function available.\n    </span>\n  );\n});\nTooltipContent.displayName = 'FunctionEditorTooltipContent';\n\nexport { FunctionEditor };\n"],"mappings":";;;;;;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,UAAxB,QAA0C,aAA1C;AAIA,SAASC,sBAAT,QAAoE,0BAApE;;;;;AAMA,MAAMC,SAAS,GAAIC,KAAD,IAA0B;EAC1C,OAAO;IACLC,IAAI,EAAER,GAAI;AACd,sBAAsBO,KAAK,CAACE,OAAN,CAAc,GAAd,CAAmB;AACzC,KAHS;IAILC,KAAK,EAAEV,GAAG,CAAC;MACTW,UAAU,EAAEJ,KAAK,CAACK,UAAN,CAAiBC,gBADpB;MAETC,QAAQ,EAAEP,KAAK,CAACK,UAAN,CAAiBG,SAAjB,CAA2BD,QAF5B;MAEsC;MAC/CE,MAAM,EAAE,SAHC;MAITC,OAAO,EAAE;IAJA,CAAD;EAJL,CAAP;AAWD,CAZD;;AAcA,MAAMC,cAA6C,GAAG,QAAiD;EAAA,IAAhD;IAAEC,UAAF;IAAcC,WAAd;IAA2BC;EAA3B,CAAgD;EAAA,IAAZC,KAAY;;EACrG,MAAMC,MAAM,GAAGnB,UAAU,CAACE,SAAD,CAAzB;;EAEA,MAAMkB,aAAa,GAAG,CAAC;IAAEC;EAAF,CAAD,kBACpB,KAAC,sBAAD,oBACMH,KADN;IAEE,IAAI,EAAED,IAFR;IAGE,UAAU,EAAE,MAAM;MAChBF,UAAU,CAACE,IAAD,CAAV;MACAI,oBAAoB;IACrB,CANH;IAOE,WAAW,EAAE,MAAM;MACjBL,WAAW,CAACC,IAAD,CAAX;MACAI,oBAAoB;IACrB;EAVH,GADF;;EAeA,oBACE;IAAA,WACGJ,IAAI,CAACK,GAAL,CAASC,OAAT,iBACC,KAAC,OAAD;MAAS,OAAO,qDAAE,KAAC,cAAD,KAAF,CAAhB;MAAsC,SAAS,EAAC,QAAhD;MAAyD,WAAW,MAApE;MAAA,uBACE,KAAC,IAAD;QAAM,eAAY,cAAlB;QAAiC,IAAI,EAAC,sBAAtC;QAA6D,IAAI,EAAC,IAAlE;QAAuE,SAAS,EAAEJ,MAAM,CAACf;MAAzF;IADF,EAFJ,eAME,KAAC,OAAD;MAAS,OAAO,EAAEgB,aAAlB;MAAiC,SAAS,EAAC,KAA3C;MAAiD,WAAW,MAA5D;MAAA,uBACE;QAAM,SAAS,EAAED,MAAM,CAACb,KAAxB;QAAA,UAAgCW,IAAI,CAACK,GAAL,CAASE;MAAzC;IADF,EANF;EAAA,EADF;AAYD,CA9BD;;AAgCA,MAAMC,cAAc,gBAAG5B,KAAK,CAAC6B,IAAN,CAAW,MAAM;EACtC,sCACE;IAAA,gFACoE,GADpE,eAEE;MACE,MAAM,EAAC,QADT;MAEE,SAAS,EAAC,eAFZ;MAGE,GAAG,EAAC,qBAHN;MAIE,IAAI,EAAC,0DAJP;MAAA;IAAA,EAFF,EASO,GATP;EAAA,EADF;AAcD,CAfsB,CAAvB;AAgBAD,cAAc,CAACE,WAAf,GAA6B,8BAA7B;AAEA,SAASb,cAAT"},"metadata":{},"sourceType":"module"}