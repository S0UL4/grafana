{"ast":null,"code":"const _excluded = [\"value\", \"className\", \"style\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction fontSizeReductionFactor(fontSize) {\n  if (fontSize < 20) {\n    return 0.9;\n  }\n\n  if (fontSize < 26) {\n    return 0.8;\n  }\n\n  return 0.6;\n}\n\nexport const FormattedValueDisplay = _ref => {\n  var _value$prefix, _value$suffix;\n\n  let {\n    value,\n    className,\n    style\n  } = _ref,\n      htmlProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const hasPrefix = ((_value$prefix = value.prefix) !== null && _value$prefix !== void 0 ? _value$prefix : '').length > 0;\n  const hasSuffix = ((_value$suffix = value.suffix) !== null && _value$suffix !== void 0 ? _value$suffix : '').length > 0;\n  let suffixStyle;\n\n  if (style && style.fontSize) {\n    const fontSize = style === null || style === void 0 ? void 0 : style.fontSize;\n    const reductionFactor = fontSizeReductionFactor(fontSize);\n    suffixStyle = {\n      fontSize: fontSize * reductionFactor\n    };\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", Object.assign({\n    className: className,\n    style: style\n  }, htmlProps, {\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      children: [hasPrefix && /*#__PURE__*/_jsx(\"span\", {\n        children: value.prefix\n      }), /*#__PURE__*/_jsx(\"span\", {\n        children: value.text\n      }), hasSuffix && /*#__PURE__*/_jsx(\"span\", {\n        style: suffixStyle,\n        children: value.suffix\n      })]\n    })\n  }));\n};\nFormattedValueDisplay.displayName = 'FormattedDisplayValue';","map":{"version":3,"names":["React","fontSizeReductionFactor","fontSize","FormattedValueDisplay","value","className","style","htmlProps","hasPrefix","prefix","length","hasSuffix","suffix","suffixStyle","reductionFactor","text","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/FormattedValueDisplay/FormattedValueDisplay.tsx"],"sourcesContent":["import React, { FC, CSSProperties, HTMLProps } from 'react';\n\nimport { FormattedValue } from '@grafana/data';\n\nexport interface Props extends Omit<HTMLProps<HTMLDivElement>, 'className' | 'value' | 'style'> {\n  value: FormattedValue;\n  className?: string;\n  style?: CSSProperties;\n}\n\nfunction fontSizeReductionFactor(fontSize: number) {\n  if (fontSize < 20) {\n    return 0.9;\n  }\n  if (fontSize < 26) {\n    return 0.8;\n  }\n  return 0.6;\n}\n\nexport const FormattedValueDisplay: FC<Props> = ({ value, className, style, ...htmlProps }) => {\n  const hasPrefix = (value.prefix ?? '').length > 0;\n  const hasSuffix = (value.suffix ?? '').length > 0;\n  let suffixStyle;\n\n  if (style && style.fontSize) {\n    const fontSize = style?.fontSize as number;\n    const reductionFactor = fontSizeReductionFactor(fontSize);\n    suffixStyle = { fontSize: fontSize * reductionFactor };\n  }\n\n  return (\n    <div className={className} style={style} {...htmlProps}>\n      <div>\n        {hasPrefix && <span>{value.prefix}</span>}\n        <span>{value.text}</span>\n        {hasSuffix && <span style={suffixStyle}>{value.suffix}</span>}\n      </div>\n    </div>\n  );\n};\n\nFormattedValueDisplay.displayName = 'FormattedDisplayValue';\n"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAoD,OAApD;;;;AAUA,SAASC,uBAAT,CAAiCC,QAAjC,EAAmD;EACjD,IAAIA,QAAQ,GAAG,EAAf,EAAmB;IACjB,OAAO,GAAP;EACD;;EACD,IAAIA,QAAQ,GAAG,EAAf,EAAmB;IACjB,OAAO,GAAP;EACD;;EACD,OAAO,GAAP;AACD;;AAED,OAAO,MAAMC,qBAAgC,GAAG,QAA+C;EAAA;;EAAA,IAA9C;IAAEC,KAAF;IAASC,SAAT;IAAoBC;EAApB,CAA8C;EAAA,IAAhBC,SAAgB;;EAC7F,MAAMC,SAAS,GAAG,kBAACJ,KAAK,CAACK,MAAP,yDAAiB,EAAjB,EAAqBC,MAArB,GAA8B,CAAhD;EACA,MAAMC,SAAS,GAAG,kBAACP,KAAK,CAACQ,MAAP,yDAAiB,EAAjB,EAAqBF,MAArB,GAA8B,CAAhD;EACA,IAAIG,WAAJ;;EAEA,IAAIP,KAAK,IAAIA,KAAK,CAACJ,QAAnB,EAA6B;IAC3B,MAAMA,QAAQ,GAAGI,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEJ,QAAxB;IACA,MAAMY,eAAe,GAAGb,uBAAuB,CAACC,QAAD,CAA/C;IACAW,WAAW,GAAG;MAAEX,QAAQ,EAAEA,QAAQ,GAAGY;IAAvB,CAAd;EACD;;EAED,oBACE;IAAK,SAAS,EAAET,SAAhB;IAA2B,KAAK,EAAEC;EAAlC,GAA6CC,SAA7C;IAAA,uBACE;MAAA,WACGC,SAAS,iBAAI;QAAA,UAAOJ,KAAK,CAACK;MAAb,EADhB,eAEE;QAAA,UAAOL,KAAK,CAACW;MAAb,EAFF,EAGGJ,SAAS,iBAAI;QAAM,KAAK,EAAEE,WAAb;QAAA,UAA2BT,KAAK,CAACQ;MAAjC,EAHhB;IAAA;EADF,GADF;AASD,CApBM;AAsBPT,qBAAqB,CAACa,WAAtB,GAAoC,uBAApC"},"metadata":{},"sourceType":"module"}