{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { getInstanceState } from '../state/selectors';\nimport { initialVariablesState } from '../state/types';\nimport { initialVariableModelState, VariableHide } from '../types';\nexport const initialConstantVariableModelState = Object.assign({}, initialVariableModelState, {\n  type: 'constant',\n  hide: VariableHide.hideVariable,\n  query: '',\n  current: {},\n  options: []\n});\nexport const constantVariableSlice = createSlice({\n  name: 'templating/constant',\n  initialState: initialVariablesState,\n  reducers: {\n    createConstantOptionsFromQuery: (state, action) => {\n      const instanceState = getInstanceState(state, action.payload.id);\n      instanceState.options = [{\n        text: instanceState.query.trim(),\n        value: instanceState.query.trim(),\n        selected: false\n      }];\n    }\n  }\n});\nexport const constantVariableReducer = constantVariableSlice.reducer;\nexport const {\n  createConstantOptionsFromQuery\n} = constantVariableSlice.actions;","map":{"version":3,"names":["createSlice","getInstanceState","initialVariablesState","initialVariableModelState","VariableHide","initialConstantVariableModelState","type","hide","hideVariable","query","current","options","constantVariableSlice","name","initialState","reducers","createConstantOptionsFromQuery","state","action","instanceState","payload","id","text","trim","value","selected","constantVariableReducer","reducer","actions"],"sources":["/home/soula/grafana/public/app/features/variables/constant/reducer.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { getInstanceState } from '../state/selectors';\nimport { initialVariablesState, VariablePayload, VariablesState } from '../state/types';\nimport { ConstantVariableModel, initialVariableModelState, VariableHide, VariableOption } from '../types';\n\nexport const initialConstantVariableModelState: ConstantVariableModel = {\n  ...initialVariableModelState,\n  type: 'constant',\n  hide: VariableHide.hideVariable,\n  query: '',\n  current: {} as VariableOption,\n  options: [],\n};\n\nexport const constantVariableSlice = createSlice({\n  name: 'templating/constant',\n  initialState: initialVariablesState,\n  reducers: {\n    createConstantOptionsFromQuery: (state: VariablesState, action: PayloadAction<VariablePayload>) => {\n      const instanceState = getInstanceState<ConstantVariableModel>(state, action.payload.id);\n      instanceState.options = [\n        { text: instanceState.query.trim(), value: instanceState.query.trim(), selected: false },\n      ];\n    },\n  },\n});\n\nexport const constantVariableReducer = constantVariableSlice.reducer;\n\nexport const { createConstantOptionsFromQuery } = constantVariableSlice.actions;\n"],"mappings":"AAAA,SAASA,WAAT,QAA2C,kBAA3C;AAEA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,qBAAT,QAAuE,gBAAvE;AACA,SAAgCC,yBAAhC,EAA2DC,YAA3D,QAA+F,UAA/F;AAEA,OAAO,MAAMC,iCAAwD,qBAChEF,yBADgE;EAEnEG,IAAI,EAAE,UAF6D;EAGnEC,IAAI,EAAEH,YAAY,CAACI,YAHgD;EAInEC,KAAK,EAAE,EAJ4D;EAKnEC,OAAO,EAAE,EAL0D;EAMnEC,OAAO,EAAE;AAN0D,EAA9D;AASP,OAAO,MAAMC,qBAAqB,GAAGZ,WAAW,CAAC;EAC/Ca,IAAI,EAAE,qBADyC;EAE/CC,YAAY,EAAEZ,qBAFiC;EAG/Ca,QAAQ,EAAE;IACRC,8BAA8B,EAAE,CAACC,KAAD,EAAwBC,MAAxB,KAAmE;MACjG,MAAMC,aAAa,GAAGlB,gBAAgB,CAAwBgB,KAAxB,EAA+BC,MAAM,CAACE,OAAP,CAAeC,EAA9C,CAAtC;MACAF,aAAa,CAACR,OAAd,GAAwB,CACtB;QAAEW,IAAI,EAAEH,aAAa,CAACV,KAAd,CAAoBc,IAApB,EAAR;QAAoCC,KAAK,EAAEL,aAAa,CAACV,KAAd,CAAoBc,IAApB,EAA3C;QAAuEE,QAAQ,EAAE;MAAjF,CADsB,CAAxB;IAGD;EANO;AAHqC,CAAD,CAAzC;AAaP,OAAO,MAAMC,uBAAuB,GAAGd,qBAAqB,CAACe,OAAtD;AAEP,OAAO,MAAM;EAAEX;AAAF,IAAqCJ,qBAAqB,CAACgB,OAAjE"},"metadata":{},"sourceType":"module"}