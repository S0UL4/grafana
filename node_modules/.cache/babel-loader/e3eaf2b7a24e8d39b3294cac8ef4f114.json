{"ast":null,"code":"import { css, cx } from '@emotion/css';\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Link } from '..';\nimport { styleMixins } from '../../themes';\nimport { useStyles2 } from '../../themes/ThemeContext';\nimport { getFocusStyles } from '../../themes/mixins';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\n/** @alpha */\nexport const PageToolbar = /*#__PURE__*/React.memo(({\n  title,\n  parent,\n  pageIcon,\n  onGoBack,\n  children,\n  titleHref,\n  parentHref,\n  leftItems,\n  isFullscreen,\n  className,\n\n  /** main nav-container aria-label **/\n  'aria-label': ariaLabel\n}) => {\n  const styles = useStyles2(getStyles);\n  /**\n   * .page-toolbar css class is used for some legacy css view modes (TV/Kiosk) and\n   * media queries for mobile view when toolbar needs left padding to make room\n   * for mobile menu icon. This logic hopefylly can be changed when we move to a full react\n   * app and change how the app side menu & mobile menu is rendered.\n   */\n\n  const mainStyle = cx('page-toolbar', styles.toolbar, {\n    ['page-toolbar--fullscreen']: isFullscreen\n  }, className);\n  return /*#__PURE__*/_jsxs(\"nav\", {\n    className: mainStyle,\n    \"aria-label\": ariaLabel,\n    children: [pageIcon && !onGoBack && /*#__PURE__*/_jsx(\"div\", {\n      className: styles.pageIcon,\n      children: /*#__PURE__*/_jsx(Icon, {\n        name: pageIcon,\n        size: \"lg\",\n        \"aria-hidden\": true\n      })\n    }), onGoBack && /*#__PURE__*/_jsx(\"div\", {\n      className: styles.pageIcon,\n      children: /*#__PURE__*/_jsx(IconButton, {\n        name: \"arrow-left\",\n        tooltip: \"Go back (Esc)\",\n        tooltipPlacement: \"bottom\",\n        size: \"xxl\",\n        \"aria-label\": selectors.components.BackButton.backArrow,\n        onClick: onGoBack\n      })\n    }), /*#__PURE__*/_jsxs(\"nav\", {\n      \"aria-label\": \"Search links\",\n      className: styles.navElement,\n      children: [parent && parentHref && /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsxs(Link, {\n          \"aria-label\": `Search dashboard in the ${parent} folder`,\n          className: cx(styles.titleText, styles.parentLink, styles.titleLink),\n          href: parentHref,\n          children: [parent, \" \", /*#__PURE__*/_jsx(\"span\", {\n            className: styles.parentIcon\n          })]\n        }), titleHref && /*#__PURE__*/_jsx(\"span\", {\n          className: cx(styles.titleText, styles.titleDivider, styles.parentLink),\n          \"aria-hidden\": true,\n          children: \"/\"\n        })]\n      }), title && titleHref && /*#__PURE__*/_jsx(\"h1\", {\n        className: styles.h1Styles,\n        children: /*#__PURE__*/_jsx(Link, {\n          \"aria-label\": \"Search dashboard by name\",\n          className: cx(styles.titleText, styles.titleLink),\n          href: titleHref,\n          children: title\n        })\n      }), title && !titleHref && /*#__PURE__*/_jsx(\"h1\", {\n        className: styles.titleText,\n        children: title\n      })]\n    }), leftItems === null || leftItems === void 0 ? void 0 : leftItems.map((child, index) => /*#__PURE__*/_jsx(\"div\", {\n      className: styles.leftActionItem,\n      children: child\n    }, index)), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.spacer\n    }), React.Children.toArray(children).filter(Boolean).map((child, index) => {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: styles.actionWrapper,\n        children: child\n      }, index);\n    })]\n  });\n});\nPageToolbar.displayName = 'PageToolbar';\n\nconst getStyles = theme => {\n  const {\n    spacing,\n    typography\n  } = theme;\n  const focusStyle = getFocusStyles(theme);\n  const titleStyles = css`\n    font-size: ${typography.size.lg};\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    margin: 0;\n    max-width: 240px;\n    border-radius: 2px;\n\n    @media ${styleMixins.mediaUp(theme.v1.breakpoints.xl)} {\n      max-width: unset;\n    }\n  `;\n  return {\n    toolbar: css`\n      align-items: center;\n      background: ${theme.colors.background.canvas};\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: flex-end;\n      padding: ${theme.spacing(1.5, 2)};\n    `,\n    spacer: css`\n      flex-grow: 1;\n    `,\n    pageIcon: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        display: flex;\n        padding-right: ${theme.spacing(1)};\n        align-items: center;\n      }\n    `,\n    titleWrapper: css`\n      display: flex;\n      align-items: center;\n      min-width: 0;\n      overflow: hidden;\n    `,\n    navElement: css`\n      display: flex;\n    `,\n    h1Styles: css`\n      margin: 0;\n      line-height: inherit;\n      display: flex;\n    `,\n    parentIcon: css`\n      margin-left: ${theme.spacing(0.5)};\n    `,\n    titleText: titleStyles,\n    titleLink: css`\n      &:focus-visible {\n        ${focusStyle}\n      }\n    `,\n    titleDivider: css`\n      padding: ${spacing(0, 0.5, 0, 0.5)};\n    `,\n    parentLink: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        display: unset;\n      }\n    `,\n    actionWrapper: css`\n      padding: ${spacing(0.5, 0, 0.5, 1)};\n    `,\n    leftActionItem: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        align-items: center;\n        display: flex;\n        padding-left: ${spacing(0.5)};\n      }\n    `\n  };\n};","map":{"version":3,"names":["css","cx","React","selectors","Link","styleMixins","useStyles2","getFocusStyles","Icon","IconButton","PageToolbar","memo","title","parent","pageIcon","onGoBack","children","titleHref","parentHref","leftItems","isFullscreen","className","ariaLabel","styles","getStyles","mainStyle","toolbar","components","BackButton","backArrow","navElement","titleText","parentLink","titleLink","parentIcon","titleDivider","h1Styles","map","child","index","leftActionItem","spacer","Children","toArray","filter","Boolean","actionWrapper","displayName","theme","spacing","typography","focusStyle","titleStyles","size","lg","mediaUp","v1","breakpoints","xl","colors","background","canvas","md","titleWrapper"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/PageLayout/PageToolbar.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { FC, ReactNode } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { Link } from '..';\nimport { styleMixins } from '../../themes';\nimport { useStyles2 } from '../../themes/ThemeContext';\nimport { getFocusStyles } from '../../themes/mixins';\nimport { IconName } from '../../types';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\n\nexport interface Props {\n  pageIcon?: IconName;\n  title?: string;\n  parent?: string;\n  onGoBack?: () => void;\n  titleHref?: string;\n  parentHref?: string;\n  leftItems?: ReactNode[];\n  children?: ReactNode;\n  className?: string;\n  isFullscreen?: boolean;\n  'aria-label'?: string;\n}\n\n/** @alpha */\nexport const PageToolbar: FC<Props> = React.memo(\n  ({\n    title,\n    parent,\n    pageIcon,\n    onGoBack,\n    children,\n    titleHref,\n    parentHref,\n    leftItems,\n    isFullscreen,\n    className,\n    /** main nav-container aria-label **/\n    'aria-label': ariaLabel,\n  }) => {\n    const styles = useStyles2(getStyles);\n\n    /**\n     * .page-toolbar css class is used for some legacy css view modes (TV/Kiosk) and\n     * media queries for mobile view when toolbar needs left padding to make room\n     * for mobile menu icon. This logic hopefylly can be changed when we move to a full react\n     * app and change how the app side menu & mobile menu is rendered.\n     */\n    const mainStyle = cx(\n      'page-toolbar',\n      styles.toolbar,\n      {\n        ['page-toolbar--fullscreen']: isFullscreen,\n      },\n      className\n    );\n\n    return (\n      <nav className={mainStyle} aria-label={ariaLabel}>\n        {pageIcon && !onGoBack && (\n          <div className={styles.pageIcon}>\n            <Icon name={pageIcon} size=\"lg\" aria-hidden />\n          </div>\n        )}\n        {onGoBack && (\n          <div className={styles.pageIcon}>\n            <IconButton\n              name=\"arrow-left\"\n              tooltip=\"Go back (Esc)\"\n              tooltipPlacement=\"bottom\"\n              size=\"xxl\"\n              aria-label={selectors.components.BackButton.backArrow}\n              onClick={onGoBack}\n            />\n          </div>\n        )}\n        <nav aria-label=\"Search links\" className={styles.navElement}>\n          {parent && parentHref && (\n            <>\n              <Link\n                aria-label={`Search dashboard in the ${parent} folder`}\n                className={cx(styles.titleText, styles.parentLink, styles.titleLink)}\n                href={parentHref}\n              >\n                {parent} <span className={styles.parentIcon}></span>\n              </Link>\n              {titleHref && (\n                <span className={cx(styles.titleText, styles.titleDivider, styles.parentLink)} aria-hidden>\n                  /\n                </span>\n              )}\n            </>\n          )}\n\n          {title && titleHref && (\n            <h1 className={styles.h1Styles}>\n              <Link\n                aria-label=\"Search dashboard by name\"\n                className={cx(styles.titleText, styles.titleLink)}\n                href={titleHref}\n              >\n                {title}\n              </Link>\n            </h1>\n          )}\n          {title && !titleHref && <h1 className={styles.titleText}>{title}</h1>}\n        </nav>\n        {leftItems?.map((child, index) => (\n          <div className={styles.leftActionItem} key={index}>\n            {child}\n          </div>\n        ))}\n\n        <div className={styles.spacer} />\n        {React.Children.toArray(children)\n          .filter(Boolean)\n          .map((child, index) => {\n            return (\n              <div className={styles.actionWrapper} key={index}>\n                {child}\n              </div>\n            );\n          })}\n      </nav>\n    );\n  }\n);\n\nPageToolbar.displayName = 'PageToolbar';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  const { spacing, typography } = theme;\n\n  const focusStyle = getFocusStyles(theme);\n  const titleStyles = css`\n    font-size: ${typography.size.lg};\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    margin: 0;\n    max-width: 240px;\n    border-radius: 2px;\n\n    @media ${styleMixins.mediaUp(theme.v1.breakpoints.xl)} {\n      max-width: unset;\n    }\n  `;\n\n  return {\n    toolbar: css`\n      align-items: center;\n      background: ${theme.colors.background.canvas};\n      display: flex;\n      flex-wrap: wrap;\n      justify-content: flex-end;\n      padding: ${theme.spacing(1.5, 2)};\n    `,\n    spacer: css`\n      flex-grow: 1;\n    `,\n    pageIcon: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        display: flex;\n        padding-right: ${theme.spacing(1)};\n        align-items: center;\n      }\n    `,\n    titleWrapper: css`\n      display: flex;\n      align-items: center;\n      min-width: 0;\n      overflow: hidden;\n    `,\n    navElement: css`\n      display: flex;\n    `,\n    h1Styles: css`\n      margin: 0;\n      line-height: inherit;\n      display: flex;\n    `,\n    parentIcon: css`\n      margin-left: ${theme.spacing(0.5)};\n    `,\n    titleText: titleStyles,\n    titleLink: css`\n      &:focus-visible {\n        ${focusStyle}\n      }\n    `,\n    titleDivider: css`\n      padding: ${spacing(0, 0.5, 0, 0.5)};\n    `,\n    parentLink: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        display: unset;\n      }\n    `,\n    actionWrapper: css`\n      padding: ${spacing(0.5, 0, 0.5, 1)};\n    `,\n    leftActionItem: css`\n      display: none;\n      @media ${styleMixins.mediaUp(theme.v1.breakpoints.md)} {\n        align-items: center;\n        display: flex;\n        padding-left: ${spacing(0.5)};\n      }\n    `,\n  };\n};\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,EAAd,QAAwB,cAAxB;AACA,OAAOC,KAAP,MAAqC,OAArC;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,SAASC,IAAT,QAAqB,IAArB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,cAAT,QAA+B,qBAA/B;AAEA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;;;;AAgBA;AACA,OAAO,MAAMC,WAAsB,gBAAGR,KAAK,CAACS,IAAN,CACpC,CAAC;EACCC,KADD;EAECC,MAFD;EAGCC,QAHD;EAICC,QAJD;EAKCC,QALD;EAMCC,SAND;EAOCC,UAPD;EAQCC,SARD;EASCC,YATD;EAUCC,SAVD;;EAWC;EACA,cAAcC;AAZf,CAAD,KAaM;EACJ,MAAMC,MAAM,GAAGjB,UAAU,CAACkB,SAAD,CAAzB;EAEA;AACJ;AACA;AACA;AACA;AACA;;EACI,MAAMC,SAAS,GAAGxB,EAAE,CAClB,cADkB,EAElBsB,MAAM,CAACG,OAFW,EAGlB;IACE,CAAC,0BAAD,GAA8BN;EADhC,CAHkB,EAMlBC,SANkB,CAApB;EASA,oBACE;IAAK,SAAS,EAAEI,SAAhB;IAA2B,cAAYH,SAAvC;IAAA,WACGR,QAAQ,IAAI,CAACC,QAAb,iBACC;MAAK,SAAS,EAAEQ,MAAM,CAACT,QAAvB;MAAA,uBACE,KAAC,IAAD;QAAM,IAAI,EAAEA,QAAZ;QAAsB,IAAI,EAAC,IAA3B;QAAgC;MAAhC;IADF,EAFJ,EAMGC,QAAQ,iBACP;MAAK,SAAS,EAAEQ,MAAM,CAACT,QAAvB;MAAA,uBACE,KAAC,UAAD;QACE,IAAI,EAAC,YADP;QAEE,OAAO,EAAC,eAFV;QAGE,gBAAgB,EAAC,QAHnB;QAIE,IAAI,EAAC,KAJP;QAKE,cAAYX,SAAS,CAACwB,UAAV,CAAqBC,UAArB,CAAgCC,SAL9C;QAME,OAAO,EAAEd;MANX;IADF,EAPJ,eAkBE;MAAK,cAAW,cAAhB;MAA+B,SAAS,EAAEQ,MAAM,CAACO,UAAjD;MAAA,WACGjB,MAAM,IAAIK,UAAV,iBACC;QAAA,wBACE,MAAC,IAAD;UACE,cAAa,2BAA0BL,MAAO,SADhD;UAEE,SAAS,EAAEZ,EAAE,CAACsB,MAAM,CAACQ,SAAR,EAAmBR,MAAM,CAACS,UAA1B,EAAsCT,MAAM,CAACU,SAA7C,CAFf;UAGE,IAAI,EAAEf,UAHR;UAAA,WAKGL,MALH,oBAKW;YAAM,SAAS,EAAEU,MAAM,CAACW;UAAxB,EALX;QAAA,EADF,EAQGjB,SAAS,iBACR;UAAM,SAAS,EAAEhB,EAAE,CAACsB,MAAM,CAACQ,SAAR,EAAmBR,MAAM,CAACY,YAA1B,EAAwCZ,MAAM,CAACS,UAA/C,CAAnB;UAA+E,mBAA/E;UAAA;QAAA,EATJ;MAAA,EAFJ,EAkBGpB,KAAK,IAAIK,SAAT,iBACC;QAAI,SAAS,EAAEM,MAAM,CAACa,QAAtB;QAAA,uBACE,KAAC,IAAD;UACE,cAAW,0BADb;UAEE,SAAS,EAAEnC,EAAE,CAACsB,MAAM,CAACQ,SAAR,EAAmBR,MAAM,CAACU,SAA1B,CAFf;UAGE,IAAI,EAAEhB,SAHR;UAAA,UAKGL;QALH;MADF,EAnBJ,EA6BGA,KAAK,IAAI,CAACK,SAAV,iBAAuB;QAAI,SAAS,EAAEM,MAAM,CAACQ,SAAtB;QAAA,UAAkCnB;MAAlC,EA7B1B;IAAA,EAlBF,EAiDGO,SAjDH,aAiDGA,SAjDH,uBAiDGA,SAAS,CAAEkB,GAAX,CAAe,CAACC,KAAD,EAAQC,KAAR,kBACd;MAAK,SAAS,EAAEhB,MAAM,CAACiB,cAAvB;MAAA,UACGF;IADH,GAA4CC,KAA5C,CADD,CAjDH,eAuDE;MAAK,SAAS,EAAEhB,MAAM,CAACkB;IAAvB,EAvDF,EAwDGvC,KAAK,CAACwC,QAAN,CAAeC,OAAf,CAAuB3B,QAAvB,EACE4B,MADF,CACSC,OADT,EAEER,GAFF,CAEM,CAACC,KAAD,EAAQC,KAAR,KAAkB;MACrB,oBACE;QAAK,SAAS,EAAEhB,MAAM,CAACuB,aAAvB;QAAA,UACGR;MADH,GAA2CC,KAA3C,CADF;IAKD,CARF,CAxDH;EAAA,EADF;AAoED,CApGmC,CAA/B;AAuGP7B,WAAW,CAACqC,WAAZ,GAA0B,aAA1B;;AAEA,MAAMvB,SAAS,GAAIwB,KAAD,IAA0B;EAC1C,MAAM;IAAEC,OAAF;IAAWC;EAAX,IAA0BF,KAAhC;EAEA,MAAMG,UAAU,GAAG5C,cAAc,CAACyC,KAAD,CAAjC;EACA,MAAMI,WAAW,GAAGpD,GAAI;AAC1B,iBAAiBkD,UAAU,CAACG,IAAX,CAAgBC,EAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAajD,WAAW,CAACkD,OAAZ,CAAoBP,KAAK,CAACQ,EAAN,CAASC,WAAT,CAAqBC,EAAzC,CAA6C;AAC1D;AACA;AACA,GAZE;EAcA,OAAO;IACLhC,OAAO,EAAE1B,GAAI;AACjB;AACA,oBAAoBgD,KAAK,CAACW,MAAN,CAAaC,UAAb,CAAwBC,MAAO;AACnD;AACA;AACA;AACA,iBAAiBb,KAAK,CAACC,OAAN,CAAc,GAAd,EAAmB,CAAnB,CAAsB;AACvC,KARS;IASLR,MAAM,EAAEzC,GAAI;AAChB;AACA,KAXS;IAYLc,QAAQ,EAAEd,GAAI;AAClB;AACA,eAAeK,WAAW,CAACkD,OAAZ,CAAoBP,KAAK,CAACQ,EAAN,CAASC,WAAT,CAAqBK,EAAzC,CAA6C;AAC5D;AACA,yBAAyBd,KAAK,CAACC,OAAN,CAAc,CAAd,CAAiB;AAC1C;AACA;AACA,KAnBS;IAoBLc,YAAY,EAAE/D,GAAI;AACtB;AACA;AACA;AACA;AACA,KAzBS;IA0BL8B,UAAU,EAAE9B,GAAI;AACpB;AACA,KA5BS;IA6BLoC,QAAQ,EAAEpC,GAAI;AAClB;AACA;AACA;AACA,KAjCS;IAkCLkC,UAAU,EAAElC,GAAI;AACpB,qBAAqBgD,KAAK,CAACC,OAAN,CAAc,GAAd,CAAmB;AACxC,KApCS;IAqCLlB,SAAS,EAAEqB,WArCN;IAsCLnB,SAAS,EAAEjC,GAAI;AACnB;AACA,UAAUmD,UAAW;AACrB;AACA,KA1CS;IA2CLhB,YAAY,EAAEnC,GAAI;AACtB,iBAAiBiD,OAAO,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT,EAAY,GAAZ,CAAiB;AACzC,KA7CS;IA8CLjB,UAAU,EAAEhC,GAAI;AACpB;AACA,eAAeK,WAAW,CAACkD,OAAZ,CAAoBP,KAAK,CAACQ,EAAN,CAASC,WAAT,CAAqBK,EAAzC,CAA6C;AAC5D;AACA;AACA,KAnDS;IAoDLhB,aAAa,EAAE9C,GAAI;AACvB,iBAAiBiD,OAAO,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,EAAc,CAAd,CAAiB;AACzC,KAtDS;IAuDLT,cAAc,EAAExC,GAAI;AACxB;AACA,eAAeK,WAAW,CAACkD,OAAZ,CAAoBP,KAAK,CAACQ,EAAN,CAASC,WAAT,CAAqBK,EAAzC,CAA6C;AAC5D;AACA;AACA,wBAAwBb,OAAO,CAAC,GAAD,CAAM;AACrC;AACA;EA9DS,CAAP;AAgED,CAlFD"},"metadata":{},"sourceType":"module"}