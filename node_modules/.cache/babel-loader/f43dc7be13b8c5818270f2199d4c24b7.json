{"ast":null,"code":"// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\nimport { useStyles2 } from '@grafana/ui';\nimport { autoColor } from '../Theme';\nimport { formatDuration } from './utils';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst getStyles = theme => {\n  return {\n    Ticks: css`\n      label: Ticks;\n      pointer-events: none;\n    `,\n    TicksTick: css`\n      label: TicksTick;\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background: ${autoColor(theme, '#d8d8d8')};\n      &:last-child {\n        width: 0;\n      }\n    `,\n    TicksTickLabel: css`\n      label: TicksTickLabel;\n      left: 0.25rem;\n      position: absolute;\n    `,\n    TicksTickLabelEndAnchor: css`\n      label: TicksTickLabelEndAnchor;\n      left: initial;\n      right: 0.25rem;\n    `\n  };\n};\n\nexport default function Ticks(props) {\n  const {\n    endTime,\n    numTicks,\n    showLabels,\n    startTime\n  } = props;\n  let labels;\n\n  if (showLabels) {\n    labels = [];\n    const viewingDuration = (endTime || 0) - (startTime || 0);\n\n    for (let i = 0; i < numTicks; i++) {\n      const durationAtTick = (startTime || 0) + i / (numTicks - 1) * viewingDuration;\n      labels.push(formatDuration(durationAtTick));\n    }\n  }\n\n  const styles = useStyles2(getStyles);\n  const ticks = [];\n\n  for (let i = 0; i < numTicks; i++) {\n    const portion = i / (numTicks - 1);\n    ticks.push( /*#__PURE__*/_jsx(\"div\", {\n      className: styles.TicksTick,\n      style: {\n        left: `${portion * 100}%`\n      },\n      children: labels && /*#__PURE__*/_jsx(\"span\", {\n        className: cx(styles.TicksTickLabel, {\n          [styles.TicksTickLabelEndAnchor]: portion >= 1\n        }),\n        children: labels[i]\n      })\n    }, portion));\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.Ticks,\n    children: ticks\n  });\n}\nTicks.defaultProps = {\n  endTime: null,\n  showLabels: null,\n  startTime: null\n};","map":{"version":3,"names":["css","cx","React","useStyles2","autoColor","formatDuration","getStyles","theme","Ticks","TicksTick","TicksTickLabel","TicksTickLabelEndAnchor","props","endTime","numTicks","showLabels","startTime","labels","viewingDuration","i","durationAtTick","push","styles","ticks","portion","left","defaultProps"],"sources":["/home/soula/grafana/packages/jaeger-ui-components/src/TraceTimelineViewer/Ticks.tsx"],"sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { css } from '@emotion/css';\nimport cx from 'classnames';\nimport * as React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { autoColor } from '../Theme';\nimport { TNil } from '../types';\n\nimport { formatDuration } from './utils';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    Ticks: css`\n      label: Ticks;\n      pointer-events: none;\n    `,\n    TicksTick: css`\n      label: TicksTick;\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background: ${autoColor(theme, '#d8d8d8')};\n      &:last-child {\n        width: 0;\n      }\n    `,\n    TicksTickLabel: css`\n      label: TicksTickLabel;\n      left: 0.25rem;\n      position: absolute;\n    `,\n    TicksTickLabelEndAnchor: css`\n      label: TicksTickLabelEndAnchor;\n      left: initial;\n      right: 0.25rem;\n    `,\n  };\n};\n\ntype TicksProps = {\n  endTime?: number | TNil;\n  numTicks: number;\n  showLabels?: boolean | TNil;\n  startTime?: number | TNil;\n};\n\nexport default function Ticks(props: TicksProps) {\n  const { endTime, numTicks, showLabels, startTime } = props;\n\n  let labels: undefined | string[];\n  if (showLabels) {\n    labels = [];\n    const viewingDuration = (endTime || 0) - (startTime || 0);\n    for (let i = 0; i < numTicks; i++) {\n      const durationAtTick = (startTime || 0) + (i / (numTicks - 1)) * viewingDuration;\n      labels.push(formatDuration(durationAtTick));\n    }\n  }\n  const styles = useStyles2(getStyles);\n  const ticks: React.ReactNode[] = [];\n  for (let i = 0; i < numTicks; i++) {\n    const portion = i / (numTicks - 1);\n    ticks.push(\n      <div\n        key={portion}\n        className={styles.TicksTick}\n        style={{\n          left: `${portion * 100}%`,\n        }}\n      >\n        {labels && (\n          <span className={cx(styles.TicksTickLabel, { [styles.TicksTickLabelEndAnchor]: portion >= 1 })}>\n            {labels[i]}\n          </span>\n        )}\n      </div>\n    );\n  }\n  return <div className={styles.Ticks}>{ticks}</div>;\n}\n\nTicks.defaultProps = {\n  endTime: null,\n  showLabels: null,\n  startTime: null,\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AAGA,SAASC,UAAT,QAA2B,aAA3B;AAEA,SAASC,SAAT,QAA0B,UAA1B;AAGA,SAASC,cAAT,QAA+B,SAA/B;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAA0B;EAC1C,OAAO;IACLC,KAAK,EAAER,GAAI;AACf;AACA;AACA,KAJS;IAKLS,SAAS,EAAET,GAAI;AACnB;AACA;AACA;AACA;AACA,oBAAoBI,SAAS,CAACG,KAAD,EAAQ,SAAR,CAAmB;AAChD;AACA;AACA;AACA,KAdS;IAeLG,cAAc,EAAEV,GAAI;AACxB;AACA;AACA;AACA,KAnBS;IAoBLW,uBAAuB,EAAEX,GAAI;AACjC;AACA;AACA;AACA;EAxBS,CAAP;AA0BD,CA3BD;;AAoCA,eAAe,SAASQ,KAAT,CAAeI,KAAf,EAAkC;EAC/C,MAAM;IAAEC,OAAF;IAAWC,QAAX;IAAqBC,UAArB;IAAiCC;EAAjC,IAA+CJ,KAArD;EAEA,IAAIK,MAAJ;;EACA,IAAIF,UAAJ,EAAgB;IACdE,MAAM,GAAG,EAAT;IACA,MAAMC,eAAe,GAAG,CAACL,OAAO,IAAI,CAAZ,KAAkBG,SAAS,IAAI,CAA/B,CAAxB;;IACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAApB,EAA8BK,CAAC,EAA/B,EAAmC;MACjC,MAAMC,cAAc,GAAG,CAACJ,SAAS,IAAI,CAAd,IAAoBG,CAAC,IAAIL,QAAQ,GAAG,CAAf,CAAF,GAAuBI,eAAjE;MACAD,MAAM,CAACI,IAAP,CAAYhB,cAAc,CAACe,cAAD,CAA1B;IACD;EACF;;EACD,MAAME,MAAM,GAAGnB,UAAU,CAACG,SAAD,CAAzB;EACA,MAAMiB,KAAwB,GAAG,EAAjC;;EACA,KAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,QAApB,EAA8BK,CAAC,EAA/B,EAAmC;IACjC,MAAMK,OAAO,GAAGL,CAAC,IAAIL,QAAQ,GAAG,CAAf,CAAjB;IACAS,KAAK,CAACF,IAAN,eACE;MAEE,SAAS,EAAEC,MAAM,CAACb,SAFpB;MAGE,KAAK,EAAE;QACLgB,IAAI,EAAG,GAAED,OAAO,GAAG,GAAI;MADlB,CAHT;MAAA,UAOGP,MAAM,iBACL;QAAM,SAAS,EAAEhB,EAAE,CAACqB,MAAM,CAACZ,cAAR,EAAwB;UAAE,CAACY,MAAM,CAACX,uBAAR,GAAkCa,OAAO,IAAI;QAA/C,CAAxB,CAAnB;QAAA,UACGP,MAAM,CAACE,CAAD;MADT;IARJ,GACOK,OADP,CADF;EAeD;;EACD,oBAAO;IAAK,SAAS,EAAEF,MAAM,CAACd,KAAvB;IAAA,UAA+Be;EAA/B,EAAP;AACD;AAEDf,KAAK,CAACkB,YAAN,GAAqB;EACnBb,OAAO,EAAE,IADU;EAEnBE,UAAU,EAAE,IAFO;EAGnBC,SAAS,EAAE;AAHQ,CAArB"},"metadata":{},"sourceType":"module"}