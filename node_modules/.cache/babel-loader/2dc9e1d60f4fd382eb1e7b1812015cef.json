{"ast":null,"code":"var _Alert;\n\nimport { isEmpty } from 'lodash';\nimport React from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport { durationToMilliseconds, parseDuration } from '@grafana/data';\nimport { Alert } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// a warning that will be shown if a problematic yet technically valid combination of \"evaluate every\" and \"evaluate for\" is enetered\nexport const GrafanaConditionEvalWarning = () => {\n  const {\n    watch\n  } = useFormContext();\n  const evaluateFor = watch('evaluateFor');\n  const evaluateEvery = watch('evaluateEvery');\n\n  if (evaluateFor === '0') {\n    return null;\n  }\n\n  const durationFor = parseDuration(evaluateFor);\n  const durationEvery = parseDuration(evaluateEvery);\n\n  if (isEmpty(durationFor) || isEmpty(durationEvery)) {\n    return null;\n  }\n\n  const millisFor = durationToMilliseconds(durationFor);\n  const millisEvery = durationToMilliseconds(durationEvery);\n\n  if (millisFor && millisEvery && millisFor <= millisEvery) {\n    return _Alert || (_Alert = /*#__PURE__*/_jsx(Alert, {\n      severity: \"warning\",\n      title: \"\",\n      children: \"Setting a \\\"for\\\" duration that is less than or equal to the evaluation interval will result in the evaluation interval being used to calculate when an alert that has stopped receiving data will be closed.\"\n    }));\n  }\n\n  return null;\n};","map":{"version":3,"names":["isEmpty","React","useFormContext","durationToMilliseconds","parseDuration","Alert","GrafanaConditionEvalWarning","watch","evaluateFor","evaluateEvery","durationFor","durationEvery","millisFor","millisEvery"],"sources":["/home/soula/grafana/public/app/features/alerting/unified/components/rule-editor/GrafanaConditionEvalWarning.tsx"],"sourcesContent":["import { isEmpty } from 'lodash';\nimport React, { FC } from 'react';\nimport { useFormContext } from 'react-hook-form';\n\nimport { durationToMilliseconds, parseDuration } from '@grafana/data';\nimport { Alert } from '@grafana/ui';\n\nimport { RuleFormValues } from '../../types/rule-form';\n\n// a warning that will be shown if a problematic yet technically valid combination of \"evaluate every\" and \"evaluate for\" is enetered\nexport const GrafanaConditionEvalWarning: FC = () => {\n  const { watch } = useFormContext<RuleFormValues>();\n  const evaluateFor = watch('evaluateFor');\n  const evaluateEvery = watch('evaluateEvery');\n  if (evaluateFor === '0') {\n    return null;\n  }\n  const durationFor = parseDuration(evaluateFor);\n  const durationEvery = parseDuration(evaluateEvery);\n  if (isEmpty(durationFor) || isEmpty(durationEvery)) {\n    return null;\n  }\n  const millisFor = durationToMilliseconds(durationFor);\n  const millisEvery = durationToMilliseconds(durationEvery);\n  if (millisFor && millisEvery && millisFor <= millisEvery) {\n    return (\n      <Alert severity=\"warning\" title=\"\">\n        Setting a &quot;for&quot; duration that is less than or equal to the evaluation interval will result in the\n        evaluation interval being used to calculate when an alert that has stopped receiving data will be closed.\n      </Alert>\n    );\n  }\n  return null;\n};\n"],"mappings":";;AAAA,SAASA,OAAT,QAAwB,QAAxB;AACA,OAAOC,KAAP,MAA0B,OAA1B;AACA,SAASC,cAAT,QAA+B,iBAA/B;AAEA,SAASC,sBAAT,EAAiCC,aAAjC,QAAsD,eAAtD;AACA,SAASC,KAAT,QAAsB,aAAtB;;AAIA;AACA,OAAO,MAAMC,2BAA+B,GAAG,MAAM;EACnD,MAAM;IAAEC;EAAF,IAAYL,cAAc,EAAhC;EACA,MAAMM,WAAW,GAAGD,KAAK,CAAC,aAAD,CAAzB;EACA,MAAME,aAAa,GAAGF,KAAK,CAAC,eAAD,CAA3B;;EACA,IAAIC,WAAW,KAAK,GAApB,EAAyB;IACvB,OAAO,IAAP;EACD;;EACD,MAAME,WAAW,GAAGN,aAAa,CAACI,WAAD,CAAjC;EACA,MAAMG,aAAa,GAAGP,aAAa,CAACK,aAAD,CAAnC;;EACA,IAAIT,OAAO,CAACU,WAAD,CAAP,IAAwBV,OAAO,CAACW,aAAD,CAAnC,EAAoD;IAClD,OAAO,IAAP;EACD;;EACD,MAAMC,SAAS,GAAGT,sBAAsB,CAACO,WAAD,CAAxC;EACA,MAAMG,WAAW,GAAGV,sBAAsB,CAACQ,aAAD,CAA1C;;EACA,IAAIC,SAAS,IAAIC,WAAb,IAA4BD,SAAS,IAAIC,WAA7C,EAA0D;IACxD,wCACE,KAAC,KAAD;MAAO,QAAQ,EAAC,SAAhB;MAA0B,KAAK,EAAC,EAAhC;MAAA;IAAA,EADF;EAMD;;EACD,OAAO,IAAP;AACD,CAvBM"},"metadata":{},"sourceType":"module"}