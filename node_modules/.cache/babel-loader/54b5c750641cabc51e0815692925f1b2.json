{"ast":null,"code":"import { IndexVector } from '@grafana/data';\nimport { applyNullInsertThreshold } from '../GraphNG/nullInsertThreshold';\n/** @internal\n * Given a sparkline config returns a DataFrame ready to be turned into Plot data set\n **/\n\nexport function preparePlotFrame(sparkline, config) {\n  var _sparkline$x;\n\n  const length = sparkline.y.values.length;\n  const yFieldConfig = Object.assign({}, sparkline.y.config, config);\n  return applyNullInsertThreshold({\n    frame: {\n      refId: 'sparkline',\n      fields: [(_sparkline$x = sparkline.x) !== null && _sparkline$x !== void 0 ? _sparkline$x : IndexVector.newField(length), Object.assign({}, sparkline.y, {\n        config: yFieldConfig\n      })],\n      length\n    }\n  });\n}","map":{"version":3,"names":["IndexVector","applyNullInsertThreshold","preparePlotFrame","sparkline","config","length","y","values","yFieldConfig","frame","refId","fields","x","newField"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Sparkline/utils.ts"],"sourcesContent":["import { DataFrame, FieldConfig, FieldSparkline, IndexVector } from '@grafana/data';\nimport { GraphFieldConfig } from '@grafana/schema';\n\nimport { applyNullInsertThreshold } from '../GraphNG/nullInsertThreshold';\n\n/** @internal\n * Given a sparkline config returns a DataFrame ready to be turned into Plot data set\n **/\nexport function preparePlotFrame(sparkline: FieldSparkline, config?: FieldConfig<GraphFieldConfig>): DataFrame {\n  const length = sparkline.y.values.length;\n  const yFieldConfig = {\n    ...sparkline.y.config,\n    ...config,\n  };\n\n  return applyNullInsertThreshold({\n    frame: {\n      refId: 'sparkline',\n      fields: [\n        sparkline.x ?? IndexVector.newField(length),\n        {\n          ...sparkline.y,\n          config: yFieldConfig,\n        },\n      ],\n      length,\n    },\n  });\n}\n"],"mappings":"AAAA,SAAiDA,WAAjD,QAAoE,eAApE;AAGA,SAASC,wBAAT,QAAyC,gCAAzC;AAEA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0BC,SAA1B,EAAqDC,MAArD,EAAwG;EAAA;;EAC7G,MAAMC,MAAM,GAAGF,SAAS,CAACG,CAAV,CAAYC,MAAZ,CAAmBF,MAAlC;EACA,MAAMG,YAAY,qBACbL,SAAS,CAACG,CAAV,CAAYF,MADC,EAEbA,MAFa,CAAlB;EAKA,OAAOH,wBAAwB,CAAC;IAC9BQ,KAAK,EAAE;MACLC,KAAK,EAAE,WADF;MAELC,MAAM,EAAE,iBACNR,SAAS,CAACS,CADJ,uDACSZ,WAAW,CAACa,QAAZ,CAAqBR,MAArB,CADT,oBAGDF,SAAS,CAACG,CAHT;QAIJF,MAAM,EAAEI;MAJJ,GAFH;MASLH;IATK;EADuB,CAAD,CAA/B;AAaD"},"metadata":{},"sourceType":"module"}