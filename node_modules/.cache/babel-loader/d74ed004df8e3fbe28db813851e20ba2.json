{"ast":null,"code":"const _excluded = [\"onChange\", \"className\", \"loadData\", \"icon\", \"buttonProps\", \"hideDownIcon\", \"variant\", \"disabled\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { css } from '@emotion/css';\nimport RCCascader from 'rc-cascader';\nimport React from 'react';\nimport { stylesFactory, useTheme2 } from '../../themes';\nimport { Button } from '../Button';\nimport { onChangeCascader, onLoadDataCascader } from '../Cascader/optionMappings';\nimport { Icon } from '../Icon/Icon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst getStyles = stylesFactory(theme => {\n  return {\n    popup: css`\n      label: popup;\n      z-index: ${theme.zIndex.dropdown};\n    `,\n    icons: {\n      right: css`\n        margin: 1px 0 0 4px;\n      `,\n      left: css`\n        margin: -1px 4px 0 0;\n      `\n    }\n  };\n});\nexport const ButtonCascader = props => {\n  const {\n    onChange,\n    loadData,\n    icon,\n    buttonProps,\n    hideDownIcon,\n    variant,\n    disabled\n  } = props,\n        rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const theme = useTheme2();\n  const styles = getStyles(theme); // Weird way to do this bit it goes around a styling issue in Button where even null/undefined child triggers\n  // styling change which messes up the look if there is only single icon content.\n\n  let content = props.children;\n\n  if (!hideDownIcon) {\n    content = [props.children, /*#__PURE__*/_jsx(Icon, {\n      name: \"angle-down\",\n      className: styles.icons.right\n    }, 'down-icon')];\n  }\n\n  return /*#__PURE__*/_jsx(RCCascader, Object.assign({\n    onChange: onChangeCascader(onChange),\n    loadData: onLoadDataCascader(loadData),\n    dropdownClassName: styles.popup\n  }, rest, {\n    expandIcon: null,\n    children: /*#__PURE__*/_jsx(Button, Object.assign({\n      icon: icon,\n      disabled: disabled,\n      variant: variant\n    }, buttonProps !== null && buttonProps !== void 0 ? buttonProps : {}, {\n      children: content\n    }))\n  }));\n};\nButtonCascader.displayName = 'ButtonCascader';","map":{"version":3,"names":["css","RCCascader","React","stylesFactory","useTheme2","Button","onChangeCascader","onLoadDataCascader","Icon","getStyles","theme","popup","zIndex","dropdown","icons","right","left","ButtonCascader","props","onChange","loadData","icon","buttonProps","hideDownIcon","variant","disabled","rest","styles","content","children","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/ButtonCascader/ButtonCascader.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport RCCascader from 'rc-cascader';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { stylesFactory, useTheme2 } from '../../themes';\nimport { IconName } from '../../types/icon';\nimport { Button, ButtonProps } from '../Button';\nimport { CascaderOption } from '../Cascader/Cascader';\nimport { onChangeCascader, onLoadDataCascader } from '../Cascader/optionMappings';\nimport { Icon } from '../Icon/Icon';\n\nexport interface ButtonCascaderProps {\n  options: CascaderOption[];\n  children?: string;\n  icon?: IconName;\n  disabled?: boolean;\n  value?: string[];\n  fieldNames?: { label: string; value: string; children: string };\n  loadData?: (selectedOptions: CascaderOption[]) => void;\n  onChange?: (value: string[], selectedOptions: CascaderOption[]) => void;\n  onPopupVisibleChange?: (visible: boolean) => void;\n  className?: string;\n  variant?: ButtonProps['variant'];\n  buttonProps?: ButtonProps;\n  hideDownIcon?: boolean;\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    popup: css`\n      label: popup;\n      z-index: ${theme.zIndex.dropdown};\n    `,\n    icons: {\n      right: css`\n        margin: 1px 0 0 4px;\n      `,\n      left: css`\n        margin: -1px 4px 0 0;\n      `,\n    },\n  };\n});\n\nexport const ButtonCascader: React.FC<ButtonCascaderProps> = (props) => {\n  const { onChange, className, loadData, icon, buttonProps, hideDownIcon, variant, disabled, ...rest } = props;\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n\n  // Weird way to do this bit it goes around a styling issue in Button where even null/undefined child triggers\n  // styling change which messes up the look if there is only single icon content.\n  let content: any = props.children;\n  if (!hideDownIcon) {\n    content = [props.children, <Icon key={'down-icon'} name=\"angle-down\" className={styles.icons.right} />];\n  }\n\n  return (\n    <RCCascader\n      onChange={onChangeCascader(onChange)}\n      loadData={onLoadDataCascader(loadData)}\n      dropdownClassName={styles.popup}\n      {...rest}\n      expandIcon={null}\n    >\n      <Button icon={icon} disabled={disabled} variant={variant} {...(buttonProps ?? {})}>\n        {content}\n      </Button>\n    </RCCascader>\n  );\n};\n\nButtonCascader.displayName = 'ButtonCascader';\n"],"mappings":";;;;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAIA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,cAAzC;AAEA,SAASC,MAAT,QAAoC,WAApC;AAEA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,4BAArD;AACA,SAASC,IAAT,QAAqB,cAArB;;AAkBA,MAAMC,SAAS,GAAGN,aAAa,CAAEO,KAAD,IAA0B;EACxD,OAAO;IACLC,KAAK,EAAEX,GAAI;AACf;AACA,iBAAiBU,KAAK,CAACE,MAAN,CAAaC,QAAS;AACvC,KAJS;IAKLC,KAAK,EAAE;MACLC,KAAK,EAAEf,GAAI;AACjB;AACA,OAHW;MAILgB,IAAI,EAAEhB,GAAI;AAChB;AACA;IANW;EALF,CAAP;AAcD,CAf8B,CAA/B;AAiBA,OAAO,MAAMiB,cAA6C,GAAIC,KAAD,IAAW;EACtE,MAAM;IAAEC,QAAF;IAAuBC,QAAvB;IAAiCC,IAAjC;IAAuCC,WAAvC;IAAoDC,YAApD;IAAkEC,OAAlE;IAA2EC;EAA3E,IAAiGP,KAAvG;EAAA,MAA8FQ,IAA9F,iCAAuGR,KAAvG;;EACA,MAAMR,KAAK,GAAGN,SAAS,EAAvB;EACA,MAAMuB,MAAM,GAAGlB,SAAS,CAACC,KAAD,CAAxB,CAHsE,CAKtE;EACA;;EACA,IAAIkB,OAAY,GAAGV,KAAK,CAACW,QAAzB;;EACA,IAAI,CAACN,YAAL,EAAmB;IACjBK,OAAO,GAAG,CAACV,KAAK,CAACW,QAAP,eAAiB,KAAC,IAAD;MAAwB,IAAI,EAAC,YAA7B;MAA0C,SAAS,EAAEF,MAAM,CAACb,KAAP,CAAaC;IAAlE,GAAW,WAAX,CAAjB,CAAV;EACD;;EAED,oBACE,KAAC,UAAD;IACE,QAAQ,EAAET,gBAAgB,CAACa,QAAD,CAD5B;IAEE,QAAQ,EAAEZ,kBAAkB,CAACa,QAAD,CAF9B;IAGE,iBAAiB,EAAEO,MAAM,CAAChB;EAH5B,GAIMe,IAJN;IAKE,UAAU,EAAE,IALd;IAAA,uBAOE,KAAC,MAAD;MAAQ,IAAI,EAAEL,IAAd;MAAoB,QAAQ,EAAEI,QAA9B;MAAwC,OAAO,EAAED;IAAjD,GAA+DF,WAA/D,aAA+DA,WAA/D,cAA+DA,WAA/D,GAA8E,EAA9E;MAAA,UACGM;IADH;EAPF,GADF;AAaD,CAzBM;AA2BPX,cAAc,CAACa,WAAf,GAA6B,gBAA7B"},"metadata":{},"sourceType":"module"}