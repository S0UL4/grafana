{"ast":null,"code":"import { css } from '@emotion/css';\nimport React, { useRef } from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles2 } from '../../themes';\nimport { Icon } from '../Icon/Icon';\nimport { useMenuFocus } from './hooks';\nimport { getPosition } from './utils';\n/** @internal */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\n/** @internal */\nexport const SubMenu = /*#__PURE__*/React.memo(({\n  items,\n  isOpen,\n  openedWithArrow,\n  setOpenedWithArrow,\n  close\n}) => {\n  const styles = useStyles2(getStyles);\n  const localRef = useRef(null);\n  const [handleKeys] = useMenuFocus({\n    localRef,\n    isMenuOpen: isOpen,\n    openedWithArrow,\n    setOpenedWithArrow,\n    close\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.iconWrapper,\n      \"aria-label\": selectors.components.Menu.SubMenu.icon,\n      children: /*#__PURE__*/_jsx(Icon, {\n        name: \"angle-right\",\n        className: styles.icon,\n        \"aria-hidden\": true\n      })\n    }), isOpen && /*#__PURE__*/_jsx(\"div\", {\n      ref: localRef,\n      className: styles.subMenu(localRef.current),\n      \"aria-label\": selectors.components.Menu.SubMenu.container,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: styles.itemsWrapper,\n        role: \"menu\",\n        onKeyDown: handleKeys,\n        children: items\n      })\n    })]\n  });\n});\nSubMenu.displayName = 'SubMenu';\n/** @internal */\n\nconst getStyles = theme => {\n  return {\n    iconWrapper: css`\n      display: flex;\n      flex: 1;\n      justify-content: end;\n    `,\n    icon: css`\n      opacity: 0.7;\n      margin-left: 10px;\n      color: ${theme.colors.text.secondary};\n    `,\n    itemsWrapper: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      display: inline-block;\n      border-radius: ${theme.shape.borderRadius()};\n    `,\n    subMenu: element => css`\n      position: absolute;\n      top: 0;\n      z-index: ${theme.zIndex.dropdown};\n      ${getPosition(element)}: 100%;\n    `\n  };\n};","map":{"version":3,"names":["css","React","useRef","selectors","useStyles2","Icon","useMenuFocus","getPosition","SubMenu","memo","items","isOpen","openedWithArrow","setOpenedWithArrow","close","styles","getStyles","localRef","handleKeys","isMenuOpen","iconWrapper","components","Menu","icon","subMenu","current","container","itemsWrapper","displayName","theme","colors","text","secondary","background","primary","shadows","z3","shape","borderRadius","element","zIndex","dropdown"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Menu/SubMenu.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { ReactElement, useRef } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useStyles2 } from '../../themes';\nimport { Icon } from '../Icon/Icon';\n\nimport { MenuItemProps } from './MenuItem';\nimport { useMenuFocus } from './hooks';\nimport { getPosition } from './utils';\n\n/** @internal */\nexport interface SubMenuProps {\n  /** List of menu items of the subMenu */\n  items?: Array<ReactElement<MenuItemProps>>;\n  /** Open */\n  isOpen: boolean;\n  /** Marks whether subMenu was opened with arrow */\n  openedWithArrow: boolean;\n  /** Changes value of openedWithArrow */\n  setOpenedWithArrow: (openedWithArrow: boolean) => void;\n  /** Closes the subMenu */\n  close: () => void;\n}\n\n/** @internal */\nexport const SubMenu: React.FC<SubMenuProps> = React.memo(\n  ({ items, isOpen, openedWithArrow, setOpenedWithArrow, close }) => {\n    const styles = useStyles2(getStyles);\n    const localRef = useRef<HTMLDivElement>(null);\n    const [handleKeys] = useMenuFocus({\n      localRef,\n      isMenuOpen: isOpen,\n      openedWithArrow,\n      setOpenedWithArrow,\n      close,\n    });\n\n    return (\n      <>\n        <div className={styles.iconWrapper} aria-label={selectors.components.Menu.SubMenu.icon}>\n          <Icon name=\"angle-right\" className={styles.icon} aria-hidden />\n        </div>\n        {isOpen && (\n          <div\n            ref={localRef}\n            className={styles.subMenu(localRef.current)}\n            aria-label={selectors.components.Menu.SubMenu.container}\n          >\n            <div className={styles.itemsWrapper} role=\"menu\" onKeyDown={handleKeys}>\n              {items}\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n);\nSubMenu.displayName = 'SubMenu';\n\n/** @internal */\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    iconWrapper: css`\n      display: flex;\n      flex: 1;\n      justify-content: end;\n    `,\n    icon: css`\n      opacity: 0.7;\n      margin-left: 10px;\n      color: ${theme.colors.text.secondary};\n    `,\n    itemsWrapper: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      display: inline-block;\n      border-radius: ${theme.shape.borderRadius()};\n    `,\n    subMenu: (element: HTMLElement | null) => css`\n      position: absolute;\n      top: 0;\n      z-index: ${theme.zIndex.dropdown};\n      ${getPosition(element)}: 100%;\n    `,\n  };\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAA8BC,MAA9B,QAA4C,OAA5C;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,IAAT,QAAqB,cAArB;AAGA,SAASC,YAAT,QAA6B,SAA7B;AACA,SAASC,WAAT,QAA4B,SAA5B;AAEA;;;;;;AAcA;AACA,OAAO,MAAMC,OAA+B,gBAAGP,KAAK,CAACQ,IAAN,CAC7C,CAAC;EAAEC,KAAF;EAASC,MAAT;EAAiBC,eAAjB;EAAkCC,kBAAlC;EAAsDC;AAAtD,CAAD,KAAmE;EACjE,MAAMC,MAAM,GAAGX,UAAU,CAACY,SAAD,CAAzB;EACA,MAAMC,QAAQ,GAAGf,MAAM,CAAiB,IAAjB,CAAvB;EACA,MAAM,CAACgB,UAAD,IAAeZ,YAAY,CAAC;IAChCW,QADgC;IAEhCE,UAAU,EAAER,MAFoB;IAGhCC,eAHgC;IAIhCC,kBAJgC;IAKhCC;EALgC,CAAD,CAAjC;EAQA,oBACE;IAAA,wBACE;MAAK,SAAS,EAAEC,MAAM,CAACK,WAAvB;MAAoC,cAAYjB,SAAS,CAACkB,UAAV,CAAqBC,IAArB,CAA0Bd,OAA1B,CAAkCe,IAAlF;MAAA,uBACE,KAAC,IAAD;QAAM,IAAI,EAAC,aAAX;QAAyB,SAAS,EAAER,MAAM,CAACQ,IAA3C;QAAiD;MAAjD;IADF,EADF,EAIGZ,MAAM,iBACL;MACE,GAAG,EAAEM,QADP;MAEE,SAAS,EAAEF,MAAM,CAACS,OAAP,CAAeP,QAAQ,CAACQ,OAAxB,CAFb;MAGE,cAAYtB,SAAS,CAACkB,UAAV,CAAqBC,IAArB,CAA0Bd,OAA1B,CAAkCkB,SAHhD;MAAA,uBAKE;QAAK,SAAS,EAAEX,MAAM,CAACY,YAAvB;QAAqC,IAAI,EAAC,MAA1C;QAAiD,SAAS,EAAET,UAA5D;QAAA,UACGR;MADH;IALF,EALJ;EAAA,EADF;AAkBD,CA9B4C,CAAxC;AAgCPF,OAAO,CAACoB,WAAR,GAAsB,SAAtB;AAEA;;AACA,MAAMZ,SAAS,GAAIa,KAAD,IAA0B;EAC1C,OAAO;IACLT,WAAW,EAAEpB,GAAI;AACrB;AACA;AACA;AACA,KALS;IAMLuB,IAAI,EAAEvB,GAAI;AACd;AACA;AACA,eAAe6B,KAAK,CAACC,MAAN,CAAaC,IAAb,CAAkBC,SAAU;AAC3C,KAVS;IAWLL,YAAY,EAAE3B,GAAI;AACtB,oBAAoB6B,KAAK,CAACC,MAAN,CAAaG,UAAb,CAAwBC,OAAQ;AACpD,oBAAoBL,KAAK,CAACM,OAAN,CAAcC,EAAG;AACrC;AACA,uBAAuBP,KAAK,CAACQ,KAAN,CAAYC,YAAZ,EAA2B;AAClD,KAhBS;IAiBLd,OAAO,EAAGe,OAAD,IAAiCvC,GAAI;AAClD;AACA;AACA,iBAAiB6B,KAAK,CAACW,MAAN,CAAaC,QAAS;AACvC,QAAQlC,WAAW,CAACgC,OAAD,CAAU;AAC7B;EAtBS,CAAP;AAwBD,CAzBD"},"metadata":{},"sourceType":"module"}