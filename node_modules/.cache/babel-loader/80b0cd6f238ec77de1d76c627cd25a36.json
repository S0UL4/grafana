{"ast":null,"code":"var _p;\n\nimport { css, cx } from '@emotion/css';\nimport React from 'react';\nimport { Button, InfoBox, Portal, stylesFactory, useTheme2 } from '@grafana/ui';\nimport { getModalStyles } from '@grafana/ui/src/components/Modal/getModalStyles';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const TokenRevokedModal = props => {\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n  const modalStyles = getModalStyles(theme);\n  const showMaxConcurrentSessions = Boolean(props.maxConcurrentSessions);\n\n  const redirectToLogin = () => {\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxs(Portal, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: modalStyles.modal,\n      children: /*#__PURE__*/_jsxs(InfoBox, {\n        title: \"You have been automatically signed out\",\n        severity: \"warning\",\n        className: styles.infobox,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: styles.text,\n          children: [/*#__PURE__*/_jsxs(\"p\", {\n            children: [\"Your session token was automatically revoked because you have reached\", /*#__PURE__*/_jsx(\"strong\", {\n              children: ` the maximum number of ${showMaxConcurrentSessions ? props.maxConcurrentSessions : ''} concurrent sessions `\n            }), \"for your account.\"]\n          }), _p || (_p = /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"strong\", {\n              children: \"To resume your session, sign in again.\"\n            }), \"Contact your administrator or visit the license page to review your quota if you are repeatedly signed out automatically.\"]\n          }))]\n        }), /*#__PURE__*/_jsx(Button, {\n          size: \"md\",\n          variant: \"primary\",\n          onClick: redirectToLogin,\n          children: \"Sign in\"\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: cx(modalStyles.modalBackdrop, styles.backdrop)\n    })]\n  });\n};\nconst getStyles = stylesFactory(theme => {\n  return {\n    infobox: css`\n      margin-bottom: 0;\n    `,\n    text: css`\n      margin: ${theme.spacing(1, 0, 2)};\n    `,\n    backdrop: css`\n      background-color: ${theme.colors.background.canvas};\n      opacity: 0.8;\n    `\n  };\n});","map":{"version":3,"names":["css","cx","React","Button","InfoBox","Portal","stylesFactory","useTheme2","getModalStyles","TokenRevokedModal","props","theme","styles","getStyles","modalStyles","showMaxConcurrentSessions","Boolean","maxConcurrentSessions","redirectToLogin","window","location","reload","modal","infobox","text","modalBackdrop","backdrop","spacing","colors","background","canvas"],"sources":["/home/soula/grafana/public/app/features/users/TokenRevokedModal.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Button, InfoBox, Portal, stylesFactory, useTheme2 } from '@grafana/ui';\nimport { getModalStyles } from '@grafana/ui/src/components/Modal/getModalStyles';\n\ninterface Props {\n  maxConcurrentSessions?: number;\n}\n\nexport const TokenRevokedModal = (props: Props) => {\n  const theme = useTheme2();\n\n  const styles = getStyles(theme);\n  const modalStyles = getModalStyles(theme);\n\n  const showMaxConcurrentSessions = Boolean(props.maxConcurrentSessions);\n\n  const redirectToLogin = () => {\n    window.location.reload();\n  };\n\n  return (\n    <Portal>\n      <div className={modalStyles.modal}>\n        <InfoBox title=\"You have been automatically signed out\" severity=\"warning\" className={styles.infobox}>\n          <div className={styles.text}>\n            <p>\n              Your session token was automatically revoked because you have reached\n              <strong>\n                {` the maximum number of ${\n                  showMaxConcurrentSessions ? props.maxConcurrentSessions : ''\n                } concurrent sessions `}\n              </strong>\n              for your account.\n            </p>\n            <p>\n              <strong>To resume your session, sign in again.</strong>\n              Contact your administrator or visit the license page to review your quota if you are repeatedly signed out\n              automatically.\n            </p>\n          </div>\n          <Button size=\"md\" variant=\"primary\" onClick={redirectToLogin}>\n            Sign in\n          </Button>\n        </InfoBox>\n      </div>\n      <div className={cx(modalStyles.modalBackdrop, styles.backdrop)} />\n    </Portal>\n  );\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    infobox: css`\n      margin-bottom: 0;\n    `,\n    text: css`\n      margin: ${theme.spacing(1, 0, 2)};\n    `,\n    backdrop: css`\n      background-color: ${theme.colors.background.canvas};\n      opacity: 0.8;\n    `,\n  };\n});\n"],"mappings":";;AAAA,SAASA,GAAT,EAAcC,EAAd,QAAwB,cAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,MAA1B,EAAkCC,aAAlC,EAAiDC,SAAjD,QAAkE,aAAlE;AACA,SAASC,cAAT,QAA+B,iDAA/B;;;AAMA,OAAO,MAAMC,iBAAiB,GAAIC,KAAD,IAAkB;EACjD,MAAMC,KAAK,GAAGJ,SAAS,EAAvB;EAEA,MAAMK,MAAM,GAAGC,SAAS,CAACF,KAAD,CAAxB;EACA,MAAMG,WAAW,GAAGN,cAAc,CAACG,KAAD,CAAlC;EAEA,MAAMI,yBAAyB,GAAGC,OAAO,CAACN,KAAK,CAACO,qBAAP,CAAzC;;EAEA,MAAMC,eAAe,GAAG,MAAM;IAC5BC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACD,CAFD;;EAIA,oBACE,MAAC,MAAD;IAAA,wBACE;MAAK,SAAS,EAAEP,WAAW,CAACQ,KAA5B;MAAA,uBACE,MAAC,OAAD;QAAS,KAAK,EAAC,wCAAf;QAAwD,QAAQ,EAAC,SAAjE;QAA2E,SAAS,EAAEV,MAAM,CAACW,OAA7F;QAAA,wBACE;UAAK,SAAS,EAAEX,MAAM,CAACY,IAAvB;UAAA,wBACE;YAAA,iGAEE;cAAA,UACI,0BACAT,yBAAyB,GAAGL,KAAK,CAACO,qBAAT,GAAiC,EAC3D;YAHH,EAFF;UAAA,EADF,2BAUE;YAAA,wBACE;cAAA;YAAA,EADF;UAAA,EAVF;QAAA,EADF,eAiBE,KAAC,MAAD;UAAQ,IAAI,EAAC,IAAb;UAAkB,OAAO,EAAC,SAA1B;UAAoC,OAAO,EAAEC,eAA7C;UAAA;QAAA,EAjBF;MAAA;IADF,EADF,eAwBE;MAAK,SAAS,EAAEjB,EAAE,CAACa,WAAW,CAACW,aAAb,EAA4Bb,MAAM,CAACc,QAAnC;IAAlB,EAxBF;EAAA,EADF;AA4BD,CAxCM;AA0CP,MAAMb,SAAS,GAAGP,aAAa,CAAEK,KAAD,IAA0B;EACxD,OAAO;IACLY,OAAO,EAAEvB,GAAI;AACjB;AACA,KAHS;IAILwB,IAAI,EAAExB,GAAI;AACd,gBAAgBW,KAAK,CAACgB,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,CAAuB;AACvC,KANS;IAOLD,QAAQ,EAAE1B,GAAI;AAClB,0BAA0BW,KAAK,CAACiB,MAAN,CAAaC,UAAb,CAAwBC,MAAO;AACzD;AACA;EAVS,CAAP;AAYD,CAb8B,CAA/B"},"metadata":{},"sourceType":"module"}