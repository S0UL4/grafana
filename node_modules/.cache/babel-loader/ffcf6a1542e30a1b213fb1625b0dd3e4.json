{"ast":null,"code":"var _Icon, _Icon2;\n\nimport { css } from '@emotion/css';\nimport React, { useState } from 'react';\nimport { config } from '@grafana/runtime';\nimport { Icon, Link, useStyles2 } from '@grafana/ui';\nimport { getPanelPluginNotFound } from 'app/features/panel/components/PanelPluginError';\nimport { PanelTypeCard } from 'app/features/panel/components/VizTypePicker/PanelTypeCard';\nimport { DeleteLibraryPanelModal } from '../DeleteLibraryPanelModal/DeleteLibraryPanelModal';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const LibraryPanelCard = ({\n  libraryPanel,\n  onClick,\n  onDelete,\n  showSecondaryActions\n}) => {\n  var _config$panels$librar;\n\n  const [showDeletionModal, setShowDeletionModal] = useState(false);\n\n  const onDeletePanel = () => {\n    onDelete === null || onDelete === void 0 ? void 0 : onDelete(libraryPanel);\n    setShowDeletionModal(false);\n  };\n\n  const panelPlugin = (_config$panels$librar = config.panels[libraryPanel.model.type]) !== null && _config$panels$librar !== void 0 ? _config$panels$librar : getPanelPluginNotFound(libraryPanel.model.type).meta;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(PanelTypeCard, {\n      isCurrent: false,\n      title: libraryPanel.name,\n      description: libraryPanel.description,\n      plugin: panelPlugin,\n      onClick: () => onClick === null || onClick === void 0 ? void 0 : onClick(libraryPanel),\n      onDelete: showSecondaryActions ? () => setShowDeletionModal(true) : undefined,\n      children: /*#__PURE__*/_jsx(FolderLink, {\n        libraryPanel: libraryPanel\n      })\n    }), showDeletionModal && /*#__PURE__*/_jsx(DeleteLibraryPanelModal, {\n      libraryPanel: libraryPanel,\n      onConfirm: onDeletePanel,\n      onDismiss: () => setShowDeletionModal(false)\n    })]\n  });\n};\n\nfunction FolderLink({\n  libraryPanel\n}) {\n  const styles = useStyles2(getStyles);\n\n  if (!libraryPanel.meta.folderUid && !libraryPanel.meta.folderName) {\n    return null;\n  }\n\n  if (!libraryPanel.meta.folderUid) {\n    return /*#__PURE__*/_jsxs(\"span\", {\n      className: styles.metaContainer,\n      children: [_Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n        name: 'folder',\n        size: \"sm\"\n      })), /*#__PURE__*/_jsx(\"span\", {\n        children: libraryPanel.meta.folderName\n      })]\n    });\n  }\n\n  return /*#__PURE__*/_jsx(\"span\", {\n    className: styles.metaContainer,\n    children: /*#__PURE__*/_jsxs(Link, {\n      href: `/dashboards/f/${libraryPanel.meta.folderUid}`,\n      children: [_Icon2 || (_Icon2 = /*#__PURE__*/_jsx(Icon, {\n        name: 'folder-upload',\n        size: \"sm\"\n      })), /*#__PURE__*/_jsx(\"span\", {\n        children: libraryPanel.meta.folderName\n      })]\n    })\n  });\n}\n\nfunction getStyles(theme) {\n  return {\n    metaContainer: css`\n      display: flex;\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      padding-top: ${theme.spacing(0.5)};\n\n      svg {\n        margin-right: ${theme.spacing(0.5)};\n        margin-bottom: 3px;\n      }\n    `\n  };\n}","map":{"version":3,"names":["css","React","useState","config","Icon","Link","useStyles2","getPanelPluginNotFound","PanelTypeCard","DeleteLibraryPanelModal","LibraryPanelCard","libraryPanel","onClick","onDelete","showSecondaryActions","showDeletionModal","setShowDeletionModal","onDeletePanel","panelPlugin","panels","model","type","meta","name","description","undefined","FolderLink","styles","getStyles","folderUid","folderName","metaContainer","theme","colors","text","secondary","typography","bodySmall","fontSize","spacing"],"sources":["/home/soula/grafana/public/app/features/library-panels/components/LibraryPanelCard/LibraryPanelCard.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { ReactElement, useState } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { Icon, Link, useStyles2 } from '@grafana/ui';\nimport { getPanelPluginNotFound } from 'app/features/panel/components/PanelPluginError';\nimport { PanelTypeCard } from 'app/features/panel/components/VizTypePicker/PanelTypeCard';\n\nimport { LibraryElementDTO } from '../../types';\nimport { DeleteLibraryPanelModal } from '../DeleteLibraryPanelModal/DeleteLibraryPanelModal';\n\nexport interface LibraryPanelCardProps {\n  libraryPanel: LibraryElementDTO;\n  onClick: (panel: LibraryElementDTO) => void;\n  onDelete?: (panel: LibraryElementDTO) => void;\n  showSecondaryActions?: boolean;\n}\n\nexport const LibraryPanelCard: React.FC<LibraryPanelCardProps & { children?: JSX.Element | JSX.Element[] }> = ({\n  libraryPanel,\n  onClick,\n  onDelete,\n  showSecondaryActions,\n}) => {\n  const [showDeletionModal, setShowDeletionModal] = useState(false);\n\n  const onDeletePanel = () => {\n    onDelete?.(libraryPanel);\n    setShowDeletionModal(false);\n  };\n\n  const panelPlugin = config.panels[libraryPanel.model.type] ?? getPanelPluginNotFound(libraryPanel.model.type).meta;\n\n  return (\n    <>\n      <PanelTypeCard\n        isCurrent={false}\n        title={libraryPanel.name}\n        description={libraryPanel.description}\n        plugin={panelPlugin}\n        onClick={() => onClick?.(libraryPanel)}\n        onDelete={showSecondaryActions ? () => setShowDeletionModal(true) : undefined}\n      >\n        <FolderLink libraryPanel={libraryPanel} />\n      </PanelTypeCard>\n      {showDeletionModal && (\n        <DeleteLibraryPanelModal\n          libraryPanel={libraryPanel}\n          onConfirm={onDeletePanel}\n          onDismiss={() => setShowDeletionModal(false)}\n        />\n      )}\n    </>\n  );\n};\n\ninterface FolderLinkProps {\n  libraryPanel: LibraryElementDTO;\n}\n\nfunction FolderLink({ libraryPanel }: FolderLinkProps): ReactElement | null {\n  const styles = useStyles2(getStyles);\n\n  if (!libraryPanel.meta.folderUid && !libraryPanel.meta.folderName) {\n    return null;\n  }\n\n  if (!libraryPanel.meta.folderUid) {\n    return (\n      <span className={styles.metaContainer}>\n        <Icon name={'folder'} size=\"sm\" />\n        <span>{libraryPanel.meta.folderName}</span>\n      </span>\n    );\n  }\n\n  return (\n    <span className={styles.metaContainer}>\n      <Link href={`/dashboards/f/${libraryPanel.meta.folderUid}`}>\n        <Icon name={'folder-upload'} size=\"sm\" />\n        <span>{libraryPanel.meta.folderName}</span>\n      </Link>\n    </span>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    metaContainer: css`\n      display: flex;\n      align-items: center;\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.bodySmall.fontSize};\n      padding-top: ${theme.spacing(0.5)};\n\n      svg {\n        margin-right: ${theme.spacing(0.5)};\n        margin-bottom: 3px;\n      }\n    `,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}