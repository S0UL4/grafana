{"ast":null,"code":"const _excluded = [\"placement\", \"constraint\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { FrameState } from './frame';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport class RootElement extends FrameState {\n  constructor(options, scene, changeCallback) {\n    super(options, scene);\n\n    _defineProperty(this, \"setRootRef\", target => {\n      this.div = target;\n    });\n\n    this.options = options;\n    this.scene = scene;\n    this.changeCallback = changeCallback;\n    this.sizeStyle = {\n      height: '100%',\n      width: '100%'\n    };\n  }\n\n  isRoot() {\n    return true;\n  } // root type can not change\n\n\n  onChange(options) {\n    this.revId++;\n    this.options = Object.assign({}, options);\n    this.changeCallback();\n  }\n\n  getSaveModel() {\n    const _this$options = this.options,\n          rest = _objectWithoutPropertiesLoose(_this$options, _excluded);\n\n    return Object.assign({}, rest, {\n      // everything except placement & constraint\n      elements: this.elements.map(v => v.getSaveModel())\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      onContextMenu: event => event.preventDefault(),\n      ref: this.setRootRef,\n      style: Object.assign({}, this.sizeStyle, this.dataStyle),\n      children: this.elements.map(v => v.render())\n    }, this.UID);\n  }\n\n}","map":{"version":3,"names":["React","FrameState","RootElement","constructor","options","scene","changeCallback","target","div","sizeStyle","height","width","isRoot","onChange","revId","getSaveModel","rest","elements","map","v","render","event","preventDefault","setRootRef","dataStyle","UID"],"sources":["/home/soula/grafana/public/app/features/canvas/runtime/root.tsx"],"sourcesContent":["import React from 'react';\n\nimport { CanvasElementOptions, CanvasFrameOptions } from 'app/features/canvas';\n\nimport { FrameState } from './frame';\nimport { Scene } from './scene';\n\nexport class RootElement extends FrameState {\n  constructor(public options: CanvasFrameOptions, public scene: Scene, private changeCallback: () => void) {\n    super(options, scene);\n\n    this.sizeStyle = {\n      height: '100%',\n      width: '100%',\n    };\n  }\n\n  isRoot(): this is RootElement {\n    return true;\n  }\n\n  // root type can not change\n  onChange(options: CanvasElementOptions) {\n    this.revId++;\n    this.options = { ...options } as CanvasFrameOptions;\n    this.changeCallback();\n  }\n\n  getSaveModel(): CanvasFrameOptions {\n    const { placement, constraint, ...rest } = this.options;\n\n    return {\n      ...rest, // everything except placement & constraint\n      elements: this.elements.map((v) => v.getSaveModel()),\n    };\n  }\n\n  setRootRef = (target: HTMLDivElement) => {\n    this.div = target;\n  };\n\n  render() {\n    return (\n      <div\n        onContextMenu={(event) => event.preventDefault()}\n        key={this.UID}\n        ref={this.setRootRef}\n        style={{ ...this.sizeStyle, ...this.dataStyle }}\n      >\n        {this.elements.map((v) => v.render())}\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,SAASC,UAAT,QAA2B,SAA3B;;AAGA,OAAO,MAAMC,WAAN,SAA0BD,UAA1B,CAAqC;EAC1CE,WAAW,CAAQC,OAAR,EAA4CC,KAA5C,EAAkEC,cAAlE,EAA8F;IACvG,MAAMF,OAAN,EAAeC,KAAf;;IADuG,oCA6B3FE,MAAD,IAA4B;MACvC,KAAKC,GAAL,GAAWD,MAAX;IACD,CA/BwG;;IAAA,KAAtFH,OAAsF,GAAtFA,OAAsF;IAAA,KAAlDC,KAAkD,GAAlDA,KAAkD;IAAA,KAA5BC,cAA4B,GAA5BA,cAA4B;IAGvG,KAAKG,SAAL,GAAiB;MACfC,MAAM,EAAE,MADO;MAEfC,KAAK,EAAE;IAFQ,CAAjB;EAID;;EAEDC,MAAM,GAAwB;IAC5B,OAAO,IAAP;EACD,CAZyC,CAc1C;;;EACAC,QAAQ,CAACT,OAAD,EAAgC;IACtC,KAAKU,KAAL;IACA,KAAKV,OAAL,qBAAoBA,OAApB;IACA,KAAKE,cAAL;EACD;;EAEDS,YAAY,GAAuB;IACjC,sBAA2C,KAAKX,OAAhD;IAAA,MAAkCY,IAAlC;;IAEA,yBACKA,IADL;MACW;MACTC,QAAQ,EAAE,KAAKA,QAAL,CAAcC,GAAd,CAAmBC,CAAD,IAAOA,CAAC,CAACJ,YAAF,EAAzB;IAFZ;EAID;;EAMDK,MAAM,GAAG;IACP,oBACE;MACE,aAAa,EAAGC,KAAD,IAAWA,KAAK,CAACC,cAAN,EAD5B;MAGE,GAAG,EAAE,KAAKC,UAHZ;MAIE,KAAK,oBAAO,KAAKd,SAAZ,EAA0B,KAAKe,SAA/B,CAJP;MAAA,UAMG,KAAKP,QAAL,CAAcC,GAAd,CAAmBC,CAAD,IAAOA,CAAC,CAACC,MAAF,EAAzB;IANH,GAEO,KAAKK,GAFZ,CADF;EAUD;;AA7CyC"},"metadata":{},"sourceType":"module"}