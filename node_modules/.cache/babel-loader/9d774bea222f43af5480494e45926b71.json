{"ast":null,"code":"var _config$bootData$navT, _config$bootData;\n\nimport { createSlice } from '@reduxjs/toolkit';\nimport config from 'app/core/config';\nexport const initialState = (_config$bootData$navT = (_config$bootData = config.bootData) === null || _config$bootData === void 0 ? void 0 : _config$bootData.navTree) !== null && _config$bootData$navT !== void 0 ? _config$bootData$navT : [];\nconst navTreeSlice = createSlice({\n  name: 'navBarTree',\n  initialState,\n  reducers: {\n    setStarred: (state, action) => {\n      const starredItems = state.find(navItem => navItem.id === 'starred');\n      const {\n        id,\n        title,\n        url,\n        isStarred\n      } = action.payload;\n\n      if (isStarred) {\n        var _starredItems$childre, _starredItems$childre2;\n\n        const newStarredItem = {\n          id,\n          text: title,\n          url\n        };\n        starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre = starredItems.children) === null || _starredItems$childre === void 0 ? void 0 : _starredItems$childre.push(newStarredItem);\n        starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre2 = starredItems.children) === null || _starredItems$childre2 === void 0 ? void 0 : _starredItems$childre2.sort((a, b) => a.text.localeCompare(b.text));\n      } else {\n        var _starredItems$childre3, _starredItems$childre4;\n\n        const index = (_starredItems$childre3 = starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre4 = starredItems.children) === null || _starredItems$childre4 === void 0 ? void 0 : _starredItems$childre4.findIndex(item => item.id === id)) !== null && _starredItems$childre3 !== void 0 ? _starredItems$childre3 : -1;\n\n        if (index > -1) {\n          var _starredItems$childre5;\n\n          starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre5 = starredItems.children) === null || _starredItems$childre5 === void 0 ? void 0 : _starredItems$childre5.splice(index, 1);\n        }\n      }\n    },\n    updateDashboardName: (state, action) => {\n      var _starredItems$childre6;\n\n      const {\n        id,\n        title,\n        url\n      } = action.payload;\n      const starredItems = state.find(navItem => navItem.id === 'starred');\n      const navItem = starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre6 = starredItems.children) === null || _starredItems$childre6 === void 0 ? void 0 : _starredItems$childre6.find(navItem => navItem.id === id);\n\n      if (navItem) {\n        var _starredItems$childre7;\n\n        navItem.text = title;\n        navItem.url = url;\n        starredItems === null || starredItems === void 0 ? void 0 : (_starredItems$childre7 = starredItems.children) === null || _starredItems$childre7 === void 0 ? void 0 : _starredItems$childre7.sort((a, b) => a.text.localeCompare(b.text));\n      }\n    }\n  }\n});\nexport const {\n  setStarred,\n  updateDashboardName\n} = navTreeSlice.actions;\nexport const navTreeReducer = navTreeSlice.reducer;","map":{"version":3,"names":["createSlice","config","initialState","bootData","navTree","navTreeSlice","name","reducers","setStarred","state","action","starredItems","find","navItem","id","title","url","isStarred","payload","newStarredItem","text","children","push","sort","a","b","localeCompare","index","findIndex","item","splice","updateDashboardName","actions","navTreeReducer","reducer"],"sources":["/home/soula/grafana/public/app/core/reducers/navBarTree.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { NavModelItem } from '@grafana/data';\nimport config from 'app/core/config';\n\nexport const initialState: NavModelItem[] = config.bootData?.navTree ?? [];\n\nconst navTreeSlice = createSlice({\n  name: 'navBarTree',\n  initialState,\n  reducers: {\n    setStarred: (state, action: PayloadAction<{ id: string; title: string; url: string; isStarred: boolean }>) => {\n      const starredItems = state.find((navItem) => navItem.id === 'starred');\n      const { id, title, url, isStarred } = action.payload;\n      if (isStarred) {\n        const newStarredItem: NavModelItem = {\n          id,\n          text: title,\n          url,\n        };\n        starredItems?.children?.push(newStarredItem);\n        starredItems?.children?.sort((a, b) => a.text.localeCompare(b.text));\n      } else {\n        const index = starredItems?.children?.findIndex((item) => item.id === id) ?? -1;\n        if (index > -1) {\n          starredItems?.children?.splice(index, 1);\n        }\n      }\n    },\n    updateDashboardName: (state, action: PayloadAction<{ id: string; title: string; url: string }>) => {\n      const { id, title, url } = action.payload;\n      const starredItems = state.find((navItem) => navItem.id === 'starred');\n      const navItem = starredItems?.children?.find((navItem) => navItem.id === id);\n      if (navItem) {\n        navItem.text = title;\n        navItem.url = url;\n        starredItems?.children?.sort((a, b) => a.text.localeCompare(b.text));\n      }\n    },\n  },\n});\n\nexport const { setStarred, updateDashboardName } = navTreeSlice.actions;\nexport const navTreeReducer = navTreeSlice.reducer;\n"],"mappings":";;AAAA,SAASA,WAAT,QAA2C,kBAA3C;AAGA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,OAAO,MAAMC,YAA4B,gDAAGD,MAAM,CAACE,QAAV,qDAAG,iBAAiBC,OAApB,yEAA+B,EAAjE;AAEP,MAAMC,YAAY,GAAGL,WAAW,CAAC;EAC/BM,IAAI,EAAE,YADyB;EAE/BJ,YAF+B;EAG/BK,QAAQ,EAAE;IACRC,UAAU,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAkG;MAC5G,MAAMC,YAAY,GAAGF,KAAK,CAACG,IAAN,CAAYC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAe,SAAvC,CAArB;MACA,MAAM;QAAEA,EAAF;QAAMC,KAAN;QAAaC,GAAb;QAAkBC;MAAlB,IAAgCP,MAAM,CAACQ,OAA7C;;MACA,IAAID,SAAJ,EAAe;QAAA;;QACb,MAAME,cAA4B,GAAG;UACnCL,EADmC;UAEnCM,IAAI,EAAEL,KAF6B;UAGnCC;QAHmC,CAArC;QAKAL,YAAY,SAAZ,IAAAA,YAAY,WAAZ,qCAAAA,YAAY,CAAEU,QAAd,gFAAwBC,IAAxB,CAA6BH,cAA7B;QACAR,YAAY,SAAZ,IAAAA,YAAY,WAAZ,sCAAAA,YAAY,CAAEU,QAAd,kFAAwBE,IAAxB,CAA6B,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACJ,IAAF,CAAOM,aAAP,CAAqBD,CAAC,CAACL,IAAvB,CAAvC;MACD,CARD,MAQO;QAAA;;QACL,MAAMO,KAAK,6BAAGhB,YAAH,aAAGA,YAAH,iDAAGA,YAAY,CAAEU,QAAjB,2DAAG,uBAAwBO,SAAxB,CAAmCC,IAAD,IAAUA,IAAI,CAACf,EAAL,KAAYA,EAAxD,CAAH,2EAAkE,CAAC,CAA9E;;QACA,IAAIa,KAAK,GAAG,CAAC,CAAb,EAAgB;UAAA;;UACdhB,YAAY,SAAZ,IAAAA,YAAY,WAAZ,sCAAAA,YAAY,CAAEU,QAAd,kFAAwBS,MAAxB,CAA+BH,KAA/B,EAAsC,CAAtC;QACD;MACF;IACF,CAlBO;IAmBRI,mBAAmB,EAAE,CAACtB,KAAD,EAAQC,MAAR,KAA8E;MAAA;;MACjG,MAAM;QAAEI,EAAF;QAAMC,KAAN;QAAaC;MAAb,IAAqBN,MAAM,CAACQ,OAAlC;MACA,MAAMP,YAAY,GAAGF,KAAK,CAACG,IAAN,CAAYC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAe,SAAvC,CAArB;MACA,MAAMD,OAAO,GAAGF,YAAH,aAAGA,YAAH,iDAAGA,YAAY,CAAEU,QAAjB,2DAAG,uBAAwBT,IAAxB,CAA8BC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeA,EAAzD,CAAhB;;MACA,IAAID,OAAJ,EAAa;QAAA;;QACXA,OAAO,CAACO,IAAR,GAAeL,KAAf;QACAF,OAAO,CAACG,GAAR,GAAcA,GAAd;QACAL,YAAY,SAAZ,IAAAA,YAAY,WAAZ,sCAAAA,YAAY,CAAEU,QAAd,kFAAwBE,IAAxB,CAA6B,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACJ,IAAF,CAAOM,aAAP,CAAqBD,CAAC,CAACL,IAAvB,CAAvC;MACD;IACF;EA5BO;AAHqB,CAAD,CAAhC;AAmCA,OAAO,MAAM;EAAEZ,UAAF;EAAcuB;AAAd,IAAsC1B,YAAY,CAAC2B,OAAzD;AACP,OAAO,MAAMC,cAAc,GAAG5B,YAAY,CAAC6B,OAApC"},"metadata":{},"sourceType":"module"}