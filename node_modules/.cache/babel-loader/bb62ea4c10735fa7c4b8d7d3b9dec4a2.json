{"ast":null,"code":"import { getTemplateSrv } from '@grafana/runtime';\nimport { variableAdapters } from './adapters';\nexport function getVariablesUrlParams(scopedVars) {\n  const params = {};\n  const variables = getTemplateSrv().getVariables();\n\n  for (let i = 0; i < variables.length; i++) {\n    const variable = variables[i];\n\n    if (scopedVars && scopedVars[variable.name] !== void 0) {\n      if (scopedVars[variable.name].skipUrlSync) {\n        continue;\n      }\n\n      params['var-' + variable.name] = scopedVars[variable.name].value;\n    } else {\n      // @ts-ignore\n      if (variable.skipUrlSync) {\n        continue;\n      }\n\n      params['var-' + variable.name] = variableAdapters.get(variable.type).getValueForUrl(variable);\n    }\n  }\n\n  return params;\n}","map":{"version":3,"names":["getTemplateSrv","variableAdapters","getVariablesUrlParams","scopedVars","params","variables","getVariables","i","length","variable","name","skipUrlSync","value","get","type","getValueForUrl"],"sources":["/home/soula/grafana/public/app/features/variables/getAllVariableValuesForUrl.ts"],"sourcesContent":["import { ScopedVars, UrlQueryMap } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nimport { variableAdapters } from './adapters';\n\nexport function getVariablesUrlParams(scopedVars?: ScopedVars): UrlQueryMap {\n  const params: UrlQueryMap = {};\n  const variables = getTemplateSrv().getVariables();\n\n  for (let i = 0; i < variables.length; i++) {\n    const variable = variables[i];\n    if (scopedVars && scopedVars[variable.name] !== void 0) {\n      if (scopedVars[variable.name].skipUrlSync) {\n        continue;\n      }\n      params['var-' + variable.name] = scopedVars[variable.name].value;\n    } else {\n      // @ts-ignore\n      if (variable.skipUrlSync) {\n        continue;\n      }\n      params['var-' + variable.name] = variableAdapters.get(variable.type).getValueForUrl(variable as any);\n    }\n  }\n\n  return params;\n}\n"],"mappings":"AACA,SAASA,cAAT,QAA+B,kBAA/B;AAEA,SAASC,gBAAT,QAAiC,YAAjC;AAEA,OAAO,SAASC,qBAAT,CAA+BC,UAA/B,EAAqE;EAC1E,MAAMC,MAAmB,GAAG,EAA5B;EACA,MAAMC,SAAS,GAAGL,cAAc,GAAGM,YAAjB,EAAlB;;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAAS,CAACG,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;IACzC,MAAME,QAAQ,GAAGJ,SAAS,CAACE,CAAD,CAA1B;;IACA,IAAIJ,UAAU,IAAIA,UAAU,CAACM,QAAQ,CAACC,IAAV,CAAV,KAA8B,KAAK,CAArD,EAAwD;MACtD,IAAIP,UAAU,CAACM,QAAQ,CAACC,IAAV,CAAV,CAA0BC,WAA9B,EAA2C;QACzC;MACD;;MACDP,MAAM,CAAC,SAASK,QAAQ,CAACC,IAAnB,CAAN,GAAiCP,UAAU,CAACM,QAAQ,CAACC,IAAV,CAAV,CAA0BE,KAA3D;IACD,CALD,MAKO;MACL;MACA,IAAIH,QAAQ,CAACE,WAAb,EAA0B;QACxB;MACD;;MACDP,MAAM,CAAC,SAASK,QAAQ,CAACC,IAAnB,CAAN,GAAiCT,gBAAgB,CAACY,GAAjB,CAAqBJ,QAAQ,CAACK,IAA9B,EAAoCC,cAApC,CAAmDN,QAAnD,CAAjC;IACD;EACF;;EAED,OAAOL,MAAP;AACD"},"metadata":{},"sourceType":"module"}