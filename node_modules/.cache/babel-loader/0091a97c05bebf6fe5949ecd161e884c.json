{"ast":null,"code":"var _h;\n\nimport React, { useMemo } from 'react';\nimport { InlineSwitch } from '../../components/Switch/Switch';\nimport { InlineField } from '../Forms/InlineField';\nimport { InlineFieldRow } from '../Forms/InlineFieldRow';\nimport { Select } from '../Select/Select';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function AlertingSettings({\n  alertmanagerDataSources,\n  options,\n  onOptionsChange\n}) {\n  const alertmanagerOptions = useMemo(() => alertmanagerDataSources.map(ds => ({\n    label: ds.name,\n    value: ds.uid,\n    imgUrl: ds.meta.info.logos.small,\n    meta: ds.meta\n  })), [alertmanagerDataSources]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h3\", {\n      className: \"page-heading\",\n      children: \"Alerting\"\n    })), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"gf-form-group\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"gf-form-inline\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"gf-form\",\n          children: /*#__PURE__*/_jsx(InlineField, {\n            labelWidth: 26,\n            label: \"Manage alerts via Alerting UI\",\n            children: /*#__PURE__*/_jsx(InlineSwitch, {\n              value: options.jsonData.manageAlerts !== false,\n              onChange: event => onOptionsChange(Object.assign({}, options, {\n                jsonData: Object.assign({}, options.jsonData, {\n                  manageAlerts: event.currentTarget.checked\n                })\n              }))\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(InlineFieldRow, {\n        children: /*#__PURE__*/_jsx(InlineField, {\n          tooltip: \"The alertmanager that manages alerts for this data source\",\n          label: \"Alertmanager data source\",\n          labelWidth: 26,\n          children: /*#__PURE__*/_jsx(Select, {\n            width: 29,\n            options: alertmanagerOptions,\n            onChange: value => onOptionsChange(Object.assign({}, options, {\n              jsonData: Object.assign({}, options.jsonData, {\n                alertmanagerUid: value === null || value === void 0 ? void 0 : value.value\n              })\n            })),\n            value: options.jsonData.alertmanagerUid\n          })\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["React","useMemo","InlineSwitch","InlineField","InlineFieldRow","Select","AlertingSettings","alertmanagerDataSources","options","onOptionsChange","alertmanagerOptions","map","ds","label","name","value","uid","imgUrl","meta","info","logos","small","jsonData","manageAlerts","event","currentTarget","checked","alertmanagerUid"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/DataSourceSettings/AlertingSettings.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\n\nimport { DataSourceInstanceSettings, DataSourceJsonData, DataSourcePluginOptionsEditorProps } from '@grafana/data';\n\nimport { InlineSwitch } from '../../components/Switch/Switch';\nimport { InlineField } from '../Forms/InlineField';\nimport { InlineFieldRow } from '../Forms/InlineFieldRow';\nimport { Select } from '../Select/Select';\n\ninterface Props<T> extends Pick<DataSourcePluginOptionsEditorProps<T>, 'options' | 'onOptionsChange'> {\n  alertmanagerDataSources: Array<DataSourceInstanceSettings<DataSourceJsonData>>;\n}\n\ninterface AlertingConfig extends DataSourceJsonData {\n  manageAlerts?: boolean;\n}\n\nexport function AlertingSettings<T extends AlertingConfig>({\n  alertmanagerDataSources,\n  options,\n  onOptionsChange,\n}: Props<T>): JSX.Element {\n  const alertmanagerOptions = useMemo(\n    () =>\n      alertmanagerDataSources.map((ds) => ({\n        label: ds.name,\n        value: ds.uid,\n        imgUrl: ds.meta.info.logos.small,\n        meta: ds.meta,\n      })),\n    [alertmanagerDataSources]\n  );\n\n  return (\n    <>\n      <h3 className=\"page-heading\">Alerting</h3>\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form-inline\">\n          <div className=\"gf-form\">\n            <InlineField labelWidth={26} label=\"Manage alerts via Alerting UI\">\n              <InlineSwitch\n                value={options.jsonData.manageAlerts !== false}\n                onChange={(event) =>\n                  onOptionsChange({\n                    ...options,\n                    jsonData: { ...options.jsonData, manageAlerts: event!.currentTarget.checked },\n                  })\n                }\n              />\n            </InlineField>\n          </div>\n        </div>\n        <InlineFieldRow>\n          <InlineField\n            tooltip=\"The alertmanager that manages alerts for this data source\"\n            label=\"Alertmanager data source\"\n            labelWidth={26}\n          >\n            <Select\n              width={29}\n              options={alertmanagerOptions}\n              onChange={(value) =>\n                onOptionsChange({ ...options, jsonData: { ...options.jsonData, alertmanagerUid: value?.value } })\n              }\n              value={options.jsonData.alertmanagerUid}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    </>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AAIA,SAASC,YAAT,QAA6B,gCAA7B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,MAAT,QAAuB,kBAAvB;;;;AAUA,OAAO,SAASC,gBAAT,CAAoD;EACzDC,uBADyD;EAEzDC,OAFyD;EAGzDC;AAHyD,CAApD,EAImB;EACxB,MAAMC,mBAAmB,GAAGT,OAAO,CACjC,MACEM,uBAAuB,CAACI,GAAxB,CAA6BC,EAAD,KAAS;IACnCC,KAAK,EAAED,EAAE,CAACE,IADyB;IAEnCC,KAAK,EAAEH,EAAE,CAACI,GAFyB;IAGnCC,MAAM,EAAEL,EAAE,CAACM,IAAH,CAAQC,IAAR,CAAaC,KAAb,CAAmBC,KAHQ;IAInCH,IAAI,EAAEN,EAAE,CAACM;EAJ0B,CAAT,CAA5B,CAF+B,EAQjC,CAACX,uBAAD,CARiC,CAAnC;EAWA,oBACE;IAAA,oCACE;MAAI,SAAS,EAAC,cAAd;MAAA;IAAA,EADF,gBAEE;MAAK,SAAS,EAAC,eAAf;MAAA,wBACE;QAAK,SAAS,EAAC,gBAAf;QAAA,uBACE;UAAK,SAAS,EAAC,SAAf;UAAA,uBACE,KAAC,WAAD;YAAa,UAAU,EAAE,EAAzB;YAA6B,KAAK,EAAC,+BAAnC;YAAA,uBACE,KAAC,YAAD;cACE,KAAK,EAAEC,OAAO,CAACc,QAAR,CAAiBC,YAAjB,KAAkC,KAD3C;cAEE,QAAQ,EAAGC,KAAD,IACRf,eAAe,mBACVD,OADU;gBAEbc,QAAQ,oBAAOd,OAAO,CAACc,QAAf;kBAAyBC,YAAY,EAAEC,KAAK,CAAEC,aAAP,CAAqBC;gBAA5D;cAFK;YAHnB;UADF;QADF;MADF,EADF,eAgBE,KAAC,cAAD;QAAA,uBACE,KAAC,WAAD;UACE,OAAO,EAAC,2DADV;UAEE,KAAK,EAAC,0BAFR;UAGE,UAAU,EAAE,EAHd;UAAA,uBAKE,KAAC,MAAD;YACE,KAAK,EAAE,EADT;YAEE,OAAO,EAAEhB,mBAFX;YAGE,QAAQ,EAAGK,KAAD,IACRN,eAAe,mBAAMD,OAAN;cAAec,QAAQ,oBAAOd,OAAO,CAACc,QAAf;gBAAyBK,eAAe,EAAEZ,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEA;cAAjD;YAAvB,GAJnB;YAME,KAAK,EAAEP,OAAO,CAACc,QAAR,CAAiBK;UAN1B;QALF;MADF,EAhBF;IAAA,EAFF;EAAA,EADF;AAsCD"},"metadata":{},"sourceType":"module"}