{"ast":null,"code":"var _Icon;\n\nimport { css } from '@emotion/css';\nimport React from 'react';\nimport { formattedValueToString, getValueFormat } from '@grafana/data';\nimport { useStyles2 } from '../../themes';\nimport { trimFileName } from '../../utils/file';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const REMOVE_FILE = 'Remove file';\nexport function FileListItem({\n  file: customFile,\n  removeFile\n}) {\n  var _IconButton, _Button;\n\n  const styles = useStyles2(getStyles);\n  const {\n    file,\n    progress,\n    error,\n    abortUpload,\n    retryUpload\n  } = customFile;\n\n  const renderRightSide = () => {\n    if (error) {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(\"span\", {\n          className: styles.error,\n          children: error.message\n        }), retryUpload && (_IconButton || (_IconButton = /*#__PURE__*/_jsx(IconButton, {\n          type: \"button\",\n          \"aria-label\": \"Retry\",\n          name: \"sync\",\n          tooltip: \"Retry\",\n          tooltipPlacement: \"top\",\n          onClick: retryUpload\n        }))), removeFile && /*#__PURE__*/_jsx(IconButton, {\n          className: retryUpload ? styles.marginLeft : '',\n          type: \"button\",\n          name: \"trash-alt\",\n          onClick: () => removeFile(customFile),\n          tooltip: REMOVE_FILE,\n          \"aria-label\": REMOVE_FILE\n        })]\n      });\n    }\n\n    if (progress && file.size > progress) {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(\"progress\", {\n          className: styles.progressBar,\n          max: file.size,\n          value: progress\n        }), /*#__PURE__*/_jsxs(\"span\", {\n          className: styles.paddingLeft,\n          children: [Math.round(progress / file.size * 100), \"%\"]\n        }), abortUpload && (_Button || (_Button = /*#__PURE__*/_jsx(Button, {\n          variant: \"secondary\",\n          type: \"button\",\n          fill: \"text\",\n          onClick: abortUpload,\n          children: \"Cancel upload\"\n        })))]\n      });\n    }\n\n    return removeFile && /*#__PURE__*/_jsx(IconButton, {\n      name: \"trash-alt\",\n      onClick: () => removeFile(customFile),\n      tooltip: REMOVE_FILE,\n      \"aria-label\": REMOVE_FILE,\n      type: \"button\",\n      tooltipPlacement: \"top\"\n    });\n  };\n\n  const valueFormat = getValueFormat('decbytes')(file.size);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.fileListContainer,\n    children: [/*#__PURE__*/_jsxs(\"span\", {\n      className: styles.fileNameWrapper,\n      children: [_Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n        name: \"file-blank\",\n        size: \"lg\",\n        \"aria-hidden\": true\n      })), /*#__PURE__*/_jsx(\"span\", {\n        className: styles.padding,\n        children: trimFileName(file.name)\n      }), /*#__PURE__*/_jsx(\"span\", {\n        children: formattedValueToString(valueFormat)\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.fileNameWrapper,\n      children: renderRightSide()\n    })]\n  });\n}\n\nfunction getStyles(theme) {\n  return {\n    fileListContainer: css`\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n      padding: ${theme.spacing(2)};\n      border: 1px dashed ${theme.colors.border.medium};\n      background-color: ${theme.colors.background.secondary};\n      margin-top: ${theme.spacing(1)};\n    `,\n    fileNameWrapper: css`\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    `,\n    padding: css`\n      padding: ${theme.spacing(0, 1)};\n    `,\n    paddingLeft: css`\n      padding-left: ${theme.spacing(2)};\n    `,\n    marginLeft: css`\n      margin-left: ${theme.spacing(1)};\n    `,\n    error: css`\n      padding-right: ${theme.spacing(2)};\n      color: ${theme.colors.error.text};\n    `,\n    progressBar: css`\n      border-radius: ${theme.spacing(1)};\n      height: 4px;\n      ::-webkit-progress-bar {\n        background-color: ${theme.colors.border.weak};\n        border-radius: ${theme.spacing(1)};\n      }\n      ::-webkit-progress-value {\n        background-color: ${theme.colors.primary.main};\n        border-radius: ${theme.spacing(1)};\n      }\n    `\n  };\n}","map":{"version":3,"names":["css","React","formattedValueToString","getValueFormat","useStyles2","trimFileName","Button","Icon","IconButton","REMOVE_FILE","FileListItem","file","customFile","removeFile","styles","getStyles","progress","error","abortUpload","retryUpload","renderRightSide","message","marginLeft","size","progressBar","paddingLeft","Math","round","valueFormat","fileListContainer","fileNameWrapper","padding","name","theme","spacing","colors","border","medium","background","secondary","text","weak","primary","main"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/FileDropzone/FileListItem.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { formattedValueToString, getValueFormat, GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes';\nimport { trimFileName } from '../../utils/file';\nimport { Button } from '../Button';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\n\nimport { DropzoneFile } from './FileDropzone';\n\nexport const REMOVE_FILE = 'Remove file';\nexport interface FileListItemProps {\n  file: DropzoneFile;\n  removeFile?: (file: DropzoneFile) => void;\n}\n\nexport function FileListItem({ file: customFile, removeFile }: FileListItemProps) {\n  const styles = useStyles2(getStyles);\n  const { file, progress, error, abortUpload, retryUpload } = customFile;\n\n  const renderRightSide = () => {\n    if (error) {\n      return (\n        <>\n          <span className={styles.error}>{error.message}</span>\n          {retryUpload && (\n            <IconButton\n              type=\"button\"\n              aria-label=\"Retry\"\n              name=\"sync\"\n              tooltip=\"Retry\"\n              tooltipPlacement=\"top\"\n              onClick={retryUpload}\n            />\n          )}\n          {removeFile && (\n            <IconButton\n              className={retryUpload ? styles.marginLeft : ''}\n              type=\"button\"\n              name=\"trash-alt\"\n              onClick={() => removeFile(customFile)}\n              tooltip={REMOVE_FILE}\n              aria-label={REMOVE_FILE}\n            />\n          )}\n        </>\n      );\n    }\n\n    if (progress && file.size > progress) {\n      return (\n        <>\n          <progress className={styles.progressBar} max={file.size} value={progress} />\n          <span className={styles.paddingLeft}>{Math.round((progress / file.size) * 100)}%</span>\n          {abortUpload && (\n            <Button variant=\"secondary\" type=\"button\" fill=\"text\" onClick={abortUpload}>\n              Cancel upload\n            </Button>\n          )}\n        </>\n      );\n    }\n    return (\n      removeFile && (\n        <IconButton\n          name=\"trash-alt\"\n          onClick={() => removeFile(customFile)}\n          tooltip={REMOVE_FILE}\n          aria-label={REMOVE_FILE}\n          type=\"button\"\n          tooltipPlacement=\"top\"\n        />\n      )\n    );\n  };\n\n  const valueFormat = getValueFormat('decbytes')(file.size);\n\n  return (\n    <div className={styles.fileListContainer}>\n      <span className={styles.fileNameWrapper}>\n        <Icon name=\"file-blank\" size=\"lg\" aria-hidden={true} />\n        <span className={styles.padding}>{trimFileName(file.name)}</span>\n        <span>{formattedValueToString(valueFormat)}</span>\n      </span>\n\n      <div className={styles.fileNameWrapper}>{renderRightSide()}</div>\n    </div>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    fileListContainer: css`\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: space-between;\n      padding: ${theme.spacing(2)};\n      border: 1px dashed ${theme.colors.border.medium};\n      background-color: ${theme.colors.background.secondary};\n      margin-top: ${theme.spacing(1)};\n    `,\n    fileNameWrapper: css`\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    `,\n    padding: css`\n      padding: ${theme.spacing(0, 1)};\n    `,\n    paddingLeft: css`\n      padding-left: ${theme.spacing(2)};\n    `,\n    marginLeft: css`\n      margin-left: ${theme.spacing(1)};\n    `,\n    error: css`\n      padding-right: ${theme.spacing(2)};\n      color: ${theme.colors.error.text};\n    `,\n    progressBar: css`\n      border-radius: ${theme.spacing(1)};\n      height: 4px;\n      ::-webkit-progress-bar {\n        background-color: ${theme.colors.border.weak};\n        border-radius: ${theme.spacing(1)};\n      }\n      ::-webkit-progress-value {\n        background-color: ${theme.colors.primary.main};\n        border-radius: ${theme.spacing(1)};\n      }\n    `,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}