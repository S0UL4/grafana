{"ast":null,"code":"var _Icon, _TimePickerTitle, _div, _a;\n\nimport { css, cx } from '@emotion/css';\nimport React, { useCallback, useState } from 'react';\nimport { useStyles2 } from '../../../themes';\nimport { Button } from '../../Button';\nimport { ClickOutsideWrapper } from '../../ClickOutsideWrapper/ClickOutsideWrapper';\nimport CustomScrollbar from '../../CustomScrollbar/CustomScrollbar';\nimport { Field } from '../../Forms/Field';\nimport { Icon } from '../../Icon/Icon';\nimport { getInputStyles, Input } from '../../Input/Input';\nimport { Tooltip } from '../../Tooltip/Tooltip';\nimport { TimePickerTitle } from '../TimeRangePicker/TimePickerTitle';\nimport { TimeRangeList } from '../TimeRangePicker/TimeRangeList';\nimport { quickOptions } from '../options';\nimport { isRangeValid, isRelativeFormat, mapOptionToRelativeTimeRange, mapRelativeTimeRangeToOption } from './utils';\n/**\n * @internal\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nconst validOptions = quickOptions.filter(o => isRelativeFormat(o.from));\n/**\n * @internal\n */\n\nexport function RelativeTimeRangePicker(props) {\n  const {\n    timeRange,\n    onChange\n  } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const onClose = useCallback(() => setIsOpen(false), []);\n  const timeOption = mapRelativeTimeRangeToOption(timeRange);\n  const [from, setFrom] = useState({\n    value: timeOption.from,\n    validation: isRangeValid(timeOption.from)\n  });\n  const [to, setTo] = useState({\n    value: timeOption.to,\n    validation: isRangeValid(timeOption.to)\n  });\n  const styles = useStyles2(getStyles(from.validation.errorMessage, to.validation.errorMessage));\n\n  const onChangeTimeOption = option => {\n    const relativeTimeRange = mapOptionToRelativeTimeRange(option);\n\n    if (!relativeTimeRange) {\n      return;\n    }\n\n    onClose();\n    setFrom(Object.assign({}, from, {\n      value: option.from\n    }));\n    setTo(Object.assign({}, to, {\n      value: option.to\n    }));\n    onChange(relativeTimeRange);\n  };\n\n  const onOpen = useCallback(event => {\n    event.stopPropagation();\n    event.preventDefault();\n    setIsOpen(!isOpen);\n  }, [isOpen]);\n\n  const onApply = event => {\n    event.preventDefault();\n\n    if (!to.validation.isValid || !from.validation.isValid) {\n      return;\n    }\n\n    const timeRange = mapOptionToRelativeTimeRange({\n      from: from.value,\n      to: to.value,\n      display: ''\n    });\n\n    if (!timeRange) {\n      return;\n    }\n\n    onChange(timeRange);\n    setIsOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      tabIndex: 0,\n      className: styles.pickerInput,\n      onClick: onOpen,\n      children: [/*#__PURE__*/_jsx(\"span\", {\n        className: styles.clockIcon,\n        children: _Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n          name: \"clock-nine\"\n        }))\n      }), /*#__PURE__*/_jsxs(\"span\", {\n        children: [timeOption.from, \" to \", timeOption.to]\n      }), /*#__PURE__*/_jsx(\"span\", {\n        className: styles.caretIcon,\n        children: /*#__PURE__*/_jsx(Icon, {\n          name: isOpen ? 'angle-up' : 'angle-down',\n          size: \"lg\"\n        })\n      })]\n    }), isOpen && /*#__PURE__*/_jsx(ClickOutsideWrapper, {\n      includeButtonPress: false,\n      onClick: onClose,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: styles.content,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.body,\n          children: [/*#__PURE__*/_jsx(CustomScrollbar, {\n            className: styles.leftSide,\n            hideHorizontalTrack: true,\n            children: /*#__PURE__*/_jsx(TimeRangeList, {\n              title: \"Example time ranges\",\n              options: validOptions,\n              onChange: onChangeTimeOption,\n              value: timeOption\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: styles.rightSide,\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: styles.title,\n              children: _TimePickerTitle || (_TimePickerTitle = /*#__PURE__*/_jsx(TimePickerTitle, {\n                children: /*#__PURE__*/_jsx(Tooltip, {\n                  content: /*#__PURE__*/_jsx(TooltipContent, {}),\n                  placement: \"bottom\",\n                  theme: \"info\",\n                  children: /*#__PURE__*/_jsxs(\"div\", {\n                    children: [\"Specify time range \", /*#__PURE__*/_jsx(Icon, {\n                      name: \"info-circle\"\n                    })]\n                  })\n                })\n              }))\n            }), /*#__PURE__*/_jsx(Field, {\n              label: \"From\",\n              invalid: !from.validation.isValid,\n              error: from.validation.errorMessage,\n              children: /*#__PURE__*/_jsx(Input, {\n                onClick: event => event.stopPropagation(),\n                onBlur: () => setFrom(Object.assign({}, from, {\n                  validation: isRangeValid(from.value)\n                })),\n                onChange: event => setFrom(Object.assign({}, from, {\n                  value: event.currentTarget.value\n                })),\n                value: from.value\n              })\n            }), /*#__PURE__*/_jsx(Field, {\n              label: \"To\",\n              invalid: !to.validation.isValid,\n              error: to.validation.errorMessage,\n              children: /*#__PURE__*/_jsx(Input, {\n                onClick: event => event.stopPropagation(),\n                onBlur: () => setTo(Object.assign({}, to, {\n                  validation: isRangeValid(to.value)\n                })),\n                onChange: event => setTo(Object.assign({}, to, {\n                  value: event.currentTarget.value\n                })),\n                value: to.value\n              })\n            }), /*#__PURE__*/_jsx(Button, {\n              \"aria-label\": \"TimePicker submit button\",\n              onClick: onApply,\n              children: \"Apply time range\"\n            })]\n          })]\n        })\n      })\n    })]\n  });\n}\n\nconst TooltipContent = () => {\n  const styles = useStyles2(toolTipStyles);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: styles.supported,\n      children: [\"Supported formats: \", /*#__PURE__*/_jsx(\"code\", {\n        className: styles.tooltip,\n        children: \"now-[digit]s/m/h/d/w\"\n      })]\n    }), _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n      children: \"Example: to select a time range from 10 minutes ago to now\"\n    })), /*#__PURE__*/_jsx(\"code\", {\n      className: styles.tooltip,\n      children: \"From: now-10m To: now\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.link,\n      children: [\"For more information see\", ' ', _a || (_a = /*#__PURE__*/_jsxs(\"a\", {\n        href: \"https://grafana.com/docs/grafana/latest/dashboards/time-range-controls/\",\n        children: [\"docs \", /*#__PURE__*/_jsx(Icon, {\n          name: \"external-link-alt\"\n        })]\n      })), \".\"]\n    })]\n  });\n};\n\nconst toolTipStyles = theme => ({\n  supported: css`\n    margin-bottom: ${theme.spacing(1)};\n  `,\n  tooltip: css`\n    margin: 0;\n  `,\n  link: css`\n    margin-top: ${theme.spacing(1)};\n  `\n});\n\nconst getStyles = (fromError, toError) => theme => {\n  const inputStyles = getInputStyles({\n    theme,\n    invalid: false\n  });\n  const bodyMinimumHeight = 250;\n  const bodyHeight = bodyMinimumHeight + calculateErrorHeight(theme, fromError) + calculateErrorHeight(theme, toError);\n  return {\n    container: css`\n      display: flex;\n      position: relative;\n    `,\n    pickerInput: cx(inputStyles.input, inputStyles.wrapper, css`\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        cursor: pointer;\n        padding-right: 0;\n        padding-left: 0;\n        line-height: ${theme.v1.spacing.formInputHeight - 2}px;\n      `),\n    caretIcon: cx(inputStyles.suffix, css`\n        position: relative;\n        margin-left: ${theme.v1.spacing.xs};\n      `),\n    clockIcon: cx(inputStyles.prefix, css`\n        position: relative;\n        margin-right: ${theme.v1.spacing.xs};\n      `),\n    content: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      position: absolute;\n      z-index: ${theme.zIndex.dropdown};\n      width: 500px;\n      top: 100%;\n      border-radius: 2px;\n      border: 1px solid ${theme.colors.border.weak};\n      left: 0;\n      white-space: normal;\n    `,\n    body: css`\n      display: flex;\n      height: ${bodyHeight}px;\n    `,\n    description: css`\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.size.sm};\n    `,\n    leftSide: css`\n      width: 50% !important;\n      border-right: 1px solid ${theme.colors.border.medium};\n    `,\n    rightSide: css`\n      width: 50%;\n      padding: ${theme.spacing(1)};\n    `,\n    title: css`\n      margin-bottom: ${theme.spacing(1)};\n    `\n  };\n};\n\nfunction calculateErrorHeight(theme, errorMessage) {\n  if (!errorMessage) {\n    return 0;\n  }\n\n  if (errorMessage.length > 34) {\n    return theme.spacing.gridSize * 6.5;\n  }\n\n  return theme.spacing.gridSize * 4;\n}","map":{"version":3,"names":["css","cx","React","useCallback","useState","useStyles2","Button","ClickOutsideWrapper","CustomScrollbar","Field","Icon","getInputStyles","Input","Tooltip","TimePickerTitle","TimeRangeList","quickOptions","isRangeValid","isRelativeFormat","mapOptionToRelativeTimeRange","mapRelativeTimeRangeToOption","validOptions","filter","o","from","RelativeTimeRangePicker","props","timeRange","onChange","isOpen","setIsOpen","onClose","timeOption","setFrom","value","validation","to","setTo","styles","getStyles","errorMessage","onChangeTimeOption","option","relativeTimeRange","onOpen","event","stopPropagation","preventDefault","onApply","isValid","display","container","pickerInput","clockIcon","caretIcon","content","body","leftSide","rightSide","title","currentTarget","TooltipContent","toolTipStyles","supported","tooltip","link","theme","spacing","fromError","toError","inputStyles","invalid","bodyMinimumHeight","bodyHeight","calculateErrorHeight","input","wrapper","v1","formInputHeight","suffix","xs","prefix","colors","background","primary","shadows","z3","zIndex","dropdown","border","weak","description","text","secondary","typography","size","sm","medium","length","gridSize"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/DateTimePickers/RelativeTimeRangePicker/RelativeTimeRangePicker.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { FormEvent, ReactElement, useCallback, useState } from 'react';\n\nimport { RelativeTimeRange, GrafanaTheme2, TimeOption } from '@grafana/data';\n\nimport { useStyles2 } from '../../../themes';\nimport { Button } from '../../Button';\nimport { ClickOutsideWrapper } from '../../ClickOutsideWrapper/ClickOutsideWrapper';\nimport CustomScrollbar from '../../CustomScrollbar/CustomScrollbar';\nimport { Field } from '../../Forms/Field';\nimport { Icon } from '../../Icon/Icon';\nimport { getInputStyles, Input } from '../../Input/Input';\nimport { Tooltip } from '../../Tooltip/Tooltip';\nimport { TimePickerTitle } from '../TimeRangePicker/TimePickerTitle';\nimport { TimeRangeList } from '../TimeRangePicker/TimeRangeList';\nimport { quickOptions } from '../options';\n\nimport {\n  isRangeValid,\n  isRelativeFormat,\n  mapOptionToRelativeTimeRange,\n  mapRelativeTimeRangeToOption,\n  RangeValidation,\n} from './utils';\n\n/**\n * @internal\n */\nexport interface RelativeTimeRangePickerProps {\n  timeRange: RelativeTimeRange;\n  onChange: (timeRange: RelativeTimeRange) => void;\n}\n\ntype InputState = {\n  value: string;\n  validation: RangeValidation;\n};\n\nconst validOptions = quickOptions.filter((o) => isRelativeFormat(o.from));\n\n/**\n * @internal\n */\nexport function RelativeTimeRangePicker(props: RelativeTimeRangePickerProps): ReactElement | null {\n  const { timeRange, onChange } = props;\n  const [isOpen, setIsOpen] = useState(false);\n  const onClose = useCallback(() => setIsOpen(false), []);\n  const timeOption = mapRelativeTimeRangeToOption(timeRange);\n  const [from, setFrom] = useState<InputState>({ value: timeOption.from, validation: isRangeValid(timeOption.from) });\n  const [to, setTo] = useState<InputState>({ value: timeOption.to, validation: isRangeValid(timeOption.to) });\n\n  const styles = useStyles2(getStyles(from.validation.errorMessage, to.validation.errorMessage));\n\n  const onChangeTimeOption = (option: TimeOption) => {\n    const relativeTimeRange = mapOptionToRelativeTimeRange(option);\n    if (!relativeTimeRange) {\n      return;\n    }\n    onClose();\n    setFrom({ ...from, value: option.from });\n    setTo({ ...to, value: option.to });\n    onChange(relativeTimeRange);\n  };\n\n  const onOpen = useCallback(\n    (event: FormEvent<HTMLDivElement>) => {\n      event.stopPropagation();\n      event.preventDefault();\n      setIsOpen(!isOpen);\n    },\n    [isOpen]\n  );\n\n  const onApply = (event: FormEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n\n    if (!to.validation.isValid || !from.validation.isValid) {\n      return;\n    }\n\n    const timeRange = mapOptionToRelativeTimeRange({\n      from: from.value,\n      to: to.value,\n      display: '',\n    });\n\n    if (!timeRange) {\n      return;\n    }\n\n    onChange(timeRange);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={styles.container}>\n      <div tabIndex={0} className={styles.pickerInput} onClick={onOpen}>\n        <span className={styles.clockIcon}>\n          <Icon name=\"clock-nine\" />\n        </span>\n        <span>\n          {timeOption.from} to {timeOption.to}\n        </span>\n        <span className={styles.caretIcon}>\n          <Icon name={isOpen ? 'angle-up' : 'angle-down'} size=\"lg\" />\n        </span>\n      </div>\n      {isOpen && (\n        <ClickOutsideWrapper includeButtonPress={false} onClick={onClose}>\n          <div className={styles.content}>\n            <div className={styles.body}>\n              <CustomScrollbar className={styles.leftSide} hideHorizontalTrack>\n                <TimeRangeList\n                  title=\"Example time ranges\"\n                  options={validOptions}\n                  onChange={onChangeTimeOption}\n                  value={timeOption}\n                />\n              </CustomScrollbar>\n              <div className={styles.rightSide}>\n                <div className={styles.title}>\n                  <TimePickerTitle>\n                    <Tooltip content={<TooltipContent />} placement=\"bottom\" theme=\"info\">\n                      <div>\n                        Specify time range <Icon name=\"info-circle\" />\n                      </div>\n                    </Tooltip>\n                  </TimePickerTitle>\n                </div>\n                <Field label=\"From\" invalid={!from.validation.isValid} error={from.validation.errorMessage}>\n                  <Input\n                    onClick={(event) => event.stopPropagation()}\n                    onBlur={() => setFrom({ ...from, validation: isRangeValid(from.value) })}\n                    onChange={(event) => setFrom({ ...from, value: event.currentTarget.value })}\n                    value={from.value}\n                  />\n                </Field>\n                <Field label=\"To\" invalid={!to.validation.isValid} error={to.validation.errorMessage}>\n                  <Input\n                    onClick={(event) => event.stopPropagation()}\n                    onBlur={() => setTo({ ...to, validation: isRangeValid(to.value) })}\n                    onChange={(event) => setTo({ ...to, value: event.currentTarget.value })}\n                    value={to.value}\n                  />\n                </Field>\n                <Button aria-label=\"TimePicker submit button\" onClick={onApply}>\n                  Apply time range\n                </Button>\n              </div>\n            </div>\n          </div>\n        </ClickOutsideWrapper>\n      )}\n    </div>\n  );\n}\n\nconst TooltipContent = () => {\n  const styles = useStyles2(toolTipStyles);\n  return (\n    <>\n      <div className={styles.supported}>\n        Supported formats: <code className={styles.tooltip}>now-[digit]s/m/h/d/w</code>\n      </div>\n      <div>Example: to select a time range from 10 minutes ago to now</div>\n      <code className={styles.tooltip}>From: now-10m To: now</code>\n      <div className={styles.link}>\n        For more information see{' '}\n        <a href=\"https://grafana.com/docs/grafana/latest/dashboards/time-range-controls/\">\n          docs <Icon name=\"external-link-alt\" />\n        </a>\n        .\n      </div>\n    </>\n  );\n};\n\nconst toolTipStyles = (theme: GrafanaTheme2) => ({\n  supported: css`\n    margin-bottom: ${theme.spacing(1)};\n  `,\n  tooltip: css`\n    margin: 0;\n  `,\n  link: css`\n    margin-top: ${theme.spacing(1)};\n  `,\n});\n\nconst getStyles = (fromError?: string, toError?: string) => (theme: GrafanaTheme2) => {\n  const inputStyles = getInputStyles({ theme, invalid: false });\n  const bodyMinimumHeight = 250;\n  const bodyHeight = bodyMinimumHeight + calculateErrorHeight(theme, fromError) + calculateErrorHeight(theme, toError);\n\n  return {\n    container: css`\n      display: flex;\n      position: relative;\n    `,\n    pickerInput: cx(\n      inputStyles.input,\n      inputStyles.wrapper,\n      css`\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        cursor: pointer;\n        padding-right: 0;\n        padding-left: 0;\n        line-height: ${theme.v1.spacing.formInputHeight - 2}px;\n      `\n    ),\n    caretIcon: cx(\n      inputStyles.suffix,\n      css`\n        position: relative;\n        margin-left: ${theme.v1.spacing.xs};\n      `\n    ),\n    clockIcon: cx(\n      inputStyles.prefix,\n      css`\n        position: relative;\n        margin-right: ${theme.v1.spacing.xs};\n      `\n    ),\n    content: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      position: absolute;\n      z-index: ${theme.zIndex.dropdown};\n      width: 500px;\n      top: 100%;\n      border-radius: 2px;\n      border: 1px solid ${theme.colors.border.weak};\n      left: 0;\n      white-space: normal;\n    `,\n    body: css`\n      display: flex;\n      height: ${bodyHeight}px;\n    `,\n    description: css`\n      color: ${theme.colors.text.secondary};\n      font-size: ${theme.typography.size.sm};\n    `,\n    leftSide: css`\n      width: 50% !important;\n      border-right: 1px solid ${theme.colors.border.medium};\n    `,\n    rightSide: css`\n      width: 50%;\n      padding: ${theme.spacing(1)};\n    `,\n    title: css`\n      margin-bottom: ${theme.spacing(1)};\n    `,\n  };\n};\n\nfunction calculateErrorHeight(theme: GrafanaTheme2, errorMessage?: string): number {\n  if (!errorMessage) {\n    return 0;\n  }\n\n  if (errorMessage.length > 34) {\n    return theme.spacing.gridSize * 6.5;\n  }\n\n  return theme.spacing.gridSize * 4;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}