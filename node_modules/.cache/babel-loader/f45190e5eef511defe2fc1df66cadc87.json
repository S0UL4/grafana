{"ast":null,"code":"var _li;\n\nimport { css } from '@emotion/css';\nimport React, { useState } from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Icon, useTheme } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const PanelHeaderMenuItem = props => {\n  const [ref, setRef] = useState(null);\n  const isSubMenu = props.type === 'submenu';\n  const isDivider = props.type === 'divider';\n  const theme = useTheme();\n  const menuIconClassName = css`\n    margin-right: ${theme.spacing.sm};\n    a::after {\n      display: none;\n    }\n  `;\n  const shortcutIconClassName = css`\n    position: absolute;\n    top: 7px;\n    right: ${theme.spacing.xs};\n    color: ${theme.colors.textWeak};\n  `;\n  return isDivider ? _li || (_li = /*#__PURE__*/_jsx(\"li\", {\n    className: \"divider\"\n  })) : /*#__PURE__*/_jsxs(\"li\", {\n    className: isSubMenu ? `dropdown-submenu ${getDropdownLocationCssClass(ref)}` : undefined,\n    ref: setRef,\n    children: [/*#__PURE__*/_jsxs(\"a\", {\n      onClick: props.onClick,\n      href: props.href,\n      children: [props.iconClassName && /*#__PURE__*/_jsx(Icon, {\n        name: props.iconClassName,\n        className: menuIconClassName\n      }), /*#__PURE__*/_jsxs(\"span\", {\n        className: \"dropdown-item-text\",\n        \"aria-label\": selectors.components.Panels.Panel.headerItems(props.text),\n        children: [props.text, isSubMenu && /*#__PURE__*/_jsx(Icon, {\n          name: \"angle-right\",\n          className: shortcutIconClassName\n        })]\n      }), props.shortcut && /*#__PURE__*/_jsxs(\"span\", {\n        className: \"dropdown-menu-item-shortcut\",\n        children: [/*#__PURE__*/_jsx(Icon, {\n          name: \"keyboard\",\n          className: menuIconClassName\n        }), \" \", props.shortcut]\n      })]\n    }), props.children]\n  });\n};\n\nfunction getDropdownLocationCssClass(element) {\n  if (!element) {\n    return 'invisible';\n  }\n\n  const wrapperPos = element.parentElement.getBoundingClientRect();\n  const pos = element.getBoundingClientRect();\n\n  if (pos.width === 0) {\n    return 'invisible';\n  }\n\n  if (wrapperPos.right + pos.width + 10 > window.innerWidth) {\n    return 'pull-left';\n  } else {\n    return 'pull-right';\n  }\n}","map":{"version":3,"names":["css","React","useState","selectors","Icon","useTheme","PanelHeaderMenuItem","props","ref","setRef","isSubMenu","type","isDivider","theme","menuIconClassName","spacing","sm","shortcutIconClassName","xs","colors","textWeak","getDropdownLocationCssClass","undefined","onClick","href","iconClassName","components","Panels","Panel","headerItems","text","shortcut","children","element","wrapperPos","parentElement","getBoundingClientRect","pos","width","right","window","innerWidth"],"sources":["/home/soula/grafana/public/app/features/dashboard/dashgrid/PanelHeader/PanelHeaderMenuItem.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { FC, useState } from 'react';\n\nimport { PanelMenuItem } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Icon, IconName, useTheme } from '@grafana/ui';\n\ninterface Props {\n  children?: any;\n}\n\nexport const PanelHeaderMenuItem: FC<Props & PanelMenuItem> = (props) => {\n  const [ref, setRef] = useState<HTMLLIElement | null>(null);\n  const isSubMenu = props.type === 'submenu';\n  const isDivider = props.type === 'divider';\n  const theme = useTheme();\n  const menuIconClassName = css`\n    margin-right: ${theme.spacing.sm};\n    a::after {\n      display: none;\n    }\n  `;\n  const shortcutIconClassName = css`\n    position: absolute;\n    top: 7px;\n    right: ${theme.spacing.xs};\n    color: ${theme.colors.textWeak};\n  `;\n\n  return isDivider ? (\n    <li className=\"divider\" />\n  ) : (\n    <li className={isSubMenu ? `dropdown-submenu ${getDropdownLocationCssClass(ref)}` : undefined} ref={setRef}>\n      <a onClick={props.onClick} href={props.href}>\n        {props.iconClassName && <Icon name={props.iconClassName as IconName} className={menuIconClassName} />}\n        <span className=\"dropdown-item-text\" aria-label={selectors.components.Panels.Panel.headerItems(props.text)}>\n          {props.text}\n          {isSubMenu && <Icon name=\"angle-right\" className={shortcutIconClassName} />}\n        </span>\n        {props.shortcut && (\n          <span className=\"dropdown-menu-item-shortcut\">\n            <Icon name=\"keyboard\" className={menuIconClassName} /> {props.shortcut}\n          </span>\n        )}\n      </a>\n      {props.children}\n    </li>\n  );\n};\n\nfunction getDropdownLocationCssClass(element: HTMLElement | null) {\n  if (!element) {\n    return 'invisible';\n  }\n\n  const wrapperPos = element.parentElement!.getBoundingClientRect();\n  const pos = element.getBoundingClientRect();\n\n  if (pos.width === 0) {\n    return 'invisible';\n  }\n\n  if (wrapperPos.right + pos.width + 10 > window.innerWidth) {\n    return 'pull-left';\n  } else {\n    return 'pull-right';\n  }\n}\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAAoBC,QAApB,QAAoC,OAApC;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,IAAT,EAAyBC,QAAzB,QAAyC,aAAzC;;;AAMA,OAAO,MAAMC,mBAA8C,GAAIC,KAAD,IAAW;EACvE,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBP,QAAQ,CAAuB,IAAvB,CAA9B;EACA,MAAMQ,SAAS,GAAGH,KAAK,CAACI,IAAN,KAAe,SAAjC;EACA,MAAMC,SAAS,GAAGL,KAAK,CAACI,IAAN,KAAe,SAAjC;EACA,MAAME,KAAK,GAAGR,QAAQ,EAAtB;EACA,MAAMS,iBAAiB,GAAGd,GAAI;AAChC,oBAAoBa,KAAK,CAACE,OAAN,CAAcC,EAAG;AACrC;AACA;AACA;AACA,GALE;EAMA,MAAMC,qBAAqB,GAAGjB,GAAI;AACpC;AACA;AACA,aAAaa,KAAK,CAACE,OAAN,CAAcG,EAAG;AAC9B,aAAaL,KAAK,CAACM,MAAN,CAAaC,QAAS;AACnC,GALE;EAOA,OAAOR,SAAS,8BACd;IAAI,SAAS,EAAC;EAAd,EADc,iBAGd;IAAI,SAAS,EAAEF,SAAS,GAAI,oBAAmBW,2BAA2B,CAACb,GAAD,CAAM,EAAxD,GAA4Dc,SAApF;IAA+F,GAAG,EAAEb,MAApG;IAAA,wBACE;MAAG,OAAO,EAAEF,KAAK,CAACgB,OAAlB;MAA2B,IAAI,EAAEhB,KAAK,CAACiB,IAAvC;MAAA,WACGjB,KAAK,CAACkB,aAAN,iBAAuB,KAAC,IAAD;QAAM,IAAI,EAAElB,KAAK,CAACkB,aAAlB;QAA6C,SAAS,EAAEX;MAAxD,EAD1B,eAEE;QAAM,SAAS,EAAC,oBAAhB;QAAqC,cAAYX,SAAS,CAACuB,UAAV,CAAqBC,MAArB,CAA4BC,KAA5B,CAAkCC,WAAlC,CAA8CtB,KAAK,CAACuB,IAApD,CAAjD;QAAA,WACGvB,KAAK,CAACuB,IADT,EAEGpB,SAAS,iBAAI,KAAC,IAAD;UAAM,IAAI,EAAC,aAAX;UAAyB,SAAS,EAAEO;QAApC,EAFhB;MAAA,EAFF,EAMGV,KAAK,CAACwB,QAAN,iBACC;QAAM,SAAS,EAAC,6BAAhB;QAAA,wBACE,KAAC,IAAD;UAAM,IAAI,EAAC,UAAX;UAAsB,SAAS,EAAEjB;QAAjC,EADF,OAC0DP,KAAK,CAACwB,QADhE;MAAA,EAPJ;IAAA,EADF,EAaGxB,KAAK,CAACyB,QAbT;EAAA,EAHF;AAmBD,CArCM;;AAuCP,SAASX,2BAAT,CAAqCY,OAArC,EAAkE;EAChE,IAAI,CAACA,OAAL,EAAc;IACZ,OAAO,WAAP;EACD;;EAED,MAAMC,UAAU,GAAGD,OAAO,CAACE,aAAR,CAAuBC,qBAAvB,EAAnB;EACA,MAAMC,GAAG,GAAGJ,OAAO,CAACG,qBAAR,EAAZ;;EAEA,IAAIC,GAAG,CAACC,KAAJ,KAAc,CAAlB,EAAqB;IACnB,OAAO,WAAP;EACD;;EAED,IAAIJ,UAAU,CAACK,KAAX,GAAmBF,GAAG,CAACC,KAAvB,GAA+B,EAA/B,GAAoCE,MAAM,CAACC,UAA/C,EAA2D;IACzD,OAAO,WAAP;EACD,CAFD,MAEO;IACL,OAAO,YAAP;EACD;AACF"},"metadata":{},"sourceType":"module"}