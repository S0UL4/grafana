{"ast":null,"code":"var _div, _div2, _LinkButton, _PluginsErrorsInfo;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { css, cx } from '@emotion/css';\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Card, LinkButton, List, PluginSignatureBadge, FilterInput, useStyles2 } from '@grafana/ui';\nimport Page from 'app/core/components/Page/Page';\nimport { PluginsErrorsInfo } from '../plugins/components/PluginsErrorsInfo';\nimport { addDataSource, loadDataSourcePlugins } from './state/actions';\nimport { setDataSourceTypeSearchQuery } from './state/reducers';\nimport { getDataSourcePlugins } from './state/selectors';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nfunction mapStateToProps(state) {\n  return {\n    navModel: getNavModel(),\n    plugins: getDataSourcePlugins(state.dataSources),\n    searchQuery: state.dataSources.dataSourceTypeSearchQuery,\n    categories: state.dataSources.categories,\n    isLoading: state.dataSources.isLoadingDataSources\n  };\n}\n\nconst mapDispatchToProps = {\n  addDataSource,\n  loadDataSourcePlugins,\n  setDataSourceTypeSearchQuery\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\nclass NewDataSourcePage extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onDataSourceTypeClicked\", plugin => {\n      this.props.addDataSource(plugin);\n    });\n\n    _defineProperty(this, \"onSearchQueryChange\", value => {\n      this.props.setDataSourceTypeSearchQuery(value);\n    });\n\n    _defineProperty(this, \"onLearnMoreClick\", evt => {\n      evt.stopPropagation();\n    });\n  }\n\n  componentDidMount() {\n    this.props.loadDataSourcePlugins();\n  }\n\n  renderPlugins(plugins, id) {\n    if (!plugins || !plugins.length) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsx(List, {\n      items: plugins,\n      className: css`\n          > li {\n            margin-bottom: 2px;\n          }\n        `,\n      getItemKey: item => item.id.toString(),\n      renderItem: item => /*#__PURE__*/_jsx(DataSourceTypeCard, {\n        plugin: item,\n        onClick: () => this.onDataSourceTypeClicked(item),\n        onLearnMoreClick: this.onLearnMoreClick\n      }),\n      \"aria-labelledby\": id\n    });\n  }\n\n  renderCategories() {\n    const {\n      categories\n    } = this.props;\n    return /*#__PURE__*/_jsxs(_Fragment, {\n      children: [categories.map(category => /*#__PURE__*/_jsxs(\"div\", {\n        className: \"add-data-source-category\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"add-data-source-category__header\",\n          id: category.id,\n          children: category.title\n        }), this.renderPlugins(category.plugins, category.id)]\n      }, category.id)), _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n        className: \"add-data-source-more\",\n        children: /*#__PURE__*/_jsx(LinkButton, {\n          variant: \"secondary\",\n          href: \"https://grafana.com/plugins?type=datasource&utm_source=grafana_add_ds\",\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: \"Find more data source plugins on grafana.com\"\n        })\n      }))]\n    });\n  }\n\n  render() {\n    const {\n      navModel,\n      isLoading,\n      searchQuery,\n      plugins\n    } = this.props;\n    return /*#__PURE__*/_jsx(Page, {\n      navModel: navModel,\n      children: /*#__PURE__*/_jsxs(Page.Contents, {\n        isLoading: isLoading,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"page-action-bar\",\n          children: [/*#__PURE__*/_jsx(FilterInput, {\n            value: searchQuery,\n            onChange: this.onSearchQueryChange,\n            placeholder: \"Filter by name or type\"\n          }), _div2 || (_div2 = /*#__PURE__*/_jsx(\"div\", {\n            className: \"page-action-bar__spacer\"\n          })), _LinkButton || (_LinkButton = /*#__PURE__*/_jsx(LinkButton, {\n            href: \"datasources\",\n            fill: \"outline\",\n            variant: \"secondary\",\n            icon: \"arrow-left\",\n            children: \"Cancel\"\n          }))]\n        }), !searchQuery && (_PluginsErrorsInfo || (_PluginsErrorsInfo = /*#__PURE__*/_jsx(PluginsErrorsInfo, {}))), /*#__PURE__*/_jsxs(\"div\", {\n          children: [searchQuery && this.renderPlugins(plugins), !searchQuery && this.renderCategories()]\n        })]\n      })\n    });\n  }\n\n}\n\nconst DataSourceTypeCard = props => {\n  var _plugin$info, _plugin$info$links;\n\n  const {\n    plugin,\n    onLearnMoreClick\n  } = props;\n  const isPhantom = plugin.module === 'phantom';\n  const onClick = !isPhantom && !plugin.unlicensed ? props.onClick : () => {}; // find first plugin info link\n\n  const learnMoreLink = ((_plugin$info = plugin.info) === null || _plugin$info === void 0 ? void 0 : (_plugin$info$links = _plugin$info.links) === null || _plugin$info$links === void 0 ? void 0 : _plugin$info$links.length) > 0 ? plugin.info.links[0] : null;\n  const styles = useStyles2(getStyles);\n  return /*#__PURE__*/_jsxs(Card, {\n    className: cx(styles.card, 'card-parent'),\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsx(Card.Heading, {\n      className: styles.heading,\n      \"aria-label\": selectors.pages.AddDataSource.dataSourcePluginsV2(plugin.name),\n      children: plugin.name\n    }), /*#__PURE__*/_jsx(Card.Figure, {\n      align: \"center\",\n      className: styles.figure,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        className: styles.logo,\n        src: plugin.info.logos.small,\n        alt: \"\"\n      })\n    }), /*#__PURE__*/_jsx(Card.Description, {\n      className: styles.description,\n      children: plugin.info.description\n    }), !isPhantom && /*#__PURE__*/_jsx(Card.Meta, {\n      className: styles.meta,\n      children: /*#__PURE__*/_jsx(PluginSignatureBadge, {\n        status: plugin.signature\n      })\n    }), /*#__PURE__*/_jsx(Card.Actions, {\n      className: styles.actions,\n      children: learnMoreLink && /*#__PURE__*/_jsx(LinkButton, {\n        variant: \"secondary\",\n        href: `${learnMoreLink.url}?utm_source=grafana_add_ds`,\n        target: \"_blank\",\n        rel: \"noopener\",\n        onClick: onLearnMoreClick,\n        icon: \"external-link-alt\",\n        \"aria-label\": `${plugin.name}, learn more.`,\n        children: learnMoreLink.name\n      })\n    })]\n  });\n};\n\nfunction getStyles(theme) {\n  return {\n    heading: css({\n      fontSize: theme.v1.typography.heading.h5,\n      fontWeight: 'inherit'\n    }),\n    figure: css({\n      width: 'inherit',\n      marginRight: '0px',\n      '> img': {\n        width: theme.spacing(7)\n      }\n    }),\n    meta: css({\n      marginTop: '6px',\n      position: 'relative'\n    }),\n    description: css({\n      margin: '0px',\n      fontSize: theme.typography.size.sm\n    }),\n    actions: css({\n      position: 'relative',\n      alignSelf: 'center',\n      marginTop: '0px',\n      opacity: 0,\n      '.card-parent:hover &, .card-parent:focus-within &': {\n        opacity: 1\n      }\n    }),\n    card: css({\n      gridTemplateAreas: `\n      \"Figure   Heading   Actions\"\n      \"Figure Description Actions\"\n      \"Figure    Meta     Actions\"\n      \"Figure     -       Actions\"`\n    }),\n    logo: css({\n      marginRight: theme.v1.spacing.lg,\n      marginLeft: theme.v1.spacing.sm,\n      width: theme.spacing(7),\n      maxHeight: theme.spacing(7)\n    })\n  };\n}\n\nexport function getNavModel() {\n  const main = {\n    icon: 'database',\n    id: 'datasource-new',\n    text: 'Add data source',\n    href: 'datasources/new',\n    subTitle: 'Choose a data source type'\n  };\n  return {\n    main: main,\n    node: main\n  };\n}\nexport default connector(NewDataSourcePage);","map":{"version":3,"names":["css","cx","React","PureComponent","connect","selectors","Card","LinkButton","List","PluginSignatureBadge","FilterInput","useStyles2","Page","PluginsErrorsInfo","addDataSource","loadDataSourcePlugins","setDataSourceTypeSearchQuery","getDataSourcePlugins","mapStateToProps","state","navModel","getNavModel","plugins","dataSources","searchQuery","dataSourceTypeSearchQuery","categories","isLoading","isLoadingDataSources","mapDispatchToProps","connector","NewDataSourcePage","plugin","props","value","evt","stopPropagation","componentDidMount","renderPlugins","id","length","item","toString","onDataSourceTypeClicked","onLearnMoreClick","renderCategories","map","category","title","render","onSearchQueryChange","DataSourceTypeCard","isPhantom","module","onClick","unlicensed","learnMoreLink","info","links","styles","getStyles","card","heading","pages","AddDataSource","dataSourcePluginsV2","name","figure","logo","logos","small","description","meta","signature","actions","url","theme","fontSize","v1","typography","h5","fontWeight","width","marginRight","spacing","marginTop","position","margin","size","sm","alignSelf","opacity","gridTemplateAreas","lg","marginLeft","maxHeight","main","icon","text","href","subTitle","node"],"sources":["/home/soula/grafana/public/app/features/datasources/NewDataSourcePage.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { FC, PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { DataSourcePluginMeta, GrafanaTheme2, NavModel } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Card, LinkButton, List, PluginSignatureBadge, FilterInput, useStyles2 } from '@grafana/ui';\nimport Page from 'app/core/components/Page/Page';\nimport { StoreState } from 'app/types';\n\nimport { PluginsErrorsInfo } from '../plugins/components/PluginsErrorsInfo';\n\nimport { addDataSource, loadDataSourcePlugins } from './state/actions';\nimport { setDataSourceTypeSearchQuery } from './state/reducers';\nimport { getDataSourcePlugins } from './state/selectors';\n\nfunction mapStateToProps(state: StoreState) {\n  return {\n    navModel: getNavModel(),\n    plugins: getDataSourcePlugins(state.dataSources),\n    searchQuery: state.dataSources.dataSourceTypeSearchQuery,\n    categories: state.dataSources.categories,\n    isLoading: state.dataSources.isLoadingDataSources,\n  };\n}\n\nconst mapDispatchToProps = {\n  addDataSource,\n  loadDataSourcePlugins,\n  setDataSourceTypeSearchQuery,\n};\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype Props = ConnectedProps<typeof connector>;\n\nclass NewDataSourcePage extends PureComponent<Props> {\n  componentDidMount() {\n    this.props.loadDataSourcePlugins();\n  }\n\n  onDataSourceTypeClicked = (plugin: DataSourcePluginMeta) => {\n    this.props.addDataSource(plugin);\n  };\n\n  onSearchQueryChange = (value: string) => {\n    this.props.setDataSourceTypeSearchQuery(value);\n  };\n\n  renderPlugins(plugins: DataSourcePluginMeta[], id?: string) {\n    if (!plugins || !plugins.length) {\n      return null;\n    }\n\n    return (\n      <List\n        items={plugins}\n        className={css`\n          > li {\n            margin-bottom: 2px;\n          }\n        `}\n        getItemKey={(item) => item.id.toString()}\n        renderItem={(item) => (\n          <DataSourceTypeCard\n            plugin={item}\n            onClick={() => this.onDataSourceTypeClicked(item)}\n            onLearnMoreClick={this.onLearnMoreClick}\n          />\n        )}\n        aria-labelledby={id}\n      />\n    );\n  }\n\n  onLearnMoreClick = (evt: React.SyntheticEvent<HTMLElement>) => {\n    evt.stopPropagation();\n  };\n\n  renderCategories() {\n    const { categories } = this.props;\n\n    return (\n      <>\n        {categories.map((category) => (\n          <div className=\"add-data-source-category\" key={category.id}>\n            <div className=\"add-data-source-category__header\" id={category.id}>\n              {category.title}\n            </div>\n            {this.renderPlugins(category.plugins, category.id)}\n          </div>\n        ))}\n        <div className=\"add-data-source-more\">\n          <LinkButton\n            variant=\"secondary\"\n            href=\"https://grafana.com/plugins?type=datasource&utm_source=grafana_add_ds\"\n            target=\"_blank\"\n            rel=\"noopener\"\n          >\n            Find more data source plugins on grafana.com\n          </LinkButton>\n        </div>\n      </>\n    );\n  }\n\n  render() {\n    const { navModel, isLoading, searchQuery, plugins } = this.props;\n\n    return (\n      <Page navModel={navModel}>\n        <Page.Contents isLoading={isLoading}>\n          <div className=\"page-action-bar\">\n            <FilterInput value={searchQuery} onChange={this.onSearchQueryChange} placeholder=\"Filter by name or type\" />\n            <div className=\"page-action-bar__spacer\" />\n            <LinkButton href=\"datasources\" fill=\"outline\" variant=\"secondary\" icon=\"arrow-left\">\n              Cancel\n            </LinkButton>\n          </div>\n          {!searchQuery && <PluginsErrorsInfo />}\n          <div>\n            {searchQuery && this.renderPlugins(plugins)}\n            {!searchQuery && this.renderCategories()}\n          </div>\n        </Page.Contents>\n      </Page>\n    );\n  }\n}\n\ninterface DataSourceTypeCardProps {\n  plugin: DataSourcePluginMeta;\n  onClick: () => void;\n  onLearnMoreClick: (evt: React.SyntheticEvent<HTMLElement>) => void;\n}\n\nconst DataSourceTypeCard: FC<DataSourceTypeCardProps> = (props) => {\n  const { plugin, onLearnMoreClick } = props;\n  const isPhantom = plugin.module === 'phantom';\n  const onClick = !isPhantom && !plugin.unlicensed ? props.onClick : () => {};\n  // find first plugin info link\n  const learnMoreLink = plugin.info?.links?.length > 0 ? plugin.info.links[0] : null;\n\n  const styles = useStyles2(getStyles);\n\n  return (\n    <Card className={cx(styles.card, 'card-parent')} onClick={onClick}>\n      <Card.Heading\n        className={styles.heading}\n        aria-label={selectors.pages.AddDataSource.dataSourcePluginsV2(plugin.name)}\n      >\n        {plugin.name}\n      </Card.Heading>\n      <Card.Figure align=\"center\" className={styles.figure}>\n        <img className={styles.logo} src={plugin.info.logos.small} alt=\"\" />\n      </Card.Figure>\n      <Card.Description className={styles.description}>{plugin.info.description}</Card.Description>\n      {!isPhantom && (\n        <Card.Meta className={styles.meta}>\n          <PluginSignatureBadge status={plugin.signature} />\n        </Card.Meta>\n      )}\n      <Card.Actions className={styles.actions}>\n        {learnMoreLink && (\n          <LinkButton\n            variant=\"secondary\"\n            href={`${learnMoreLink.url}?utm_source=grafana_add_ds`}\n            target=\"_blank\"\n            rel=\"noopener\"\n            onClick={onLearnMoreClick}\n            icon=\"external-link-alt\"\n            aria-label={`${plugin.name}, learn more.`}\n          >\n            {learnMoreLink.name}\n          </LinkButton>\n        )}\n      </Card.Actions>\n    </Card>\n  );\n};\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    heading: css({\n      fontSize: theme.v1.typography.heading.h5,\n      fontWeight: 'inherit',\n    }),\n    figure: css({\n      width: 'inherit',\n      marginRight: '0px',\n      '> img': {\n        width: theme.spacing(7),\n      },\n    }),\n    meta: css({\n      marginTop: '6px',\n      position: 'relative',\n    }),\n    description: css({\n      margin: '0px',\n      fontSize: theme.typography.size.sm,\n    }),\n    actions: css({\n      position: 'relative',\n      alignSelf: 'center',\n      marginTop: '0px',\n      opacity: 0,\n\n      '.card-parent:hover &, .card-parent:focus-within &': {\n        opacity: 1,\n      },\n    }),\n    card: css({\n      gridTemplateAreas: `\n      \"Figure   Heading   Actions\"\n      \"Figure Description Actions\"\n      \"Figure    Meta     Actions\"\n      \"Figure     -       Actions\"`,\n    }),\n    logo: css({\n      marginRight: theme.v1.spacing.lg,\n      marginLeft: theme.v1.spacing.sm,\n      width: theme.spacing(7),\n      maxHeight: theme.spacing(7),\n    }),\n  };\n}\n\nexport function getNavModel(): NavModel {\n  const main = {\n    icon: 'database',\n    id: 'datasource-new',\n    text: 'Add data source',\n    href: 'datasources/new',\n    subTitle: 'Choose a data source type',\n  };\n\n  return {\n    main: main,\n    node: main,\n  };\n}\n\nexport default connector(NewDataSourcePage);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}