{"ast":null,"code":"import { css } from '@emotion/css';\nimport React, { useCallback, useState } from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles } from '@grafana/ui';\nimport { VariableTextAreaField } from './VariableTextAreaField';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const LEGACY_VARIABLE_QUERY_EDITOR_NAME = 'Grafana-LegacyVariableQueryEditor';\nexport const LegacyVariableQueryEditor = ({\n  onChange,\n  query\n}) => {\n  const styles = useStyles(getStyles);\n  const [value, setValue] = useState(query);\n\n  const onValueChange = event => {\n    setValue(event.currentTarget.value);\n  };\n\n  const onBlur = useCallback(event => {\n    onChange(event.currentTarget.value, event.currentTarget.value);\n  }, [onChange]);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsx(VariableTextAreaField, {\n      name: \"Query\",\n      value: value,\n      placeholder: \"metric name or tags query\",\n      width: 100,\n      onChange: onValueChange,\n      onBlur: onBlur,\n      required: true,\n      labelWidth: 20,\n      ariaLabel: selectors.pages.Dashboard.Settings.Variables.Edit.QueryVariable.queryOptionsQueryInput\n    })\n  });\n};\n\nfunction getStyles(theme) {\n  return {\n    container: css`\n      margin-bottom: ${theme.spacing.xs};\n    `\n  };\n}\n\nLegacyVariableQueryEditor.displayName = LEGACY_VARIABLE_QUERY_EDITOR_NAME;","map":{"version":3,"names":["css","React","useCallback","useState","selectors","useStyles","VariableTextAreaField","LEGACY_VARIABLE_QUERY_EDITOR_NAME","LegacyVariableQueryEditor","onChange","query","styles","getStyles","value","setValue","onValueChange","event","currentTarget","onBlur","container","pages","Dashboard","Settings","Variables","Edit","QueryVariable","queryOptionsQueryInput","theme","spacing","xs","displayName"],"sources":["/home/soula/grafana/public/app/features/variables/editor/LegacyVariableQueryEditor.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { FC, useCallback, useState } from 'react';\n\nimport { GrafanaTheme } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles } from '@grafana/ui';\n\nimport { VariableQueryEditorProps } from '../types';\n\nimport { VariableTextAreaField } from './VariableTextAreaField';\n\nexport const LEGACY_VARIABLE_QUERY_EDITOR_NAME = 'Grafana-LegacyVariableQueryEditor';\n\nexport const LegacyVariableQueryEditor: FC<VariableQueryEditorProps> = ({ onChange, query }) => {\n  const styles = useStyles(getStyles);\n  const [value, setValue] = useState(query);\n  const onValueChange = (event: React.FormEvent<HTMLTextAreaElement>) => {\n    setValue(event.currentTarget.value);\n  };\n\n  const onBlur = useCallback(\n    (event: React.FormEvent<HTMLTextAreaElement>) => {\n      onChange(event.currentTarget.value, event.currentTarget.value);\n    },\n    [onChange]\n  );\n\n  return (\n    <div className={styles.container}>\n      <VariableTextAreaField\n        name=\"Query\"\n        value={value}\n        placeholder=\"metric name or tags query\"\n        width={100}\n        onChange={onValueChange}\n        onBlur={onBlur}\n        required\n        labelWidth={20}\n        ariaLabel={selectors.pages.Dashboard.Settings.Variables.Edit.QueryVariable.queryOptionsQueryInput}\n      />\n    </div>\n  );\n};\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    container: css`\n      margin-bottom: ${theme.spacing.xs};\n    `,\n  };\n}\n\nLegacyVariableQueryEditor.displayName = LEGACY_VARIABLE_QUERY_EDITOR_NAME;\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAAoBC,WAApB,EAAiCC,QAAjC,QAAiD,OAAjD;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAIA,SAASC,qBAAT,QAAsC,yBAAtC;;AAEA,OAAO,MAAMC,iCAAiC,GAAG,mCAA1C;AAEP,OAAO,MAAMC,yBAAuD,GAAG,CAAC;EAAEC,QAAF;EAAYC;AAAZ,CAAD,KAAyB;EAC9F,MAAMC,MAAM,GAAGN,SAAS,CAACO,SAAD,CAAxB;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAACO,KAAD,CAAlC;;EACA,MAAMK,aAAa,GAAIC,KAAD,IAAiD;IACrEF,QAAQ,CAACE,KAAK,CAACC,aAAN,CAAoBJ,KAArB,CAAR;EACD,CAFD;;EAIA,MAAMK,MAAM,GAAGhB,WAAW,CACvBc,KAAD,IAAiD;IAC/CP,QAAQ,CAACO,KAAK,CAACC,aAAN,CAAoBJ,KAArB,EAA4BG,KAAK,CAACC,aAAN,CAAoBJ,KAAhD,CAAR;EACD,CAHuB,EAIxB,CAACJ,QAAD,CAJwB,CAA1B;EAOA,oBACE;IAAK,SAAS,EAAEE,MAAM,CAACQ,SAAvB;IAAA,uBACE,KAAC,qBAAD;MACE,IAAI,EAAC,OADP;MAEE,KAAK,EAAEN,KAFT;MAGE,WAAW,EAAC,2BAHd;MAIE,KAAK,EAAE,GAJT;MAKE,QAAQ,EAAEE,aALZ;MAME,MAAM,EAAEG,MANV;MAOE,QAAQ,MAPV;MAQE,UAAU,EAAE,EARd;MASE,SAAS,EAAEd,SAAS,CAACgB,KAAV,CAAgBC,SAAhB,CAA0BC,QAA1B,CAAmCC,SAAnC,CAA6CC,IAA7C,CAAkDC,aAAlD,CAAgEC;IAT7E;EADF,EADF;AAeD,CA7BM;;AA+BP,SAASd,SAAT,CAAmBe,KAAnB,EAAwC;EACtC,OAAO;IACLR,SAAS,EAAEnB,GAAI;AACnB,uBAAuB2B,KAAK,CAACC,OAAN,CAAcC,EAAG;AACxC;EAHS,CAAP;AAKD;;AAEDrB,yBAAyB,CAACsB,WAA1B,GAAwCvB,iCAAxC"},"metadata":{},"sourceType":"module"}