{"ast":null,"code":"// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * given a number and a desired precision for the floating\n * side, return the number at the new precision.\n *\n * toFloatPrecision(3.55, 1) // 3.5\n * toFloatPrecision(0.04422, 2) // 0.04\n * toFloatPrecision(6.24e6, 2) // 6240000.00\n *\n * does not support numbers that use \"e\" notation on toString.\n *\n * @param {number} number\n * @param {number} precision\n * @returns {number} number at new floating precision\n */\nexport function toFloatPrecision(number, precision) {\n  const log10Length = Math.floor(Math.log10(Math.abs(number))) + 1;\n  const targetPrecision = precision + log10Length;\n\n  if (targetPrecision <= 0) {\n    return Math.trunc(number);\n  }\n\n  return Number(number.toPrecision(targetPrecision));\n}","map":{"version":3,"names":["toFloatPrecision","number","precision","log10Length","Math","floor","log10","abs","targetPrecision","trunc","Number","toPrecision"],"sources":["/home/soula/grafana/packages/jaeger-ui-components/src/utils/number.tsx"],"sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * given a number and a desired precision for the floating\n * side, return the number at the new precision.\n *\n * toFloatPrecision(3.55, 1) // 3.5\n * toFloatPrecision(0.04422, 2) // 0.04\n * toFloatPrecision(6.24e6, 2) // 6240000.00\n *\n * does not support numbers that use \"e\" notation on toString.\n *\n * @param {number} number\n * @param {number} precision\n * @returns {number} number at new floating precision\n */\nexport function toFloatPrecision(number: number, precision: number): number {\n  const log10Length = Math.floor(Math.log10(Math.abs(number))) + 1;\n  const targetPrecision = precision + log10Length;\n\n  if (targetPrecision <= 0) {\n    return Math.trunc(number);\n  }\n\n  return Number(number.toPrecision(targetPrecision));\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASA,gBAAT,CAA0BC,MAA1B,EAA0CC,SAA1C,EAAqE;EAC1E,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,KAAL,CAAWF,IAAI,CAACG,GAAL,CAASN,MAAT,CAAX,CAAX,IAA2C,CAA/D;EACA,MAAMO,eAAe,GAAGN,SAAS,GAAGC,WAApC;;EAEA,IAAIK,eAAe,IAAI,CAAvB,EAA0B;IACxB,OAAOJ,IAAI,CAACK,KAAL,CAAWR,MAAX,CAAP;EACD;;EAED,OAAOS,MAAM,CAACT,MAAM,CAACU,WAAP,CAAmBH,eAAnB,CAAD,CAAb;AACD"},"metadata":{},"sourceType":"module"}