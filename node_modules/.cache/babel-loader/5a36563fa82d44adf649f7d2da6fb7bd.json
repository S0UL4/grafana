{"ast":null,"code":"import { css } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { useStyles } from '@grafana/ui';\nimport Page from 'app/core/components/Page/Page';\nimport { useNavModel } from 'app/core/hooks/useNavModel';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CloudAdminPage() {\n  const navModel = useNavModel('live-cloud');\n  const [cloud, setCloud] = useState([]);\n  const [error, setError] = useState();\n  const styles = useStyles(getStyles);\n  useEffect(() => {\n    getBackendSrv().get(`api/live/write-configs`).then(data => {\n      setCloud(data.writeConfigs);\n    }).catch(e => {\n      if (e.data) {\n        setError(JSON.stringify(e.data, null, 2));\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(Page, {\n    navModel: navModel,\n    children: /*#__PURE__*/_jsxs(Page.Contents, {\n      children: [error && /*#__PURE__*/_jsx(\"pre\", {\n        children: error\n      }), !cloud && /*#__PURE__*/_jsx(_Fragment, {\n        children: \"Loading cloud definitions\"\n      }), cloud && cloud.map(v => {\n        return /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"h2\", {\n            children: v.uid\n          }), /*#__PURE__*/_jsx(\"pre\", {\n            className: styles.row,\n            children: JSON.stringify(v.settings, null, 2)\n          })]\n        }, v.uid);\n      })]\n    })\n  });\n}\n\nconst getStyles = theme => {\n  return {\n    row: css`\n      cursor: pointer;\n    `\n  };\n};","map":{"version":3,"names":["css","React","useEffect","useState","getBackendSrv","useStyles","Page","useNavModel","CloudAdminPage","navModel","cloud","setCloud","error","setError","styles","getStyles","get","then","data","writeConfigs","catch","e","JSON","stringify","map","v","uid","row","settings","theme"],"sources":["/home/soula/grafana/public/app/features/live/pages/CloudAdminPage.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\n\nimport { GrafanaTheme } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { useStyles } from '@grafana/ui';\nimport Page from 'app/core/components/Page/Page';\nimport { useNavModel } from 'app/core/hooks/useNavModel';\n\nimport { GrafanaCloudBackend } from './types';\n\nexport default function CloudAdminPage() {\n  const navModel = useNavModel('live-cloud');\n  const [cloud, setCloud] = useState<GrafanaCloudBackend[]>([]);\n  const [error, setError] = useState<string>();\n  const styles = useStyles(getStyles);\n\n  useEffect(() => {\n    getBackendSrv()\n      .get(`api/live/write-configs`)\n      .then((data) => {\n        setCloud(data.writeConfigs);\n      })\n      .catch((e) => {\n        if (e.data) {\n          setError(JSON.stringify(e.data, null, 2));\n        }\n      });\n  }, []);\n\n  return (\n    <Page navModel={navModel}>\n      <Page.Contents>\n        {error && <pre>{error}</pre>}\n        {!cloud && <>Loading cloud definitions</>}\n        {cloud &&\n          cloud.map((v) => {\n            return (\n              <div key={v.uid}>\n                <h2>{v.uid}</h2>\n                <pre className={styles.row}>{JSON.stringify(v.settings, null, 2)}</pre>\n              </div>\n            );\n          })}\n      </Page.Contents>\n    </Page>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme) => {\n  return {\n    row: css`\n      cursor: pointer;\n    `,\n  };\n};\n"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAGA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,SAASC,WAAT,QAA4B,4BAA5B;;;;AAIA,eAAe,SAASC,cAAT,GAA0B;EACvC,MAAMC,QAAQ,GAAGF,WAAW,CAAC,YAAD,CAA5B;EACA,MAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAwB,EAAxB,CAAlC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,EAAlC;EACA,MAAMW,MAAM,GAAGT,SAAS,CAACU,SAAD,CAAxB;EAEAb,SAAS,CAAC,MAAM;IACdE,aAAa,GACVY,GADH,CACQ,wBADR,EAEGC,IAFH,CAESC,IAAD,IAAU;MACdP,QAAQ,CAACO,IAAI,CAACC,YAAN,CAAR;IACD,CAJH,EAKGC,KALH,CAKUC,CAAD,IAAO;MACZ,IAAIA,CAAC,CAACH,IAAN,EAAY;QACVL,QAAQ,CAACS,IAAI,CAACC,SAAL,CAAeF,CAAC,CAACH,IAAjB,EAAuB,IAAvB,EAA6B,CAA7B,CAAD,CAAR;MACD;IACF,CATH;EAUD,CAXQ,EAWN,EAXM,CAAT;EAaA,oBACE,KAAC,IAAD;IAAM,QAAQ,EAAET,QAAhB;IAAA,uBACE,MAAC,IAAD,CAAM,QAAN;MAAA,WACGG,KAAK,iBAAI;QAAA,UAAMA;MAAN,EADZ,EAEG,CAACF,KAAD,iBAAU;QAAA;MAAA,EAFb,EAGGA,KAAK,IACJA,KAAK,CAACc,GAAN,CAAWC,CAAD,IAAO;QACf,oBACE;UAAA,wBACE;YAAA,UAAKA,CAAC,CAACC;UAAP,EADF,eAEE;YAAK,SAAS,EAAEZ,MAAM,CAACa,GAAvB;YAAA,UAA6BL,IAAI,CAACC,SAAL,CAAeE,CAAC,CAACG,QAAjB,EAA2B,IAA3B,EAAiC,CAAjC;UAA7B,EAFF;QAAA,GAAUH,CAAC,CAACC,GAAZ,CADF;MAMD,CAPD,CAJJ;IAAA;EADF,EADF;AAiBD;;AAED,MAAMX,SAAS,GAAIc,KAAD,IAAyB;EACzC,OAAO;IACLF,GAAG,EAAE3B,GAAI;AACb;AACA;EAHS,CAAP;AAKD,CAND"},"metadata":{},"sourceType":"module"}