{"ast":null,"code":"var _h;\n\nimport { css } from '@emotion/css';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Button, InlineFieldRow, InlineLabel, useStyles, VerticalGroup } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const VariableValuesPreview = ({\n  variable: {\n    options\n  }\n}) => {\n  const [previewLimit, setPreviewLimit] = useState(20);\n  const [previewOptions, setPreviewOptions] = useState([]);\n  const showMoreOptions = useCallback(event => {\n    event.preventDefault();\n    setPreviewLimit(previewLimit + 20);\n  }, [previewLimit, setPreviewLimit]);\n  const styles = useStyles(getStyles);\n  useEffect(() => setPreviewOptions(options.slice(0, previewLimit)), [previewLimit, options]);\n\n  if (!previewOptions.length) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(VerticalGroup, {\n    spacing: \"none\",\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h5\", {\n      children: \"Preview of values\"\n    })), /*#__PURE__*/_jsx(InlineFieldRow, {\n      children: previewOptions.map((o, index) => /*#__PURE__*/_jsx(InlineFieldRow, {\n        className: styles.optionContainer,\n        children: /*#__PURE__*/_jsx(InlineLabel, {\n          \"aria-label\": selectors.pages.Dashboard.Settings.Variables.Edit.General.previewOfValuesOption,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: styles.label,\n            children: o.text\n          })\n        })\n      }, `${o.value}-${index}`))\n    }), options.length > previewLimit && /*#__PURE__*/_jsx(InlineFieldRow, {\n      className: styles.optionContainer,\n      children: /*#__PURE__*/_jsx(Button, {\n        onClick: showMoreOptions,\n        variant: \"secondary\",\n        size: \"sm\",\n        \"aria-label\": \"Variable editor Preview of Values Show More link\",\n        children: \"Show more\"\n      })\n    })]\n  });\n};\nVariableValuesPreview.displayName = 'VariableValuesPreview';\n\nfunction getStyles(theme) {\n  return {\n    optionContainer: css`\n      margin-left: ${theme.spacing.xs};\n      margin-bottom: ${theme.spacing.xs};\n    `,\n    label: css`\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 50vw;\n    `\n  };\n}","map":{"version":3,"names":["css","React","useCallback","useEffect","useState","selectors","Button","InlineFieldRow","InlineLabel","useStyles","VerticalGroup","VariableValuesPreview","variable","options","previewLimit","setPreviewLimit","previewOptions","setPreviewOptions","showMoreOptions","event","preventDefault","styles","getStyles","slice","length","map","o","index","optionContainer","pages","Dashboard","Settings","Variables","Edit","General","previewOfValuesOption","label","text","value","displayName","theme","spacing","xs"],"sources":["/home/soula/grafana/public/app/features/variables/editor/VariableValuesPreview.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { MouseEvent, useCallback, useEffect, useState } from 'react';\n\nimport { GrafanaTheme } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Button, InlineFieldRow, InlineLabel, useStyles, VerticalGroup } from '@grafana/ui';\n\nimport { VariableOption, VariableWithOptions } from '../types';\n\nexport interface VariableValuesPreviewProps {\n  variable: VariableWithOptions;\n}\n\nexport const VariableValuesPreview: React.FunctionComponent<VariableValuesPreviewProps> = ({\n  variable: { options },\n}) => {\n  const [previewLimit, setPreviewLimit] = useState(20);\n  const [previewOptions, setPreviewOptions] = useState<VariableOption[]>([]);\n  const showMoreOptions = useCallback(\n    (event: MouseEvent) => {\n      event.preventDefault();\n      setPreviewLimit(previewLimit + 20);\n    },\n    [previewLimit, setPreviewLimit]\n  );\n  const styles = useStyles(getStyles);\n  useEffect(() => setPreviewOptions(options.slice(0, previewLimit)), [previewLimit, options]);\n\n  if (!previewOptions.length) {\n    return null;\n  }\n\n  return (\n    <VerticalGroup spacing=\"none\">\n      <h5>Preview of values</h5>\n      <InlineFieldRow>\n        {previewOptions.map((o, index) => (\n          <InlineFieldRow key={`${o.value}-${index}`} className={styles.optionContainer}>\n            <InlineLabel aria-label={selectors.pages.Dashboard.Settings.Variables.Edit.General.previewOfValuesOption}>\n              <div className={styles.label}>{o.text}</div>\n            </InlineLabel>\n          </InlineFieldRow>\n        ))}\n      </InlineFieldRow>\n      {options.length > previewLimit && (\n        <InlineFieldRow className={styles.optionContainer}>\n          <Button\n            onClick={showMoreOptions}\n            variant=\"secondary\"\n            size=\"sm\"\n            aria-label=\"Variable editor Preview of Values Show More link\"\n          >\n            Show more\n          </Button>\n        </InlineFieldRow>\n      )}\n    </VerticalGroup>\n  );\n};\nVariableValuesPreview.displayName = 'VariableValuesPreview';\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    optionContainer: css`\n      margin-left: ${theme.spacing.xs};\n      margin-bottom: ${theme.spacing.xs};\n    `,\n    label: css`\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 50vw;\n    `,\n  };\n}\n"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,OAAOC,KAAP,IAA4BC,WAA5B,EAAyCC,SAAzC,EAAoDC,QAApD,QAAoE,OAApE;AAGA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,MAAT,EAAiBC,cAAjB,EAAiCC,WAAjC,EAA8CC,SAA9C,EAAyDC,aAAzD,QAA8E,aAA9E;;;AAQA,OAAO,MAAMC,qBAA0E,GAAG,CAAC;EACzFC,QAAQ,EAAE;IAAEC;EAAF;AAD+E,CAAD,KAEpF;EACJ,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,EAAD,CAAhD;EACA,MAAM,CAACY,cAAD,EAAiBC,iBAAjB,IAAsCb,QAAQ,CAAmB,EAAnB,CAApD;EACA,MAAMc,eAAe,GAAGhB,WAAW,CAChCiB,KAAD,IAAuB;IACrBA,KAAK,CAACC,cAAN;IACAL,eAAe,CAACD,YAAY,GAAG,EAAhB,CAAf;EACD,CAJgC,EAKjC,CAACA,YAAD,EAAeC,eAAf,CALiC,CAAnC;EAOA,MAAMM,MAAM,GAAGZ,SAAS,CAACa,SAAD,CAAxB;EACAnB,SAAS,CAAC,MAAMc,iBAAiB,CAACJ,OAAO,CAACU,KAAR,CAAc,CAAd,EAAiBT,YAAjB,CAAD,CAAxB,EAA0D,CAACA,YAAD,EAAeD,OAAf,CAA1D,CAAT;;EAEA,IAAI,CAACG,cAAc,CAACQ,MAApB,EAA4B;IAC1B,OAAO,IAAP;EACD;;EAED,oBACE,MAAC,aAAD;IAAe,OAAO,EAAC,MAAvB;IAAA,oCACE;MAAA;IAAA,EADF,gBAEE,KAAC,cAAD;MAAA,UACGR,cAAc,CAACS,GAAf,CAAmB,CAACC,CAAD,EAAIC,KAAJ,kBAClB,KAAC,cAAD;QAA4C,SAAS,EAAEN,MAAM,CAACO,eAA9D;QAAA,uBACE,KAAC,WAAD;UAAa,cAAYvB,SAAS,CAACwB,KAAV,CAAgBC,SAAhB,CAA0BC,QAA1B,CAAmCC,SAAnC,CAA6CC,IAA7C,CAAkDC,OAAlD,CAA0DC,qBAAnF;UAAA,uBACE;YAAK,SAAS,EAAEd,MAAM,CAACe,KAAvB;YAAA,UAA+BV,CAAC,CAACW;UAAjC;QADF;MADF,GAAsB,GAAEX,CAAC,CAACY,KAAM,IAAGX,KAAM,EAAzC,CADD;IADH,EAFF,EAWGd,OAAO,CAACW,MAAR,GAAiBV,YAAjB,iBACC,KAAC,cAAD;MAAgB,SAAS,EAAEO,MAAM,CAACO,eAAlC;MAAA,uBACE,KAAC,MAAD;QACE,OAAO,EAAEV,eADX;QAEE,OAAO,EAAC,WAFV;QAGE,IAAI,EAAC,IAHP;QAIE,cAAW,kDAJb;QAAA;MAAA;IADF,EAZJ;EAAA,EADF;AA0BD,CA7CM;AA8CPP,qBAAqB,CAAC4B,WAAtB,GAAoC,uBAApC;;AAEA,SAASjB,SAAT,CAAmBkB,KAAnB,EAAwC;EACtC,OAAO;IACLZ,eAAe,EAAE5B,GAAI;AACzB,qBAAqBwC,KAAK,CAACC,OAAN,CAAcC,EAAG;AACtC,uBAAuBF,KAAK,CAACC,OAAN,CAAcC,EAAG;AACxC,KAJS;IAKLN,KAAK,EAAEpC,GAAI;AACf;AACA;AACA;AACA;AACA;EAVS,CAAP;AAYD"},"metadata":{},"sourceType":"module"}