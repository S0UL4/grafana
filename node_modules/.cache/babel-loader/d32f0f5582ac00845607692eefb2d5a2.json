{"ast":null,"code":"const _excluded = [\"title\", \"onRemove\", \"children\", \"buttonContent\", \"elevated\", \"bottomSpacing\", \"topSpacing\", \"className\", \"severity\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { css, cx } from '@emotion/css';\nimport { useId } from '@react-aria/utils';\nimport React from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useTheme2 } from '../../themes';\nimport { Button } from '../Button/Button';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function getIconFromSeverity(severity) {\n  switch (severity) {\n    case 'error':\n    case 'warning':\n      return 'exclamation-triangle';\n\n    case 'info':\n      return 'info-circle';\n\n    case 'success':\n      return 'check';\n\n    default:\n      return '';\n  }\n}\nexport const Alert = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    title,\n    onRemove,\n    children,\n    buttonContent,\n    elevated,\n    bottomSpacing,\n    topSpacing,\n    className,\n    severity = 'error'\n  } = _ref,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const theme = useTheme2();\n  const styles = getStyles(theme, severity, elevated, bottomSpacing, topSpacing);\n  const titleId = useId();\n  return /*#__PURE__*/_jsxs(\"div\", Object.assign({\n    ref: ref,\n    className: cx(styles.alert, className),\n    \"data-testid\": selectors.components.Alert.alertV2(severity),\n    role: \"alert\",\n    \"aria-labelledby\": titleId\n  }, restProps, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.icon,\n      children: /*#__PURE__*/_jsx(Icon, {\n        size: \"xl\",\n        name: getIconFromSeverity(severity)\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.body,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        id: titleId,\n        className: styles.title,\n        children: title\n      }), children && /*#__PURE__*/_jsx(\"div\", {\n        className: styles.content,\n        children: children\n      })]\n    }), onRemove && !buttonContent && /*#__PURE__*/_jsx(\"div\", {\n      className: styles.close,\n      children: /*#__PURE__*/_jsx(IconButton, {\n        \"aria-label\": \"Close alert\",\n        name: \"times\",\n        onClick: onRemove,\n        size: \"lg\",\n        type: \"button\"\n      })\n    }), onRemove && buttonContent && /*#__PURE__*/_jsx(\"div\", {\n      className: styles.buttonWrapper,\n      children: /*#__PURE__*/_jsx(Button, {\n        \"aria-label\": \"Close alert\",\n        variant: \"secondary\",\n        onClick: onRemove,\n        type: \"button\",\n        children: buttonContent\n      })\n    })]\n  }));\n});\nAlert.displayName = 'Alert';\n\nconst getStyles = (theme, severity, elevated, bottomSpacing, topSpacing) => {\n  const color = theme.colors[severity];\n  const borderRadius = theme.shape.borderRadius();\n  return {\n    alert: css`\n      flex-grow: 1;\n      position: relative;\n      border-radius: ${borderRadius};\n      display: flex;\n      flex-direction: row;\n      align-items: stretch;\n      background: ${theme.colors.background.secondary};\n      box-shadow: ${elevated ? theme.shadows.z3 : theme.shadows.z1};\n      margin-bottom: ${theme.spacing(bottomSpacing !== null && bottomSpacing !== void 0 ? bottomSpacing : 2)};\n      margin-top: ${theme.spacing(topSpacing !== null && topSpacing !== void 0 ? topSpacing : 0)};\n\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background: ${theme.colors.background.primary};\n        z-index: -1;\n      }\n    `,\n    icon: css`\n      padding: ${theme.spacing(2, 3)};\n      background: ${color.main};\n      border-radius: ${borderRadius} 0 0 ${borderRadius};\n      color: ${color.contrastText};\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    `,\n    title: css`\n      font-weight: ${theme.typography.fontWeightMedium};\n      color: ${theme.colors.text.primary};\n    `,\n    body: css`\n      color: ${theme.colors.text.secondary};\n      padding: ${theme.spacing(2)};\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      overflow-wrap: break-word;\n      word-break: break-word;\n    `,\n    content: css`\n      color: ${theme.colors.text.secondary};\n      padding-top: ${theme.spacing(1)};\n      max-height: 50vh;\n      overflow-y: auto;\n    `,\n    buttonWrapper: css`\n      padding: ${theme.spacing(1)};\n      background: none;\n      display: flex;\n      align-items: center;\n    `,\n    close: css`\n      padding: ${theme.spacing(2, 1)};\n      background: none;\n      display: flex;\n    `\n  };\n};","map":{"version":3,"names":["css","cx","useId","React","selectors","useTheme2","Button","Icon","IconButton","getIconFromSeverity","severity","Alert","forwardRef","ref","title","onRemove","children","buttonContent","elevated","bottomSpacing","topSpacing","className","restProps","theme","styles","getStyles","titleId","alert","components","alertV2","icon","body","content","close","buttonWrapper","displayName","color","colors","borderRadius","shape","background","secondary","shadows","z3","z1","spacing","primary","main","contrastText","typography","fontWeightMedium","text"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/Alert/Alert.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { useId } from '@react-aria/utils';\nimport React, { HTMLAttributes, ReactNode } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useTheme2 } from '../../themes';\nimport { IconName } from '../../types/icon';\nimport { Button } from '../Button/Button';\nimport { Icon } from '../Icon/Icon';\nimport { IconButton } from '../IconButton/IconButton';\n\nexport type AlertVariant = 'success' | 'warning' | 'error' | 'info';\n\nexport interface Props extends HTMLAttributes<HTMLDivElement> {\n  title: string;\n  /** On click handler for alert button, mostly used for dismissing the alert */\n  onRemove?: (event: React.MouseEvent) => void;\n  severity?: AlertVariant;\n  children?: ReactNode;\n  elevated?: boolean;\n  buttonContent?: React.ReactNode | string;\n  bottomSpacing?: number;\n  topSpacing?: number;\n}\n\nexport function getIconFromSeverity(severity: AlertVariant): string {\n  switch (severity) {\n    case 'error':\n    case 'warning':\n      return 'exclamation-triangle';\n    case 'info':\n      return 'info-circle';\n    case 'success':\n      return 'check';\n    default:\n      return '';\n  }\n}\n\nexport const Alert = React.forwardRef<HTMLDivElement, Props>(\n  (\n    {\n      title,\n      onRemove,\n      children,\n      buttonContent,\n      elevated,\n      bottomSpacing,\n      topSpacing,\n      className,\n      severity = 'error',\n      ...restProps\n    },\n    ref\n  ) => {\n    const theme = useTheme2();\n    const styles = getStyles(theme, severity, elevated, bottomSpacing, topSpacing);\n    const titleId = useId();\n\n    return (\n      <div\n        ref={ref}\n        className={cx(styles.alert, className)}\n        data-testid={selectors.components.Alert.alertV2(severity)}\n        role=\"alert\"\n        aria-labelledby={titleId}\n        {...restProps}\n      >\n        <div className={styles.icon}>\n          <Icon size=\"xl\" name={getIconFromSeverity(severity) as IconName} />\n        </div>\n        <div className={styles.body}>\n          <div id={titleId} className={styles.title}>\n            {title}\n          </div>\n          {children && <div className={styles.content}>{children}</div>}\n        </div>\n        {/* If onRemove is specified, giving preference to onRemove */}\n        {onRemove && !buttonContent && (\n          <div className={styles.close}>\n            <IconButton aria-label=\"Close alert\" name=\"times\" onClick={onRemove} size=\"lg\" type=\"button\" />\n          </div>\n        )}\n        {onRemove && buttonContent && (\n          <div className={styles.buttonWrapper}>\n            <Button aria-label=\"Close alert\" variant=\"secondary\" onClick={onRemove} type=\"button\">\n              {buttonContent}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nAlert.displayName = 'Alert';\n\nconst getStyles = (\n  theme: GrafanaTheme2,\n  severity: AlertVariant,\n  elevated?: boolean,\n  bottomSpacing?: number,\n  topSpacing?: number\n) => {\n  const color = theme.colors[severity];\n  const borderRadius = theme.shape.borderRadius();\n\n  return {\n    alert: css`\n      flex-grow: 1;\n      position: relative;\n      border-radius: ${borderRadius};\n      display: flex;\n      flex-direction: row;\n      align-items: stretch;\n      background: ${theme.colors.background.secondary};\n      box-shadow: ${elevated ? theme.shadows.z3 : theme.shadows.z1};\n      margin-bottom: ${theme.spacing(bottomSpacing ?? 2)};\n      margin-top: ${theme.spacing(topSpacing ?? 0)};\n\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background: ${theme.colors.background.primary};\n        z-index: -1;\n      }\n    `,\n    icon: css`\n      padding: ${theme.spacing(2, 3)};\n      background: ${color.main};\n      border-radius: ${borderRadius} 0 0 ${borderRadius};\n      color: ${color.contrastText};\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    `,\n    title: css`\n      font-weight: ${theme.typography.fontWeightMedium};\n      color: ${theme.colors.text.primary};\n    `,\n    body: css`\n      color: ${theme.colors.text.secondary};\n      padding: ${theme.spacing(2)};\n      flex-grow: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      overflow-wrap: break-word;\n      word-break: break-word;\n    `,\n    content: css`\n      color: ${theme.colors.text.secondary};\n      padding-top: ${theme.spacing(1)};\n      max-height: 50vh;\n      overflow-y: auto;\n    `,\n    buttonWrapper: css`\n      padding: ${theme.spacing(1)};\n      background: none;\n      display: flex;\n      align-items: center;\n    `,\n    close: css`\n      padding: ${theme.spacing(2, 1)};\n      background: none;\n      display: flex;\n    `,\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}