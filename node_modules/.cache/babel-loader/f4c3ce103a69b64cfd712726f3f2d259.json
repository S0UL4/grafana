{"ast":null,"code":"var _VariableSectionHeade;\n\nimport React, { useCallback } from 'react';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { InlineFieldRow, VerticalGroup } from '@grafana/ui';\nimport { toKeyedVariableIdentifier } from '../utils';\nimport { VariableSectionHeader } from './VariableSectionHeader';\nimport { VariableSwitchField } from './VariableSwitchField';\nimport { VariableTextField } from './VariableTextField';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const SelectionOptionsEditor = ({\n  onMultiChanged: onMultiChangedProps,\n  onPropChange,\n  variable\n}) => {\n  var _variable$allValue;\n\n  const onMultiChanged = useCallback(event => {\n    onMultiChangedProps(toKeyedVariableIdentifier(variable), event.target.checked);\n  }, [onMultiChangedProps, variable]);\n  const onIncludeAllChanged = useCallback(event => {\n    onPropChange({\n      propName: 'includeAll',\n      propValue: event.target.checked\n    });\n  }, [onPropChange]);\n  const onAllValueChanged = useCallback(event => {\n    onPropChange({\n      propName: 'allValue',\n      propValue: event.currentTarget.value\n    });\n  }, [onPropChange]);\n  return /*#__PURE__*/_jsxs(VerticalGroup, {\n    spacing: \"none\",\n    children: [_VariableSectionHeade || (_VariableSectionHeade = /*#__PURE__*/_jsx(VariableSectionHeader, {\n      name: \"Selection options\"\n    })), /*#__PURE__*/_jsx(InlineFieldRow, {\n      children: /*#__PURE__*/_jsx(VariableSwitchField, {\n        value: variable.multi,\n        name: \"Multi-value\",\n        tooltip: \"Enables multiple values to be selected at the same time\",\n        onChange: onMultiChanged,\n        ariaLabel: selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsMultiSwitch\n      })\n    }), /*#__PURE__*/_jsx(InlineFieldRow, {\n      children: /*#__PURE__*/_jsx(VariableSwitchField, {\n        value: variable.includeAll,\n        name: \"Include All option\",\n        tooltip: \"Enables an option to include all variables\",\n        onChange: onIncludeAllChanged,\n        ariaLabel: selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsIncludeAllSwitch\n      })\n    }), variable.includeAll && /*#__PURE__*/_jsx(InlineFieldRow, {\n      children: /*#__PURE__*/_jsx(VariableTextField, {\n        value: (_variable$allValue = variable.allValue) !== null && _variable$allValue !== void 0 ? _variable$allValue : '',\n        onChange: onAllValueChanged,\n        name: \"Custom all value\",\n        placeholder: \"blank = auto\",\n        testId: selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsCustomAllInputV2,\n        labelWidth: 20\n      })\n    })]\n  });\n};\nSelectionOptionsEditor.displayName = 'SelectionOptionsEditor';","map":{"version":3,"names":["React","useCallback","selectors","InlineFieldRow","VerticalGroup","toKeyedVariableIdentifier","VariableSectionHeader","VariableSwitchField","VariableTextField","SelectionOptionsEditor","onMultiChanged","onMultiChangedProps","onPropChange","variable","event","target","checked","onIncludeAllChanged","propName","propValue","onAllValueChanged","currentTarget","value","multi","pages","Dashboard","Settings","Variables","Edit","General","selectionOptionsMultiSwitch","includeAll","selectionOptionsIncludeAllSwitch","allValue","selectionOptionsCustomAllInputV2","displayName"],"sources":["/home/soula/grafana/public/app/features/variables/editor/SelectionOptionsEditor.tsx"],"sourcesContent":["import React, { ChangeEvent, FormEvent, FunctionComponent, useCallback } from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { InlineFieldRow, VerticalGroup } from '@grafana/ui';\n\nimport { KeyedVariableIdentifier } from '../state/types';\nimport { VariableWithMultiSupport } from '../types';\nimport { toKeyedVariableIdentifier } from '../utils';\n\nimport { VariableSectionHeader } from './VariableSectionHeader';\nimport { VariableSwitchField } from './VariableSwitchField';\nimport { VariableTextField } from './VariableTextField';\nimport { VariableEditorProps } from './types';\n\nexport interface SelectionOptionsEditorProps<Model extends VariableWithMultiSupport = VariableWithMultiSupport>\n  extends VariableEditorProps<Model> {\n  onMultiChanged: (identifier: KeyedVariableIdentifier, value: boolean) => void;\n}\n\nexport const SelectionOptionsEditor: FunctionComponent<SelectionOptionsEditorProps> = ({\n  onMultiChanged: onMultiChangedProps,\n  onPropChange,\n  variable,\n}) => {\n  const onMultiChanged = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onMultiChangedProps(toKeyedVariableIdentifier(variable), event.target.checked);\n    },\n    [onMultiChangedProps, variable]\n  );\n\n  const onIncludeAllChanged = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onPropChange({ propName: 'includeAll', propValue: event.target.checked });\n    },\n    [onPropChange]\n  );\n\n  const onAllValueChanged = useCallback(\n    (event: FormEvent<HTMLInputElement>) => {\n      onPropChange({ propName: 'allValue', propValue: event.currentTarget.value });\n    },\n    [onPropChange]\n  );\n\n  return (\n    <VerticalGroup spacing=\"none\">\n      <VariableSectionHeader name=\"Selection options\" />\n      <InlineFieldRow>\n        <VariableSwitchField\n          value={variable.multi}\n          name=\"Multi-value\"\n          tooltip=\"Enables multiple values to be selected at the same time\"\n          onChange={onMultiChanged}\n          ariaLabel={selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsMultiSwitch}\n        />\n      </InlineFieldRow>\n      <InlineFieldRow>\n        <VariableSwitchField\n          value={variable.includeAll}\n          name=\"Include All option\"\n          tooltip=\"Enables an option to include all variables\"\n          onChange={onIncludeAllChanged}\n          ariaLabel={selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsIncludeAllSwitch}\n        />\n      </InlineFieldRow>\n      {variable.includeAll && (\n        <InlineFieldRow>\n          <VariableTextField\n            value={variable.allValue ?? ''}\n            onChange={onAllValueChanged}\n            name=\"Custom all value\"\n            placeholder=\"blank = auto\"\n            testId={selectors.pages.Dashboard.Settings.Variables.Edit.General.selectionOptionsCustomAllInputV2}\n            labelWidth={20}\n          />\n        </InlineFieldRow>\n      )}\n    </VerticalGroup>\n  );\n};\nSelectionOptionsEditor.displayName = 'SelectionOptionsEditor';\n"],"mappings":";;AAAA,OAAOA,KAAP,IAA2DC,WAA3D,QAA8E,OAA9E;AAEA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,aAA9C;AAIA,SAASC,yBAAT,QAA0C,UAA1C;AAEA,SAASC,qBAAT,QAAsC,yBAAtC;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,iBAAT,QAAkC,qBAAlC;;;AAQA,OAAO,MAAMC,sBAAsE,GAAG,CAAC;EACrFC,cAAc,EAAEC,mBADqE;EAErFC,YAFqF;EAGrFC;AAHqF,CAAD,KAIhF;EAAA;;EACJ,MAAMH,cAAc,GAAGT,WAAW,CAC/Ba,KAAD,IAA0C;IACxCH,mBAAmB,CAACN,yBAAyB,CAACQ,QAAD,CAA1B,EAAsCC,KAAK,CAACC,MAAN,CAAaC,OAAnD,CAAnB;EACD,CAH+B,EAIhC,CAACL,mBAAD,EAAsBE,QAAtB,CAJgC,CAAlC;EAOA,MAAMI,mBAAmB,GAAGhB,WAAW,CACpCa,KAAD,IAA0C;IACxCF,YAAY,CAAC;MAAEM,QAAQ,EAAE,YAAZ;MAA0BC,SAAS,EAAEL,KAAK,CAACC,MAAN,CAAaC;IAAlD,CAAD,CAAZ;EACD,CAHoC,EAIrC,CAACJ,YAAD,CAJqC,CAAvC;EAOA,MAAMQ,iBAAiB,GAAGnB,WAAW,CAClCa,KAAD,IAAwC;IACtCF,YAAY,CAAC;MAAEM,QAAQ,EAAE,UAAZ;MAAwBC,SAAS,EAAEL,KAAK,CAACO,aAAN,CAAoBC;IAAvD,CAAD,CAAZ;EACD,CAHkC,EAInC,CAACV,YAAD,CAJmC,CAArC;EAOA,oBACE,MAAC,aAAD;IAAe,OAAO,EAAC,MAAvB;IAAA,0EACE,KAAC,qBAAD;MAAuB,IAAI,EAAC;IAA5B,EADF,gBAEE,KAAC,cAAD;MAAA,uBACE,KAAC,mBAAD;QACE,KAAK,EAAEC,QAAQ,CAACU,KADlB;QAEE,IAAI,EAAC,aAFP;QAGE,OAAO,EAAC,yDAHV;QAIE,QAAQ,EAAEb,cAJZ;QAKE,SAAS,EAAER,SAAS,CAACsB,KAAV,CAAgBC,SAAhB,CAA0BC,QAA1B,CAAmCC,SAAnC,CAA6CC,IAA7C,CAAkDC,OAAlD,CAA0DC;MALvE;IADF,EAFF,eAWE,KAAC,cAAD;MAAA,uBACE,KAAC,mBAAD;QACE,KAAK,EAAEjB,QAAQ,CAACkB,UADlB;QAEE,IAAI,EAAC,oBAFP;QAGE,OAAO,EAAC,4CAHV;QAIE,QAAQ,EAAEd,mBAJZ;QAKE,SAAS,EAAEf,SAAS,CAACsB,KAAV,CAAgBC,SAAhB,CAA0BC,QAA1B,CAAmCC,SAAnC,CAA6CC,IAA7C,CAAkDC,OAAlD,CAA0DG;MALvE;IADF,EAXF,EAoBGnB,QAAQ,CAACkB,UAAT,iBACC,KAAC,cAAD;MAAA,uBACE,KAAC,iBAAD;QACE,KAAK,wBAAElB,QAAQ,CAACoB,QAAX,mEAAuB,EAD9B;QAEE,QAAQ,EAAEb,iBAFZ;QAGE,IAAI,EAAC,kBAHP;QAIE,WAAW,EAAC,cAJd;QAKE,MAAM,EAAElB,SAAS,CAACsB,KAAV,CAAgBC,SAAhB,CAA0BC,QAA1B,CAAmCC,SAAnC,CAA6CC,IAA7C,CAAkDC,OAAlD,CAA0DK,gCALpE;QAME,UAAU,EAAE;MANd;IADF,EArBJ;EAAA,EADF;AAmCD,CA7DM;AA8DPzB,sBAAsB,CAAC0B,WAAvB,GAAqC,wBAArC"},"metadata":{},"sourceType":"module"}