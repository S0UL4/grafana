{"ast":null,"code":"import { css } from '@emotion/css';\nimport React from 'react';\nimport { useTheme2 } from '@grafana/ui';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const ResultItem = /*#__PURE__*/React.forwardRef(({\n  action,\n  active,\n  currentRootActionId\n}, ref) => {\n  var _action$shortcut;\n\n  const ancestors = React.useMemo(() => {\n    if (!currentRootActionId) {\n      return action.ancestors;\n    }\n\n    const index = action.ancestors.findIndex(ancestor => ancestor.id === currentRootActionId); // +1 removes the currentRootAction; e.g.\n    // if we are on the \"Set theme\" parent action,\n    // the UI should not display \"Set theme… > Dark\"\n    // but rather just \"Dark\"\n\n    return action.ancestors.slice(index + 1);\n  }, [action.ancestors, currentRootActionId]);\n  const theme = useTheme2();\n  const styles = getResultItemStyles(theme, active);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    className: styles.row,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: styles.actionContainer,\n      children: [action.icon, /*#__PURE__*/_jsx(\"div\", {\n        className: styles.textContainer,\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          children: [ancestors.length > 0 && ancestors.map(ancestor => /*#__PURE__*/_jsxs(React.Fragment, {\n            children: [/*#__PURE__*/_jsx(\"span\", {\n              className: styles.breadcrumbAncestor,\n              children: ancestor.name\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: styles.breadcrumbAncestor,\n              children: \"\\u203A\"\n            })]\n          }, ancestor.id)), /*#__PURE__*/_jsx(\"span\", {\n            children: action.name\n          })]\n        })\n      }), action.subtitle && /*#__PURE__*/_jsx(\"span\", {\n        className: styles.subtitleText,\n        children: action.subtitle\n      })]\n    }), (_action$shortcut = action.shortcut) !== null && _action$shortcut !== void 0 && _action$shortcut.length ? /*#__PURE__*/_jsx(\"div\", {\n      \"aria-hidden\": true,\n      className: styles.shortcutContainer,\n      children: action.shortcut.map(sc => /*#__PURE__*/_jsx(\"kbd\", {\n        className: styles.shortcut,\n        children: sc\n      }, sc))\n    }) : null]\n  });\n});\nResultItem.displayName = 'ResultItem';\n\nconst getResultItemStyles = (theme, isActive) => {\n  const textColor = isActive ? theme.colors.text.maxContrast : theme.colors.text.primary;\n  const rowBackgroundColor = isActive ? theme.colors.background.primary : 'transparent';\n  const shortcutBackgroundColor = isActive ? theme.colors.background.secondary : theme.colors.background.primary;\n  return {\n    row: css({\n      color: textColor,\n      padding: theme.spacing(1, 2),\n      background: rowBackgroundColor,\n      display: 'flex',\n      alightItems: 'center',\n      justifyContent: 'space-between',\n      cursor: 'pointer',\n      '&:before': {\n        display: isActive ? 'block' : 'none',\n        content: '\" \"',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        width: theme.spacing(0.5),\n        borderRadius: theme.shape.borderRadius(1),\n        backgroundImage: theme.colors.gradients.brandVertical\n      }\n    }),\n    actionContainer: css({\n      display: 'flex',\n      gap: theme.spacing(2),\n      alignitems: 'center',\n      fontsize: theme.typography.fontSize\n    }),\n    textContainer: css({\n      display: 'flex',\n      flexDirection: 'column'\n    }),\n    shortcut: css({\n      padding: theme.spacing(0, 1),\n      background: shortcutBackgroundColor,\n      borderRadius: theme.shape.borderRadius(),\n      fontsize: theme.typography.fontSize\n    }),\n    breadcrumbAncestor: css({\n      opacity: 0.5,\n      marginRight: theme.spacing(1)\n    }),\n    subtitleText: css({\n      fontSize: theme.typography.fontSize - 2\n    }),\n    shortcutContainer: css({\n      display: 'grid',\n      gridAutoFlow: 'column',\n      gap: theme.spacing(1)\n    })\n  };\n};","map":{"version":3,"names":["css","React","useTheme2","ResultItem","forwardRef","action","active","currentRootActionId","ref","ancestors","useMemo","index","findIndex","ancestor","id","slice","theme","styles","getResultItemStyles","row","actionContainer","icon","textContainer","length","map","breadcrumbAncestor","name","subtitle","subtitleText","shortcut","shortcutContainer","sc","displayName","isActive","textColor","colors","text","maxContrast","primary","rowBackgroundColor","background","shortcutBackgroundColor","secondary","color","padding","spacing","display","alightItems","justifyContent","cursor","content","position","left","top","bottom","width","borderRadius","shape","backgroundImage","gradients","brandVertical","gap","alignitems","fontsize","typography","fontSize","flexDirection","opacity","marginRight","gridAutoFlow"],"sources":["/home/soula/grafana/public/app/features/commandPalette/ResultItem.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { ActionId, ActionImpl } from 'kbar';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { useTheme2 } from '@grafana/ui';\n\nexport const ResultItem = React.forwardRef(\n  (\n    {\n      action,\n      active,\n      currentRootActionId,\n    }: {\n      action: ActionImpl;\n      active: boolean;\n      currentRootActionId: ActionId;\n    },\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const ancestors = React.useMemo(() => {\n      if (!currentRootActionId) {\n        return action.ancestors;\n      }\n\n      const index = action.ancestors.findIndex((ancestor) => ancestor.id === currentRootActionId);\n      // +1 removes the currentRootAction; e.g.\n      // if we are on the \"Set theme\" parent action,\n      // the UI should not display \"Set theme… > Dark\"\n      // but rather just \"Dark\"\n      return action.ancestors.slice(index + 1);\n    }, [action.ancestors, currentRootActionId]);\n\n    const theme = useTheme2();\n    const styles = getResultItemStyles(theme, active);\n\n    return (\n      <div ref={ref} className={styles.row}>\n        <div className={styles.actionContainer}>\n          {action.icon}\n          <div className={styles.textContainer}>\n            <div>\n              {ancestors.length > 0 &&\n                ancestors.map((ancestor) => (\n                  <React.Fragment key={ancestor.id}>\n                    <span className={styles.breadcrumbAncestor}>{ancestor.name}</span>\n                    <span className={styles.breadcrumbAncestor}>&rsaquo;</span>\n                  </React.Fragment>\n                ))}\n              <span>{action.name}</span>\n            </div>\n          </div>\n          {action.subtitle && <span className={styles.subtitleText}>{action.subtitle}</span>}\n        </div>\n        {action.shortcut?.length ? (\n          <div aria-hidden className={styles.shortcutContainer}>\n            {action.shortcut.map((sc) => (\n              <kbd key={sc} className={styles.shortcut}>\n                {sc}\n              </kbd>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n);\nResultItem.displayName = 'ResultItem';\n\nconst getResultItemStyles = (theme: GrafanaTheme2, isActive: boolean) => {\n  const textColor = isActive ? theme.colors.text.maxContrast : theme.colors.text.primary;\n  const rowBackgroundColor = isActive ? theme.colors.background.primary : 'transparent';\n  const shortcutBackgroundColor = isActive ? theme.colors.background.secondary : theme.colors.background.primary;\n  return {\n    row: css({\n      color: textColor,\n      padding: theme.spacing(1, 2),\n      background: rowBackgroundColor,\n      display: 'flex',\n      alightItems: 'center',\n      justifyContent: 'space-between',\n      cursor: 'pointer',\n      '&:before': {\n        display: isActive ? 'block' : 'none',\n        content: '\" \"',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        width: theme.spacing(0.5),\n        borderRadius: theme.shape.borderRadius(1),\n        backgroundImage: theme.colors.gradients.brandVertical,\n      },\n    }),\n    actionContainer: css({\n      display: 'flex',\n      gap: theme.spacing(2),\n      alignitems: 'center',\n      fontsize: theme.typography.fontSize,\n    }),\n    textContainer: css({\n      display: 'flex',\n      flexDirection: 'column',\n    }),\n    shortcut: css({\n      padding: theme.spacing(0, 1),\n      background: shortcutBackgroundColor,\n      borderRadius: theme.shape.borderRadius(),\n      fontsize: theme.typography.fontSize,\n    }),\n    breadcrumbAncestor: css({\n      opacity: 0.5,\n      marginRight: theme.spacing(1),\n    }),\n    subtitleText: css({\n      fontSize: theme.typography.fontSize - 2,\n    }),\n    shortcutContainer: css({\n      display: 'grid',\n      gridAutoFlow: 'column',\n      gap: theme.spacing(1),\n    }),\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}