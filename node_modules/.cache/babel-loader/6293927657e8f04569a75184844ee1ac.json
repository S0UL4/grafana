{"ast":null,"code":"var _Icon;\n\nconst _excluded = [\"value\", \"width\", \"onChange\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { escapeStringForRegex, unEscapeStringFromRegex } from '@grafana/data';\nimport { Button, Icon, Input } from '..';\nimport { useCombinedRefs } from '../../utils/useCombinedRefs';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const FilterInput = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    value,\n    width,\n    onChange\n  } = _ref,\n      restProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const innerRef = React.useRef(null);\n  const combinedRef = useCombinedRefs(ref, innerRef);\n  const suffix = value !== '' ? /*#__PURE__*/_jsx(Button, {\n    icon: \"times\",\n    fill: \"text\",\n    size: \"sm\",\n    onClick: e => {\n      var _innerRef$current;\n\n      (_innerRef$current = innerRef.current) === null || _innerRef$current === void 0 ? void 0 : _innerRef$current.focus();\n      onChange('');\n      e.stopPropagation();\n    },\n    children: \"Clear\"\n  }) : null;\n  return /*#__PURE__*/_jsx(Input, Object.assign({\n    prefix: _Icon || (_Icon = /*#__PURE__*/_jsx(Icon, {\n      name: \"search\"\n    })),\n    suffix: suffix,\n    width: width,\n    type: \"text\",\n    value: value ? unEscapeStringFromRegex(value) : '',\n    onChange: event => onChange(escapeStringForRegex(event.currentTarget.value))\n  }, restProps, {\n    ref: combinedRef\n  }));\n});\nFilterInput.displayName = 'FilterInput';","map":{"version":3,"names":["React","escapeStringForRegex","unEscapeStringFromRegex","Button","Icon","Input","useCombinedRefs","FilterInput","forwardRef","ref","value","width","onChange","restProps","innerRef","useRef","combinedRef","suffix","e","current","focus","stopPropagation","event","currentTarget","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/FilterInput/FilterInput.tsx"],"sourcesContent":["import React, { HTMLProps } from 'react';\n\nimport { escapeStringForRegex, unEscapeStringFromRegex } from '@grafana/data';\n\nimport { Button, Icon, Input } from '..';\nimport { useCombinedRefs } from '../../utils/useCombinedRefs';\n\nexport interface Props extends Omit<HTMLProps<HTMLInputElement>, 'onChange'> {\n  value: string | undefined;\n  width?: number;\n  onChange: (value: string) => void;\n}\n\nexport const FilterInput = React.forwardRef<HTMLInputElement, Props>(\n  ({ value, width, onChange, ...restProps }, ref) => {\n    const innerRef = React.useRef<HTMLInputElement>(null);\n    const combinedRef = useCombinedRefs(ref, innerRef) as React.Ref<HTMLInputElement>;\n\n    const suffix =\n      value !== '' ? (\n        <Button\n          icon=\"times\"\n          fill=\"text\"\n          size=\"sm\"\n          onClick={(e) => {\n            innerRef.current?.focus();\n            onChange('');\n            e.stopPropagation();\n          }}\n        >\n          Clear\n        </Button>\n      ) : null;\n\n    return (\n      <Input\n        prefix={<Icon name=\"search\" />}\n        suffix={suffix}\n        width={width}\n        type=\"text\"\n        value={value ? unEscapeStringFromRegex(value) : ''}\n        onChange={(event) => onChange(escapeStringForRegex(event.currentTarget.value))}\n        {...restProps}\n        ref={combinedRef}\n      />\n    );\n  }\n);\n\nFilterInput.displayName = 'FilterInput';\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAiC,OAAjC;AAEA,SAASC,oBAAT,EAA+BC,uBAA/B,QAA8D,eAA9D;AAEA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,IAApC;AACA,SAASC,eAAT,QAAgC,6BAAhC;;AAQA,OAAO,MAAMC,WAAW,gBAAGP,KAAK,CAACQ,UAAN,CACzB,OAA2CC,GAA3C,KAAmD;EAAA,IAAlD;IAAEC,KAAF;IAASC,KAAT;IAAgBC;EAAhB,CAAkD;EAAA,IAArBC,SAAqB;;EACjD,MAAMC,QAAQ,GAAGd,KAAK,CAACe,MAAN,CAA+B,IAA/B,CAAjB;EACA,MAAMC,WAAW,GAAGV,eAAe,CAACG,GAAD,EAAMK,QAAN,CAAnC;EAEA,MAAMG,MAAM,GACVP,KAAK,KAAK,EAAV,gBACE,KAAC,MAAD;IACE,IAAI,EAAC,OADP;IAEE,IAAI,EAAC,MAFP;IAGE,IAAI,EAAC,IAHP;IAIE,OAAO,EAAGQ,CAAD,IAAO;MAAA;;MACd,qBAAAJ,QAAQ,CAACK,OAAT,wEAAkBC,KAAlB;MACAR,QAAQ,CAAC,EAAD,CAAR;MACAM,CAAC,CAACG,eAAF;IACD,CARH;IAAA;EAAA,EADF,GAaI,IAdN;EAgBA,oBACE,KAAC,KAAD;IACE,MAAM,iCAAE,KAAC,IAAD;MAAM,IAAI,EAAC;IAAX,EAAF,CADR;IAEE,MAAM,EAAEJ,MAFV;IAGE,KAAK,EAAEN,KAHT;IAIE,IAAI,EAAC,MAJP;IAKE,KAAK,EAAED,KAAK,GAAGR,uBAAuB,CAACQ,KAAD,CAA1B,GAAoC,EALlD;IAME,QAAQ,EAAGY,KAAD,IAAWV,QAAQ,CAACX,oBAAoB,CAACqB,KAAK,CAACC,aAAN,CAAoBb,KAArB,CAArB;EAN/B,GAOMG,SAPN;IAQE,GAAG,EAAEG;EARP,GADF;AAYD,CAjCwB,CAApB;AAoCPT,WAAW,CAACiB,WAAZ,GAA0B,aAA1B"},"metadata":{},"sourceType":"module"}