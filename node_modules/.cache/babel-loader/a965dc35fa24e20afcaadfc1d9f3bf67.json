{"ast":null,"code":"const _excluded = [\"color\", \"label\", \"variant\", \"isSelected\", \"aria-label\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { css } from '@emotion/css';\nimport { useFocusRing } from '@react-aria/focus';\nimport React from 'react';\nimport tinycolor from 'tinycolor2';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useTheme2 } from '../../themes/ThemeContext';\n/** @internal */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport let ColorSwatchVariant;\n/** @internal */\n\n(function (ColorSwatchVariant) {\n  ColorSwatchVariant[\"Small\"] = \"small\";\n  ColorSwatchVariant[\"Large\"] = \"large\";\n})(ColorSwatchVariant || (ColorSwatchVariant = {}));\n\n/** @internal */\nexport const ColorSwatch = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    color,\n    label,\n    variant = ColorSwatchVariant.Small,\n    isSelected,\n    'aria-label': ariaLabel\n  } = _ref,\n      otherProps = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const theme = useTheme2();\n  const {\n    isFocusVisible,\n    focusProps\n  } = useFocusRing();\n  const styles = getStyles(theme, variant, color, isFocusVisible, isSelected);\n  const hasLabel = !!label;\n  const colorLabel = `${ariaLabel || label} color`;\n  return /*#__PURE__*/_jsxs(\"div\", Object.assign({\n    ref: ref,\n    className: styles.wrapper,\n    \"data-testid\": selectors.components.ColorSwatch.name\n  }, otherProps, {\n    children: [hasLabel && /*#__PURE__*/_jsx(\"span\", {\n      className: styles.label,\n      children: label\n    }), /*#__PURE__*/_jsx(\"button\", Object.assign({\n      className: styles.swatch\n    }, focusProps, {\n      \"aria-label\": colorLabel\n    }))]\n  }));\n});\n\nconst getStyles = (theme, variant, color, isFocusVisible, isSelected) => {\n  const tc = tinycolor(color);\n  const isSmall = variant === ColorSwatchVariant.Small;\n  const swatchSize = isSmall ? '16px' : '32px';\n  let border = 'none';\n\n  if (tc.getAlpha() < 0.1) {\n    border = `2px solid ${theme.colors.border.medium}`;\n  }\n\n  return {\n    wrapper: css({\n      display: 'flex',\n      alignItems: 'center',\n      cursor: 'pointer'\n    }),\n    label: css({\n      marginRight: theme.spacing(1)\n    }),\n    swatch: css({\n      width: swatchSize,\n      height: swatchSize,\n      background: `${color}`,\n      border,\n      borderRadius: '50%',\n      outlineOffset: '1px',\n      outline: isFocusVisible ? `2px solid  ${theme.colors.primary.main}` : 'none',\n      boxShadow: isSelected ? `inset 0 0 0 2px ${color}, inset 0 0 0 4px ${theme.colors.getContrastText(color)}` : 'none',\n      transition: theme.transitions.create(['transform'], {\n        duration: theme.transitions.duration.short\n      }),\n      '&:hover': {\n        transform: 'scale(1.1)'\n      }\n    })\n  };\n};\n\nColorSwatch.displayName = 'ColorSwatch';","map":{"version":3,"names":["css","useFocusRing","React","tinycolor","selectors","useTheme2","ColorSwatchVariant","ColorSwatch","forwardRef","ref","color","label","variant","Small","isSelected","ariaLabel","otherProps","theme","isFocusVisible","focusProps","styles","getStyles","hasLabel","colorLabel","wrapper","components","name","swatch","tc","isSmall","swatchSize","border","getAlpha","colors","medium","display","alignItems","cursor","marginRight","spacing","width","height","background","borderRadius","outlineOffset","outline","primary","main","boxShadow","getContrastText","transition","transitions","create","duration","short","transform","displayName"],"sources":["/home/soula/grafana/packages/grafana-ui/src/components/ColorPicker/ColorSwatch.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport { useFocusRing } from '@react-aria/focus';\nimport React from 'react';\nimport tinycolor from 'tinycolor2';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useTheme2 } from '../../themes/ThemeContext';\n\n/** @internal */\nexport enum ColorSwatchVariant {\n  Small = 'small',\n  Large = 'large',\n}\n\n/** @internal */\nexport interface Props extends React.HTMLAttributes<HTMLDivElement> {\n  color: string;\n  label?: string;\n  variant?: ColorSwatchVariant;\n  isSelected?: boolean;\n}\n\n/** @internal */\nexport const ColorSwatch = React.forwardRef<HTMLDivElement, Props>(\n  ({ color, label, variant = ColorSwatchVariant.Small, isSelected, 'aria-label': ariaLabel, ...otherProps }, ref) => {\n    const theme = useTheme2();\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const styles = getStyles(theme, variant, color, isFocusVisible, isSelected);\n    const hasLabel = !!label;\n    const colorLabel = `${ariaLabel || label} color`;\n\n    return (\n      <div ref={ref} className={styles.wrapper} data-testid={selectors.components.ColorSwatch.name} {...otherProps}>\n        {hasLabel && <span className={styles.label}>{label}</span>}\n        <button className={styles.swatch} {...focusProps} aria-label={colorLabel} />\n      </div>\n    );\n  }\n);\n\nconst getStyles = (\n  theme: GrafanaTheme2,\n  variant: ColorSwatchVariant,\n  color: string,\n  isFocusVisible: boolean,\n  isSelected?: boolean\n) => {\n  const tc = tinycolor(color);\n  const isSmall = variant === ColorSwatchVariant.Small;\n  const swatchSize = isSmall ? '16px' : '32px';\n  let border = 'none';\n\n  if (tc.getAlpha() < 0.1) {\n    border = `2px solid ${theme.colors.border.medium}`;\n  }\n\n  return {\n    wrapper: css({\n      display: 'flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n    }),\n    label: css({\n      marginRight: theme.spacing(1),\n    }),\n    swatch: css({\n      width: swatchSize,\n      height: swatchSize,\n      background: `${color}`,\n      border,\n      borderRadius: '50%',\n      outlineOffset: '1px',\n      outline: isFocusVisible ? `2px solid  ${theme.colors.primary.main}` : 'none',\n      boxShadow: isSelected\n        ? `inset 0 0 0 2px ${color}, inset 0 0 0 4px ${theme.colors.getContrastText(color)}`\n        : 'none',\n      transition: theme.transitions.create(['transform'], {\n        duration: theme.transitions.duration.short,\n      }),\n      '&:hover': {\n        transform: 'scale(1.1)',\n      },\n    }),\n  };\n};\n\nColorSwatch.displayName = 'ColorSwatch';\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}