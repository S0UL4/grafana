{"ast":null,"code":"var _Button;\n\nimport React, { useCallback, useState } from 'react';\nimport { Button, Field, Form, Modal, Input } from '@grafana/ui';\nimport { RepeatRowSelect } from '../RepeatRowSelect/RepeatRowSelect';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport const RowOptionsForm = ({\n  repeat,\n  title,\n  onUpdate,\n  onCancel\n}) => {\n  var _Field, _Modal$ButtonRow;\n\n  const [newRepeat, setNewRepeat] = useState(repeat);\n  const onChangeRepeat = useCallback(name => setNewRepeat(name), [setNewRepeat]);\n  return /*#__PURE__*/_jsx(Form, {\n    defaultValues: {\n      title\n    },\n    onSubmit: formData => {\n      onUpdate(formData.title, newRepeat);\n    },\n    children: ({\n      register\n    }) => /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Field, {\n        label: \"Title\",\n        children: /*#__PURE__*/_jsx(Input, Object.assign({}, register('title'), {\n          type: \"text\"\n        }))\n      }), _Field || (_Field = /*#__PURE__*/_jsx(Field, {\n        label: \"Repeat for\",\n        children: /*#__PURE__*/_jsx(RepeatRowSelect, {\n          repeat: newRepeat,\n          onChange: onChangeRepeat\n        })\n      })), _Modal$ButtonRow || (_Modal$ButtonRow = /*#__PURE__*/_jsxs(Modal.ButtonRow, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          type: \"button\",\n          variant: \"secondary\",\n          onClick: onCancel,\n          fill: \"outline\",\n          children: \"Cancel\"\n        }), _Button || (_Button = /*#__PURE__*/_jsx(Button, {\n          type: \"submit\",\n          children: \"Update\"\n        }))]\n      }))]\n    })\n  });\n};","map":{"version":3,"names":["React","useCallback","useState","Button","Field","Form","Modal","Input","RepeatRowSelect","RowOptionsForm","repeat","title","onUpdate","onCancel","newRepeat","setNewRepeat","onChangeRepeat","name","formData","register"],"sources":["/home/soula/grafana/public/app/features/dashboard/components/RowOptions/RowOptionsForm.tsx"],"sourcesContent":["import React, { FC, useCallback, useState } from 'react';\n\nimport { Button, Field, Form, Modal, Input } from '@grafana/ui';\n\nimport { RepeatRowSelect } from '../RepeatRowSelect/RepeatRowSelect';\n\nexport type OnRowOptionsUpdate = (title: string, repeat?: string | null) => void;\n\nexport interface Props {\n  title: string;\n  repeat?: string | null;\n  onUpdate: OnRowOptionsUpdate;\n  onCancel: () => void;\n}\n\nexport const RowOptionsForm: FC<Props> = ({ repeat, title, onUpdate, onCancel }) => {\n  const [newRepeat, setNewRepeat] = useState<string | null | undefined>(repeat);\n  const onChangeRepeat = useCallback((name?: string | null) => setNewRepeat(name), [setNewRepeat]);\n\n  return (\n    <Form\n      defaultValues={{ title }}\n      onSubmit={(formData: { title: string }) => {\n        onUpdate(formData.title, newRepeat);\n      }}\n    >\n      {({ register }) => (\n        <>\n          <Field label=\"Title\">\n            <Input {...register('title')} type=\"text\" />\n          </Field>\n\n          <Field label=\"Repeat for\">\n            <RepeatRowSelect repeat={newRepeat} onChange={onChangeRepeat} />\n          </Field>\n\n          <Modal.ButtonRow>\n            <Button type=\"button\" variant=\"secondary\" onClick={onCancel} fill=\"outline\">\n              Cancel\n            </Button>\n            <Button type=\"submit\">Update</Button>\n          </Modal.ButtonRow>\n        </>\n      )}\n    </Form>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAoBC,WAApB,EAAiCC,QAAjC,QAAiD,OAAjD;AAEA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,KAA9B,EAAqCC,KAArC,QAAkD,aAAlD;AAEA,SAASC,eAAT,QAAgC,oCAAhC;;;;AAWA,OAAO,MAAMC,cAAyB,GAAG,CAAC;EAAEC,MAAF;EAAUC,KAAV;EAAiBC,QAAjB;EAA2BC;AAA3B,CAAD,KAA2C;EAAA;;EAClF,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAA4BQ,MAA5B,CAA1C;EACA,MAAMM,cAAc,GAAGf,WAAW,CAAEgB,IAAD,IAA0BF,YAAY,CAACE,IAAD,CAAvC,EAA+C,CAACF,YAAD,CAA/C,CAAlC;EAEA,oBACE,KAAC,IAAD;IACE,aAAa,EAAE;MAAEJ;IAAF,CADjB;IAEE,QAAQ,EAAGO,QAAD,IAAiC;MACzCN,QAAQ,CAACM,QAAQ,CAACP,KAAV,EAAiBG,SAAjB,CAAR;IACD,CAJH;IAAA,UAMG,CAAC;MAAEK;IAAF,CAAD,kBACC;MAAA,wBACE,KAAC,KAAD;QAAO,KAAK,EAAC,OAAb;QAAA,uBACE,KAAC,KAAD,oBAAWA,QAAQ,CAAC,OAAD,CAAnB;UAA8B,IAAI,EAAC;QAAnC;MADF,EADF,mCAKE,KAAC,KAAD;QAAO,KAAK,EAAC,YAAb;QAAA,uBACE,KAAC,eAAD;UAAiB,MAAM,EAAEL,SAAzB;UAAoC,QAAQ,EAAEE;QAA9C;MADF,EALF,wDASE,MAAC,KAAD,CAAO,SAAP;QAAA,wBACE,KAAC,MAAD;UAAQ,IAAI,EAAC,QAAb;UAAsB,OAAO,EAAC,WAA9B;UAA0C,OAAO,EAAEH,QAAnD;UAA6D,IAAI,EAAC,SAAlE;UAAA;QAAA,EADF,qCAIE,KAAC,MAAD;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA,EAJF;MAAA,EATF;IAAA;EAPJ,EADF;AA2BD,CA/BM"},"metadata":{},"sourceType":"module"}